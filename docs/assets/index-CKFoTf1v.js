(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const M of p)if(M.type==="childList")for(const y of M.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function m(p){const M={};return p.integrity&&(M.integrity=p.integrity),p.referrerPolicy&&(M.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?M.credentials="include":p.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function d(p){if(p.ep)return;p.ep=!0;const M=m(p);fetch(p.href,M)}})();var Ho={exports:{}},cu={};var fh;function Eg(){if(fh)return cu;fh=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function m(d,p,M){var y=null;if(M!==void 0&&(y=""+M),p.key!==void 0&&(y=""+p.key),"key"in p){M={};for(var T in p)T!=="key"&&(M[T]=p[T])}else M=p;return p=M.ref,{$$typeof:o,type:d,key:y,ref:p!==void 0?p:null,props:M}}return cu.Fragment=r,cu.jsx=m,cu.jsxs=m,cu}var mh;function Ag(){return mh||(mh=1,Ho.exports=Eg()),Ho.exports}var f=Ag(),Go={exports:{}},wt={};var hh;function Tg(){if(hh)return wt;hh=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),y=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),q=Symbol.iterator;function $(S){return S===null||typeof S!="object"?null:(S=q&&S[q]||S["@@iterator"],typeof S=="function"?S:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Et={};function ut(S,k,tt){this.props=S,this.context=k,this.refs=Et,this.updater=tt||et}ut.prototype.isReactComponent={},ut.prototype.setState=function(S,k){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,k,"setState")},ut.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function St(){}St.prototype=ut.prototype;function dt(S,k,tt){this.props=S,this.context=k,this.refs=Et,this.updater=tt||et}var H=dt.prototype=new St;H.constructor=dt,F(H,ut.prototype),H.isPureReactComponent=!0;var P=Array.isArray;function mt(){}var J={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function Gt(S,k,tt){var nt=tt.ref;return{$$typeof:o,type:S,key:k,ref:nt!==void 0?nt:null,props:tt}}function ne(S,k){return Gt(S.type,k,S.props)}function Ft(S){return typeof S=="object"&&S!==null&&S.$$typeof===o}function Wt(S){var k={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(tt){return k[tt]})}var un=/\/+/g;function Oe(S,k){return typeof S=="object"&&S!==null&&S.key!=null?Wt(""+S.key):k.toString(36)}function Ce(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(mt,mt):(S.status="pending",S.then(function(k){S.status==="pending"&&(S.status="fulfilled",S.value=k)},function(k){S.status==="pending"&&(S.status="rejected",S.reason=k)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function A(S,k,tt,nt,yt){var jt=typeof S;(jt==="undefined"||jt==="boolean")&&(S=null);var At=!1;if(S===null)At=!0;else switch(jt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(S.$$typeof){case o:case r:At=!0;break;case N:return At=S._init,A(At(S._payload),k,tt,nt,yt)}}if(At)return yt=yt(S),At=nt===""?"."+Oe(S,0):nt,P(yt)?(tt="",At!=null&&(tt=At.replace(un,"$&/")+"/"),A(yt,k,tt,"",function(Ka){return Ka})):yt!=null&&(Ft(yt)&&(yt=ne(yt,tt+(yt.key==null||S&&S.key===yt.key?"":(""+yt.key).replace(un,"$&/")+"/")+At)),k.push(yt)),1;At=0;var Qe=nt===""?".":nt+":";if(P(S))for(var ue=0;ue<S.length;ue++)nt=S[ue],jt=Qe+Oe(nt,ue),At+=A(nt,k,tt,jt,yt);else if(ue=$(S),typeof ue=="function")for(S=ue.call(S),ue=0;!(nt=S.next()).done;)nt=nt.value,jt=Qe+Oe(nt,ue++),At+=A(nt,k,tt,jt,yt);else if(jt==="object"){if(typeof S.then=="function")return A(Ce(S),k,tt,nt,yt);throw k=String(S),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return At}function V(S,k,tt){if(S==null)return S;var nt=[],yt=0;return A(S,nt,"","",function(jt){return k.call(tt,jt,yt++)}),nt}function W(S){if(S._status===-1){var k=S._result;k=k(),k.then(function(tt){(S._status===0||S._status===-1)&&(S._status=1,S._result=tt)},function(tt){(S._status===0||S._status===-1)&&(S._status=2,S._result=tt)}),S._status===-1&&(S._status=0,S._result=k)}if(S._status===1)return S._result.default;throw S._result}var I=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},lt={map:V,forEach:function(S,k,tt){V(S,function(){k.apply(this,arguments)},tt)},count:function(S){var k=0;return V(S,function(){k++}),k},toArray:function(S){return V(S,function(k){return k})||[]},only:function(S){if(!Ft(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return wt.Activity=E,wt.Children=lt,wt.Component=ut,wt.Fragment=m,wt.Profiler=p,wt.PureComponent=dt,wt.StrictMode=d,wt.Suspense=b,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,wt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return J.H.useMemoCache(S)}},wt.cache=function(S){return function(){return S.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(S,k,tt){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var nt=F({},S.props),yt=S.key;if(k!=null)for(jt in k.key!==void 0&&(yt=""+k.key),k)!ct.call(k,jt)||jt==="key"||jt==="__self"||jt==="__source"||jt==="ref"&&k.ref===void 0||(nt[jt]=k[jt]);var jt=arguments.length-2;if(jt===1)nt.children=tt;else if(1<jt){for(var At=Array(jt),Qe=0;Qe<jt;Qe++)At[Qe]=arguments[Qe+2];nt.children=At}return Gt(S.type,yt,nt)},wt.createContext=function(S){return S={$$typeof:y,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:M,_context:S},S},wt.createElement=function(S,k,tt){var nt,yt={},jt=null;if(k!=null)for(nt in k.key!==void 0&&(jt=""+k.key),k)ct.call(k,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(yt[nt]=k[nt]);var At=arguments.length-2;if(At===1)yt.children=tt;else if(1<At){for(var Qe=Array(At),ue=0;ue<At;ue++)Qe[ue]=arguments[ue+2];yt.children=Qe}if(S&&S.defaultProps)for(nt in At=S.defaultProps,At)yt[nt]===void 0&&(yt[nt]=At[nt]);return Gt(S,jt,yt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(S){return{$$typeof:T,render:S}},wt.isValidElement=Ft,wt.lazy=function(S){return{$$typeof:N,_payload:{_status:-1,_result:S},_init:W}},wt.memo=function(S,k){return{$$typeof:v,type:S,compare:k===void 0?null:k}},wt.startTransition=function(S){var k=J.T,tt={};J.T=tt;try{var nt=S(),yt=J.S;yt!==null&&yt(tt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(mt,I)}catch(jt){I(jt)}finally{k!==null&&tt.types!==null&&(k.types=tt.types),J.T=k}},wt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},wt.use=function(S){return J.H.use(S)},wt.useActionState=function(S,k,tt){return J.H.useActionState(S,k,tt)},wt.useCallback=function(S,k){return J.H.useCallback(S,k)},wt.useContext=function(S){return J.H.useContext(S)},wt.useDebugValue=function(){},wt.useDeferredValue=function(S,k){return J.H.useDeferredValue(S,k)},wt.useEffect=function(S,k){return J.H.useEffect(S,k)},wt.useEffectEvent=function(S){return J.H.useEffectEvent(S)},wt.useId=function(){return J.H.useId()},wt.useImperativeHandle=function(S,k,tt){return J.H.useImperativeHandle(S,k,tt)},wt.useInsertionEffect=function(S,k){return J.H.useInsertionEffect(S,k)},wt.useLayoutEffect=function(S,k){return J.H.useLayoutEffect(S,k)},wt.useMemo=function(S,k){return J.H.useMemo(S,k)},wt.useOptimistic=function(S,k){return J.H.useOptimistic(S,k)},wt.useReducer=function(S,k,tt){return J.H.useReducer(S,k,tt)},wt.useRef=function(S){return J.H.useRef(S)},wt.useState=function(S){return J.H.useState(S)},wt.useSyncExternalStore=function(S,k,tt){return J.H.useSyncExternalStore(S,k,tt)},wt.useTransition=function(){return J.H.useTransition()},wt.version="19.2.0",wt}var ph;function rd(){return ph||(ph=1,Go.exports=Tg()),Go.exports}var D=rd(),Yo={exports:{}},ru={},Vo={exports:{}},Xo={};var gh;function wg(){return gh||(gh=1,(function(o){function r(A,V){var W=A.length;A.push(V);t:for(;0<W;){var I=W-1>>>1,lt=A[I];if(0<p(lt,V))A[I]=V,A[W]=lt,W=I;else break t}}function m(A){return A.length===0?null:A[0]}function d(A){if(A.length===0)return null;var V=A[0],W=A.pop();if(W!==V){A[0]=W;t:for(var I=0,lt=A.length,S=lt>>>1;I<S;){var k=2*(I+1)-1,tt=A[k],nt=k+1,yt=A[nt];if(0>p(tt,W))nt<lt&&0>p(yt,tt)?(A[I]=yt,A[nt]=W,I=nt):(A[I]=tt,A[k]=W,I=k);else if(nt<lt&&0>p(yt,W))A[I]=yt,A[nt]=W,I=nt;else break t}}return V}function p(A,V){var W=A.sortIndex-V.sortIndex;return W!==0?W:A.id-V.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var M=performance;o.unstable_now=function(){return M.now()}}else{var y=Date,T=y.now();o.unstable_now=function(){return y.now()-T}}var b=[],v=[],N=1,E=null,q=3,$=!1,et=!1,F=!1,Et=!1,ut=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function H(A){for(var V=m(v);V!==null;){if(V.callback===null)d(v);else if(V.startTime<=A)d(v),V.sortIndex=V.expirationTime,r(b,V);else break;V=m(v)}}function P(A){if(F=!1,H(A),!et)if(m(b)!==null)et=!0,mt||(mt=!0,Wt());else{var V=m(v);V!==null&&Ce(P,V.startTime-A)}}var mt=!1,J=-1,ct=5,Gt=-1;function ne(){return Et?!0:!(o.unstable_now()-Gt<ct)}function Ft(){if(Et=!1,mt){var A=o.unstable_now();Gt=A;var V=!0;try{t:{et=!1,F&&(F=!1,St(J),J=-1),$=!0;var W=q;try{e:{for(H(A),E=m(b);E!==null&&!(E.expirationTime>A&&ne());){var I=E.callback;if(typeof I=="function"){E.callback=null,q=E.priorityLevel;var lt=I(E.expirationTime<=A);if(A=o.unstable_now(),typeof lt=="function"){E.callback=lt,H(A),V=!0;break e}E===m(b)&&d(b),H(A)}else d(b);E=m(b)}if(E!==null)V=!0;else{var S=m(v);S!==null&&Ce(P,S.startTime-A),V=!1}}break t}finally{E=null,q=W,$=!1}V=void 0}}finally{V?Wt():mt=!1}}}var Wt;if(typeof dt=="function")Wt=function(){dt(Ft)};else if(typeof MessageChannel<"u"){var un=new MessageChannel,Oe=un.port2;un.port1.onmessage=Ft,Wt=function(){Oe.postMessage(null)}}else Wt=function(){ut(Ft,0)};function Ce(A,V){J=ut(function(){A(o.unstable_now())},V)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(A){A.callback=null},o.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<A?Math.floor(1e3/A):5},o.unstable_getCurrentPriorityLevel=function(){return q},o.unstable_next=function(A){switch(q){case 1:case 2:case 3:var V=3;break;default:V=q}var W=q;q=V;try{return A()}finally{q=W}},o.unstable_requestPaint=function(){Et=!0},o.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=q;q=A;try{return V()}finally{q=W}},o.unstable_scheduleCallback=function(A,V,W){var I=o.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?I+W:I):W=I,A){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=W+lt,A={id:N++,callback:V,priorityLevel:A,startTime:W,expirationTime:lt,sortIndex:-1},W>I?(A.sortIndex=W,r(v,A),m(b)===null&&A===m(v)&&(F?(St(J),J=-1):F=!0,Ce(P,W-I))):(A.sortIndex=lt,r(b,A),et||$||(et=!0,mt||(mt=!0,Wt()))),A},o.unstable_shouldYield=ne,o.unstable_wrapCallback=function(A){var V=q;return function(){var W=q;q=V;try{return A.apply(this,arguments)}finally{q=W}}}})(Xo)),Xo}var yh;function Cg(){return yh||(yh=1,Vo.exports=wg()),Vo.exports}var Qo={exports:{}},ln={};var vh;function Dg(){if(vh)return ln;vh=1;var o=rd();function r(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)v+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var d={d:{f:m,r:function(){throw Error(r(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},p=Symbol.for("react.portal");function M(b,v,N){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:E==null?null:""+E,children:b,containerInfo:v,implementation:N}}var y=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,ln.createPortal=function(b,v){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(r(299));return M(b,v,null,N)},ln.flushSync=function(b){var v=y.T,N=d.p;try{if(y.T=null,d.p=2,b)return b()}finally{y.T=v,d.p=N,d.d.f()}},ln.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,d.d.C(b,v))},ln.prefetchDNS=function(b){typeof b=="string"&&d.d.D(b)},ln.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var N=v.as,E=T(N,v.crossOrigin),q=typeof v.integrity=="string"?v.integrity:void 0,$=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;N==="style"?d.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:q,fetchPriority:$}):N==="script"&&d.d.X(b,{crossOrigin:E,integrity:q,fetchPriority:$,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ln.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var N=T(v.as,v.crossOrigin);d.d.M(b,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&d.d.M(b)},ln.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var N=v.as,E=T(N,v.crossOrigin);d.d.L(b,N,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ln.preloadModule=function(b,v){if(typeof b=="string")if(v){var N=T(v.as,v.crossOrigin);d.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else d.d.m(b)},ln.requestFormReset=function(b){d.d.r(b)},ln.unstable_batchedUpdates=function(b,v){return b(v)},ln.useFormState=function(b,v,N){return y.H.useFormState(b,v,N)},ln.useFormStatus=function(){return y.H.useHostTransitionStatus()},ln.version="19.2.0",ln}var bh;function Ng(){if(bh)return Qo.exports;bh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Qo.exports=Dg(),Qo.exports}var Sh;function jg(){if(Sh)return ru;Sh=1;var o=Cg(),r=rd(),m=Ng();function d(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function M(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function y(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(M(t)!==t)throw Error(d(188))}function v(t){var e=t.alternate;if(!e){if(e=M(t),e===null)throw Error(d(188));return e!==t?null:t}for(var n=t,a=e;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return b(l),t;if(s===a)return b(l),e;s=s.sibling}throw Error(d(188))}if(n.return!==a.return)n=l,a=s;else{for(var u=!1,h=l.child;h;){if(h===n){u=!0,n=l,a=s;break}if(h===a){u=!0,a=l,n=s;break}h=h.sibling}if(!u){for(h=s.child;h;){if(h===n){u=!0,n=s,a=l;break}if(h===a){u=!0,a=s,n=l;break}h=h.sibling}if(!u)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?t:e}function N(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=N(t),e!==null)return e;t=t.sibling}return null}var E=Object.assign,q=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Et=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),St=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),Gt=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),Ft=Symbol.iterator;function Wt(t){return t===null||typeof t!="object"?null:(t=Ft&&t[Ft]||t["@@iterator"],typeof t=="function"?t:null)}var un=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===un?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case ut:return"Profiler";case Et:return"StrictMode";case P:return"Suspense";case mt:return"SuspenseList";case Gt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case et:return"Portal";case dt:return t.displayName||"Context";case St:return(t._context.displayName||"Context")+".Consumer";case H:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return e=t.displayName||null,e!==null?e:Oe(t.type)||"Memo";case ct:e=t._payload,t=t._init;try{return Oe(t(e))}catch{}}return null}var Ce=Array.isArray,A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},I=[],lt=-1;function S(t){return{current:t}}function k(t){0>lt||(t.current=I[lt],I[lt]=null,lt--)}function tt(t,e){lt++,I[lt]=t.current,t.current=e}var nt=S(null),yt=S(null),jt=S(null),At=S(null);function Qe(t,e){switch(tt(jt,e),tt(yt,t),tt(nt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?km(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=km(e),t=Um(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}k(nt),tt(nt,t)}function ue(){k(nt),k(yt),k(jt)}function Ka(t){t.memoizedState!==null&&tt(At,t);var e=nt.current,n=Um(e,t.type);e!==n&&(tt(yt,t),tt(nt,n))}function Jn(t){yt.current===t&&(k(nt),k(yt)),At.current===t&&(k(At),lu._currentValue=W)}var Es,$a;function Dn(t){if(Es===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Es=e&&e[1]||"",$a=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+t+$a}var sa=!1;function jl(t,e){if(!t||sa)return"";sa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(U){var _=U}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(U){_=U}t.call(Z.prototype)}}else{try{throw Error()}catch(U){_=U}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(U){if(U&&_&&typeof U.stack=="string")return[U.stack,_.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),u=s[0],h=s[1];if(u&&h){var x=u.split(`
`),O=h.split(`
`);for(l=a=0;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;for(;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;if(a===x.length||l===O.length)for(a=x.length-1,l=O.length-1;1<=a&&0<=l&&x[a]!==O[l];)l--;for(;1<=a&&0<=l;a--,l--)if(x[a]!==O[l]){if(a!==1||l!==1)do if(a--,l--,0>l||x[a]!==O[l]){var G=`
`+x[a].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=a&&0<=l);break}}}finally{sa=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Dn(n):""}function Rl(t,e){switch(t.tag){case 26:case 27:case 5:return Dn(t.type);case 16:return Dn("Lazy");case 13:return t.child!==e&&e!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return jl(t.type,!1);case 11:return jl(t.type.render,!1);case 1:return jl(t.type,!0);case 31:return Dn("Activity");default:return""}}function Ln(t){try{var e="",n=null;do e+=Rl(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ja=Object.prototype.hasOwnProperty,Nn=o.unstable_scheduleCallback,zl=o.unstable_cancelCallback,mu=o.unstable_shouldYield,As=o.unstable_requestPaint,he=o.unstable_now,Ts=o.unstable_getCurrentPriorityLevel,qn=o.unstable_ImmediatePriority,ws=o.unstable_UserBlockingPriority,Sa=o.unstable_NormalPriority,hu=o.unstable_LowPriority,Ue=o.unstable_IdlePriority,Ol=o.log,In=o.unstable_setDisableYieldValue,ia=null,Be=null;function ce(t){if(typeof Ol=="function"&&In(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(ia,t)}catch{}}var tn=Math.clz32?Math.clz32:_l,yi=Math.log,pu=Math.LN2;function _l(t){return t>>>=0,t===0?32:31-(yi(t)/pu|0)|0}var kl=256,Ia=262144,Ee=4194304;function Fn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ul(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,s=t.suspendedLanes,u=t.pingedLanes;t=t.warmLanes;var h=a&134217727;return h!==0?(a=h&~s,a!==0?l=Fn(a):(u&=h,u!==0?l=Fn(u):n||(n=h&~t,n!==0&&(l=Fn(n))))):(h=a&~s,h!==0?l=Fn(h):u!==0?l=Fn(u):n||(n=a&~t,n!==0&&(l=Fn(n)))),l===0?0:e!==0&&e!==l&&(e&s)===0&&(s=l&-l,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:l}function Fa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function gu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wa(){var t=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),t}function jn(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bl(t,e,n,a,l,s){var u=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var h=t.entanglements,x=t.expirationTimes,O=t.hiddenUpdates;for(n=u&~n;0<n;){var G=31-tn(n),Z=1<<G;h[G]=0,x[G]=-1;var _=O[G];if(_!==null)for(O[G]=null,G=0;G<_.length;G++){var U=_[G];U!==null&&(U.lane&=-536870913)}n&=~Z}a!==0&&Cs(t,a,0),s!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=s&~(u&~e))}function Cs(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-tn(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function Ma(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-tn(n),l=1<<a;l&e|t[a]&e&&(t[a]|=e),n&=~l}}function Ll(t,e){var n=e&-e;return n=(n&42)!==0?1:xa(n),(n&(t.suspendedLanes|e))!==0?0:n}function xa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Rn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vi(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:sh(t.type))}function Wn(t,e){var n=V.p;try{return V.p=t,e()}finally{V.p=n}}var zn=Math.random().toString(36).slice(2),ae="__reactFiber$"+zn,Le="__reactProps$"+zn,Pn="__reactContainer$"+zn,Pa="__reactEvents$"+zn,yu="__reactListeners$"+zn,_c="__reactHandles$"+zn,bi="__reactResources$"+zn,pe="__reactMarker$"+zn;function ta(t){delete t[ae],delete t[Le],delete t[Pa],delete t[yu],delete t[_c]}function ea(t){var e=t[ae];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pn]||n[ae]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vm(t);t!==null;){if(n=t[ae])return n;t=Vm(t)}return e}t=n,n=t.parentNode}return null}function pn(t){if(t=t[ae]||t[Pn]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function qe(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(d(33))}function Ea(t){var e=t[bi];return e||(e=t[bi]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ye(t){t[pe]=!0}var gn=new Set,tl={};function yn(t,e){ve(t,e),ve(t+"Capture",e)}function ve(t,e){for(tl[t]=e,t=0;t<e.length;t++)gn.add(e[t])}var ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vn={},el={};function vu(t){return Ja.call(el,t)?!0:Ja.call(vn,t)?!1:ql.test(t)?el[t]=!0:(vn[t]=!0,!1)}function nl(t,e,n){if(vu(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Aa(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function bn(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ds(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ns(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,s=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(u){n=""+u,s.call(this,u)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hl(t){if(!t._valueTracker){var e=Ds(t)?"checked":"value";t._valueTracker=Ns(t,e,""+t[e])}}function js(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=Ds(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function al(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Si=/[\n"\\]/g;function cn(t){return t.replace(Si,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Gl(t,e,n,a,l,s,u,h){t.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.type=u:t.removeAttribute("type"),e!=null?u==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+en(e)):t.value!==""+en(e)&&(t.value=""+en(e)):u!=="submit"&&u!=="reset"||t.removeAttribute("value"),e!=null?Vl(t,u,en(e)):n!=null?Vl(t,u,en(n)):a!=null&&t.removeAttribute("value"),l==null&&s!=null&&(t.defaultChecked=!!s),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?t.name=""+en(h):t.removeAttribute("name")}function Yl(t,e,n,a,l,s,u,h){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Hl(t);return}n=n!=null?""+en(n):"",e=e!=null?""+en(e):n,h||e===t.value||(t.value=e),t.defaultValue=e}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=h?t.checked:!!a,t.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.name=u),Hl(t)}function Vl(t,e,n){e==="number"&&al(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function be(t,e,n,a){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&a&&(t[n].defaultSelected=!0)}else{for(n=""+en(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,a&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function Ta(t,e,n){if(e!=null&&(e=""+en(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+en(n):""}function Rs(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(d(92));if(Ce(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=en(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),Hl(t)}function nn(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ze(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||ua.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function _t(t,e,n){if(e!=null&&typeof e!="object")throw Error(d(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var l in e)a=e[l],e.hasOwnProperty(l)&&n[l]!==a&&Ze(t,l,a)}else for(var s in e)e.hasOwnProperty(s)&&Ze(t,s,e[s])}function Mi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(t){return Uc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function na(){}var Xl=null;function Ql(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yt=null,De=null;function Zl(t){var e=pn(t);if(e&&(t=e.stateNode)){var n=t[Le]||null;t:switch(t=e.stateNode,e.type){case"input":if(Gl(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+cn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var l=a[Le]||null;if(!l)throw Error(d(90));Gl(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&js(a)}break t;case"textarea":Ta(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&be(t,!!n.multiple,e,!1)}}}var Os=!1;function Ke(t,e,n){if(Os)return t(e,n);Os=!0;try{var a=t(e);return a}finally{if(Os=!1,(Yt!==null||De!==null)&&(ic(),Yt&&(e=Yt,t=De,De=Yt=null,Zl(e),t)))for(e=0;e<t.length;e++)Zl(t[e])}}function Hn(t,e){var n=t.stateNode;if(n===null)return null;var a=n[Le]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(d(231,e,typeof n));return n}var B=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_e=!1;if(B)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch{_e=!1}var rn=null,_s=null,Kl=null;function $l(){if(Kl)return Kl;var t,e=_s,n=e.length,a,l="value"in rn?rn.value:rn.textContent,s=l.length;for(t=0;t<n&&e[t]===l[t];t++);var u=n-t;for(a=1;a<=u&&e[n-a]===l[s-a];a++);return Kl=l.slice(t,1<a?1-a:void 0)}function ks(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jl(){return!0}function xi(){return!1}function He(t){function e(n,a,l,s,u){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(s):s[h]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jl:xi,this.isPropagationStopped=xi,this}return E(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),e}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=He(ca),ra=E({},ca,{view:0,detail:0}),Bc=He(ra),Us,ll,oa,on=E({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oa&&(oa&&t.type==="mousemove"?(Us=t.screenX-oa.screenX,ll=t.screenY-oa.screenY):ll=Us=0,oa=t),Us)},movementY:function(t){return"movementY"in t?t.movementY:ll}}),Ca=He(on),bu=E({},on,{dataTransfer:0}),Su=He(bu),Lc=E({},ra,{relatedTarget:0}),Ei=He(Lc),qc=E({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=He(qc),Hc=E({},ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gc=He(Hc),Ai=E({},ca,{data:0}),xu=He(Ai),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Il={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fl(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Il[t])?!!e[t]:!1}function Ti(){return Fl}var Vc=E({},ra,{key:function(t){if(t.key){var e=Bs[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ge=He(Vc),Sn=E({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=He(Sn),Wl=E({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),Xc=He(Wl),Pl=E({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qc=He(Pl),Zc=E({},on,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kc=He(Zc),$c=E({},ca,{newState:0,oldState:0}),Eu=He($c),Jc=[9,13,27,32],wi=B&&"CompositionEvent"in window,il=null;B&&"documentMode"in document&&(il=document.documentMode);var Ic=B&&"TextEvent"in window&&!il,Au=B&&(!wi||il&&8<il&&11>=il),Tu=" ",wu=!1;function Ls(t,e){switch(t){case"keyup":return Jc.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var da=!1;function Cu(t,e){switch(t){case"compositionend":return Da(e);case"keypress":return e.which!==32?null:(wu=!0,Tu);case"textInput":return t=e.data,t===Tu&&wu?null:t;default:return null}}function Fc(t,e){if(da)return t==="compositionend"||!wi&&Ls(t,e)?(t=$l(),Kl=_s=rn=null,da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Au&&e.locale!=="ko"?null:e.data;default:return null}}var Wc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ts(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Wc[t.type]:e==="textarea"}function ul(t,e,n,a){Yt?De?De.push(a):De=[a]:Yt=a,e=mc(e,"onChange"),0<e.length&&(n=new wa("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var es=null,ns=null;function Pc(t){Nm(t,0)}function as(t){var e=qe(t);if(js(e))return t}function Du(t,e){if(t==="change")return e}var Ci=!1;if(B){var ls;if(B){var $e="oninput"in document;if(!$e){var qs=document.createElement("div");qs.setAttribute("oninput","return;"),$e=typeof qs.oninput=="function"}ls=$e}else ls=!1;Ci=ls&&(!document.documentMode||9<document.documentMode)}function Di(){es&&(es.detachEvent("onpropertychange",Nu),ns=es=null)}function Nu(t){if(t.propertyName==="value"&&as(ns)){var e=[];ul(e,ns,t,Ql(t)),Ke(Pc,e)}}function tr(t,e,n){t==="focusin"?(Di(),es=e,ns=n,es.attachEvent("onpropertychange",Nu)):t==="focusout"&&Di()}function ju(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return as(ns)}function er(t,e){if(t==="click")return as(e)}function i(t,e){if(t==="input"||t==="change")return as(e)}function c(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var g=typeof Object.is=="function"?Object.is:c;function w(t,e){if(g(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!Ja.call(e,l)||!g(t[l],e[l]))return!1}return!0}function j(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function L(t,e){var n=j(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=j(n)}}function X(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function K(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=al(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=al(t.document)}return e}function Y(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var st=B&&"documentMode"in document&&11>=document.documentMode,at=null,vt=null,Ct=null,Bt=!1;function le(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bt||at==null||at!==al(a)||(a=at,"selectionStart"in a&&Y(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ct&&w(Ct,a)||(Ct=a,a=mc(vt,"onSelect"),0<a.length&&(e=new wa("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=at)))}function rt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dt={animationend:rt("Animation","AnimationEnd"),animationiteration:rt("Animation","AnimationIteration"),animationstart:rt("Animation","AnimationStart"),transitionrun:rt("Transition","TransitionRun"),transitionstart:rt("Transition","TransitionStart"),transitioncancel:rt("Transition","TransitionCancel"),transitionend:rt("Transition","TransitionEnd")},an={},ss={};B&&(ss=document.createElement("div").style,"AnimationEvent"in window||(delete Dt.animationend.animation,delete Dt.animationiteration.animation,delete Dt.animationstart.animation),"TransitionEvent"in window||delete Dt.transitionend.transition);function fa(t){if(an[t])return an[t];if(!Dt[t])return t;var e=Dt[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ss)return an[t]=e[n];return t}var it=fa("animationend"),re=fa("animationiteration"),fe=fa("animationstart"),Lt=fa("transitionrun"),ge=fa("transitionstart"),gt=fa("transitioncancel"),xt=fa("transitionend"),Ye=new Map,Vt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vt.push("scrollEnd");function $t(t,e){Ye.set(t,e),yn(e,[t])}var Mn=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},pt=[],Xt=0,Se=0;function ma(){for(var t=Xt,e=Se=Xt=0;e<t;){var n=pt[e];pt[e++]=null;var a=pt[e];pt[e++]=null;var l=pt[e];pt[e++]=null;var s=pt[e];if(pt[e++]=null,a!==null&&l!==null){var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}s!==0&&Gs(n,l,s)}}function ha(t,e,n,a){pt[Xt++]=t,pt[Xt++]=e,pt[Xt++]=n,pt[Xt++]=a,Se|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Hs(t,e,n,a){return ha(t,e,n,a),is(t)}function pa(t,e){return ha(t,null,null,e),is(t)}function Gs(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var l=!1,s=t.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(l=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,l&&e!==null&&(l=31-tn(n),t=s.hiddenUpdates,a=t[l],a===null?t[l]=[e]:a.push(e),e.lane=n|536870912),s):null}function is(t){if(50<Fi)throw Fi=0,ro=null,Error(d(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Na={};function Ys(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(t,e,n,a){return new Ys(t,e,n,a)}function Gn(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dn(t,e){var n=t.alternate;return n===null?(n=Tt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Ni(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function us(t,e,n,a,l,s){var u=0;if(a=t,typeof t=="function")Gn(t)&&(u=1);else if(typeof t=="string")u=dg(t,n,nt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Gt:return t=Tt(31,n,e,l),t.elementType=Gt,t.lanes=s,t;case F:return ja(n.children,l,s,e);case Et:u=8,l|=24;break;case ut:return t=Tt(12,n,e,l|2),t.elementType=ut,t.lanes=s,t;case P:return t=Tt(13,n,e,l),t.elementType=P,t.lanes=s,t;case mt:return t=Tt(19,n,e,l),t.elementType=mt,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:u=10;break t;case St:u=9;break t;case H:u=11;break t;case J:u=14;break t;case ct:u=16,a=null;break t}u=29,n=Error(d(130,t===null?"null":typeof t,"")),a=null}return e=Tt(u,n,e,l),e.elementType=t,e.type=a,e.lanes=s,e}function ja(t,e,n,a){return t=Tt(7,t,a,e),t.lanes=n,t}function nr(t,e,n){return t=Tt(6,t,null,e),t.lanes=n,t}function dd(t){var e=Tt(18,null,null,0);return e.stateNode=t,e}function ar(t,e,n){return e=Tt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var fd=new WeakMap;function Yn(t,e){if(typeof t=="object"&&t!==null){var n=fd.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ln(e)},fd.set(t,e),e)}return{value:t,source:e,stack:Ln(e)}}var Vs=[],Xs=0,Ru=null,ji=0,Vn=[],Xn=0,cl=null,ga=1,ya="";function Ra(t,e){Vs[Xs++]=ji,Vs[Xs++]=Ru,Ru=t,ji=e}function md(t,e,n){Vn[Xn++]=ga,Vn[Xn++]=ya,Vn[Xn++]=cl,cl=t;var a=ga;t=ya;var l=32-tn(a)-1;a&=~(1<<l),n+=1;var s=32-tn(e)+l;if(30<s){var u=l-l%5;s=(a&(1<<u)-1).toString(32),a>>=u,l-=u,ga=1<<32-tn(e)+l|n<<l|a,ya=s+t}else ga=1<<s|n<<l|a,ya=t}function lr(t){t.return!==null&&(Ra(t,1),md(t,1,0))}function sr(t){for(;t===Ru;)Ru=Vs[--Xs],Vs[Xs]=null,ji=Vs[--Xs],Vs[Xs]=null;for(;t===cl;)cl=Vn[--Xn],Vn[Xn]=null,ya=Vn[--Xn],Vn[Xn]=null,ga=Vn[--Xn],Vn[Xn]=null}function hd(t,e){Vn[Xn++]=ga,Vn[Xn++]=ya,Vn[Xn++]=cl,ga=e.id,ya=e.overflow,cl=t}var Je=null,oe=null,qt=!1,rl=null,Qn=!1,ir=Error(d(519));function ol(t){var e=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ri(Yn(e,t)),ir}function pd(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[ae]=t,e[Le]=a,n){case"dialog":Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":case"embed":Ot("load",e);break;case"video":case"audio":for(n=0;n<Pi.length;n++)Ot(Pi[n],e);break;case"source":Ot("error",e);break;case"img":case"image":case"link":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"input":Ot("invalid",e),Yl(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ot("invalid",e);break;case"textarea":Ot("invalid",e),Rs(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||Om(e.textContent,n)?(a.popover!=null&&(Ot("beforetoggle",e),Ot("toggle",e)),a.onScroll!=null&&Ot("scroll",e),a.onScrollEnd!=null&&Ot("scrollend",e),a.onClick!=null&&(e.onclick=na),e=!0):e=!1,e||ol(t,!0)}function gd(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Je=Je.return}}function Qs(t){if(t!==Je)return!1;if(!qt)return gd(t),qt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||To(t.type,t.memoizedProps)),n=!n),n&&oe&&ol(t),gd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));oe=Ym(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));oe=Ym(t)}else e===27?(e=oe,Al(t.type)?(t=jo,jo=null,oe=t):oe=e):oe=Je?Kn(t.stateNode.nextSibling):null;return!0}function cs(){oe=Je=null,qt=!1}function ur(){var t=rl;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),rl=null),t}function Ri(t){rl===null?rl=[t]:rl.push(t)}var cr=S(null),rs=null,za=null;function dl(t,e,n){tt(cr,e._currentValue),e._currentValue=n}function Oa(t){t._currentValue=cr.current,k(cr)}function rr(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function or(t,e,n,a){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){var u=l.child;s=s.firstContext;t:for(;s!==null;){var h=s;s=l;for(var x=0;x<e.length;x++)if(h.context===e[x]){s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),rr(s.return,n,t),a||(u=null);break t}s=h.next}}else if(l.tag===18){if(u=l.return,u===null)throw Error(d(341));u.lanes|=n,s=u.alternate,s!==null&&(s.lanes|=n),rr(u,n,t),u=null}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}}function Zs(t,e,n,a){t=null;for(var l=e,s=!1;l!==null;){if(!s){if((l.flags&524288)!==0)s=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var u=l.alternate;if(u===null)throw Error(d(387));if(u=u.memoizedProps,u!==null){var h=l.type;g(l.pendingProps.value,u.value)||(t!==null?t.push(h):t=[h])}}else if(l===At.current){if(u=l.alternate,u===null)throw Error(d(387));u.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(lu):t=[lu])}l=l.return}t!==null&&or(e,t,n,a),e.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!g(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function os(t){rs=t,za=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ie(t){return yd(rs,t)}function Ou(t,e){return rs===null&&os(t),yd(t,e)}function yd(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},za===null){if(t===null)throw Error(d(308));za=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else za=za.next=e;return n}var up=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},cp=o.unstable_scheduleCallback,rp=o.unstable_NormalPriority,Ne={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dr(){return{controller:new up,data:new Map,refCount:0}}function zi(t){t.refCount--,t.refCount===0&&cp(rp,function(){t.controller.abort()})}var Oi=null,fr=0,Ks=0,$s=null;function op(t,e){if(Oi===null){var n=Oi=[];fr=0,Ks=go(),$s={status:"pending",value:void 0,then:function(a){n.push(a)}}}return fr++,e.then(vd,vd),e}function vd(){if(--fr===0&&Oi!==null){$s!==null&&($s.status="fulfilled");var t=Oi;Oi=null,Ks=0,$s=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function dp(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var bd=A.S;A.S=function(t,e){am=he(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&op(t,e),bd!==null&&bd(t,e)};var ds=S(null);function mr(){var t=ds.current;return t!==null?t:se.pooledCache}function _u(t,e){e===null?tt(ds,ds.current):tt(ds,e.pool)}function Sd(){var t=mr();return t===null?null:{parent:Ne._currentValue,pool:t}}var Js=Error(d(460)),hr=Error(d(474)),ku=Error(d(542)),Uu={then:function(){}};function Md(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xd(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(na,na),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ad(t),t;default:if(typeof e.status=="string")e.then(na,na);else{if(t=se,t!==null&&100<t.shellSuspendCounter)throw Error(d(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=a}},function(a){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ad(t),t}throw ms=e,Js}}function fs(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ms=n,Js):n}}var ms=null;function Ed(){if(ms===null)throw Error(d(459));var t=ms;return ms=null,t}function Ad(t){if(t===Js||t===ku)throw Error(d(483))}var Is=null,_i=0;function Bu(t){var e=_i;return _i+=1,Is===null&&(Is=[]),xd(Is,t,e)}function ki(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Lu(t,e){throw e.$$typeof===q?Error(d(525)):(t=Object.prototype.toString.call(e),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Td(t){function e(R,C){if(t){var z=R.deletions;z===null?(R.deletions=[C],R.flags|=16):z.push(C)}}function n(R,C){if(!t)return null;for(;C!==null;)e(R,C),C=C.sibling;return null}function a(R){for(var C=new Map;R!==null;)R.key!==null?C.set(R.key,R):C.set(R.index,R),R=R.sibling;return C}function l(R,C){return R=dn(R,C),R.index=0,R.sibling=null,R}function s(R,C,z){return R.index=z,t?(z=R.alternate,z!==null?(z=z.index,z<C?(R.flags|=67108866,C):z):(R.flags|=67108866,C)):(R.flags|=1048576,C)}function u(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function h(R,C,z,Q){return C===null||C.tag!==6?(C=nr(z,R.mode,Q),C.return=R,C):(C=l(C,z),C.return=R,C)}function x(R,C,z,Q){var ht=z.type;return ht===F?G(R,C,z.props.children,Q,z.key):C!==null&&(C.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ct&&fs(ht)===C.type)?(C=l(C,z.props),ki(C,z),C.return=R,C):(C=us(z.type,z.key,z.props,null,R.mode,Q),ki(C,z),C.return=R,C)}function O(R,C,z,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=ar(z,R.mode,Q),C.return=R,C):(C=l(C,z.children||[]),C.return=R,C)}function G(R,C,z,Q,ht){return C===null||C.tag!==7?(C=ja(z,R.mode,Q,ht),C.return=R,C):(C=l(C,z),C.return=R,C)}function Z(R,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=nr(""+C,R.mode,z),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $:return z=us(C.type,C.key,C.props,null,R.mode,z),ki(z,C),z.return=R,z;case et:return C=ar(C,R.mode,z),C.return=R,C;case ct:return C=fs(C),Z(R,C,z)}if(Ce(C)||Wt(C))return C=ja(C,R.mode,z,null),C.return=R,C;if(typeof C.then=="function")return Z(R,Bu(C),z);if(C.$$typeof===dt)return Z(R,Ou(R,C),z);Lu(R,C)}return null}function _(R,C,z,Q){var ht=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ht!==null?null:h(R,C,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return z.key===ht?x(R,C,z,Q):null;case et:return z.key===ht?O(R,C,z,Q):null;case ct:return z=fs(z),_(R,C,z,Q)}if(Ce(z)||Wt(z))return ht!==null?null:G(R,C,z,Q,null);if(typeof z.then=="function")return _(R,C,Bu(z),Q);if(z.$$typeof===dt)return _(R,C,Ou(R,z),Q);Lu(R,z)}return null}function U(R,C,z,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return R=R.get(z)||null,h(C,R,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:return R=R.get(Q.key===null?z:Q.key)||null,x(C,R,Q,ht);case et:return R=R.get(Q.key===null?z:Q.key)||null,O(C,R,Q,ht);case ct:return Q=fs(Q),U(R,C,z,Q,ht)}if(Ce(Q)||Wt(Q))return R=R.get(z)||null,G(C,R,Q,ht,null);if(typeof Q.then=="function")return U(R,C,z,Bu(Q),ht);if(Q.$$typeof===dt)return U(R,C,z,Ou(C,Q),ht);Lu(C,Q)}return null}function ot(R,C,z,Q){for(var ht=null,Qt=null,ft=C,Rt=C=0,Ut=null;ft!==null&&Rt<z.length;Rt++){ft.index>Rt?(Ut=ft,ft=null):Ut=ft.sibling;var Zt=_(R,ft,z[Rt],Q);if(Zt===null){ft===null&&(ft=Ut);break}t&&ft&&Zt.alternate===null&&e(R,ft),C=s(Zt,C,Rt),Qt===null?ht=Zt:Qt.sibling=Zt,Qt=Zt,ft=Ut}if(Rt===z.length)return n(R,ft),qt&&Ra(R,Rt),ht;if(ft===null){for(;Rt<z.length;Rt++)ft=Z(R,z[Rt],Q),ft!==null&&(C=s(ft,C,Rt),Qt===null?ht=ft:Qt.sibling=ft,Qt=ft);return qt&&Ra(R,Rt),ht}for(ft=a(ft);Rt<z.length;Rt++)Ut=U(ft,R,Rt,z[Rt],Q),Ut!==null&&(t&&Ut.alternate!==null&&ft.delete(Ut.key===null?Rt:Ut.key),C=s(Ut,C,Rt),Qt===null?ht=Ut:Qt.sibling=Ut,Qt=Ut);return t&&ft.forEach(function(Nl){return e(R,Nl)}),qt&&Ra(R,Rt),ht}function Mt(R,C,z,Q){if(z==null)throw Error(d(151));for(var ht=null,Qt=null,ft=C,Rt=C=0,Ut=null,Zt=z.next();ft!==null&&!Zt.done;Rt++,Zt=z.next()){ft.index>Rt?(Ut=ft,ft=null):Ut=ft.sibling;var Nl=_(R,ft,Zt.value,Q);if(Nl===null){ft===null&&(ft=Ut);break}t&&ft&&Nl.alternate===null&&e(R,ft),C=s(Nl,C,Rt),Qt===null?ht=Nl:Qt.sibling=Nl,Qt=Nl,ft=Ut}if(Zt.done)return n(R,ft),qt&&Ra(R,Rt),ht;if(ft===null){for(;!Zt.done;Rt++,Zt=z.next())Zt=Z(R,Zt.value,Q),Zt!==null&&(C=s(Zt,C,Rt),Qt===null?ht=Zt:Qt.sibling=Zt,Qt=Zt);return qt&&Ra(R,Rt),ht}for(ft=a(ft);!Zt.done;Rt++,Zt=z.next())Zt=U(ft,R,Rt,Zt.value,Q),Zt!==null&&(t&&Zt.alternate!==null&&ft.delete(Zt.key===null?Rt:Zt.key),C=s(Zt,C,Rt),Qt===null?ht=Zt:Qt.sibling=Zt,Qt=Zt);return t&&ft.forEach(function(xg){return e(R,xg)}),qt&&Ra(R,Rt),ht}function ee(R,C,z,Q){if(typeof z=="object"&&z!==null&&z.type===F&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case $:t:{for(var ht=z.key;C!==null;){if(C.key===ht){if(ht=z.type,ht===F){if(C.tag===7){n(R,C.sibling),Q=l(C,z.props.children),Q.return=R,R=Q;break t}}else if(C.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ct&&fs(ht)===C.type){n(R,C.sibling),Q=l(C,z.props),ki(Q,z),Q.return=R,R=Q;break t}n(R,C);break}else e(R,C);C=C.sibling}z.type===F?(Q=ja(z.props.children,R.mode,Q,z.key),Q.return=R,R=Q):(Q=us(z.type,z.key,z.props,null,R.mode,Q),ki(Q,z),Q.return=R,R=Q)}return u(R);case et:t:{for(ht=z.key;C!==null;){if(C.key===ht)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){n(R,C.sibling),Q=l(C,z.children||[]),Q.return=R,R=Q;break t}else{n(R,C);break}else e(R,C);C=C.sibling}Q=ar(z,R.mode,Q),Q.return=R,R=Q}return u(R);case ct:return z=fs(z),ee(R,C,z,Q)}if(Ce(z))return ot(R,C,z,Q);if(Wt(z)){if(ht=Wt(z),typeof ht!="function")throw Error(d(150));return z=ht.call(z),Mt(R,C,z,Q)}if(typeof z.then=="function")return ee(R,C,Bu(z),Q);if(z.$$typeof===dt)return ee(R,C,Ou(R,z),Q);Lu(R,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,C!==null&&C.tag===6?(n(R,C.sibling),Q=l(C,z),Q.return=R,R=Q):(n(R,C),Q=nr(z,R.mode,Q),Q.return=R,R=Q),u(R)):n(R,C)}return function(R,C,z,Q){try{_i=0;var ht=ee(R,C,z,Q);return Is=null,ht}catch(ft){if(ft===Js||ft===ku)throw ft;var Qt=Tt(29,ft,null,R.mode);return Qt.lanes=Q,Qt.return=R,Qt}finally{}}}var hs=Td(!0),wd=Td(!1),fl=!1;function pr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ml(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function hl(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Kt&2)!==0){var l=a.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),a.pending=e,e=is(t),Gs(t,null,n),e}return ha(t,a,e,n),is(t)}function Ui(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Ma(t,n)}}function yr(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?l=s=e:s=s.next=e}else l=s=e;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var vr=!1;function Bi(){if(vr){var t=$s;if(t!==null)throw t}}function Li(t,e,n,a){vr=!1;var l=t.updateQueue;fl=!1;var s=l.firstBaseUpdate,u=l.lastBaseUpdate,h=l.shared.pending;if(h!==null){l.shared.pending=null;var x=h,O=x.next;x.next=null,u===null?s=O:u.next=O,u=x;var G=t.alternate;G!==null&&(G=G.updateQueue,h=G.lastBaseUpdate,h!==u&&(h===null?G.firstBaseUpdate=O:h.next=O,G.lastBaseUpdate=x))}if(s!==null){var Z=l.baseState;u=0,G=O=x=null,h=s;do{var _=h.lane&-536870913,U=_!==h.lane;if(U?(kt&_)===_:(a&_)===_){_!==0&&_===Ks&&(vr=!0),G!==null&&(G=G.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});t:{var ot=t,Mt=h;_=e;var ee=n;switch(Mt.tag){case 1:if(ot=Mt.payload,typeof ot=="function"){Z=ot.call(ee,Z,_);break t}Z=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=Mt.payload,_=typeof ot=="function"?ot.call(ee,Z,_):ot,_==null)break t;Z=E({},Z,_);break t;case 2:fl=!0}}_=h.callback,_!==null&&(t.flags|=64,U&&(t.flags|=8192),U=l.callbacks,U===null?l.callbacks=[_]:U.push(_))}else U={lane:_,tag:h.tag,payload:h.payload,callback:h.callback,next:null},G===null?(O=G=U,x=Z):G=G.next=U,u|=_;if(h=h.next,h===null){if(h=l.shared.pending,h===null)break;U=h,h=U.next,U.next=null,l.lastBaseUpdate=U,l.shared.pending=null}}while(!0);G===null&&(x=Z),l.baseState=x,l.firstBaseUpdate=O,l.lastBaseUpdate=G,s===null&&(l.shared.lanes=0),bl|=u,t.lanes=u,t.memoizedState=Z}}function Cd(t,e){if(typeof t!="function")throw Error(d(191,t));t.call(e)}function Dd(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Cd(n[t],e)}var Fs=S(null),qu=S(0);function Nd(t,e){t=Ya,tt(qu,t),tt(Fs,e),Ya=t|e.baseLanes}function br(){tt(qu,Ya),tt(Fs,Fs.current)}function Sr(){Ya=qu.current,k(Fs),k(qu)}var On=S(null),Zn=null;function pl(t){var e=t.alternate;tt(Te,Te.current&1),tt(On,t),Zn===null&&(e===null||Fs.current!==null||e.memoizedState!==null)&&(Zn=t)}function Mr(t){tt(Te,Te.current),tt(On,t),Zn===null&&(Zn=t)}function jd(t){t.tag===22?(tt(Te,Te.current),tt(On,t),Zn===null&&(Zn=t)):gl()}function gl(){tt(Te,Te.current),tt(On,On.current)}function _n(t){k(On),Zn===t&&(Zn=null),k(Te)}var Te=S(0);function Hu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Do(n)||No(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _a=0,Nt=null,Pt=null,je=null,Gu=!1,Ws=!1,ps=!1,Yu=0,qi=0,Ps=null,fp=0;function Me(){throw Error(d(321))}function xr(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!g(t[n],e[n]))return!1;return!0}function Er(t,e,n,a,l,s){return _a=s,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,A.H=t===null||t.memoizedState===null?hf:Lr,ps=!1,s=n(a,l),ps=!1,Ws&&(s=zd(e,n,a,l)),Rd(t),s}function Rd(t){A.H=Yi;var e=Pt!==null&&Pt.next!==null;if(_a=0,je=Pt=Nt=null,Gu=!1,qi=0,Ps=null,e)throw Error(d(300));t===null||Re||(t=t.dependencies,t!==null&&zu(t)&&(Re=!0))}function zd(t,e,n,a){Nt=t;var l=0;do{if(Ws&&(Ps=null),qi=0,Ws=!1,25<=l)throw Error(d(301));if(l+=1,je=Pt=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}A.H=pf,s=e(n,a)}while(Ws);return s}function mp(){var t=A.H,e=t.useState()[0];return e=typeof e.then=="function"?Hi(e):e,t=t.useState()[0],(Pt!==null?Pt.memoizedState:null)!==t&&(Nt.flags|=1024),e}function Ar(){var t=Yu!==0;return Yu=0,t}function Tr(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function wr(t){if(Gu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Gu=!1}_a=0,je=Pt=Nt=null,Ws=!1,qi=Yu=0,Ps=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Nt.memoizedState=je=t:je=je.next=t,je}function we(){if(Pt===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=je===null?Nt.memoizedState:je.next;if(e!==null)je=e,Pt=t;else{if(t===null)throw Nt.alternate===null?Error(d(467)):Error(d(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},je===null?Nt.memoizedState=je=t:je=je.next=t}return je}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hi(t){var e=qi;return qi+=1,Ps===null&&(Ps=[]),t=xd(Ps,t,e),e=Nt,(je===null?e.memoizedState:je.next)===null&&(e=e.alternate,A.H=e===null||e.memoizedState===null?hf:Lr),t}function Xu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Hi(t);if(t.$$typeof===dt)return Ie(t)}throw Error(d(438,String(t)))}function Cr(t){var e=null,n=Nt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=Nt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Vu(),Nt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=ne;return e.index++,n}function ka(t,e){return typeof e=="function"?e(t):e}function Qu(t){var e=we();return Dr(e,Pt,t)}function Dr(t,e,n){var a=t.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var l=t.baseQueue,s=a.pending;if(s!==null){if(l!==null){var u=l.next;l.next=s.next,s.next=u}e.baseQueue=l=s,a.pending=null}if(s=t.baseState,l===null)t.memoizedState=s;else{e=l.next;var h=u=null,x=null,O=e,G=!1;do{var Z=O.lane&-536870913;if(Z!==O.lane?(kt&Z)===Z:(_a&Z)===Z){var _=O.revertLane;if(_===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Z===Ks&&(G=!0);else if((_a&_)===_){O=O.next,_===Ks&&(G=!0);continue}else Z={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(h=x=Z,u=s):x=x.next=Z,Nt.lanes|=_,bl|=_;Z=O.action,ps&&n(s,Z),s=O.hasEagerState?O.eagerState:n(s,Z)}else _={lane:Z,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(h=x=_,u=s):x=x.next=_,Nt.lanes|=Z,bl|=Z;O=O.next}while(O!==null&&O!==e);if(x===null?u=s:x.next=h,!g(s,t.memoizedState)&&(Re=!0,G&&(n=$s,n!==null)))throw n;t.memoizedState=s,t.baseState=u,t.baseQueue=x,a.lastRenderedState=s}return l===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Nr(t){var e=we(),n=e.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=t;var a=n.dispatch,l=n.pending,s=e.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do s=t(s,u.action),u=u.next;while(u!==l);g(s,e.memoizedState)||(Re=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,a]}function Od(t,e,n){var a=Nt,l=we(),s=qt;if(s){if(n===void 0)throw Error(d(407));n=n()}else n=e();var u=!g((Pt||l).memoizedState,n);if(u&&(l.memoizedState=n,Re=!0),l=l.queue,zr(Ud.bind(null,a,l,t),[t]),l.getSnapshot!==e||u||je!==null&&je.memoizedState.tag&1){if(a.flags|=2048,ti(9,{destroy:void 0},kd.bind(null,a,l,n,e),null),se===null)throw Error(d(349));s||(_a&127)!==0||_d(a,e,n)}return n}function _d(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nt.updateQueue,e===null?(e=Vu(),Nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kd(t,e,n,a){e.value=n,e.getSnapshot=a,Bd(e)&&Ld(t)}function Ud(t,e,n){return n(function(){Bd(e)&&Ld(t)})}function Bd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!g(t,n)}catch{return!0}}function Ld(t){var e=pa(t,2);e!==null&&wn(e,t,2)}function jr(t){var e=fn();if(typeof t=="function"){var n=t;if(t=n(),ps){ce(!0);try{n()}finally{ce(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:t},e}function qd(t,e,n,a){return t.baseState=n,Dr(t,Pt,typeof a=="function"?a:ka)}function hp(t,e,n,a,l){if($u(t))throw Error(d(485));if(t=e.action,t!==null){var s={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){s.listeners.push(u)}};A.T!==null?n(!0):s.isTransition=!1,a(s),n=e.pending,n===null?(s.next=e.pending=s,Hd(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Hd(t,e){var n=e.action,a=e.payload,l=t.state;if(e.isTransition){var s=A.T,u={};A.T=u;try{var h=n(l,a),x=A.S;x!==null&&x(u,h),Gd(t,e,h)}catch(O){Rr(t,e,O)}finally{s!==null&&u.types!==null&&(s.types=u.types),A.T=s}}else try{s=n(l,a),Gd(t,e,s)}catch(O){Rr(t,e,O)}}function Gd(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Yd(t,e,a)},function(a){return Rr(t,e,a)}):Yd(t,e,n)}function Yd(t,e,n){e.status="fulfilled",e.value=n,Vd(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Hd(t,n)))}function Rr(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,Vd(e),e=e.next;while(e!==a)}t.action=null}function Vd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Xd(t,e){return e}function Qd(t,e){if(qt){var n=se.formState;if(n!==null){t:{var a=Nt;if(qt){if(oe){e:{for(var l=oe,s=Qn;l.nodeType!==8;){if(!s){l=null;break e}if(l=Kn(l.nextSibling),l===null){l=null;break e}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){oe=Kn(l.nextSibling),a=l.data==="F!";break t}}ol(a)}a=!1}a&&(e=n[0])}}return n=fn(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:e},n.queue=a,n=df.bind(null,Nt,a),a.dispatch=n,a=jr(!1),s=Br.bind(null,Nt,!1,a.queue),a=fn(),l={state:e,dispatch:null,action:t,pending:null},a.queue=l,n=hp.bind(null,Nt,l,s,n),l.dispatch=n,a.memoizedState=t,[e,n,!1]}function Zd(t){var e=we();return Kd(e,Pt,t)}function Kd(t,e,n){if(e=Dr(t,e,Xd)[0],t=Qu(ka)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Hi(e)}catch(u){throw u===Js?ku:u}else a=e;e=we();var l=e.queue,s=l.dispatch;return n!==e.memoizedState&&(Nt.flags|=2048,ti(9,{destroy:void 0},pp.bind(null,l,n),null)),[a,s,t]}function pp(t,e){t.action=e}function $d(t){var e=we(),n=Pt;if(n!==null)return Kd(e,n,t);we(),e=e.memoizedState,n=we();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function ti(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=Nt.updateQueue,e===null&&(e=Vu(),Nt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function Jd(){return we().memoizedState}function Zu(t,e,n,a){var l=fn();Nt.flags|=t,l.memoizedState=ti(1|e,{destroy:void 0},n,a===void 0?null:a)}function Ku(t,e,n,a){var l=we();a=a===void 0?null:a;var s=l.memoizedState.inst;Pt!==null&&a!==null&&xr(a,Pt.memoizedState.deps)?l.memoizedState=ti(e,s,n,a):(Nt.flags|=t,l.memoizedState=ti(1|e,s,n,a))}function Id(t,e){Zu(8390656,8,t,e)}function zr(t,e){Ku(2048,8,t,e)}function gp(t){Nt.flags|=4;var e=Nt.updateQueue;if(e===null)e=Vu(),Nt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Fd(t){var e=we().memoizedState;return gp({ref:e,nextImpl:t}),function(){if((Kt&2)!==0)throw Error(d(440));return e.impl.apply(void 0,arguments)}}function Wd(t,e){return Ku(4,2,t,e)}function Pd(t,e){return Ku(4,4,t,e)}function tf(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ef(t,e,n){n=n!=null?n.concat([t]):null,Ku(4,4,tf.bind(null,e,t),n)}function Or(){}function nf(t,e){var n=we();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&xr(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function af(t,e){var n=we();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&xr(e,a[1]))return a[0];if(a=t(),ps){ce(!0);try{t()}finally{ce(!1)}}return n.memoizedState=[a,e],a}function _r(t,e,n){return n===void 0||(_a&1073741824)!==0&&(kt&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=sm(),Nt.lanes|=t,bl|=t,n)}function lf(t,e,n,a){return g(n,e)?n:Fs.current!==null?(t=_r(t,n,a),g(t,e)||(Re=!0),t):(_a&42)===0||(_a&1073741824)!==0&&(kt&261930)===0?(Re=!0,t.memoizedState=n):(t=sm(),Nt.lanes|=t,bl|=t,e)}function sf(t,e,n,a,l){var s=V.p;V.p=s!==0&&8>s?s:8;var u=A.T,h={};A.T=h,Br(t,!1,e,n);try{var x=l(),O=A.S;if(O!==null&&O(h,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=dp(x,a);Gi(t,e,G,Bn(t))}else Gi(t,e,a,Bn(t))}catch(Z){Gi(t,e,{then:function(){},status:"rejected",reason:Z},Bn())}finally{V.p=s,u!==null&&h.types!==null&&(u.types=h.types),A.T=u}}function yp(){}function kr(t,e,n,a){if(t.tag!==5)throw Error(d(476));var l=uf(t).queue;sf(t,l,e,W,n===null?yp:function(){return cf(t),n(a)})}function uf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:W},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function cf(t){var e=uf(t);e.next===null&&(e=t.alternate.memoizedState),Gi(t,e.next.queue,{},Bn())}function Ur(){return Ie(lu)}function rf(){return we().memoizedState}function of(){return we().memoizedState}function vp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Bn();t=ml(n);var a=hl(e,t,n);a!==null&&(wn(a,e,n),Ui(a,e,n)),e={cache:dr()},t.payload=e;return}e=e.return}}function bp(t,e,n){var a=Bn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},$u(t)?ff(e,n):(n=Hs(t,e,n,a),n!==null&&(wn(n,t,a),mf(n,e,a)))}function df(t,e,n){var a=Bn();Gi(t,e,n,a)}function Gi(t,e,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if($u(t))ff(e,l);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var u=e.lastRenderedState,h=s(u,n);if(l.hasEagerState=!0,l.eagerState=h,g(h,u))return ha(t,e,l,0),se===null&&ma(),!1}catch{}finally{}if(n=Hs(t,e,l,a),n!==null)return wn(n,t,a),mf(n,e,a),!0}return!1}function Br(t,e,n,a){if(a={lane:2,revertLane:go(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(e)throw Error(d(479))}else e=Hs(t,n,a,2),e!==null&&wn(e,t,2)}function $u(t){var e=t.alternate;return t===Nt||e!==null&&e===Nt}function ff(t,e){Ws=Gu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mf(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Ma(t,n)}}var Yi={readContext:Ie,use:Xu,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me};Yi.useEffectEvent=Me;var hf={readContext:Ie,use:Xu,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:Ie,useEffect:Id,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Zu(4194308,4,tf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zu(4194308,4,t,e)},useInsertionEffect:function(t,e){Zu(4,2,t,e)},useMemo:function(t,e){var n=fn();e=e===void 0?null:e;var a=t();if(ps){ce(!0);try{t()}finally{ce(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=fn();if(n!==void 0){var l=n(e);if(ps){ce(!0);try{n(e)}finally{ce(!1)}}}else l=e;return a.memoizedState=a.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},a.queue=t,t=t.dispatch=bp.bind(null,Nt,t),[a.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:function(t){t=jr(t);var e=t.queue,n=df.bind(null,Nt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Or,useDeferredValue:function(t,e){var n=fn();return _r(n,t,e)},useTransition:function(){var t=jr(!1);return t=sf.bind(null,Nt,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=Nt,l=fn();if(qt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=e(),se===null)throw Error(d(349));(kt&127)!==0||_d(a,e,n)}l.memoizedState=n;var s={value:n,getSnapshot:e};return l.queue=s,Id(Ud.bind(null,a,s,t),[t]),a.flags|=2048,ti(9,{destroy:void 0},kd.bind(null,a,s,n,e),null),n},useId:function(){var t=fn(),e=se.identifierPrefix;if(qt){var n=ya,a=ga;n=(a&~(1<<32-tn(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Yu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=fp++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Ur,useFormState:Qd,useActionState:Qd,useOptimistic:function(t){var e=fn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Br.bind(null,Nt,!0,n),n.dispatch=e,[t,e]},useMemoCache:Cr,useCacheRefresh:function(){return fn().memoizedState=vp.bind(null,Nt)},useEffectEvent:function(t){var e=fn(),n={impl:t};return e.memoizedState=n,function(){if((Kt&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},Lr={readContext:Ie,use:Xu,useCallback:nf,useContext:Ie,useEffect:zr,useImperativeHandle:ef,useInsertionEffect:Wd,useLayoutEffect:Pd,useMemo:af,useReducer:Qu,useRef:Jd,useState:function(){return Qu(ka)},useDebugValue:Or,useDeferredValue:function(t,e){var n=we();return lf(n,Pt.memoizedState,t,e)},useTransition:function(){var t=Qu(ka)[0],e=we().memoizedState;return[typeof t=="boolean"?t:Hi(t),e]},useSyncExternalStore:Od,useId:rf,useHostTransitionStatus:Ur,useFormState:Zd,useActionState:Zd,useOptimistic:function(t,e){var n=we();return qd(n,Pt,t,e)},useMemoCache:Cr,useCacheRefresh:of};Lr.useEffectEvent=Fd;var pf={readContext:Ie,use:Xu,useCallback:nf,useContext:Ie,useEffect:zr,useImperativeHandle:ef,useInsertionEffect:Wd,useLayoutEffect:Pd,useMemo:af,useReducer:Nr,useRef:Jd,useState:function(){return Nr(ka)},useDebugValue:Or,useDeferredValue:function(t,e){var n=we();return Pt===null?_r(n,t,e):lf(n,Pt.memoizedState,t,e)},useTransition:function(){var t=Nr(ka)[0],e=we().memoizedState;return[typeof t=="boolean"?t:Hi(t),e]},useSyncExternalStore:Od,useId:rf,useHostTransitionStatus:Ur,useFormState:$d,useActionState:$d,useOptimistic:function(t,e){var n=we();return Pt!==null?qd(n,Pt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Cr,useCacheRefresh:of};pf.useEffectEvent=Fd;function qr(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:E({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hr={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=Bn(),l=ml(a);l.payload=e,n!=null&&(l.callback=n),e=hl(t,l,a),e!==null&&(wn(e,t,a),Ui(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=Bn(),l=ml(a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=hl(t,l,a),e!==null&&(wn(e,t,a),Ui(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bn(),a=ml(n);a.tag=2,e!=null&&(a.callback=e),e=hl(t,a,n),e!==null&&(wn(e,t,n),Ui(e,t,n))}};function gf(t,e,n,a,l,s,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,s,u):e.prototype&&e.prototype.isPureReactComponent?!w(n,a)||!w(l,s):!0}function yf(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&Hr.enqueueReplaceState(e,e.state,null)}function gs(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=E({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function vf(t){Mn(t)}function bf(t){console.error(t)}function Sf(t){Mn(t)}function Ju(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function Mf(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Gr(t,e,n){return n=ml(n),n.tag=3,n.payload={element:null},n.callback=function(){Ju(t,e)},n}function xf(t){return t=ml(t),t.tag=3,t}function Ef(t,e,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=a.value;t.payload=function(){return l(s)},t.callback=function(){Mf(e,n,a)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){Mf(e,n,a),typeof l!="function"&&(Sl===null?Sl=new Set([this]):Sl.add(this));var h=a.stack;this.componentDidCatch(a.value,{componentStack:h!==null?h:""})})}function Sp(t,e,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&Zs(e,n,l,!0),n=On.current,n!==null){switch(n.tag){case 31:case 13:return Zn===null?uc():n.alternate===null&&xe===0&&(xe=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Uu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),mo(t,a,l)),!1;case 22:return n.flags|=65536,a===Uu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),mo(t,a,l)),!1}throw Error(d(435,n.tag))}return mo(t,a,l),uc(),!1}if(qt)return e=On.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,a!==ir&&(t=Error(d(422),{cause:a}),Ri(Yn(t,n)))):(a!==ir&&(e=Error(d(423),{cause:a}),Ri(Yn(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,a=Yn(a,n),l=Gr(t.stateNode,a,l),yr(t,l),xe!==4&&(xe=2)),!1;var s=Error(d(520),{cause:a});if(s=Yn(s,n),Ii===null?Ii=[s]:Ii.push(s),xe!==4&&(xe=2),e===null)return!0;a=Yn(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=Gr(n.stateNode,a,t),yr(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Sl===null||!Sl.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=xf(l),Ef(l,t,n,a),yr(n,l),!1}n=n.return}while(n!==null);return!1}var Yr=Error(d(461)),Re=!1;function Fe(t,e,n,a){e.child=t===null?wd(e,null,n,a):hs(e,t.child,n,a)}function Af(t,e,n,a,l){n=n.render;var s=e.ref;if("ref"in a){var u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}else u=a;return os(e),a=Er(t,e,n,u,s,l),h=Ar(),t!==null&&!Re?(Tr(t,e,l),Ua(t,e,l)):(qt&&h&&lr(e),e.flags|=1,Fe(t,e,a,l),e.child)}function Tf(t,e,n,a,l){if(t===null){var s=n.type;return typeof s=="function"&&!Gn(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,wf(t,e,s,a,l)):(t=us(n.type,null,a,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Ir(t,l)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:w,n(u,a)&&t.ref===e.ref)return Ua(t,e,l)}return e.flags|=1,t=dn(s,a),t.ref=e.ref,t.return=e,e.child=t}function wf(t,e,n,a,l){if(t!==null){var s=t.memoizedProps;if(w(s,a)&&t.ref===e.ref)if(Re=!1,e.pendingProps=a=s,Ir(t,l))(t.flags&131072)!==0&&(Re=!0);else return e.lanes=t.lanes,Ua(t,e,l)}return Vr(t,e,n,a,l)}function Cf(t,e,n,a){var l=a.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,t!==null){for(a=e.child=t.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~s}else a=0,e.child=null;return Df(t,e,s,n,a)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(e,s!==null?s.cachePool:null),s!==null?Nd(e,s):br(),jd(e);else return a=e.lanes=536870912,Df(t,e,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(_u(e,s.cachePool),Nd(e,s),gl(),e.memoizedState=null):(t!==null&&_u(e,null),br(),gl());return Fe(t,e,l,n),e.child}function Vi(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Df(t,e,n,a,l){var s=mr();return s=s===null?null:{parent:Ne._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&_u(e,null),br(),jd(e),t!==null&&Zs(t,e,a,!0),e.childLanes=l,null}function Iu(t,e){return e=Wu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Nf(t,e,n){return hs(e,t.child,null,n),t=Iu(e,e.pendingProps),t.flags|=2,_n(e),e.memoizedState=null,t}function Mp(t,e,n){var a=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(qt){if(a.mode==="hidden")return t=Iu(e,a),e.lanes=536870912,Vi(null,t);if(Mr(e),(t=oe)?(t=Gm(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:cl!==null?{id:ga,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},n=dd(t),n.return=e,e.child=n,Je=e,oe=null)):t=null,t===null)throw ol(e);return e.lanes=536870912,null}return Iu(e,a)}var s=t.memoizedState;if(s!==null){var u=s.dehydrated;if(Mr(e),l)if(e.flags&256)e.flags&=-257,e=Nf(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(d(558));else if(Re||Zs(t,e,n,!1),l=(n&t.childLanes)!==0,Re||l){if(a=se,a!==null&&(u=Ll(a,n),u!==0&&u!==s.retryLane))throw s.retryLane=u,pa(t,u),wn(a,t,u),Yr;uc(),e=Nf(t,e,n)}else t=s.treeContext,oe=Kn(u.nextSibling),Je=e,qt=!0,rl=null,Qn=!1,t!==null&&hd(e,t),e=Iu(e,a),e.flags|=4096;return e}return t=dn(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Fu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Vr(t,e,n,a,l){return os(e),n=Er(t,e,n,a,void 0,l),a=Ar(),t!==null&&!Re?(Tr(t,e,l),Ua(t,e,l)):(qt&&a&&lr(e),e.flags|=1,Fe(t,e,n,l),e.child)}function jf(t,e,n,a,l,s){return os(e),e.updateQueue=null,n=zd(e,a,n,l),Rd(t),a=Ar(),t!==null&&!Re?(Tr(t,e,s),Ua(t,e,s)):(qt&&a&&lr(e),e.flags|=1,Fe(t,e,n,s),e.child)}function Rf(t,e,n,a,l){if(os(e),e.stateNode===null){var s=Na,u=n.contextType;typeof u=="object"&&u!==null&&(s=Ie(u)),s=new n(a,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Hr,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=a,s.state=e.memoizedState,s.refs={},pr(e),u=n.contextType,s.context=typeof u=="object"&&u!==null?Ie(u):Na,s.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(qr(e,n,u,a),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(u=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),u!==s.state&&Hr.enqueueReplaceState(s,s.state,null),Li(e,a,s,l),Bi(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){s=e.stateNode;var h=e.memoizedProps,x=gs(n,h);s.props=x;var O=s.context,G=n.contextType;u=Na,typeof G=="object"&&G!==null&&(u=Ie(G));var Z=n.getDerivedStateFromProps;G=typeof Z=="function"||typeof s.getSnapshotBeforeUpdate=="function",h=e.pendingProps!==h,G||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(h||O!==u)&&yf(e,s,a,u),fl=!1;var _=e.memoizedState;s.state=_,Li(e,a,s,l),Bi(),O=e.memoizedState,h||_!==O||fl?(typeof Z=="function"&&(qr(e,n,Z,a),O=e.memoizedState),(x=fl||gf(e,n,x,a,_,O,u))?(G||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=O),s.props=a,s.state=O,s.context=u,a=x):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{s=e.stateNode,gr(t,e),u=e.memoizedProps,G=gs(n,u),s.props=G,Z=e.pendingProps,_=s.context,O=n.contextType,x=Na,typeof O=="object"&&O!==null&&(x=Ie(O)),h=n.getDerivedStateFromProps,(O=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==Z||_!==x)&&yf(e,s,a,x),fl=!1,_=e.memoizedState,s.state=_,Li(e,a,s,l),Bi();var U=e.memoizedState;u!==Z||_!==U||fl||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof h=="function"&&(qr(e,n,h,a),U=e.memoizedState),(G=fl||gf(e,n,G,a,_,U,x)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(O||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,U,x),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,U,x)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=U),s.props=a,s.state=U,s.context=x,a=G):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),a=!1)}return s=a,Fu(t,e),a=(e.flags&128)!==0,s||a?(s=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&a?(e.child=hs(e,t.child,null,l),e.child=hs(e,null,n,l)):Fe(t,e,n,l),e.memoizedState=s.state,t=e.child):t=Ua(t,e,l),t}function zf(t,e,n,a){return cs(),e.flags|=256,Fe(t,e,n,a),e.child}var Xr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qr(t){return{baseLanes:t,cachePool:Sd()}}function Zr(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Un),t}function Of(t,e,n){var a=e.pendingProps,l=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),u&&(l=!0,e.flags&=-129),u=(e.flags&32)!==0,e.flags&=-33,t===null){if(qt){if(l?pl(e):gl(),(t=oe)?(t=Gm(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:cl!==null?{id:ga,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},n=dd(t),n.return=e,e.child=n,Je=e,oe=null)):t=null,t===null)throw ol(e);return No(t)?e.lanes=32:e.lanes=536870912,null}var h=a.children;return a=a.fallback,l?(gl(),l=e.mode,h=Wu({mode:"hidden",children:h},l),a=ja(a,l,n,null),h.return=e,a.return=e,h.sibling=a,e.child=h,a=e.child,a.memoizedState=Qr(n),a.childLanes=Zr(t,u,n),e.memoizedState=Xr,Vi(null,a)):(pl(e),Kr(e,h))}var x=t.memoizedState;if(x!==null&&(h=x.dehydrated,h!==null)){if(s)e.flags&256?(pl(e),e.flags&=-257,e=$r(t,e,n)):e.memoizedState!==null?(gl(),e.child=t.child,e.flags|=128,e=null):(gl(),h=a.fallback,l=e.mode,a=Wu({mode:"visible",children:a.children},l),h=ja(h,l,n,null),h.flags|=2,a.return=e,h.return=e,a.sibling=h,e.child=a,hs(e,t.child,null,n),a=e.child,a.memoizedState=Qr(n),a.childLanes=Zr(t,u,n),e.memoizedState=Xr,e=Vi(null,a));else if(pl(e),No(h)){if(u=h.nextSibling&&h.nextSibling.dataset,u)var O=u.dgst;u=O,a=Error(d(419)),a.stack="",a.digest=u,Ri({value:a,source:null,stack:null}),e=$r(t,e,n)}else if(Re||Zs(t,e,n,!1),u=(n&t.childLanes)!==0,Re||u){if(u=se,u!==null&&(a=Ll(u,n),a!==0&&a!==x.retryLane))throw x.retryLane=a,pa(t,a),wn(u,t,a),Yr;Do(h)||uc(),e=$r(t,e,n)}else Do(h)?(e.flags|=192,e.child=t.child,e=null):(t=x.treeContext,oe=Kn(h.nextSibling),Je=e,qt=!0,rl=null,Qn=!1,t!==null&&hd(e,t),e=Kr(e,a.children),e.flags|=4096);return e}return l?(gl(),h=a.fallback,l=e.mode,x=t.child,O=x.sibling,a=dn(x,{mode:"hidden",children:a.children}),a.subtreeFlags=x.subtreeFlags&65011712,O!==null?h=dn(O,h):(h=ja(h,l,n,null),h.flags|=2),h.return=e,a.return=e,a.sibling=h,e.child=a,Vi(null,a),a=e.child,h=t.child.memoizedState,h===null?h=Qr(n):(l=h.cachePool,l!==null?(x=Ne._currentValue,l=l.parent!==x?{parent:x,pool:x}:l):l=Sd(),h={baseLanes:h.baseLanes|n,cachePool:l}),a.memoizedState=h,a.childLanes=Zr(t,u,n),e.memoizedState=Xr,Vi(t.child,a)):(pl(e),n=t.child,t=n.sibling,n=dn(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(u=e.deletions,u===null?(e.deletions=[t],e.flags|=16):u.push(t)),e.child=n,e.memoizedState=null,n)}function Kr(t,e){return e=Wu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Wu(t,e){return t=Tt(22,t,null,e),t.lanes=0,t}function $r(t,e,n){return hs(e,t.child,null,n),t=Kr(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _f(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),rr(t.return,e,n)}function Jr(t,e,n,a,l,s){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:s}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=n,u.tailMode=l,u.treeForkCount=s)}function kf(t,e,n){var a=e.pendingProps,l=a.revealOrder,s=a.tail;a=a.children;var u=Te.current,h=(u&2)!==0;if(h?(u=u&1|2,e.flags|=128):u&=1,tt(Te,u),Fe(t,e,a,n),a=qt?ji:0,!h&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_f(t,n,e);else if(t.tag===19)_f(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&Hu(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Jr(e,!1,l,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Hu(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Jr(e,!0,n,null,s,a);break;case"together":Jr(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function Ua(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bl|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Zs(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(d(153));if(e.child!==null){for(t=e.child,n=dn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=dn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ir(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function xp(t,e,n){switch(e.tag){case 3:Qe(e,e.stateNode.containerInfo),dl(e,Ne,t.memoizedState.cache),cs();break;case 27:case 5:Ka(e);break;case 4:Qe(e,e.stateNode.containerInfo);break;case 10:dl(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Mr(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(pl(e),e.flags|=128,null):(n&e.child.childLanes)!==0?Of(t,e,n):(pl(e),t=Ua(t,e,n),t!==null?t.sibling:null);pl(e);break;case 19:var l=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(Zs(t,e,n,!1),a=(n&e.childLanes)!==0),l){if(a)return kf(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),tt(Te,Te.current),a)break;return null;case 22:return e.lanes=0,Cf(t,e,n,e.pendingProps);case 24:dl(e,Ne,t.memoizedState.cache)}return Ua(t,e,n)}function Uf(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Re=!0;else{if(!Ir(t,n)&&(e.flags&128)===0)return Re=!1,xp(t,e,n);Re=(t.flags&131072)!==0}else Re=!1,qt&&(e.flags&1048576)!==0&&md(e,ji,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=fs(e.elementType),e.type=t,typeof t=="function")Gn(t)?(a=gs(t,a),e.tag=1,e=Rf(null,e,t,a,n)):(e.tag=0,e=Vr(null,e,t,a,n));else{if(t!=null){var l=t.$$typeof;if(l===H){e.tag=11,e=Af(null,e,t,a,n);break t}else if(l===J){e.tag=14,e=Tf(null,e,t,a,n);break t}}throw e=Oe(t)||t,Error(d(306,e,""))}}return e;case 0:return Vr(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,l=gs(a,e.pendingProps),Rf(t,e,a,l,n);case 3:t:{if(Qe(e,e.stateNode.containerInfo),t===null)throw Error(d(387));a=e.pendingProps;var s=e.memoizedState;l=s.element,gr(t,e),Li(e,a,null,n);var u=e.memoizedState;if(a=u.cache,dl(e,Ne,a),a!==s.cache&&or(e,[Ne],n,!0),Bi(),a=u.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:u.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=zf(t,e,a,n);break t}else if(a!==l){l=Yn(Error(d(424)),e),Ri(l),e=zf(t,e,a,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=Kn(t.firstChild),Je=e,qt=!0,rl=null,Qn=!0,n=wd(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(cs(),a===l){e=Ua(t,e,n);break t}Fe(t,e,a,n)}e=e.child}return e;case 26:return Fu(t,e),t===null?(n=Km(e.type,null,e.pendingProps,null))?e.memoizedState=n:qt||(n=e.type,t=e.pendingProps,a=hc(jt.current).createElement(n),a[ae]=e,a[Le]=t,We(a,n,t),ye(a),e.stateNode=a):e.memoizedState=Km(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Ka(e),t===null&&qt&&(a=e.stateNode=Xm(e.type,e.pendingProps,jt.current),Je=e,Qn=!0,l=oe,Al(e.type)?(jo=l,oe=Kn(a.firstChild)):oe=l),Fe(t,e,e.pendingProps.children,n),Fu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&qt&&((l=a=oe)&&(a=Wp(a,e.type,e.pendingProps,Qn),a!==null?(e.stateNode=a,Je=e,oe=Kn(a.firstChild),Qn=!1,l=!0):l=!1),l||ol(e)),Ka(e),l=e.type,s=e.pendingProps,u=t!==null?t.memoizedProps:null,a=s.children,To(l,s)?a=null:u!==null&&To(l,u)&&(e.flags|=32),e.memoizedState!==null&&(l=Er(t,e,mp,null,null,n),lu._currentValue=l),Fu(t,e),Fe(t,e,a,n),e.child;case 6:return t===null&&qt&&((t=n=oe)&&(n=Pp(n,e.pendingProps,Qn),n!==null?(e.stateNode=n,Je=e,oe=null,t=!0):t=!1),t||ol(e)),null;case 13:return Of(t,e,n);case 4:return Qe(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=hs(e,null,a,n):Fe(t,e,a,n),e.child;case 11:return Af(t,e,e.type,e.pendingProps,n);case 7:return Fe(t,e,e.pendingProps,n),e.child;case 8:return Fe(t,e,e.pendingProps.children,n),e.child;case 12:return Fe(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,dl(e,e.type,a.value),Fe(t,e,a.children,n),e.child;case 9:return l=e.type._context,a=e.pendingProps.children,os(e),l=Ie(l),a=a(l),e.flags|=1,Fe(t,e,a,n),e.child;case 14:return Tf(t,e,e.type,e.pendingProps,n);case 15:return wf(t,e,e.type,e.pendingProps,n);case 19:return kf(t,e,n);case 31:return Mp(t,e,n);case 22:return Cf(t,e,n,e.pendingProps);case 24:return os(e),a=Ie(Ne),t===null?(l=mr(),l===null&&(l=se,s=dr(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),e.memoizedState={parent:a,cache:l},pr(e),dl(e,Ne,l)):((t.lanes&n)!==0&&(gr(t,e),Li(e,null,null,n),Bi()),l=t.memoizedState,s=e.memoizedState,l.parent!==a?(l={parent:a,cache:a},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),dl(e,Ne,a)):(a=s.cache,dl(e,Ne,a),a!==l.cache&&or(e,[Ne],n,!0))),Fe(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(d(156,e.tag))}function Ba(t){t.flags|=4}function Fr(t,e,n,a,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(rm())t.flags|=8192;else throw ms=Uu,hr}else t.flags&=-16777217}function Bf(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wm(e))if(rm())t.flags|=8192;else throw ms=Uu,hr}function Pu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Wa():536870912,t.lanes|=e,li|=e)}function Xi(t,e){if(!qt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function de(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function Ep(t,e,n){var a=e.pendingProps;switch(sr(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(e),null;case 1:return de(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Oa(Ne),ue(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Qs(e)?Ba(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ur())),de(e),null;case 26:var l=e.type,s=e.memoizedState;return t===null?(Ba(e),s!==null?(de(e),Bf(e,s)):(de(e),Fr(e,l,null,a,n))):s?s!==t.memoizedState?(Ba(e),de(e),Bf(e,s)):(de(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&Ba(e),de(e),Fr(e,l,t,a,n)),null;case 27:if(Jn(e),n=jt.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ba(e);else{if(!a){if(e.stateNode===null)throw Error(d(166));return de(e),null}t=nt.current,Qs(e)?pd(e):(t=Xm(l,a,n),e.stateNode=t,Ba(e))}return de(e),null;case 5:if(Jn(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ba(e);else{if(!a){if(e.stateNode===null)throw Error(d(166));return de(e),null}if(s=nt.current,Qs(e))pd(e);else{var u=hc(jt.current);switch(s){case 1:s=u.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=u.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=u.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?u.createElement(l,{is:a.is}):u.createElement(l)}}s[ae]=e,s[Le]=a;t:for(u=e.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break t;for(;u.sibling===null;){if(u.return===null||u.return===e)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}e.stateNode=s;t:switch(We(s,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Ba(e)}}return de(e),Fr(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Ba(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(d(166));if(t=jt.current,Qs(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,l=Je,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}t[ae]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Om(t.nodeValue,n)),t||ol(e,!0)}else t=hc(t).createTextNode(a),t[ae]=e,e.stateNode=t}return de(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=Qs(e),n!==null){if(t===null){if(!a)throw Error(d(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(557));t[ae]=e}else cs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;de(e),t=!1}else n=ur(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(_n(e),e):(_n(e),null);if((e.flags&128)!==0)throw Error(d(558))}return de(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Qs(e),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(d(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(d(317));l[ae]=e}else cs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;de(e),l=!1}else l=ur(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(_n(e),e):(_n(e),null)}return _n(e),(e.flags&128)!==0?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Pu(e,e.updateQueue),de(e),null);case 4:return ue(),t===null&&So(e.stateNode.containerInfo),de(e),null;case 10:return Oa(e.type),de(e),null;case 19:if(k(Te),a=e.memoizedState,a===null)return de(e),null;if(l=(e.flags&128)!==0,s=a.rendering,s===null)if(l)Xi(a,!1);else{if(xe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=Hu(t),s!==null){for(e.flags|=128,Xi(a,!1),t=s.updateQueue,e.updateQueue=t,Pu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Ni(n,t),n=n.sibling;return tt(Te,Te.current&1|2),qt&&Ra(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&he()>lc&&(e.flags|=128,l=!0,Xi(a,!1),e.lanes=4194304)}else{if(!l)if(t=Hu(s),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,Pu(e,t),Xi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!qt)return de(e),null}else 2*he()-a.renderingStartTime>lc&&n!==536870912&&(e.flags|=128,l=!0,Xi(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(t=a.last,t!==null?t.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=he(),t.sibling=null,n=Te.current,tt(Te,l?n&1|2:n&1),qt&&Ra(e,a.treeForkCount),t):(de(e),null);case 22:case 23:return _n(e),Sr(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(de(e),e.subtreeFlags&6&&(e.flags|=8192)):de(e),n=e.updateQueue,n!==null&&Pu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&k(ds),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Oa(Ne),de(e),null;case 25:return null;case 30:return null}throw Error(d(156,e.tag))}function Ap(t,e){switch(sr(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oa(Ne),ue(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Jn(e),null;case 31:if(e.memoizedState!==null){if(_n(e),e.alternate===null)throw Error(d(340));cs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(_n(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(d(340));cs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return k(Te),null;case 4:return ue(),null;case 10:return Oa(e.type),null;case 22:case 23:return _n(e),Sr(),t!==null&&k(ds),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Oa(Ne),null;case 25:return null;default:return null}}function Lf(t,e){switch(sr(e),e.tag){case 3:Oa(Ne),ue();break;case 26:case 27:case 5:Jn(e);break;case 4:ue();break;case 31:e.memoizedState!==null&&_n(e);break;case 13:_n(e);break;case 19:k(Te);break;case 10:Oa(e.type);break;case 22:case 23:_n(e),Sr(),t!==null&&k(ds);break;case 24:Oa(Ne)}}function Qi(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&t)===t){a=void 0;var s=n.create,u=n.inst;a=s(),u.destroy=a}n=n.next}while(n!==l)}}catch(h){It(e,e.return,h)}}function yl(t,e,n){try{var a=e.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&t)===t){var u=a.inst,h=u.destroy;if(h!==void 0){u.destroy=void 0,l=e;var x=n,O=h;try{O()}catch(G){It(l,x,G)}}}a=a.next}while(a!==s)}}catch(G){It(e,e.return,G)}}function qf(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Dd(e,n)}catch(a){It(t,t.return,a)}}}function Hf(t,e,n){n.props=gs(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){It(t,e,a)}}function Zi(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(l){It(t,e,l)}}function va(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){It(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){It(t,e,l)}else n.current=null}function Gf(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){It(t,t.return,l)}}function Wr(t,e,n){try{var a=t.stateNode;Zp(a,t.type,n,e),a[Le]=e}catch(l){It(t,t.return,l)}}function Yf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Al(t.type)||t.tag===4}function Pr(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Yf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Al(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function to(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=na));else if(a!==4&&(a===27&&Al(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(to(t,e,n),t=t.sibling;t!==null;)to(t,e,n),t=t.sibling}function tc(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&Al(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(tc(t,e,n),t=t.sibling;t!==null;)tc(t,e,n),t=t.sibling}function Vf(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);We(e,a,n),e[ae]=t,e[Le]=n}catch(s){It(t,t.return,s)}}var La=!1,ze=!1,eo=!1,Xf=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Tp(t,e){if(t=t.containerInfo,Eo=Mc,t=K(t),Y(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var u=0,h=-1,x=-1,O=0,G=0,Z=t,_=null;e:for(;;){for(var U;Z!==n||l!==0&&Z.nodeType!==3||(h=u+l),Z!==s||a!==0&&Z.nodeType!==3||(x=u+a),Z.nodeType===3&&(u+=Z.nodeValue.length),(U=Z.firstChild)!==null;)_=Z,Z=U;for(;;){if(Z===t)break e;if(_===n&&++O===l&&(h=u),_===s&&++G===a&&(x=u),(U=Z.nextSibling)!==null)break;Z=_,_=Z.parentNode}Z=U}n=h===-1||x===-1?null:{start:h,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ao={focusedElem:t,selectionRange:n},Mc=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){switch(e=Ve,s=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)l=t[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&s!==null){t=void 0,n=e,l=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var ot=gs(n.type,l);t=a.getSnapshotBeforeUpdate(ot,s),a.__reactInternalSnapshotBeforeUpdate=t}catch(Mt){It(n,n.return,Mt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Co(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Co(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(d(163))}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}}function Qf(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ha(t,n),a&4&&Qi(5,n);break;case 1:if(Ha(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(u){It(n,n.return,u)}else{var l=gs(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(u){It(n,n.return,u)}}a&64&&qf(n),a&512&&Zi(n,n.return);break;case 3:if(Ha(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Dd(t,e)}catch(u){It(n,n.return,u)}}break;case 27:e===null&&a&4&&Vf(n);case 26:case 5:Ha(t,n),e===null&&a&4&&Gf(n),a&512&&Zi(n,n.return);break;case 12:Ha(t,n);break;case 31:Ha(t,n),a&4&&$f(t,n);break;case 13:Ha(t,n),a&4&&Jf(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=_p.bind(null,n),tg(t,n))));break;case 22:if(a=n.memoizedState!==null||La,!a){e=e!==null&&e.memoizedState!==null||ze,l=La;var s=ze;La=a,(ze=e)&&!s?Ga(t,n,(n.subtreeFlags&8772)!==0):Ha(t,n),La=l,ze=s}break;case 30:break;default:Ha(t,n)}}function Zf(t){var e=t.alternate;e!==null&&(t.alternate=null,Zf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ta(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var me=null,xn=!1;function qa(t,e,n){for(n=n.child;n!==null;)Kf(t,e,n),n=n.sibling}function Kf(t,e,n){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(ia,n)}catch{}switch(n.tag){case 26:ze||va(n,e),qa(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ze||va(n,e);var a=me,l=xn;Al(n.type)&&(me=n.stateNode,xn=!1),qa(t,e,n),eu(n.stateNode),me=a,xn=l;break;case 5:ze||va(n,e);case 6:if(a=me,l=xn,me=null,qa(t,e,n),me=a,xn=l,me!==null)if(xn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(n.stateNode)}catch(s){It(n,e,s)}else try{me.removeChild(n.stateNode)}catch(s){It(n,e,s)}break;case 18:me!==null&&(xn?(t=me,qm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),fi(t)):qm(me,n.stateNode));break;case 4:a=me,l=xn,me=n.stateNode.containerInfo,xn=!0,qa(t,e,n),me=a,xn=l;break;case 0:case 11:case 14:case 15:yl(2,n,e),ze||yl(4,n,e),qa(t,e,n);break;case 1:ze||(va(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Hf(n,e,a)),qa(t,e,n);break;case 21:qa(t,e,n);break;case 22:ze=(a=ze)||n.memoizedState!==null,qa(t,e,n),ze=a;break;default:qa(t,e,n)}}function $f(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{fi(t)}catch(n){It(e,e.return,n)}}}function Jf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fi(t)}catch(n){It(e,e.return,n)}}function wp(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Xf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Xf),e;default:throw Error(d(435,t.tag))}}function ec(t,e){var n=wp(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var l=kp.bind(null,t,a);a.then(l,l)}})}function En(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],s=t,u=e,h=u;t:for(;h!==null;){switch(h.tag){case 27:if(Al(h.type)){me=h.stateNode,xn=!1;break t}break;case 5:me=h.stateNode,xn=!1;break t;case 3:case 4:me=h.stateNode.containerInfo,xn=!0;break t}h=h.return}if(me===null)throw Error(d(160));Kf(s,u,l),me=null,xn=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)If(e,t),e=e.sibling}var aa=null;function If(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(e,t),An(t),a&4&&(yl(3,t,t.return),Qi(3,t),yl(5,t,t.return));break;case 1:En(e,t),An(t),a&512&&(ze||n===null||va(n,n.return)),a&64&&La&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=aa;if(En(e,t),An(t),a&512&&(ze||n===null||va(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,l=l.ownerDocument||l;e:switch(a){case"title":s=l.getElementsByTagName("title")[0],(!s||s[pe]||s[ae]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(a),l.head.insertBefore(s,l.querySelector("head > title"))),We(s,a,n),s[ae]=t,ye(s),a=s;break t;case"link":var u=Im("link","href",l).get(a+(n.href||""));if(u){for(var h=0;h<u.length;h++)if(s=u[h],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(h,1);break e}}s=l.createElement(a),We(s,a,n),l.head.appendChild(s);break;case"meta":if(u=Im("meta","content",l).get(a+(n.content||""))){for(h=0;h<u.length;h++)if(s=u[h],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(h,1);break e}}s=l.createElement(a),We(s,a,n),l.head.appendChild(s);break;default:throw Error(d(468,a))}s[ae]=t,ye(s),a=s}t.stateNode=a}else Fm(l,t.type,t.stateNode);else t.stateNode=Jm(l,a,t.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Fm(l,t.type,t.stateNode):Jm(l,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Wr(t,t.memoizedProps,n.memoizedProps)}break;case 27:En(e,t),An(t),a&512&&(ze||n===null||va(n,n.return)),n!==null&&a&4&&Wr(t,t.memoizedProps,n.memoizedProps);break;case 5:if(En(e,t),An(t),a&512&&(ze||n===null||va(n,n.return)),t.flags&32){l=t.stateNode;try{nn(l,"")}catch(ot){It(t,t.return,ot)}}a&4&&t.stateNode!=null&&(l=t.memoizedProps,Wr(t,l,n!==null?n.memoizedProps:l)),a&1024&&(eo=!0);break;case 6:if(En(e,t),An(t),a&4){if(t.stateNode===null)throw Error(d(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(ot){It(t,t.return,ot)}}break;case 3:if(yc=null,l=aa,aa=pc(e.containerInfo),En(e,t),aa=l,An(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{fi(e.containerInfo)}catch(ot){It(t,t.return,ot)}eo&&(eo=!1,Ff(t));break;case 4:a=aa,aa=pc(t.stateNode.containerInfo),En(e,t),An(t),aa=a;break;case 12:En(e,t),An(t);break;case 31:En(e,t),An(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ec(t,a)));break;case 13:En(e,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ac=he()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ec(t,a)));break;case 22:l=t.memoizedState!==null;var x=n!==null&&n.memoizedState!==null,O=La,G=ze;if(La=O||l,ze=G||x,En(e,t),ze=G,La=O,An(t),a&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||x||La||ze||ys(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){x=n=e;try{if(s=x.stateNode,l)u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{h=x.stateNode;var Z=x.memoizedProps.style,_=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;h.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(ot){It(x,x.return,ot)}}}else if(e.tag===6){if(n===null){x=e;try{x.stateNode.nodeValue=l?"":x.memoizedProps}catch(ot){It(x,x.return,ot)}}}else if(e.tag===18){if(n===null){x=e;try{var U=x.stateNode;l?Hm(U,!0):Hm(x.stateNode,!1)}catch(ot){It(x,x.return,ot)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,ec(t,n))));break;case 19:En(e,t),An(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ec(t,a)));break;case 30:break;case 21:break;default:En(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(Yf(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var l=n.stateNode,s=Pr(t);tc(t,s,l);break;case 5:var u=n.stateNode;n.flags&32&&(nn(u,""),n.flags&=-33);var h=Pr(t);tc(t,h,u);break;case 3:case 4:var x=n.stateNode.containerInfo,O=Pr(t);to(t,O,x);break;default:throw Error(d(161))}}catch(G){It(t,t.return,G)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ff(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Ff(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ha(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Qf(t,e.alternate,e),e=e.sibling}function ys(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:yl(4,e,e.return),ys(e);break;case 1:va(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Hf(e,e.return,n),ys(e);break;case 27:eu(e.stateNode);case 26:case 5:va(e,e.return),ys(e);break;case 22:e.memoizedState===null&&ys(e);break;case 30:ys(e);break;default:ys(e)}t=t.sibling}}function Ga(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,l=t,s=e,u=s.flags;switch(s.tag){case 0:case 11:case 15:Ga(l,s,n),Qi(4,s);break;case 1:if(Ga(l,s,n),a=s,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(O){It(a,a.return,O)}if(a=s,l=a.updateQueue,l!==null){var h=a.stateNode;try{var x=l.shared.hiddenCallbacks;if(x!==null)for(l.shared.hiddenCallbacks=null,l=0;l<x.length;l++)Cd(x[l],h)}catch(O){It(a,a.return,O)}}n&&u&64&&qf(s),Zi(s,s.return);break;case 27:Vf(s);case 26:case 5:Ga(l,s,n),n&&a===null&&u&4&&Gf(s),Zi(s,s.return);break;case 12:Ga(l,s,n);break;case 31:Ga(l,s,n),n&&u&4&&$f(l,s);break;case 13:Ga(l,s,n),n&&u&4&&Jf(l,s);break;case 22:s.memoizedState===null&&Ga(l,s,n),Zi(s,s.return);break;case 30:break;default:Ga(l,s,n)}e=e.sibling}}function no(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&zi(n))}function ao(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&zi(t))}function la(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wf(t,e,n,a),e=e.sibling}function Wf(t,e,n,a){var l=e.flags;switch(e.tag){case 0:case 11:case 15:la(t,e,n,a),l&2048&&Qi(9,e);break;case 1:la(t,e,n,a);break;case 3:la(t,e,n,a),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&zi(t)));break;case 12:if(l&2048){la(t,e,n,a),t=e.stateNode;try{var s=e.memoizedProps,u=s.id,h=s.onPostCommit;typeof h=="function"&&h(u,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){It(e,e.return,x)}}else la(t,e,n,a);break;case 31:la(t,e,n,a);break;case 13:la(t,e,n,a);break;case 23:break;case 22:s=e.stateNode,u=e.alternate,e.memoizedState!==null?s._visibility&2?la(t,e,n,a):Ki(t,e):s._visibility&2?la(t,e,n,a):(s._visibility|=2,ei(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),l&2048&&no(u,e);break;case 24:la(t,e,n,a),l&2048&&ao(e.alternate,e);break;default:la(t,e,n,a)}}function ei(t,e,n,a,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,u=e,h=n,x=a,O=u.flags;switch(u.tag){case 0:case 11:case 15:ei(s,u,h,x,l),Qi(8,u);break;case 23:break;case 22:var G=u.stateNode;u.memoizedState!==null?G._visibility&2?ei(s,u,h,x,l):Ki(s,u):(G._visibility|=2,ei(s,u,h,x,l)),l&&O&2048&&no(u.alternate,u);break;case 24:ei(s,u,h,x,l),l&&O&2048&&ao(u.alternate,u);break;default:ei(s,u,h,x,l)}e=e.sibling}}function Ki(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,l=a.flags;switch(a.tag){case 22:Ki(n,a),l&2048&&no(a.alternate,a);break;case 24:Ki(n,a),l&2048&&ao(a.alternate,a);break;default:Ki(n,a)}e=e.sibling}}var $i=8192;function ni(t,e,n){if(t.subtreeFlags&$i)for(t=t.child;t!==null;)Pf(t,e,n),t=t.sibling}function Pf(t,e,n){switch(t.tag){case 26:ni(t,e,n),t.flags&$i&&t.memoizedState!==null&&fg(n,aa,t.memoizedState,t.memoizedProps);break;case 5:ni(t,e,n);break;case 3:case 4:var a=aa;aa=pc(t.stateNode.containerInfo),ni(t,e,n),aa=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=$i,$i=16777216,ni(t,e,n),$i=a):ni(t,e,n));break;default:ni(t,e,n)}}function tm(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ji(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Ve=a,nm(a,t)}tm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)em(t),t=t.sibling}function em(t){switch(t.tag){case 0:case 11:case 15:Ji(t),t.flags&2048&&yl(9,t,t.return);break;case 3:Ji(t);break;case 12:Ji(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,nc(t)):Ji(t);break;default:Ji(t)}}function nc(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Ve=a,nm(a,t)}tm(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:yl(8,e,e.return),nc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,nc(e));break;default:nc(e)}t=t.sibling}}function nm(t,e){for(;Ve!==null;){var n=Ve;switch(n.tag){case 0:case 11:case 15:yl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:zi(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ve=a;else t:for(n=t;Ve!==null;){a=Ve;var l=a.sibling,s=a.return;if(Zf(a),a===n){Ve=null;break t}if(l!==null){l.return=s,Ve=l;break t}Ve=s}}}var Cp={getCacheForType:function(t){var e=Ie(Ne),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Ie(Ne).controller.signal}},Dp=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,zt=null,kt=0,Jt=0,kn=null,vl=!1,ai=!1,lo=!1,Ya=0,xe=0,bl=0,vs=0,so=0,Un=0,li=0,Ii=null,Tn=null,io=!1,ac=0,am=0,lc=1/0,sc=null,Sl=null,ke=0,Ml=null,si=null,Va=0,uo=0,co=null,lm=null,Fi=0,ro=null;function Bn(){return(Kt&2)!==0&&kt!==0?kt&-kt:A.T!==null?go():vi()}function sm(){if(Un===0)if((kt&536870912)===0||qt){var t=Ia;Ia<<=1,(Ia&3932160)===0&&(Ia=262144),Un=t}else Un=536870912;return t=On.current,t!==null&&(t.flags|=32),Un}function wn(t,e,n){(t===se&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)&&(ii(t,0),xl(t,kt,Un,!1)),hn(t,n),((Kt&2)===0||t!==se)&&(t===se&&((Kt&2)===0&&(vs|=n),xe===4&&xl(t,kt,Un,!1)),ba(t))}function im(t,e,n){if((Kt&6)!==0)throw Error(d(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Fa(t,e),l=a?Rp(t,e):fo(t,e,!0),s=a;do{if(l===0){ai&&!a&&xl(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!Np(n)){l=fo(t,e,!1),s=!1;continue}if(l===2){if(s=e,t.errorRecoveryDisabledLanes&s)var u=0;else u=t.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){e=u;t:{var h=t;l=Ii;var x=h.current.memoizedState.isDehydrated;if(x&&(ii(h,u).flags|=256),u=fo(h,u,!1),u!==2){if(lo&&!x){h.errorRecoveryDisabledLanes|=s,vs|=s,l=4;break t}s=Tn,Tn=l,s!==null&&(Tn===null?Tn=s:Tn.push.apply(Tn,s))}l=u}if(s=!1,l!==2)continue}}if(l===1){ii(t,0),xl(t,e,0,!0);break}t:{switch(a=t,s=l,s){case 0:case 1:throw Error(d(345));case 4:if((e&4194048)!==e)break;case 6:xl(a,e,Un,!vl);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(d(329))}if((e&62914560)===e&&(l=ac+300-he(),10<l)){if(xl(a,e,Un,!vl),Ul(a,0,!0)!==0)break t;Va=e,a.timeoutHandle=Bm(um.bind(null,a,n,Tn,sc,io,e,Un,vs,li,vl,s,"Throttled",-0,0),l);break t}um(a,n,Tn,sc,io,e,Un,vs,li,vl,s,null,-0,0)}}break}while(!0);ba(t)}function um(t,e,n,a,l,s,u,h,x,O,G,Z,_,U){if(t.timeoutHandle=-1,Z=e.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:na},Pf(e,s,Z);var ot=(s&62914560)===s?ac-he():(s&4194048)===s?am-he():0;if(ot=mg(Z,ot),ot!==null){Va=s,t.cancelPendingCommit=ot(pm.bind(null,t,e,s,n,a,l,u,h,x,G,Z,null,_,U)),xl(t,s,u,!O);return}}pm(t,e,s,n,a,l,u,h,x)}function Np(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],s=l.getSnapshot;l=l.value;try{if(!g(s(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xl(t,e,n,a){e&=~so,e&=~vs,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var l=e;0<l;){var s=31-tn(l),u=1<<s;a[s]=-1,l&=~u}n!==0&&Cs(t,n,e)}function ic(){return(Kt&6)===0?(Wi(0),!1):!0}function oo(){if(zt!==null){if(Jt===0)var t=zt.return;else t=zt,za=rs=null,wr(t),Is=null,_i=0,t=zt;for(;t!==null;)Lf(t.alternate,t),t=t.return;zt=null}}function ii(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Jp(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Va=0,oo(),se=t,zt=n=dn(t.current,null),kt=e,Jt=0,kn=null,vl=!1,ai=Fa(t,e),lo=!1,li=Un=so=vs=bl=xe=0,Tn=Ii=null,io=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var l=31-tn(a),s=1<<l;e|=t[l],a&=~s}return Ya=e,ma(),n}function cm(t,e){Nt=null,A.H=Yi,e===Js||e===ku?(e=Ed(),Jt=3):e===hr?(e=Ed(),Jt=4):Jt=e===Yr?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,kn=e,zt===null&&(xe=1,Ju(t,Yn(e,t.current)))}function rm(){var t=On.current;return t===null?!0:(kt&4194048)===kt?Zn===null:(kt&62914560)===kt||(kt&536870912)!==0?t===Zn:!1}function om(){var t=A.H;return A.H=Yi,t===null?Yi:t}function dm(){var t=A.A;return A.A=Cp,t}function uc(){xe=4,vl||(kt&4194048)!==kt&&On.current!==null||(ai=!0),(bl&134217727)===0&&(vs&134217727)===0||se===null||xl(se,kt,Un,!1)}function fo(t,e,n){var a=Kt;Kt|=2;var l=om(),s=dm();(se!==t||kt!==e)&&(sc=null,ii(t,e)),e=!1;var u=xe;t:do try{if(Jt!==0&&zt!==null){var h=zt,x=kn;switch(Jt){case 8:oo(),u=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(e=!0);var O=Jt;if(Jt=0,kn=null,ui(t,h,x,O),n&&ai){u=0;break t}break;default:O=Jt,Jt=0,kn=null,ui(t,h,x,O)}}jp(),u=xe;break}catch(G){cm(t,G)}while(!0);return e&&t.shellSuspendCounter++,za=rs=null,Kt=a,A.H=l,A.A=s,zt===null&&(se=null,kt=0,ma()),u}function jp(){for(;zt!==null;)fm(zt)}function Rp(t,e){var n=Kt;Kt|=2;var a=om(),l=dm();se!==t||kt!==e?(sc=null,lc=he()+500,ii(t,e)):ai=Fa(t,e);t:do try{if(Jt!==0&&zt!==null){e=zt;var s=kn;e:switch(Jt){case 1:Jt=0,kn=null,ui(t,e,s,1);break;case 2:case 9:if(Md(s)){Jt=0,kn=null,mm(e);break}e=function(){Jt!==2&&Jt!==9||se!==t||(Jt=7),ba(t)},s.then(e,e);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Md(s)?(Jt=0,kn=null,mm(e)):(Jt=0,kn=null,ui(t,e,s,7));break;case 5:var u=null;switch(zt.tag){case 26:u=zt.memoizedState;case 5:case 27:var h=zt;if(u?Wm(u):h.stateNode.complete){Jt=0,kn=null;var x=h.sibling;if(x!==null)zt=x;else{var O=h.return;O!==null?(zt=O,cc(O)):zt=null}break e}}Jt=0,kn=null,ui(t,e,s,5);break;case 6:Jt=0,kn=null,ui(t,e,s,6);break;case 8:oo(),xe=6;break t;default:throw Error(d(462))}}zp();break}catch(G){cm(t,G)}while(!0);return za=rs=null,A.H=a,A.A=l,Kt=n,zt!==null?0:(se=null,kt=0,ma(),xe)}function zp(){for(;zt!==null&&!mu();)fm(zt)}function fm(t){var e=Uf(t.alternate,t,Ya);t.memoizedProps=t.pendingProps,e===null?cc(t):zt=e}function mm(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=jf(n,e,e.pendingProps,e.type,void 0,kt);break;case 11:e=jf(n,e,e.pendingProps,e.type.render,e.ref,kt);break;case 5:wr(e);default:Lf(n,e),e=zt=Ni(e,Ya),e=Uf(n,e,Ya)}t.memoizedProps=t.pendingProps,e===null?cc(t):zt=e}function ui(t,e,n,a){za=rs=null,wr(e),Is=null,_i=0;var l=e.return;try{if(Sp(t,l,e,n,kt)){xe=1,Ju(t,Yn(n,t.current)),zt=null;return}}catch(s){if(l!==null)throw zt=l,s;xe=1,Ju(t,Yn(n,t.current)),zt=null;return}e.flags&32768?(qt||a===1?t=!0:ai||(kt&536870912)!==0?t=!1:(vl=t=!0,(a===2||a===9||a===3||a===6)&&(a=On.current,a!==null&&a.tag===13&&(a.flags|=16384))),hm(e,t)):cc(e)}function cc(t){var e=t;do{if((e.flags&32768)!==0){hm(e,vl);return}t=e.return;var n=Ep(e.alternate,e,Ya);if(n!==null){zt=n;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);xe===0&&(xe=5)}function hm(t,e){do{var n=Ap(t.alternate,t);if(n!==null){n.flags&=32767,zt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){zt=t;return}zt=t=n}while(t!==null);xe=6,zt=null}function pm(t,e,n,a,l,s,u,h,x){t.cancelPendingCommit=null;do rc();while(ke!==0);if((Kt&6)!==0)throw Error(d(327));if(e!==null){if(e===t.current)throw Error(d(177));if(s=e.lanes|e.childLanes,s|=Se,Bl(t,n,s,u,h,x),t===se&&(zt=se=null,kt=0),si=e,Ml=t,Va=n,uo=s,co=l,lm=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Up(Sa,function(){return Sm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=A.T,A.T=null,l=V.p,V.p=2,u=Kt,Kt|=4;try{Tp(t,e,n)}finally{Kt=u,V.p=l,A.T=a}}ke=1,gm(),ym(),vm()}}function gm(){if(ke===1){ke=0;var t=Ml,e=si,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=A.T,A.T=null;var a=V.p;V.p=2;var l=Kt;Kt|=4;try{If(e,t);var s=Ao,u=K(t.containerInfo),h=s.focusedElem,x=s.selectionRange;if(u!==h&&h&&h.ownerDocument&&X(h.ownerDocument.documentElement,h)){if(x!==null&&Y(h)){var O=x.start,G=x.end;if(G===void 0&&(G=O),"selectionStart"in h)h.selectionStart=O,h.selectionEnd=Math.min(G,h.value.length);else{var Z=h.ownerDocument||document,_=Z&&Z.defaultView||window;if(_.getSelection){var U=_.getSelection(),ot=h.textContent.length,Mt=Math.min(x.start,ot),ee=x.end===void 0?Mt:Math.min(x.end,ot);!U.extend&&Mt>ee&&(u=ee,ee=Mt,Mt=u);var R=L(h,Mt),C=L(h,ee);if(R&&C&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==C.node||U.focusOffset!==C.offset)){var z=Z.createRange();z.setStart(R.node,R.offset),U.removeAllRanges(),Mt>ee?(U.addRange(z),U.extend(C.node,C.offset)):(z.setEnd(C.node,C.offset),U.addRange(z))}}}}for(Z=[],U=h;U=U.parentNode;)U.nodeType===1&&Z.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<Z.length;h++){var Q=Z[h];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Mc=!!Eo,Ao=Eo=null}finally{Kt=l,V.p=a,A.T=n}}t.current=e,ke=2}}function ym(){if(ke===2){ke=0;var t=Ml,e=si,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=A.T,A.T=null;var a=V.p;V.p=2;var l=Kt;Kt|=4;try{Qf(t,e.alternate,e)}finally{Kt=l,V.p=a,A.T=n}}ke=3}}function vm(){if(ke===4||ke===3){ke=0,As();var t=Ml,e=si,n=Va,a=lm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ke=5:(ke=0,si=Ml=null,bm(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(Sl=null),Rn(n),e=e.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(ia,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=A.T,l=V.p,V.p=2,A.T=null;try{for(var s=t.onRecoverableError,u=0;u<a.length;u++){var h=a[u];s(h.value,{componentStack:h.stack})}}finally{A.T=e,V.p=l}}(Va&3)!==0&&rc(),ba(t),l=t.pendingLanes,(n&261930)!==0&&(l&42)!==0?t===ro?Fi++:(Fi=0,ro=t):Fi=0,Wi(0)}}function bm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,zi(e)))}function rc(){return gm(),ym(),vm(),Sm()}function Sm(){if(ke!==5)return!1;var t=Ml,e=uo;uo=0;var n=Rn(Va),a=A.T,l=V.p;try{V.p=32>n?32:n,A.T=null,n=co,co=null;var s=Ml,u=Va;if(ke=0,si=Ml=null,Va=0,(Kt&6)!==0)throw Error(d(331));var h=Kt;if(Kt|=4,em(s.current),Wf(s,s.current,u,n),Kt=h,Wi(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(ia,s)}catch{}return!0}finally{V.p=l,A.T=a,bm(t,e)}}function Mm(t,e,n){e=Yn(n,e),e=Gr(t.stateNode,e,2),t=hl(t,e,2),t!==null&&(hn(t,2),ba(t))}function It(t,e,n){if(t.tag===3)Mm(t,t,n);else for(;e!==null;){if(e.tag===3){Mm(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Sl===null||!Sl.has(a))){t=Yn(n,t),n=xf(2),a=hl(e,n,2),a!==null&&(Ef(n,a,e,t),hn(a,2),ba(a));break}}e=e.return}}function mo(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new Dp;var l=new Set;a.set(e,l)}else l=a.get(e),l===void 0&&(l=new Set,a.set(e,l));l.has(n)||(lo=!0,l.add(n),t=Op.bind(null,t,e,n),e.then(t,t))}function Op(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,se===t&&(kt&n)===n&&(xe===4||xe===3&&(kt&62914560)===kt&&300>he()-ac?(Kt&2)===0&&ii(t,0):so|=n,li===kt&&(li=0)),ba(t)}function xm(t,e){e===0&&(e=Wa()),t=pa(t,e),t!==null&&(hn(t,e),ba(t))}function _p(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xm(t,n)}function kp(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(e),xm(t,n)}function Up(t,e){return Nn(t,e)}var oc=null,ci=null,ho=!1,dc=!1,po=!1,El=0;function ba(t){t!==ci&&t.next===null&&(ci===null?oc=ci=t:ci=ci.next=t),dc=!0,ho||(ho=!0,Lp())}function Wi(t,e){if(!po&&dc){po=!0;do for(var n=!1,a=oc;a!==null;){if(t!==0){var l=a.pendingLanes;if(l===0)var s=0;else{var u=a.suspendedLanes,h=a.pingedLanes;s=(1<<31-tn(42|t)+1)-1,s&=l&~(u&~h),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,wm(a,s))}else s=kt,s=Ul(a,a===se?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||Fa(a,s)||(n=!0,wm(a,s));a=a.next}while(n);po=!1}}function Bp(){Em()}function Em(){dc=ho=!1;var t=0;El!==0&&$p()&&(t=El);for(var e=he(),n=null,a=oc;a!==null;){var l=a.next,s=Am(a,e);s===0?(a.next=null,n===null?oc=l:n.next=l,l===null&&(ci=n)):(n=a,(t!==0||(s&3)!==0)&&(dc=!0)),a=l}ke!==0&&ke!==5||Wi(t),El!==0&&(El=0)}function Am(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,l=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var u=31-tn(s),h=1<<u,x=l[u];x===-1?((h&n)===0||(h&a)!==0)&&(l[u]=gu(h,e)):x<=e&&(t.expiredLanes|=h),s&=~h}if(e=se,n=kt,n=Ul(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&zl(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Fa(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&zl(a),Rn(n)){case 2:case 8:n=ws;break;case 32:n=Sa;break;case 268435456:n=Ue;break;default:n=Sa}return a=Tm.bind(null,t),n=Nn(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&zl(a),t.callbackPriority=2,t.callbackNode=null,2}function Tm(t,e){if(ke!==0&&ke!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(rc()&&t.callbackNode!==n)return null;var a=kt;return a=Ul(t,t===se?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(im(t,a,e),Am(t,he()),t.callbackNode!=null&&t.callbackNode===n?Tm.bind(null,t):null)}function wm(t,e){if(rc())return null;im(t,e,!0)}function Lp(){Ip(function(){(Kt&6)!==0?Nn(qn,Bp):Em()})}function go(){if(El===0){var t=Ks;t===0&&(t=kl,kl<<=1,(kl&261888)===0&&(kl=256)),El=t}return El}function Cm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zs(""+t)}function Dm(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function qp(t,e,n,a,l){if(e==="submit"&&n&&n.stateNode===l){var s=Cm((l[Le]||null).action),u=a.submitter;u&&(e=(e=u[Le]||null)?Cm(e.formAction):u.getAttribute("formAction"),e!==null&&(s=e,u=null));var h=new wa("action","action",null,a,l);t.push({event:h,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(El!==0){var x=u?Dm(l,u):new FormData(l);kr(n,{pending:!0,data:x,method:l.method,action:s},null,x)}}else typeof s=="function"&&(h.preventDefault(),x=u?Dm(l,u):new FormData(l),kr(n,{pending:!0,data:x,method:l.method,action:s},s,x))},currentTarget:l}]})}}for(var yo=0;yo<Vt.length;yo++){var vo=Vt[yo],Hp=vo.toLowerCase(),Gp=vo[0].toUpperCase()+vo.slice(1);$t(Hp,"on"+Gp)}$t(it,"onAnimationEnd"),$t(re,"onAnimationIteration"),$t(fe,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(Lt,"onTransitionRun"),$t(ge,"onTransitionStart"),$t(gt,"onTransitionCancel"),$t(xt,"onTransitionEnd"),ve("onMouseEnter",["mouseout","mouseover"]),ve("onMouseLeave",["mouseout","mouseover"]),ve("onPointerEnter",["pointerout","pointerover"]),ve("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pi));function Nm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],l=a.event;a=a.listeners;t:{var s=void 0;if(e)for(var u=a.length-1;0<=u;u--){var h=a[u],x=h.instance,O=h.currentTarget;if(h=h.listener,x!==s&&l.isPropagationStopped())break t;s=h,l.currentTarget=O;try{s(l)}catch(G){Mn(G)}l.currentTarget=null,s=x}else for(u=0;u<a.length;u++){if(h=a[u],x=h.instance,O=h.currentTarget,h=h.listener,x!==s&&l.isPropagationStopped())break t;s=h,l.currentTarget=O;try{s(l)}catch(G){Mn(G)}l.currentTarget=null,s=x}}}}function Ot(t,e){var n=e[Pa];n===void 0&&(n=e[Pa]=new Set);var a=t+"__bubble";n.has(a)||(jm(e,t,2,!1),n.add(a))}function bo(t,e,n){var a=0;e&&(a|=4),jm(n,t,a,e)}var fc="_reactListening"+Math.random().toString(36).slice(2);function So(t){if(!t[fc]){t[fc]=!0,gn.forEach(function(n){n!=="selectionchange"&&(Yp.has(n)||bo(n,!1,t),bo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fc]||(e[fc]=!0,bo("selectionchange",!1,e))}}function jm(t,e,n,a){switch(sh(e)){case 2:var l=gg;break;case 8:l=yg;break;default:l=ko}n=l.bind(null,e,n,t),l=void 0,!_e||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),a?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Mo(t,e,n,a,l){var s=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var h=a.stateNode.containerInfo;if(h===l)break;if(u===4)for(u=a.return;u!==null;){var x=u.tag;if((x===3||x===4)&&u.stateNode.containerInfo===l)return;u=u.return}for(;h!==null;){if(u=ea(h),u===null)return;if(x=u.tag,x===5||x===6||x===26||x===27){a=s=u;continue t}h=h.parentNode}}a=a.return}Ke(function(){var O=s,G=Ql(n),Z=[];t:{var _=Ye.get(t);if(_!==void 0){var U=wa,ot=t;switch(t){case"keypress":if(ks(n)===0)break t;case"keydown":case"keyup":U=Ge;break;case"focusin":ot="focus",U=Ei;break;case"focusout":ot="blur",U=Ei;break;case"beforeblur":case"afterblur":U=Ei;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Xc;break;case it:case re:case fe:U=Mu;break;case xt:U=Qc;break;case"scroll":case"scrollend":U=Bc;break;case"wheel":U=Kc;break;case"copy":case"cut":case"paste":U=Gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=sl;break;case"toggle":case"beforetoggle":U=Eu}var Mt=(e&4)!==0,ee=!Mt&&(t==="scroll"||t==="scrollend"),R=Mt?_!==null?_+"Capture":null:_;Mt=[];for(var C=O,z;C!==null;){var Q=C;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||R===null||(Q=Hn(C,R),Q!=null&&Mt.push(tu(C,Q,z))),ee)break;C=C.return}0<Mt.length&&(_=new U(_,ot,null,n,G),Z.push({event:_,listeners:Mt}))}}if((e&7)===0){t:{if(_=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",_&&n!==Xl&&(ot=n.relatedTarget||n.fromElement)&&(ea(ot)||ot[Pn]))break t;if((U||_)&&(_=G.window===G?G:(_=G.ownerDocument)?_.defaultView||_.parentWindow:window,U?(ot=n.relatedTarget||n.toElement,U=O,ot=ot?ea(ot):null,ot!==null&&(ee=M(ot),Mt=ot.tag,ot!==ee||Mt!==5&&Mt!==27&&Mt!==6)&&(ot=null)):(U=null,ot=O),U!==ot)){if(Mt=Ca,Q="onMouseLeave",R="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(Mt=sl,Q="onPointerLeave",R="onPointerEnter",C="pointer"),ee=U==null?_:qe(U),z=ot==null?_:qe(ot),_=new Mt(Q,C+"leave",U,n,G),_.target=ee,_.relatedTarget=z,Q=null,ea(G)===O&&(Mt=new Mt(R,C+"enter",ot,n,G),Mt.target=z,Mt.relatedTarget=ee,Q=Mt),ee=Q,U&&ot)e:{for(Mt=Vp,R=U,C=ot,z=0,Q=R;Q;Q=Mt(Q))z++;Q=0;for(var ht=C;ht;ht=Mt(ht))Q++;for(;0<z-Q;)R=Mt(R),z--;for(;0<Q-z;)C=Mt(C),Q--;for(;z--;){if(R===C||C!==null&&R===C.alternate){Mt=R;break e}R=Mt(R),C=Mt(C)}Mt=null}else Mt=null;U!==null&&Rm(Z,_,U,Mt,!1),ot!==null&&ee!==null&&Rm(Z,ee,ot,Mt,!0)}}t:{if(_=O?qe(O):window,U=_.nodeName&&_.nodeName.toLowerCase(),U==="select"||U==="input"&&_.type==="file")var Qt=Du;else if(ts(_))if(Ci)Qt=i;else{Qt=ju;var ft=tr}else U=_.nodeName,!U||U.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?O&&Mi(O.elementType)&&(Qt=Du):Qt=er;if(Qt&&(Qt=Qt(t,O))){ul(Z,Qt,n,G);break t}ft&&ft(t,_,O),t==="focusout"&&O&&_.type==="number"&&O.memoizedProps.value!=null&&Vl(_,"number",_.value)}switch(ft=O?qe(O):window,t){case"focusin":(ts(ft)||ft.contentEditable==="true")&&(at=ft,vt=O,Ct=null);break;case"focusout":Ct=vt=at=null;break;case"mousedown":Bt=!0;break;case"contextmenu":case"mouseup":case"dragend":Bt=!1,le(Z,n,G);break;case"selectionchange":if(st)break;case"keydown":case"keyup":le(Z,n,G)}var Rt;if(wi)t:{switch(t){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else da?Ls(t,n)&&(Ut="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Ut="onCompositionStart");Ut&&(Au&&n.locale!=="ko"&&(da||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&da&&(Rt=$l()):(rn=G,_s="value"in rn?rn.value:rn.textContent,da=!0)),ft=mc(O,Ut),0<ft.length&&(Ut=new xu(Ut,t,null,n,G),Z.push({event:Ut,listeners:ft}),Rt?Ut.data=Rt:(Rt=Da(n),Rt!==null&&(Ut.data=Rt)))),(Rt=Ic?Cu(t,n):Fc(t,n))&&(Ut=mc(O,"onBeforeInput"),0<Ut.length&&(ft=new xu("onBeforeInput","beforeinput",null,n,G),Z.push({event:ft,listeners:Ut}),ft.data=Rt)),qp(Z,t,O,n,G)}Nm(Z,e)})}function tu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mc(t,e){for(var n=e+"Capture",a=[];t!==null;){var l=t,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=Hn(t,n),l!=null&&a.unshift(tu(t,l,s)),l=Hn(t,e),l!=null&&a.push(tu(t,l,s))),t.tag===3)return a;t=t.return}return[]}function Vp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rm(t,e,n,a,l){for(var s=e._reactName,u=[];n!==null&&n!==a;){var h=n,x=h.alternate,O=h.stateNode;if(h=h.tag,x!==null&&x===a)break;h!==5&&h!==26&&h!==27||O===null||(x=O,l?(O=Hn(n,s),O!=null&&u.unshift(tu(n,O,x))):l||(O=Hn(n,s),O!=null&&u.push(tu(n,O,x)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Xp=/\r\n?/g,Qp=/\u0000|\uFFFD/g;function zm(t){return(typeof t=="string"?t:""+t).replace(Xp,`
`).replace(Qp,"")}function Om(t,e){return e=zm(e),zm(t)===e}function te(t,e,n,a,l,s){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||nn(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&nn(t,""+a);break;case"className":Aa(t,"class",a);break;case"tabIndex":Aa(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Aa(t,n,a);break;case"style":_t(t,a,s);break;case"data":if(e!=="object"){Aa(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=zs(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&te(t,e,"name",l.name,l,null),te(t,e,"formEncType",l.formEncType,l,null),te(t,e,"formMethod",l.formMethod,l,null),te(t,e,"formTarget",l.formTarget,l,null)):(te(t,e,"encType",l.encType,l,null),te(t,e,"method",l.method,l,null),te(t,e,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=zs(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=na);break;case"onScroll":a!=null&&Ot("scroll",t);break;case"onScrollEnd":a!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(d(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=zs(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),nl(t,"popover",a);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":nl(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=kc.get(n)||n,nl(t,n,a))}}function xo(t,e,n,a,l,s){switch(n){case"style":_t(t,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(d(60));t.innerHTML=n}}break;case"children":typeof a=="string"?nn(t,a):(typeof a=="number"||typeof a=="bigint")&&nn(t,""+a);break;case"onScroll":a!=null&&Ot("scroll",t);break;case"onScrollEnd":a!=null&&Ot("scrollend",t);break;case"onClick":a!=null&&(t.onclick=na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tl.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),s=t[Le]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,l),typeof a=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,l);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):nl(t,n,a)}}}function We(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var a=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,e));default:te(t,e,s,u,n,null)}}l&&te(t,e,"srcSet",n.srcSet,n,null),a&&te(t,e,"src",n.src,n,null);return;case"input":Ot("invalid",t);var h=s=u=l=null,x=null,O=null;for(a in n)if(n.hasOwnProperty(a)){var G=n[a];if(G!=null)switch(a){case"name":l=G;break;case"type":u=G;break;case"checked":x=G;break;case"defaultChecked":O=G;break;case"value":s=G;break;case"defaultValue":h=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(d(137,e));break;default:te(t,e,a,G,n,null)}}Yl(t,s,h,x,O,u,l,!1);return;case"select":Ot("invalid",t),a=u=s=null;for(l in n)if(n.hasOwnProperty(l)&&(h=n[l],h!=null))switch(l){case"value":s=h;break;case"defaultValue":u=h;break;case"multiple":a=h;default:te(t,e,l,h,n,null)}e=s,n=u,t.multiple=!!a,e!=null?be(t,!!a,e,!1):n!=null&&be(t,!!a,n,!0);return;case"textarea":Ot("invalid",t),s=l=a=null;for(u in n)if(n.hasOwnProperty(u)&&(h=n[u],h!=null))switch(u){case"value":a=h;break;case"defaultValue":l=h;break;case"children":s=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(d(91));break;default:te(t,e,u,h,n,null)}Rs(t,a,l,s);return;case"option":for(x in n)if(n.hasOwnProperty(x)&&(a=n[x],a!=null))switch(x){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:te(t,e,x,a,n,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(a=0;a<Pi.length;a++)Ot(Pi[a],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in n)if(n.hasOwnProperty(O)&&(a=n[O],a!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,e));default:te(t,e,O,a,n,null)}return;default:if(Mi(e)){for(G in n)n.hasOwnProperty(G)&&(a=n[G],a!==void 0&&xo(t,e,G,a,n,void 0));return}}for(h in n)n.hasOwnProperty(h)&&(a=n[h],a!=null&&te(t,e,h,a,n,null))}function Zp(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,u=null,h=null,x=null,O=null,G=null;for(U in n){var Z=n[U];if(n.hasOwnProperty(U)&&Z!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":x=Z;default:a.hasOwnProperty(U)||te(t,e,U,null,a,Z)}}for(var _ in a){var U=a[_];if(Z=n[_],a.hasOwnProperty(_)&&(U!=null||Z!=null))switch(_){case"type":s=U;break;case"name":l=U;break;case"checked":O=U;break;case"defaultChecked":G=U;break;case"value":u=U;break;case"defaultValue":h=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(d(137,e));break;default:U!==Z&&te(t,e,_,U,a,Z)}}Gl(t,u,h,x,O,G,s,l);return;case"select":U=u=h=_=null;for(s in n)if(x=n[s],n.hasOwnProperty(s)&&x!=null)switch(s){case"value":break;case"multiple":U=x;default:a.hasOwnProperty(s)||te(t,e,s,null,a,x)}for(l in a)if(s=a[l],x=n[l],a.hasOwnProperty(l)&&(s!=null||x!=null))switch(l){case"value":_=s;break;case"defaultValue":h=s;break;case"multiple":u=s;default:s!==x&&te(t,e,l,s,a,x)}e=h,n=u,a=U,_!=null?be(t,!!n,_,!1):!!a!=!!n&&(e!=null?be(t,!!n,e,!0):be(t,!!n,n?[]:"",!1));return;case"textarea":U=_=null;for(h in n)if(l=n[h],n.hasOwnProperty(h)&&l!=null&&!a.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:te(t,e,h,null,a,l)}for(u in a)if(l=a[u],s=n[u],a.hasOwnProperty(u)&&(l!=null||s!=null))switch(u){case"value":_=l;break;case"defaultValue":U=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(d(91));break;default:l!==s&&te(t,e,u,l,a,s)}Ta(t,_,U);return;case"option":for(var ot in n)if(_=n[ot],n.hasOwnProperty(ot)&&_!=null&&!a.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:te(t,e,ot,null,a,_)}for(x in a)if(_=a[x],U=n[x],a.hasOwnProperty(x)&&_!==U&&(_!=null||U!=null))switch(x){case"selected":t.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:te(t,e,x,_,a,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in n)_=n[Mt],n.hasOwnProperty(Mt)&&_!=null&&!a.hasOwnProperty(Mt)&&te(t,e,Mt,null,a,_);for(O in a)if(_=a[O],U=n[O],a.hasOwnProperty(O)&&_!==U&&(_!=null||U!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(d(137,e));break;default:te(t,e,O,_,a,U)}return;default:if(Mi(e)){for(var ee in n)_=n[ee],n.hasOwnProperty(ee)&&_!==void 0&&!a.hasOwnProperty(ee)&&xo(t,e,ee,void 0,a,_);for(G in a)_=a[G],U=n[G],!a.hasOwnProperty(G)||_===U||_===void 0&&U===void 0||xo(t,e,G,_,a,U);return}}for(var R in n)_=n[R],n.hasOwnProperty(R)&&_!=null&&!a.hasOwnProperty(R)&&te(t,e,R,null,a,_);for(Z in a)_=a[Z],U=n[Z],!a.hasOwnProperty(Z)||_===U||_==null&&U==null||te(t,e,Z,_,a,U)}function _m(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],s=l.transferSize,u=l.initiatorType,h=l.duration;if(s&&h&&_m(u)){for(u=0,h=l.responseEnd,a+=1;a<n.length;a++){var x=n[a],O=x.startTime;if(O>h)break;var G=x.transferSize,Z=x.initiatorType;G&&_m(Z)&&(x=x.responseEnd,u+=G*(x<h?1:(h-O)/(x-O)))}if(--a,e+=8*(s+u)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Eo=null,Ao=null;function hc(t){return t.nodeType===9?t:t.ownerDocument}function km(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Um(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function To(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wo=null;function $p(){var t=window.event;return t&&t.type==="popstate"?t===wo?!1:(wo=t,!0):(wo=null,!1)}var Bm=typeof setTimeout=="function"?setTimeout:void 0,Jp=typeof clearTimeout=="function"?clearTimeout:void 0,Lm=typeof Promise=="function"?Promise:void 0,Ip=typeof queueMicrotask=="function"?queueMicrotask:typeof Lm<"u"?function(t){return Lm.resolve(null).then(t).catch(Fp)}:Bm;function Fp(t){setTimeout(function(){throw t})}function Al(t){return t==="head"}function qm(t,e){var n=e,a=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(l),fi(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")eu(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,eu(n);for(var s=n.firstChild;s;){var u=s.nextSibling,h=s.nodeName;s[pe]||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=u}}else n==="body"&&eu(t.ownerDocument.body);n=l}while(n);fi(e)}function Hm(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function Co(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Co(n),ta(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Wp(t,e,n,a){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[pe])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function Pp(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Kn(t.nextSibling),t===null))return null;return t}function Gm(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Kn(t.nextSibling),t===null))return null;return t}function Do(t){return t.data==="$?"||t.data==="$~"}function No(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tg(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var jo=null;function Ym(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Kn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Vm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Xm(t,e,n){switch(e=hc(n),t){case"html":if(t=e.documentElement,!t)throw Error(d(452));return t;case"head":if(t=e.head,!t)throw Error(d(453));return t;case"body":if(t=e.body,!t)throw Error(d(454));return t;default:throw Error(d(451))}}function eu(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ta(t)}var $n=new Map,Qm=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xa=V.d;V.d={f:eg,r:ng,D:ag,C:lg,L:sg,m:ig,X:cg,S:ug,M:rg};function eg(){var t=Xa.f(),e=ic();return t||e}function ng(t){var e=pn(t);e!==null&&e.tag===5&&e.type==="form"?cf(e):Xa.r(t)}var ri=typeof document>"u"?null:document;function Zm(t,e,n){var a=ri;if(a&&typeof e=="string"&&e){var l=cn(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Qm.has(l)||(Qm.add(l),t={rel:t,crossOrigin:n,href:e},a.querySelector(l)===null&&(e=a.createElement("link"),We(e,"link",t),ye(e),a.head.appendChild(e)))}}function ag(t){Xa.D(t),Zm("dns-prefetch",t,null)}function lg(t,e){Xa.C(t,e),Zm("preconnect",t,e)}function sg(t,e,n){Xa.L(t,e,n);var a=ri;if(a&&t&&e){var l='link[rel="preload"][as="'+cn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+cn(n.imageSizes)+'"]')):l+='[href="'+cn(t)+'"]';var s=l;switch(e){case"style":s=oi(t);break;case"script":s=di(t)}$n.has(s)||(t=E({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),$n.set(s,t),a.querySelector(l)!==null||e==="style"&&a.querySelector(nu(s))||e==="script"&&a.querySelector(au(s))||(e=a.createElement("link"),We(e,"link",t),ye(e),a.head.appendChild(e)))}}function ig(t,e){Xa.m(t,e);var n=ri;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+cn(a)+'"][href="'+cn(t)+'"]',s=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=di(t)}if(!$n.has(s)&&(t=E({rel:"modulepreload",href:t},e),$n.set(s,t),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(au(s)))return}a=n.createElement("link"),We(a,"link",t),ye(a),n.head.appendChild(a)}}}function ug(t,e,n){Xa.S(t,e,n);var a=ri;if(a&&t){var l=Ea(a).hoistableStyles,s=oi(t);e=e||"default";var u=l.get(s);if(!u){var h={loading:0,preload:null};if(u=a.querySelector(nu(s)))h.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":e},n),(n=$n.get(s))&&Ro(t,n);var x=u=a.createElement("link");ye(x),We(x,"link",t),x._p=new Promise(function(O,G){x.onload=O,x.onerror=G}),x.addEventListener("load",function(){h.loading|=1}),x.addEventListener("error",function(){h.loading|=2}),h.loading|=4,gc(u,e,a)}u={type:"stylesheet",instance:u,count:1,state:h},l.set(s,u)}}}function cg(t,e){Xa.X(t,e);var n=ri;if(n&&t){var a=Ea(n).hoistableScripts,l=di(t),s=a.get(l);s||(s=n.querySelector(au(l)),s||(t=E({src:t,async:!0},e),(e=$n.get(l))&&zo(t,e),s=n.createElement("script"),ye(s),We(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function rg(t,e){Xa.M(t,e);var n=ri;if(n&&t){var a=Ea(n).hoistableScripts,l=di(t),s=a.get(l);s||(s=n.querySelector(au(l)),s||(t=E({src:t,async:!0,type:"module"},e),(e=$n.get(l))&&zo(t,e),s=n.createElement("script"),ye(s),We(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function Km(t,e,n,a){var l=(l=jt.current)?pc(l):null;if(!l)throw Error(d(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=oi(n.href),n=Ea(l).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=oi(n.href);var s=Ea(l).hoistableStyles,u=s.get(t);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,u),(s=l.querySelector(nu(t)))&&!s._p&&(u.instance=s,u.state.loading=5),$n.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},$n.set(t,n),s||og(l,t,n,u.state))),e&&a===null)throw Error(d(528,""));return u}if(e&&a!==null)throw Error(d(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=di(n),n=Ea(l).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,t))}}function oi(t){return'href="'+cn(t)+'"'}function nu(t){return'link[rel="stylesheet"]['+t+"]"}function $m(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function og(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),We(e,"link",n),ye(e),t.head.appendChild(e))}function di(t){return'[src="'+cn(t)+'"]'}function au(t){return"script[async]"+t}function Jm(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+cn(n.href)+'"]');if(a)return e.instance=a,ye(a),a;var l=E({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),ye(a),We(a,"style",l),gc(a,n.precedence,t),e.instance=a;case"stylesheet":l=oi(n.href);var s=t.querySelector(nu(l));if(s)return e.state.loading|=4,e.instance=s,ye(s),s;a=$m(n),(l=$n.get(l))&&Ro(a,l),s=(t.ownerDocument||t).createElement("link"),ye(s);var u=s;return u._p=new Promise(function(h,x){u.onload=h,u.onerror=x}),We(s,"link",a),e.state.loading|=4,gc(s,n.precedence,t),e.instance=s;case"script":return s=di(n.src),(l=t.querySelector(au(s)))?(e.instance=l,ye(l),l):(a=n,(l=$n.get(s))&&(a=E({},n),zo(a,l)),t=t.ownerDocument||t,l=t.createElement("script"),ye(l),We(l,"link",a),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(d(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,gc(a,n.precedence,t));return e.instance}function gc(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,s=l,u=0;u<a.length;u++){var h=a[u];if(h.dataset.precedence===e)s=h;else if(s!==l)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Ro(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function zo(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var yc=null;function Im(t,e,n){if(yc===null){var a=new Map,l=yc=new Map;l.set(n,a)}else l=yc,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var s=n[l];if(!(s[pe]||s[ae]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var u=s.getAttribute(e)||"";u=t+u;var h=a.get(u);h?h.push(s):a.set(u,[s])}}return a}function Fm(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function dg(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Wm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function fg(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=oi(a.href),s=e.querySelector(nu(l));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=vc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,ye(s);return}s=e.ownerDocument||e,a=$m(a),(l=$n.get(l))&&Ro(a,l),s=s.createElement("link"),ye(s);var u=s;u._p=new Promise(function(h,x){u.onload=h,u.onerror=x}),We(s,"link",a),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=vc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Oo=0;function mg(t,e){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Oo===0&&(Oo=62500*Kp());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Oo?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Sc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,e.forEach(hg,t),bc=null,vc.call(t))}function hg(t,e){if(!(e.state.loading&4)){var n=bc.get(t);if(n)var a=n.get(null);else{n=new Map,bc.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var u=l[s];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),a=u)}a&&n.set(null,a)}l=e.instance,u=l.getAttribute("data-precedence"),s=n.get(u)||a,s===a&&n.set(null,l),n.set(u,l),this.count++,a=vc.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),s?s.parentNode.insertBefore(l,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var lu={$$typeof:dt,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function pg(t,e,n,a,l,s,u,h,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Pm(t,e,n,a,l,s,u,h,x,O,G,Z){return t=new pg(t,e,n,u,x,O,G,Z,h),e=1,s===!0&&(e|=24),s=Tt(3,null,null,e),t.current=s,s.stateNode=t,e=dr(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:e},pr(s),t}function th(t){return t?(t=Na,t):Na}function eh(t,e,n,a,l,s){l=th(l),a.context===null?a.context=l:a.pendingContext=l,a=ml(e),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=hl(t,a,e),n!==null&&(wn(n,t,e),Ui(n,t,e))}function nh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _o(t,e){nh(t,e),(t=t.alternate)&&nh(t,e)}function ah(t){if(t.tag===13||t.tag===31){var e=pa(t,67108864);e!==null&&wn(e,t,67108864),_o(t,67108864)}}function lh(t){if(t.tag===13||t.tag===31){var e=Bn();e=xa(e);var n=pa(t,e);n!==null&&wn(n,t,e),_o(t,e)}}var Mc=!0;function gg(t,e,n,a){var l=A.T;A.T=null;var s=V.p;try{V.p=2,ko(t,e,n,a)}finally{V.p=s,A.T=l}}function yg(t,e,n,a){var l=A.T;A.T=null;var s=V.p;try{V.p=8,ko(t,e,n,a)}finally{V.p=s,A.T=l}}function ko(t,e,n,a){if(Mc){var l=Uo(a);if(l===null)Mo(t,e,a,xc,n),ih(t,a);else if(bg(l,t,e,n,a))a.stopPropagation();else if(ih(t,a),e&4&&-1<vg.indexOf(t)){for(;l!==null;){var s=pn(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var u=Fn(s.pendingLanes);if(u!==0){var h=s;for(h.pendingLanes|=2,h.entangledLanes|=2;u;){var x=1<<31-tn(u);h.entanglements[1]|=x,u&=~x}ba(s),(Kt&6)===0&&(lc=he()+500,Wi(0))}}break;case 31:case 13:h=pa(s,2),h!==null&&wn(h,s,2),ic(),_o(s,2)}if(s=Uo(a),s===null&&Mo(t,e,a,xc,n),s===l)break;l=s}l!==null&&a.stopPropagation()}else Mo(t,e,a,null,n)}}function Uo(t){return t=Ql(t),Bo(t)}var xc=null;function Bo(t){if(xc=null,t=ea(t),t!==null){var e=M(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=y(e),t!==null)return t;t=null}else if(n===31){if(t=T(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return xc=t,null}function sh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ts()){case qn:return 2;case ws:return 8;case Sa:case hu:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var Lo=!1,Tl=null,wl=null,Cl=null,su=new Map,iu=new Map,Dl=[],vg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ih(t,e){switch(t){case"focusin":case"focusout":Tl=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":Cl=null;break;case"pointerover":case"pointerout":su.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(e.pointerId)}}function uu(t,e,n,a,l,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[l]},e!==null&&(e=pn(e),e!==null&&ah(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function bg(t,e,n,a,l){switch(e){case"focusin":return Tl=uu(Tl,t,e,n,a,l),!0;case"dragenter":return wl=uu(wl,t,e,n,a,l),!0;case"mouseover":return Cl=uu(Cl,t,e,n,a,l),!0;case"pointerover":var s=l.pointerId;return su.set(s,uu(su.get(s)||null,t,e,n,a,l)),!0;case"gotpointercapture":return s=l.pointerId,iu.set(s,uu(iu.get(s)||null,t,e,n,a,l)),!0}return!1}function uh(t){var e=ea(t.target);if(e!==null){var n=M(e);if(n!==null){if(e=n.tag,e===13){if(e=y(n),e!==null){t.blockedOn=e,Wn(t.priority,function(){lh(n)});return}}else if(e===31){if(e=T(n),e!==null){t.blockedOn=e,Wn(t.priority,function(){lh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uo(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);Xl=a,n.target.dispatchEvent(a),Xl=null}else return e=pn(n),e!==null&&ah(e),t.blockedOn=n,!1;e.shift()}return!0}function ch(t,e,n){Ec(t)&&n.delete(e)}function Sg(){Lo=!1,Tl!==null&&Ec(Tl)&&(Tl=null),wl!==null&&Ec(wl)&&(wl=null),Cl!==null&&Ec(Cl)&&(Cl=null),su.forEach(ch),iu.forEach(ch)}function Ac(t,e){t.blockedOn===e&&(t.blockedOn=null,Lo||(Lo=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Sg)))}var Tc=null;function rh(t){Tc!==t&&(Tc=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Tc===t&&(Tc=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],l=t[e+2];if(typeof a!="function"){if(Bo(a||n)===null)continue;break}var s=pn(n);s!==null&&(t.splice(e,3),e-=3,kr(s,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function fi(t){function e(x){return Ac(x,t)}Tl!==null&&Ac(Tl,t),wl!==null&&Ac(wl,t),Cl!==null&&Ac(Cl,t),su.forEach(e),iu.forEach(e);for(var n=0;n<Dl.length;n++){var a=Dl[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Dl.length&&(n=Dl[0],n.blockedOn===null);)uh(n),n.blockedOn===null&&Dl.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],s=n[a+1],u=l[Le]||null;if(typeof s=="function")u||rh(n);else if(u){var h=null;if(s&&s.hasAttribute("formAction")){if(l=s,u=s[Le]||null)h=u.formAction;else if(Bo(l)!==null)continue}else h=u.action;typeof h=="function"?n[a+1]=h:(n.splice(a,3),a-=3),rh(n)}}}function oh(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(u){return l=u})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function qo(t){this._internalRoot=t}wc.prototype.render=qo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(d(409));var n=e.current,a=Bn();eh(n,a,t,e,null,null)},wc.prototype.unmount=qo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;eh(t.current,2,null,t,null,null),ic(),e[Pn]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var e=vi();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Dl.length&&e!==0&&e<Dl[n].priority;n++);Dl.splice(n,0,t),n===0&&uh(t)}};var dh=r.version;if(dh!=="19.2.0")throw Error(d(527,dh,"19.2.0"));V.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=v(e),t=t!==null?N(t):null,t=t===null?null:t.stateNode,t};var Mg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{ia=Cc.inject(Mg),Be=Cc}catch{}}return ru.createRoot=function(t,e){if(!p(t))throw Error(d(299));var n=!1,a="",l=vf,s=bf,u=Sf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(u=e.onRecoverableError)),e=Pm(t,1,!1,null,null,n,a,null,l,s,u,oh),t[Pn]=e.current,So(t),new qo(e)},ru.hydrateRoot=function(t,e,n){if(!p(t))throw Error(d(299));var a=!1,l="",s=vf,u=bf,h=Sf,x=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(h=n.onRecoverableError),n.formState!==void 0&&(x=n.formState)),e=Pm(t,1,!0,e,n??null,a,l,x,s,u,h,oh),e.context=th(null),n=e.current,a=Bn(),a=xa(a),l=ml(a),l.callback=null,hl(n,l,a),n=a,e.current.lanes=n,hn(e,n),ba(e),t[Pn]=e.current,So(t),new wc(e)},ru.version="19.2.0",ru}var Mh;function Rg(){if(Mh)return Yo.exports;Mh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Yo.exports=jg(),Yo.exports}var zg=Rg();const Og="modulepreload",_g=function(o,r){return new URL(o,r).href},xh={},kg=function(r,m,d){let p=Promise.resolve();if(m&&m.length>0){let v=function(N){return Promise.all(N.map(E=>Promise.resolve(E).then(q=>({status:"fulfilled",value:q}),q=>({status:"rejected",reason:q}))))};const y=document.getElementsByTagName("link"),T=document.querySelector("meta[property=csp-nonce]"),b=T?.nonce||T?.getAttribute("nonce");p=v(m.map(N=>{if(N=_g(N,d),N in xh)return;xh[N]=!0;const E=N.endsWith(".css"),q=E?'[rel="stylesheet"]':"";if(d)for(let et=y.length-1;et>=0;et--){const F=y[et];if(F.href===N&&(!E||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${N}"]${q}`))return;const $=document.createElement("link");if($.rel=E?"stylesheet":Og,E||($.as="script"),$.crossOrigin="",$.href=N,b&&$.setAttribute("nonce",b),document.head.appendChild($),E)return new Promise((et,F)=>{$.addEventListener("load",et),$.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${N}`)))})}))}function M(y){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=y,window.dispatchEvent(T),!T.defaultPrevented)throw y}return p.then(y=>{for(const T of y||[])T.status==="rejected"&&M(T.reason);return r().catch(M)})};function Ug(o={}){const{immediate:r=!1,onNeedRefresh:m,onOfflineReady:d,onRegistered:p,onRegisteredSW:M,onRegisterError:y}=o;let T,b;const v=async(E=!0)=>{await b};async function N(){if("serviceWorker"in navigator){if(T=await kg(async()=>{const{Workbox:E}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:E}},[],import.meta.url).then(({Workbox:E})=>new E("./sw.js",{scope:"./",type:"classic"})).catch(E=>{y?.(E)}),!T)return;T.addEventListener("activated",E=>{(E.isUpdate||E.isExternal)&&window.location.reload()}),T.addEventListener("installed",E=>{E.isUpdate||d?.()}),T.register({immediate:r}).then(E=>{M?M("./sw.js",E):p?.(E)}).catch(E=>{y?.(E)})}}return b=N(),v}const Bg=""+new URL("lame.all-C7RRJB7H.js",import.meta.url).href;let Dc=null;async function Lg(){if(typeof window>"u")throw new Error("MP3 encoder can only load in a browser.");if(!window.lamejs?.Mp3Encoder)return Dc||(Dc=new Promise((o,r)=>{const m=document.createElement("script");m.src=Bg,m.async=!0,m.onload=()=>o(),m.onerror=()=>r(new Error("Failed to load MP3 encoder script.")),document.head.appendChild(m)}).then(()=>{if(!window.lamejs?.Mp3Encoder)throw new Error("MP3 encoder loaded but window.lamejs.Mp3Encoder is missing.")}),Dc)}function qg(){const o=window.lamejs?.Mp3Encoder;if(!o)throw new Error("MP3 encoder is not loaded yet.");return o}const gi={frameDurationMs:50,minQuietDurationMs:600,minSegmentMs:5e3,targetSegmentMs:1e4,maxSegmentMs:6e4,silencePaddingMs:200,thresholdMultiplier:1.6,quietPercentile:.3,noisePercentile:.12,initialIgnoreMs:120},Eh=(o,r)=>{if(o.length===0)return 0;const m=[...o].sort((M,y)=>M-y),d=Math.min(Math.max(r,0),1),p=d===1?m.length-1:Math.floor(d*m.length);return m[p]},Hg=o=>{if(o.numberOfChannels===1)return o.getChannelData(0);const{length:r,numberOfChannels:m}=o,d=new Float32Array(r);for(let p=0;p<m;p+=1){const M=o.getChannelData(p);for(let y=0;y<r;y+=1)d[y]+=M[y]/m}return d},Gg=(o,r,m)=>{const d=Math.max(1,Math.round(m/1e3*r)),p=o.length,M=Math.ceil(p/d),y=new Array(M),T=new Array(M);let b=Number.POSITIVE_INFINITY,v=0;for(let N=0;N<M;N+=1){const E=N*d,q=Math.min(p,E+d),$=q-E;if($<=0){y[N]={index:N,startMs:E/r*1e3,endMs:q/r*1e3,rms:0,normalized:0},T[N]=0;continue}let et=0;for(let Et=E;Et<q;Et+=1){const ut=o[Et];et+=ut*ut}const F=Math.sqrt(et/$);y[N]={index:N,startMs:E/r*1e3,endMs:q/r*1e3,rms:F,normalized:F},T[N]=F,F<b&&(b=F),F>v&&(v=F)}return Number.isFinite(b)||(b=0),{frames:y,rmsValues:T,minRms:b,maxRms:v}},Yg=({audioBuffer:o,frameDurationMs:r=gi.frameDurationMs})=>{const m=Hg(o),{frames:d}=Gg(m,o.sampleRate,r),p=d.reduce((N,E)=>Math.max(N,E.rms),0),M=p>0?.92/p:1,y=d.map(N=>Math.min(N.rms*M,1)),T=y.length,b=T>0?y.reduce((N,E)=>N+E,0)/T:0,v=T>0?Math.max(...y):0;return{normalizedFrames:y,scalingFactor:M,maxNormalized:v,averageNormalized:b,frameDurationMs:r}},Vg=(o,r,m,d)=>{const p=[];let M=null,y=Number.POSITIVE_INFINITY,T=0,b=0,v=0,N=!1;for(let E=0;E<o.length;E+=1){const q=o[E],$=q.startMs>=d;$&&q.rms>r&&(N=!0);const F=N&&$&&q.rms<=r;if(F&&(M===null?(M=E,y=q.rms,T=q.rms,b=q.rms,v=1):(y=Math.min(y,q.rms),T=Math.max(T,q.rms),b+=q.rms,v+=1)),(!F&&M!==null||E===o.length-1&&F)&&M!==null){const ut=F?E:E-1,St=o[M],dt=o[ut],H=dt.endMs-St.startMs;if(H>=m){const P=(St.startMs+dt.endMs)/2;p.push({index:p.length,startFrame:M,endFrame:ut,startMs:St.startMs,endMs:dt.endMs,durationMs:H,minRms:y,maxRms:T,averageRms:v>0?b/v:0,centerMs:P,normalizedMin:0,normalizedMax:0})}M=null,y=Number.POSITIVE_INFINITY,T=0,b=0,v=0}}return p},Xg=(o,r)=>o.map(m=>{const d=r.slice(m.startFrame,m.endFrame+1).map(y=>y.normalized),p=d.length>0?Math.min(...d):0,M=d.length>0?Math.max(...d):0;return{...m,normalizedMin:p,normalizedMax:M}}),Qg=(o,r,m)=>{const d=[];let p=0;for(const b of o){const v=b.centerMs-p;if(!(v<m.minSegmentMs)&&(v>=m.targetSegmentMs||v>=m.maxSegmentMs)){const N=Math.max(0,1-b.normalizedMax);d.push({index:d.length,positionMs:b.centerMs,precedingDurationMs:v,quietRegionIndex:b.index,score:N,reason:"pause"}),p=b.centerMs}}const M=[],y=[...d].sort((b,v)=>b.positionMs-v.positionMs);let T=0;return y.forEach((b,v)=>{const N=Math.min(b.positionMs,r),E=Math.max(0,N-T);M.push({index:v,startMs:T,endMs:N,durationMs:E,breakReason:"pause",boundaryIndex:b.index}),T=b.positionMs}),T<r&&M.push({index:M.length,startMs:T,endMs:r,durationMs:Math.max(0,r-T),breakReason:"end",boundaryIndex:null}),{boundaries:d,segments:M}};function tp(o,r={}){const{totalDurationMs:m,config:d={},sampleRate:p=0,frameDurationMs:M}=r;if(o.length===0)return null;const y={...gi,...d},T=o.map(H=>H.normalized),b=o.reduce((H,P)=>Math.max(H,P.rms),0),v=o.reduce((H,P)=>Math.min(H,P.rms),Number.POSITIVE_INFINITY),N=1,E=Eh(T,y.noisePercentile),q=Eh(T,y.quietPercentile),$=Math.max(E*y.thresholdMultiplier,(E+q)/2),et=Math.min($,b*.7),F=Math.min(et,.98),Et=Math.max(m??0,o[o.length-1]?.endMs??0),ut=Xg(Vg(o,et,y.minQuietDurationMs,y.initialIgnoreMs),o),{boundaries:St,segments:dt}=Qg(ut,Et,y);return{frames:o,quietRegions:ut,boundaries:St,segments:dt,stats:{sampleRate:p,totalDurationMs:Et,frameDurationMs:M??y.frameDurationMs,frameCount:o.length,maxRms:b,minRms:Number.isFinite(v)?v:0,scalingFactor:N,noiseFloor:E,threshold:et,normalizedThreshold:F}}}function Zg({frames:o,windowStartMs:r,windowEndMs:m,sampleRate:d,frameDurationMs:p,config:M}){const y=Math.max(0,Math.round(r)),T=Math.max(y,Math.round(m)),b=Math.max(0,T-y);if(o.length===0||b<=0)return{analysis:null,frames:[],windowStartMs:y,windowEndMs:T,windowDurationMs:b};const v=[];for(const E of o){if(E.endMs<=y||E.startMs>=T)continue;const q=Math.max(0,E.startMs-y),$=Math.min(T,E.endMs)-y;$<=q||v.push({...E,index:v.length,startMs:q,endMs:$})}return{analysis:v.length>0?tp(v,{totalDurationMs:b,sampleRate:d,frameDurationMs:p,config:M}):null,frames:v,windowStartMs:y,windowEndMs:T,windowDurationMs:b}}async function ep(o,r){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");const{chunkId:m,sessionId:d,seq:p,chunkStartMs:M,chunkEndMs:y,frameDurationMs:T}=r,b=new AudioContext;try{const v=await o.arrayBuffer(),N=await b.decodeAudioData(v.slice(0)),{normalizedFrames:E,scalingFactor:q,maxNormalized:$,averageNormalized:et}=Yg({audioBuffer:N,frameDurationMs:T});return{chunkId:m,sessionId:d,seq:p,chunkStartMs:M,chunkEndMs:y,durationMs:N.duration*1e3,sampleRate:N.sampleRate,frameDurationMs:T??50,frames:E,maxNormalized:$,averageNormalized:et,scalingFactor:q}}finally{await b.close().catch(()=>{})}}const Po=(o,r)=>r.some(m=>o instanceof m);let Ah,Th;function Kg(){return Ah||(Ah=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $g(){return Th||(Th=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const td=new WeakMap,Zo=new WeakMap,zc=new WeakMap;function Jg(o){const r=new Promise((m,d)=>{const p=()=>{o.removeEventListener("success",M),o.removeEventListener("error",y)},M=()=>{m(xs(o.result)),p()},y=()=>{d(o.error),p()};o.addEventListener("success",M),o.addEventListener("error",y)});return zc.set(r,o),r}function Ig(o){if(td.has(o))return;const r=new Promise((m,d)=>{const p=()=>{o.removeEventListener("complete",M),o.removeEventListener("error",y),o.removeEventListener("abort",y)},M=()=>{m(),p()},y=()=>{d(o.error||new DOMException("AbortError","AbortError")),p()};o.addEventListener("complete",M),o.addEventListener("error",y),o.addEventListener("abort",y)});td.set(o,r)}let ed={get(o,r,m){if(o instanceof IDBTransaction){if(r==="done")return td.get(o);if(r==="store")return m.objectStoreNames[1]?void 0:m.objectStore(m.objectStoreNames[0])}return xs(o[r])},set(o,r,m){return o[r]=m,!0},has(o,r){return o instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in o}};function np(o){ed=o(ed)}function Fg(o){return $g().includes(o)?function(...r){return o.apply(nd(this),r),xs(this.request)}:function(...r){return xs(o.apply(nd(this),r))}}function Wg(o){return typeof o=="function"?Fg(o):(o instanceof IDBTransaction&&Ig(o),Po(o,Kg())?new Proxy(o,ed):o)}function xs(o){if(o instanceof IDBRequest)return Jg(o);if(Zo.has(o))return Zo.get(o);const r=Wg(o);return r!==o&&(Zo.set(o,r),zc.set(r,o)),r}const nd=o=>zc.get(o);function Pg(o,r,{blocked:m,upgrade:d,blocking:p,terminated:M}={}){const y=indexedDB.open(o,r),T=xs(y);return d&&y.addEventListener("upgradeneeded",b=>{d(xs(y.result),b.oldVersion,b.newVersion,xs(y.transaction),b)}),m&&y.addEventListener("blocked",b=>m(b.oldVersion,b.newVersion,b)),T.then(b=>{M&&b.addEventListener("close",()=>M()),p&&b.addEventListener("versionchange",v=>p(v.oldVersion,v.newVersion,v))}).catch(()=>{}),T}const ty=["get","getKey","getAll","getAllKeys","count"],ey=["put","add","delete","clear"],Ko=new Map;function wh(o,r){if(!(o instanceof IDBDatabase&&!(r in o)&&typeof r=="string"))return;if(Ko.get(r))return Ko.get(r);const m=r.replace(/FromIndex$/,""),d=r!==m,p=ey.includes(m);if(!(m in(d?IDBIndex:IDBObjectStore).prototype)||!(p||ty.includes(m)))return;const M=async function(y,...T){const b=this.transaction(y,p?"readwrite":"readonly");let v=b.store;return d&&(v=v.index(T.shift())),(await Promise.all([v[m](...T),p&&b.done]))[0]};return Ko.set(r,M),M}np(o=>({...o,get:(r,m,d)=>wh(r,m)||o.get(r,m,d),has:(r,m)=>!!wh(r,m)||o.has(r,m)}));const ny=["continue","continuePrimaryKey","advance"],Ch={},ad=new WeakMap,ap=new WeakMap,ay={get(o,r){if(!ny.includes(r))return o[r];let m=Ch[r];return m||(m=Ch[r]=function(...d){ad.set(this,ap.get(this)[r](...d))}),m}};async function*ly(...o){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...o)),!r)return;r=r;const m=new Proxy(r,ay);for(ap.set(m,r),zc.set(m,nd(r));r;)yield m,r=await(ad.get(m)||r.continue()),ad.delete(m)}function Dh(o,r){return r===Symbol.asyncIterator&&Po(o,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&Po(o,[IDBIndex,IDBObjectStore])}np(o=>({...o,get(r,m,d){return Dh(r,m)?ly:o.get(r,m,d)},has(r,m){return Dh(r,m)||o.has(r,m)}}));const Xe="unverified";function sy(o,r){let m=0;return r.map(d=>{const p=Number.isFinite(d.durationMs)&&d.durationMs>0?Math.round(d.durationMs):0,M=Math.round(o+m),y=Math.round(M+p);return m+=p,{...d,durationMs:p,startMs:M,endMs:y}})}const Nh=o=>{const r=Array.isArray(o.frames)?o.frames:[],m=r.length>0&&typeof r[0]=="number"?r:r.map(T=>{if(T&&typeof T=="object"){if(typeof T.normalized=="number")return Math.max(0,T.normalized);if(typeof T.rms=="number")return Math.max(0,T.rms)}return 0}),d=typeof o.frameDurationMs=="number"&&o.frameDurationMs>0?o.frameDurationMs:50,p=typeof o.durationMs=="number"&&o.durationMs>0?o.durationMs:m.length*d,M=typeof o.maxNormalized=="number"?o.maxNormalized:m.length>0?Math.max(...m):0,y=typeof o.averageNormalized=="number"?o.averageNormalized:m.length>0?m.reduce((T,b)=>T+b,0)/m.length:0;return{chunkId:o.chunkId,sessionId:o.sessionId,seq:o.seq??0,chunkStartMs:o.chunkStartMs??0,chunkEndMs:typeof o.chunkEndMs=="number"?o.chunkEndMs:(o.chunkStartMs??0)+p,durationMs:p,sampleRate:o.sampleRate??0,frameDurationMs:d,frames:m,maxNormalized:M,averageNormalized:y,scalingFactor:o.scalingFactor??1,id:o.id??o.chunkId,createdAt:o.createdAt??Date.now(),updatedAt:o.updatedAt??Date.now()}},ou=o=>{const r=Number.isFinite(o.startMs)?o.startMs:0,m=Number.isFinite(o.endMs)?o.endMs:r,d=Number.isFinite(o.durationMs)?o.durationMs:Math.max(0,m-r),p=typeof o.audioPurgedAt=="number"?o.audioPurgedAt:null,M=o.transcription?{...o.transcription,segments:Array.isArray(o.transcription.segments)?o.transcription.segments:[],text:o.transcription.text??""}:o.transcription;return{...o,index:Number.isFinite(o.index)?o.index:0,startMs:r,endMs:m,durationMs:d,breakReason:o.breakReason??null,boundaryIndex:typeof o.boundaryIndex=="number"?o.boundaryIndex:null,transcription:M??null,transcriptionError:o.transcriptionError??null,audioPurgedAt:p}},iy="durable-audio-recorder",uy=4,jh=50;let $o=null;async function ie(){return $o||($o=Pg(iy,uy,{upgrade(o,r){if(r<1&&(o.createObjectStore("sessions",{keyPath:"id"}).createIndex("by-updated","updatedAt"),o.createObjectStore("chunks",{keyPath:"id"}).createIndex("by-session","sessionId")),r<2){o.createObjectStore("logSessions",{keyPath:"id"}).createIndex("by-started","startedAt");const d=o.createObjectStore("logEntries",{keyPath:"id",autoIncrement:!0});d.createIndex("by-session","sessionId"),d.createIndex("by-timestamp","timestamp")}if(r<3){const m=o.createObjectStore("chunkVolumes",{keyPath:"id"});m.createIndex("by-session","sessionId"),m.createIndex("by-chunk","chunkId")}r<4&&o.createObjectStore("snips",{keyPath:"id"}).createIndex("by-session","sessionId")}})),$o}class cy{async init(){await ie()}async createSession(r){await(await ie()).put("sessions",{...r,timingStatus:r.timingStatus??Xe})}async updateSession(r,m){const p=(await ie()).transaction("sessions","readwrite"),M=p.objectStore("sessions"),y=await M.get(r);if(!y)return await p.done,null;const T={...y,...m,timingStatus:m.timingStatus??y.timingStatus??Xe};return await M.put(T),await p.done,T}async appendChunk(r,m){const p=(await ie()).transaction(["chunks","sessions"],"readwrite"),M=p.objectStore("chunks"),y=p.objectStore("sessions"),T={...r,blob:m,byteLength:m.size,createdAt:Date.now(),verifiedAudioMsec:r.seq===0&&/mp4|m4a/i.test(m.type)?0:null,timingStatus:Xe};await M.put(T);const b=await y.get(r.sessionId);if(b){const v=Math.max(b.durationMs,r.endMs-b.startedAt),N={...b,updatedAt:Date.now(),chunkCount:b.chunkCount+1,totalBytes:b.totalBytes+m.size,durationMs:v};await y.put(N)}await p.done}async listSessions(){return(await(await ie()).getAll("sessions")).map(d=>({...d,timingStatus:d.timingStatus??Xe})).sort((d,p)=>p.startedAt-d.startedAt)}async getSession(r){const d=await(await ie()).get("sessions",r);return d?{...d,timingStatus:d.timingStatus??Xe}:null}async getChunkMetadata(r){return(await(await ie()).transaction("chunks").store.index("by-session").getAll(r)).map(({blob:M,timingStatus:y,...T})=>({...T,timingStatus:y??Xe})).sort((M,y)=>M.seq-y.seq)}async getChunkData(r){return(await(await ie()).transaction("chunks").store.index("by-session").getAll(r)).sort((M,y)=>M.seq-y.seq).map(M=>({...M,timingStatus:M.timingStatus??Xe}))}async buildSessionBlob(r,m){const M=await(await ie()).transaction("chunks").store.index("by-session").getAll(r);if(M.length===0)return null;const T=M.sort((b,v)=>b.seq-v.seq).map(b=>b.blob);return new Blob(T,{type:m})}async storeChunkVolumeProfile(r){const d=(await ie()).transaction(["chunkVolumes","chunks"],"readwrite"),p=d.objectStore("chunkVolumes"),M=d.objectStore("chunks"),y=await p.get(r.chunkId),T=Date.now(),b={...r,id:r.chunkId,createdAt:y?.createdAt??T,updatedAt:T},v=Nh(b);await p.put(v);const N=await M.get(r.chunkId);N&&(N.verifiedAudioMsec=Math.round(r.durationMs),await M.put(N)),await d.done}async getChunkVolumeProfile(r){return await(await ie()).get("chunkVolumes",r)??null}async listChunkVolumeProfiles(r){const d=(await ie()).transaction("chunkVolumes").store;let p;return r?p=await d.index("by-session").getAll(r):p=await d.getAll(),p.map(y=>Nh(y)).sort((y,T)=>y.sessionId!==T.sessionId?y.sessionId.localeCompare(T.sessionId):y.seq!==T.seq?y.seq-T.seq:y.chunkStartMs-T.chunkStartMs)}async listSnips(r){const d=(await ie()).transaction("snips").store;let p;return r?p=await d.index("by-session").getAll(r):p=await d.getAll(),p.map(y=>ou(y)).sort((y,T)=>y.sessionId!==T.sessionId?y.sessionId.localeCompare(T.sessionId):y.index-T.index)}async appendSnips(r,m){const p=(await ie()).transaction("snips","readwrite"),M=p.objectStore("snips"),y=await M.index("by-session").getAll(r),T=new Map;y.forEach(N=>{T.set(N.index,N)});const b=Date.now();for(const N of m){if(T.has(N.index))continue;const E=Number.isFinite(N.startMs)?Math.max(0,N.startMs):0,q=Number.isFinite(N.endMs)?Math.max(E,N.endMs):E,$=Number.isFinite(N.durationMs)?Math.max(0,N.durationMs):Math.max(0,q-E),et={id:`${r}-snip-${N.index}`,sessionId:r,index:N.index,startMs:E,endMs:q,durationMs:$,breakReason:N.breakReason??null,boundaryIndex:typeof N.boundaryIndex=="number"?N.boundaryIndex:null,createdAt:b,updatedAt:b,transcription:null,transcriptionError:null,audioPurgedAt:null};await M.put(et),T.set(et.index,et)}return await p.done,Array.from(T.values()).map(N=>ou(N)).sort((N,E)=>N.index-E.index)}async updateSnipTranscription(r,m){const p=(await ie()).transaction("snips","readwrite"),M=p.objectStore("snips"),y=await M.get(r);if(!y)return await p.done,null;const T=ou({...y,transcription:m.transcription!==void 0?m.transcription:y.transcription,transcriptionError:m.transcriptionError!==void 0?m.transcriptionError:y.transcriptionError,updatedAt:Date.now()});return await M.put(T),await p.done,T}async deleteSession(r){const d=(await ie()).transaction(["sessions","chunks","chunkVolumes","snips"],"readwrite");await d.objectStore("sessions").delete(r);const M=d.objectStore("chunks").index("by-session");for(let N=await M.openCursor(r);N;N=await N.continue())await N.delete();const T=d.objectStore("chunkVolumes").index("by-session");for(let N=await T.openCursor(r);N;N=await N.continue())await N.delete();const v=d.objectStore("snips").index("by-session");for(let N=await v.openCursor(r);N;N=await N.continue())await N.delete();await d.done}async purgeLegacyMp4Sessions(){const m=(await this.listSessions()).filter(d=>/mp4|m4a/i.test(d.mimeType??""));for(const d of m)await this.deleteSession(d.id);return{deletedSessions:m.length}}async storageTotals(){const m=(await ie()).transaction("chunks").store;let d=0,p=await m.openCursor();for(;p;)d+=p.value.byteLength,p=await p.continue();return{totalBytes:d}}async applyRetentionPolicy(r){const m=typeof r.now=="number"?r.now:Date.now(),p=(await ie()).transaction(["chunks","snips","sessions"],"readwrite"),M=p.objectStore("chunks"),y=p.objectStore("snips"),T=p.objectStore("sessions"),[b,v,N]=await Promise.all([M.getAll(),y.getAll(),T.getAll()]),E=b.map(A=>({...A,timingStatus:A.timingStatus??Xe})),q=v.map(A=>ou(A)),$=N.map(A=>({...A,timingStatus:A.timingStatus??Xe})),et=E.reduce((A,V)=>A+V.byteLength,0);let F=et;const Et=Number.isFinite(r.limitBytes)?Math.max(0,r.limitBytes):et;if(F<=Et)return await p.done,{limitBytes:Et,beforeBytes:et,afterBytes:F,purgedChunkIds:[],purgedSnipIds:[],updatedSessionIds:[],ranAt:m};const ut=new Map($.map(A=>[A.id,A])),St=new Map;E.forEach(A=>{St.set(A.sessionId,(St.get(A.sessionId)??0)+A.byteLength)});const dt=new Map;q.forEach(A=>{const V=dt.get(A.sessionId);V?V.push(A):dt.set(A.sessionId,[A])}),dt.forEach(A=>A.sort((V,W)=>V.startMs-W.startMs));const H=1e12,P=new Map;E.forEach(A=>{const V=P.get(A.sessionId);(V===void 0||A.startMs<V)&&P.set(A.sessionId,A.startMs)});const mt=new Map;dt.forEach((A,V)=>{mt.set(V,A.some(W=>W.startMs>H||W.endMs>H))});const J=new Map;$.forEach(A=>{const V=Number.isFinite(A.startedAt)?Math.round(A.startedAt):P.get(A.id)??0,W=Number.isFinite(V)?V:0;J.set(A.id,{baseStartMs:W,baseIsAbsolute:W>H,snipIsAbsolute:mt.get(A.id)??!1})});const ct=4,Gt=(A,V)=>{const W=A.blob.type||V?.mimeType||"";if(!/mp4|m4a/i.test(W))return!1;const I=Math.max(0,A.endMs-A.startMs);return A.seq===0&&(I<=10||A.byteLength<4096)},ne=(A,V)=>{const{baseStartMs:W,baseIsAbsolute:I,snipIsAbsolute:lt}=V,S=I&&A.startMs>H,k=lt?S?A.startMs:I?W+A.startMs:A.startMs:S?A.startMs-W:A.startMs,tt=lt?S?A.endMs:I?W+A.endMs:A.endMs:S?A.endMs-W:A.endMs,nt=Number.isFinite(k)?k:0,yt=Number.isFinite(tt)?tt:nt;return{startMs:lt?nt:Math.max(0,nt),endMs:lt?yt:Math.max(Math.max(0,nt),yt)}},Ft=(A,V,W)=>{if(!A||A.length===0)return[];const I=V+ct,lt=W-ct;if(lt<=I)return[];const S=[];for(const k of A)if(!(k.endMs<=I)){if(k.startMs>=lt)break;S.push(k)}return S},Wt=[];for(const A of E){if(A.byteLength<=0||A.blob.size<=0)continue;const V=ut.get(A.sessionId)??null;if(Gt(A,V))continue;const W=dt.get(A.sessionId),I=J.get(A.sessionId)??{baseStartMs:0,baseIsAbsolute:!1,snipIsAbsolute:!1},lt=ne(A,I),S=Ft(W,lt.startMs,lt.endMs);S.length!==0&&S.every(k=>k.transcription&&!k.transcriptionError)&&Wt.push({chunk:A,snipIds:S.map(k=>k.id),session:V})}Wt.sort((A,V)=>{const W=A.chunk.createdAt??A.chunk.startMs,I=V.chunk.createdAt??V.chunk.startMs;return W!==I?W-I:A.chunk.seq-V.chunk.seq});const un=[],Oe=new Set,Ce=new Set;for(const A of Wt){if(F<=Et)break;const V=A.chunk,W=V.byteLength;if(W<=0)continue;const I=V.blob.type||A.session?.mimeType||"",lt={...V,blob:new Blob([],{type:I}),byteLength:0,audioPurgedAt:m};await M.put(lt),un.push(V.id),F=Math.max(0,F-W),St.set(V.sessionId,Math.max(0,(St.get(V.sessionId)??0)-W)),Ce.add(V.sessionId),A.snipIds.forEach(S=>Oe.add(S))}for(const A of Ce){const V=ut.get(A);if(!V)continue;const W=Math.max(0,St.get(A)??0);await T.put({...V,totalBytes:W,updatedAt:m,timingStatus:V.timingStatus??Xe})}for(const A of Oe){const V=await y.get(A);if(!V)continue;const W=ou(V);W.audioPurgedAt||await y.put({...W,audioPurgedAt:m,updatedAt:m})}return await p.done,{limitBytes:Et,beforeBytes:et,afterBytes:F,purgedChunkIds:un,purgedSnipIds:Array.from(Oe),updatedSessionIds:Array.from(Ce),ranAt:m}}async verifySessionChunkTimings(r){const d=(await ie()).transaction(["chunks","chunkVolumes","sessions"],"readwrite"),p=d.objectStore("chunks"),M=d.objectStore("chunkVolumes"),y=d.objectStore("sessions"),[T,b]=await Promise.all([y.get(r),p.index("by-session").getAll(r)]),v=T?{...T,timingStatus:T.timingStatus??Xe}:null;if(b.length===0)return await d.done,{sessionId:r,status:Xe,updatedChunkIds:[],missingChunkIds:[],totalVerifiedDurationMs:0,baseStartMs:v?.startedAt??null,verifiedChunkCount:0,session:v};const N=[...b].sort((J,ct)=>J.seq-ct.seq),E=new Array(N.length),q=[],$=v?.mimeType??"",F=/mp4|m4a/i.test($)?N.find(J=>J.seq===0&&(J.endMs-J.startMs<=10||J.byteLength<4096))??null:null;for(let J=0;J<N.length;J+=1){const ct=N[J];if(F?.id===ct.id){E[J]=0;continue}const ne=typeof ct.verifiedAudioMsec=="number"&&ct.verifiedAudioMsec>0?Math.round(ct.verifiedAudioMsec):null;if(ne!==null){E[J]=ne;continue}const Ft=await M.get(ct.id);if(Ft&&typeof Ft.durationMs=="number"&&Ft.durationMs>0){E[J]=Math.round(Ft.durationMs);continue}q.push(ct.id)}const Et=F?.startMs??v?.startedAt??N[0]?.startMs??Date.now(),ut=Number.isFinite(Et)?Math.round(Et):Date.now();if(q.length>0)return T&&T.timingStatus!==Xe&&await y.put({...T,timingStatus:Xe}),await d.done,{sessionId:r,status:Xe,updatedChunkIds:[],missingChunkIds:q,totalVerifiedDurationMs:0,baseStartMs:ut,verifiedChunkCount:N.filter((J,ct)=>E[ct]>0).length,session:v};const St=sy(ut,N.map((J,ct)=>({id:J.id,seq:J.seq,durationMs:E[ct]}))),dt=[];let H=0,P=0;for(let J=0;J<St.length;J+=1){const ct=N[J],Gt=St[J],ne={...ct,startMs:Gt.startMs,endMs:Gt.endMs,verifiedAudioMsec:Gt.durationMs,timingStatus:"verified"};(ct.startMs!==ne.startMs||ct.endMs!==ne.endMs||(ct.verifiedAudioMsec??0)!==ne.verifiedAudioMsec||ct.timingStatus!=="verified")&&(await p.put(ne),dt.push(ne.id)),N[J]=ne,Gt.durationMs>0&&(P+=1,H+=Math.max(0,Gt.durationMs))}let mt=v;if(T){const J=Math.max(0,Math.round(H)),ct={...T,timingStatus:"verified",durationMs:Math.max(T.durationMs,J),updatedAt:Date.now()};await y.put(ct),mt={...ct}}return await d.done,{sessionId:r,status:"verified",updatedChunkIds:dt,missingChunkIds:[],totalVerifiedDurationMs:Math.max(0,Math.round(H)),baseStartMs:ut,verifiedChunkCount:P,session:mt}}async reconcileDanglingSessions(){const m=(await ie()).transaction(["sessions","chunks"],"readwrite"),d=m.objectStore("sessions"),p=m.objectStore("chunks"),M=await d.getAll(),y=Date.now();for(const T of M){if(T.status!=="recording")continue;const b=await p.index("by-session").getAll(T.id);if(b.length===0)await d.put({...T,status:"error",notes:"No audio captured (session interrupted).",updatedAt:y,totalBytes:0,chunkCount:0,durationMs:0,timingStatus:T.timingStatus??Xe});else{const v=b.reduce((E,q)=>E+q.byteLength,0),N=Math.max(T.durationMs,Math.max(...b.map(E=>E.endMs))-T.startedAt);await d.put({...T,status:"ready",notes:T.notes,updatedAt:y,totalBytes:v,chunkCount:b.length,durationMs:N,timingStatus:T.timingStatus??Xe})}}await m.done}async getChunksForInspection(){const d=(await(await ie()).transaction("chunks").store.getAll()).sort((p,M)=>p.startMs!==M.startMs?M.startMs-p.startMs:p.seq!==M.seq?M.seq-p.seq:(M.createdAt??0)-(p.createdAt??0));return Promise.all(d.map(async({blob:p,...M})=>{let y=null;try{y=(await p.arrayBuffer()).byteLength}catch(T){console.warn("[Manifest] Failed to read chunk blob for inspection",T)}return{...M,timingStatus:M.timingStatus??Xe,blobSize:p.size,blobType:p.type,verifiedByteLength:y,sizeMismatch:y!==null&&y!==p.size,startIso:new Date(M.startMs).toISOString(),endIso:new Date(M.endMs).toISOString(),blob:"[binary omitted]"}}))}async createLogSession(){const m=(await ie()).transaction(["logSessions","logEntries"],"readwrite"),d=m.objectStore("logSessions"),M={id:crypto.randomUUID(),startedAt:Date.now()};await d.put(M);const y=await d.getAll();if(y.length>jh){const b=y.sort((N,E)=>N.startedAt-E.startedAt).slice(0,y.length-jh),v=m.objectStore("logEntries");for(const N of b){await d.delete(N.id);for(let E=await v.index("by-session").openCursor(N.id);E;E=await E.continue())await E.delete()}}return await m.done,M}async finishLogSession(r){const d=(await ie()).transaction("logSessions","readwrite").objectStore("logSessions"),p=await d.get(r);p&&(p.endedAt=Date.now(),await d.put(p))}async appendLogEntry(r){await(await ie()).transaction("logEntries","readwrite").objectStore("logEntries").add({...r})}async listLogSessions(){return(await(await ie()).transaction("logSessions").store.getAll()).sort((d,p)=>p.startedAt-d.startedAt)}async getLogEntries(r,m=250){const p=(await ie()).transaction("logEntries").store.index("by-session"),M=[];for(let y=await p.openCursor(r,"prev");y&&M.length<m;y=await y.continue())M.push(y.value);return M.sort((y,T)=>y.timestamp-T.timestamp)}}const bt=new cy,Rh=120,pi=[];let Rc=!1,ld=null,Za=null;async function ry(){return Za||(Za=await bt.createLogSession(),await Ht("Logger initialised")),fy(),Za}async function oy(){Za&&(await Ht("Logger shutting down"),await bt.finishLogSession(Za.id),Za=null),my()}async function Oc(o,r,m){if(Za)try{await bt.appendLogEntry({sessionId:Za.id,timestamp:Date.now(),level:o,message:r,details:m})}catch(d){console.warn("[Logger] Failed to persist log entry",d)}}function zh(o,r){return Oc("debug",o,r)}function Ht(o,r){return Oc("info",o,r)}function mn(o,r){return Oc("warn",o,r)}function Pe(o,r){return Oc("error",o,r)}function Oh(){return Za}const dy=o=>{if(!o)return"unknown";if(o instanceof HTMLElement){let r=o.tagName.toLowerCase();o.id?r+=`#${o.id}`:o.classList.length>0&&(r+=`.${o.classList[0]}`);const m=o;return m.src?r+=` src=${m.src}`:m.href&&(r+=` href=${m.href}`),r}return o.constructor?.name??"unknown"},Jo=o=>{pi.push(o),pi.length>Rh&&pi.splice(0,pi.length-Rh)};function fy(){if(Rc||typeof window>"u")return;Rc=!0;const o=m=>{const d=Date.now();if(m instanceof ErrorEvent){Jo({timestamp:d,type:"error",message:m.message||"Uncaught error",stack:m.error instanceof Error?m.error.stack:void 0,filename:m.filename||void 0,lineno:m.lineno||void 0,colno:m.colno||void 0});return}Jo({timestamp:d,type:"resource",message:"Resource error",target:dy(m.target)})},r=m=>{const d=Date.now(),p=m.reason,M=p instanceof Error?p.message:String(p);Jo({timestamp:d,type:"unhandledrejection",message:M||"Unhandled promise rejection",stack:p instanceof Error?p.stack:void 0,reason:p instanceof Error?void 0:String(p)})};window.addEventListener("error",o,!0),window.addEventListener("unhandledrejection",r),ld=()=>{window.removeEventListener("error",o,!0),window.removeEventListener("unhandledrejection",r)}}function my(){Rc&&(ld?.(),ld=null,Rc=!1)}function hy(o){return Number.isFinite(o)?pi.filter(r=>r.timestamp>=o):[]}async function py(o,r={}){if(!o||!Number.isFinite(o)){await Ht("Global error snapshot skipped (missing timestamp)",r);return}const m=hy(o),d={...r,since:o,capturedCount:m.length,bufferSize:pi.length,entries:m.slice(-20)};if(m.length===0){await Ht("No global errors captured during recording start window",d);return}await mn("Global errors captured during recording start window",d)}const gy={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}},du="audio/mpeg",_h=9e3,yy=o=>({id:o.id,label:o.label,enabled:o.enabled,muted:o.muted,readyState:o.readyState,settings:typeof o.getSettings=="function"?o.getSettings():void 0,constraints:typeof o.getConstraints=="function"?o.getConstraints():void 0}),kh=o=>{if(!o)return null;const r=o.getAudioTracks();return{active:o.active,trackCount:r.length,tracks:r.map(m=>yy(m))}},Uh=o=>{if(!o)return null;const r="outputLatency"in o?o.outputLatency:null;return{state:o.state,sampleRate:o.sampleRate,baseLatency:Number.isFinite(o.baseLatency)?o.baseLatency:null,outputLatency:Number.isFinite(r)?r:null}},vy=o=>{const r=new Int16Array(o.length);for(let m=0;m<o.length;m+=1){const d=Math.max(-1,Math.min(1,o[m]));r[m]=d<0?Math.round(d*32768):Math.round(d*32767)}return r};class by{#t=null;#a=null;#n=null;#e=null;#i=null;#l=null;#f=0;#m=Promise.resolve();#r=0;#u=48e3;#g=64;#p=0;#h=0;#b=0;#M=0;#o=[];#c=0;#S=new Set;#s={sessionId:null,state:"idle",startedAt:null,lastChunkAt:null,capturedMs:0,bytesBuffered:0,mimeType:null,chunksRecorded:0};#y=null;#v=!1;get state(){return this.#s}#d(r){this.#s={...this.#s,...r},this.#S.forEach(m=>m(this.#s))}async start(r){if(this.#s.state==="recording"||this.#s.state==="starting")throw new Error("Recorder already running");this.#d({state:"starting",error:void 0,capturedMs:0}),await bt.init(),await Ht("Requesting microphone stream");const m=await navigator.mediaDevices.getUserMedia(gy);await Ht("Microphone stream acquired",{stream:kh(m)});const d=window.AudioContext||window.webkitAudioContext;if(typeof d!="function")throw new Error("AudioContext unavailable");const p=new d;await p.resume().catch(()=>{});const M=p.createMediaStreamSource(m),y=p.createScriptProcessor(4096,1,1),T=p.createGain();T.gain.value=0,M.connect(y),y.connect(T),T.connect(p.destination),this.#t=m,this.#a=p,this.#n=M,this.#e=y,this.#i=T,this.#l=r.sessionId,this.#f=0,this.#o=[],this.#c=0,this.#h=0,this.#b=0,this.#r=Date.now(),this.#u=p.sampleRate,this.#g=Math.max(8,Math.round(r.targetBitrate/1e3)),this.#p=Math.max(1,Math.round(r.chunkDurationMs/1e3*this.#u)),this.#M=Math.max(1,Math.round(this.#u/10)),this.#v=!1,await Ht("PCM capture started",{sessionId:r.sessionId,startedAt:this.#r,sampleRate:this.#u,chunkDurationMs:r.chunkDurationMs,mp3Kbps:this.#g,audioContext:Uh(p)}),await Lg(),await bt.updateSession(r.sessionId,{startedAt:this.#r,updatedAt:this.#r,mimeType:du,status:"recording"}),this.#d({state:"recording",sessionId:r.sessionId,startedAt:this.#r,lastChunkAt:this.#r,capturedMs:0,mimeType:du,bytesBuffered:0,chunksRecorded:0}),y.onaudioprocess=b=>{if(!this.#l||this.#s.state!=="recording")return;this.#v=!0;const v=b.inputBuffer.getChannelData(0),N=vy(v);this.#o.push(N),this.#c+=N.length;const E=this.#h+this.#c;if(E-this.#b>=this.#M){this.#b=E;const q=Math.round(E/this.#u*1e3);this.#d({capturedMs:q})}this.#c>=this.#p&&this.#A().catch(q=>{console.error("[PCM Capture] chunk flush failed",q),this.#d({state:"error",error:q instanceof Error?q.message:String(q)}),Pe("PCM chunk flush failed",{sessionId:this.#l,error:q instanceof Error?q.message:String(q)})})},this.#C()}async#A(){if(!this.#l||this.#c<this.#p)return;const r=this.#p,m=[];let d=r;for(;d>0&&this.#o.length>0;){const p=this.#o[0];p.length<=d?(m.push(p),this.#o.shift(),d-=p.length):(m.push(p.subarray(0,d)),this.#o[0]=p.subarray(d),d=0)}this.#c-=r,await this.#x(m)}async#T(){if(!this.#l||this.#c<=0)return;const r=this.#o;this.#o=[],this.#c=0,await this.#x(r)}async#x(r){if(!this.#l)return;const m=this.#l,d=this.#f++,p=qg(),M=new p(1,this.#u,this.#g),y=[];let T=0;for(const $ of r){if($.length===0)continue;T+=$.length;const et=M.encodeBuffer($);if(et.length>0){const F=new Uint8Array(et.length);F.set(et),y.push(F)}}const b=M.flush();if(b.length>0){const $=new Uint8Array(b.length);$.set(b),y.push($)}const v=new Blob(y,{type:du}),N=this.#r+Math.round(this.#h/this.#u*1e3),E=this.#r+Math.round((this.#h+T)/this.#u*1e3);this.#h+=T;const q=`${m}-chunk-${d}`;zh("PCM chunk encoded",{sessionId:m,seq:d,sampleRate:this.#u,samples:T,durationMs:E-N,mp3Bytes:v.size,mp3Kbps:this.#g,chunkStartMs:N,chunkEndMs:E}),this.#m=this.#m.then(()=>bt.appendChunk({id:q,sessionId:m,seq:d,startMs:N,endMs:E,verifiedAudioMsec:null},v)).then(async()=>{this.#d({lastChunkAt:E,bytesBuffered:this.#s.bytesBuffered+v.size,chunksRecorded:this.#s.chunksRecorded+1}),await Ht("Chunk persisted",{sessionId:m,seq:d,size:v.size,startMs:N,endMs:E,mimeType:du});try{const $=await ep(v,{chunkId:q,sessionId:m,seq:d,chunkStartMs:N,chunkEndMs:E});await bt.storeChunkVolumeProfile($),zh("Chunk volume profile stored",{sessionId:m,seq:d,frameCount:$.frames.length})}catch($){mn("Chunk volume profile failed",{sessionId:m,seq:d,error:$ instanceof Error?$.message:String($)})}})}async stop(){if(this.#s.state!=="recording")return;this.#d({state:"stopping"}),this.#E(),await this.#T(),await this.flushPending();const r=this.#l;let m;if(r){const d=await bt.getChunkMetadata(r),p=d.some(v=>v.byteLength>0&&v.endMs>v.startMs),M=p?"ready":"error",y=d.length>0?d[d.length-1].endMs-d[0].startMs:0,T=d.reduce((v,N)=>v+N.byteLength,0);p||(m=d.length===0?"Error: no audio captured. Check microphone access and try again.":"Error: captured audio contained no playable samples.",await Pe("Session completed without playable audio",{sessionId:r,chunkCount:d.length,totalBytes:T,mimeType:du}));const b={status:M,updatedAt:Date.now(),durationMs:y,totalBytes:T,chunkCount:d.length};m&&(b.notes=m),await bt.updateSession(r,b),await Ht("Session timing reconciled",{sessionId:r,status:M,durationMs:y,totalBytes:T,chunkCount:d.length,hasPlayableChunk:p})}this.#w(),this.#l=null,this.#d({state:"idle",sessionId:null,startedAt:null,lastChunkAt:null,capturedMs:0,mimeType:null,chunksRecorded:0,bytesBuffered:0,error:m})}async flushPending(){await this.#m}attachAnalysisPort(r){}#w(){if(this.#e){this.#e.onaudioprocess=null;try{this.#e.disconnect()}catch{}this.#e=null}if(this.#n){try{this.#n.disconnect()}catch{}this.#n=null}if(this.#i){try{this.#i.disconnect()}catch{}this.#i=null}this.#a&&(this.#a.close().catch(()=>{}),this.#a=null),this.#t&&(this.#t.getTracks().forEach(r=>r.stop()),this.#t=null)}#C(){this.#E(),this.#y=window.setTimeout(()=>{!this.#v&&this.#s.state==="recording"&&(this.#d({error:"No audio detected  recording may be muted."}),mn("No PCM audio callback detected within timeout",{sessionId:this.#l,timeoutMs:_h,diagnostics:this.getDiagnostics()}))},_h)}#E(){this.#y!==null&&(window.clearTimeout(this.#y),this.#y=null)}getDiagnostics(){const r=this.#e,m=!!(this.#n||this.#e||this.#i);return{sessionId:this.#l,state:this.#s.state,startedAt:this.#s.startedAt,audioContext:Uh(this.#a),stream:kh(this.#t),audioGraph:m?{hasSource:!!this.#n,hasProcessor:!!this.#e,hasMuteGain:!!this.#i,processorBufferSize:typeof r?.bufferSize=="number"?r.bufferSize:null,channelCount:typeof r?.channelCount=="number"?r.channelCount:null,channelCountMode:r?.channelCountMode??null,channelInterpretation:r?.channelInterpretation??null}:null,processing:{hasSeenAudioProcess:this.#v,pendingSamples:this.#c,totalSamplesWritten:this.#h,chunkTargetSamples:this.#p,sampleRate:this.#u}}}subscribe(r){return this.#S.add(r),r(this.#s),()=>this.#S.delete(r)}}const bs=new by,sn={desiredActive:!1,sentinel:null,pending:!1,supportLogged:!1,listenersAttached:!1},Io=()=>typeof document>"u"?"unknown":document.visibilityState??"unknown",Sy=()=>{if(typeof navigator>"u")return null;const o=navigator.wakeLock;return!o||typeof o.request!="function"?null:o},od=async o=>{if(!sn.desiredActive||sn.pending||sn.sentinel)return;const r=Sy();if(!r){sn.supportLogged||(sn.supportLogged=!0,await mn("Wake Lock API unavailable; screen may sleep during recording",{reason:o,userAgent:typeof navigator<"u"?navigator.userAgent:"unknown"}));return}if(typeof document<"u"&&document.visibilityState!=="visible"){await Ht("Wake lock request deferred until page is visible",{reason:o,visibility:Io()});return}sn.pending=!0;try{const m=await r.request("screen");sn.sentinel=m,m.addEventListener("release",()=>{sn.sentinel=null,sn.desiredActive&&(mn("Wake lock released unexpectedly; retrying",{visibility:Io()}),od("released"))}),await Ht("Wake lock acquired for recording",{reason:o})}catch(m){await mn("Wake lock request failed",{reason:o,visibility:Io(),error:m instanceof Error?m.message:String(m)})}finally{sn.pending=!1}},My=async o=>{const r=sn.sentinel;if(r){sn.sentinel=null;try{r.released||await r.release(),await Ht("Wake lock released after recording",{reason:o})}catch(m){await mn("Wake lock release failed",{reason:o,error:m instanceof Error?m.message:String(m)})}}},xy=()=>{sn.listenersAttached||typeof document>"u"||(sn.listenersAttached=!0,document.addEventListener("visibilitychange",()=>{sn.desiredActive&&document.visibilityState==="visible"&&od("visibilitychange")}))},Nc=async(o,r)=>{if(sn.desiredActive=o,o){await od(r);return}await My(r)},fu=o=>{if(!Number.isFinite(o)||o<=0)return"0.0s";const r=o/1e3;if(r<10)return`${r.toFixed(1)}s`;if(r<60)return`${r.toFixed(0)}s`;const m=Math.floor(r/60),d=r%60;return`${m}m ${d.toFixed(0).padStart(2,"0")}s`},Ey=10,Ay=75e3,Bh=720,Lh=12,Ty=.75,wy=.1,qh=3,Hh=7,Gh=(o,r=Ey)=>{if(!Number.isFinite(o)||o<=0)return 0;const m=Math.min(1,Math.max(0,o)),d=Math.log10(1+(r-1)*m),p=Math.log10(r);if(!Number.isFinite(d)||!Number.isFinite(p)||p===0)return m;const M=d/p;return Math.min(1,Math.max(0,M))},Cy=1,Dy=(o,r,m,d,p)=>{if(o.length===0||r<=0||d<=0)return[];const M=[...o].sort((E,q)=>E.startMs!==q.startMs?E.startMs-q.startMs:E.endMs!==q.endMs?E.endMs-q.endMs:E.index-q.index),y=[];let T=[],b=0,v=-1/0;const N=()=>{T.length>1&&(T.push(`L ${b.toFixed(2)} ${m}`),T.push("Z"),y.push(T.join(" "))),T=[]};return M.forEach((E,q)=>{const $=(E.startMs+E.endMs)/2,et=Math.min(d,Math.max(0,E.startMs/r*d)),F=Math.min(d,Math.max(0,E.endMs/r*d)),Et=Math.min(d,Math.max(0,$/r*d)),ut=p(E.normalized),St=Math.max(0,Math.min(m,(1-ut)*m));(T.length===0||$+Cy<v)&&(N(),T=[`M ${et.toFixed(2)} ${m}`]),T.push(`L ${Et.toFixed(2)} ${St.toFixed(2)}`),b=Math.max(F,b),v=$,q===M.length-1&&N()}),T.length>0&&N(),y},Ny=(o,r,m)=>o.map(d=>{const p=d.startMs/r*m,M=(d.endMs-d.startMs)/r*m;return{x:p,rectWidth:M}}),jy=(o,r,m)=>o.map(d=>({x:d.positionMs/r*m})),Ry=o=>o.map(r=>({id:r.index,label:r.breakReason==="end"?"Tail":`Segment #${r.index+1}`,durationMs:r.durationMs,startMs:r.startMs,endMs:r.endMs,breakReason:r.breakReason})),zy=({analysis:o,targetRange:r,playback:m})=>{const d=D.useRef(null),p=D.useRef(null),[M,y]=D.useState(!1),[T,b]=D.useState(!1),[v,N]=D.useState(!1),E=120,q=o.stats.totalDurationMs,$=q>0?q:o.stats.frameCount*o.stats.frameDurationMs,et=typeof window<"u"?Math.min(960,Math.max(Bh,Math.floor(window.innerWidth*.8))):Bh,F=$>0?Math.max(et,Math.round($/Ay*et)):et,Et=D.useId(),ut=m?.positionMs??null,St=$>0&&F>0,dt=ut===null||!St?null:Math.min(Math.max(ut,0),$),H=dt===null||!St?null:dt/$,P=H===null?null:H*F,mt=D.useMemo(()=>{if(P===null||!St)return null;const I=Math.min(F,Math.max(0,P)),lt=S=>Math.max(0,Math.min(Math.max(F-S,0),I-S/2));return{center:I,mainX:lt(qh),mainWidth:qh,glowX:lt(Hh),glowWidth:Hh}},[St,P,F]),J=!!m?.isPlaying,ct=D.useCallback(()=>{const I=d.current;if(!I){b(!1),N(!1);return}const{scrollLeft:lt,clientWidth:S,scrollWidth:k}=I;b(lt>Lh),N(lt+S<k-Lh)},[]),Gt=D.useCallback(I=>{M&&I.preventDefault(),ct()},[M,ct]),ne=D.useCallback(I=>{const lt=d.current;lt&&(lt.setPointerCapture(I.pointerId),p.current={pointerId:I.pointerId,startX:I.clientX,scrollLeft:lt.scrollLeft},y(!0))},[]),Ft=D.useCallback(I=>{const lt=d.current,S=p.current;if(!lt||!S||S.pointerId!==I.pointerId)return;I.preventDefault();const k=I.clientX-S.startX;lt.scrollLeft=S.scrollLeft-k,ct()},[ct]),Wt=D.useCallback(I=>{const lt=d.current,S=p.current;!lt||!S||S.pointerId!==I.pointerId||(lt.releasePointerCapture(I.pointerId),p.current=null,y(!1),ct())},[ct]);D.useEffect(()=>{ct()},[F,ct]),D.useEffect(()=>{const I=d.current;if(!I||mt===null||M||!J)return;const lt=I.clientWidth;if(lt<=0)return;const S=Math.max(0,I.scrollWidth-lt);if(S<=0)return;const k=I.scrollLeft,tt=k,nt=k+lt,yt=lt*Ty,jt=lt*wy;let At=null;mt.center>=tt+yt?At=Math.min(S,mt.center-yt):mt.center<=tt?At=Math.max(0,mt.center-jt):mt.center>=nt&&(At=Math.min(S,mt.center-yt)),At!==null&&Math.abs(At-k)>.5&&(typeof I.scrollTo=="function"?I.scrollTo({left:At,behavior:"smooth"}):I.scrollLeft=At,typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(()=>{ct()}):ct())},[M,J,mt,ct]);const un=D.useMemo(()=>Dy(o.frames,$,E,F,Gh),[o.frames,$,E,F]),Oe=D.useMemo(()=>Ny(o.quietRegions,$,F),[o.quietRegions,$,F]),Ce=D.useMemo(()=>jy(o.boundaries,$,F),[o.boundaries,$,F]),A=D.useMemo(()=>Ry(o.segments),[o.segments]),V=(1-Gh(o.stats.normalizedThreshold))*E,W=["chunking-graph-scroll",M?"is-dragging":"",T?"show-left-indicator":"",v?"show-right-indicator":""].filter(Boolean).join(" ");return f.jsxs("div",{className:"chunking-graph",children:[f.jsxs("header",{className:"chunking-graph-header",children:[f.jsx("h4",{children:"Volume histogram"}),f.jsxs("div",{className:"chunking-graph-meta",children:[f.jsxs("span",{children:["Frames: ",o.stats.frameCount]}),f.jsxs("span",{children:["Duration: ",fu($)]})]})]}),f.jsxs("div",{className:"chunking-graph-body",children:[f.jsx("div",{className:W,ref:d,onScroll:Gt,onPointerDown:ne,onPointerMove:Ft,onPointerUp:Wt,onPointerCancel:Wt,onPointerLeave:I=>{M&&Wt(I)},children:f.jsxs("svg",{className:"chunking-graph-svg",role:"img",viewBox:`0 0 ${F} ${E}`,width:F,height:E,"aria-label":"Volume histogram with proposed chunk boundaries",preserveAspectRatio:"none",children:[f.jsx("rect",{x:0,y:0,width:F,height:E,fill:"rgba(15, 23, 42, 0.85)"}),Oe.map((I,lt)=>f.jsx("rect",{x:I.x,y:0,width:Math.max(1.5,I.rectWidth),height:E,fill:"rgba(56, 189, 248, 0.12)"},`quiet-${lt}`)),un.map((I,lt)=>f.jsx("path",{d:I,fill:`url(#${Et})`,stroke:"rgba(94, 234, 212, 0.48)",strokeWidth:1},`histogram-${lt}`)),mt?f.jsxs("g",{className:"chunking-playback-indicator","aria-hidden":"true",children:[f.jsx("rect",{x:mt.glowX,y:0,width:mt.glowWidth,height:E,fill:"rgba(34, 197, 94, 0.28)"}),f.jsx("rect",{x:mt.mainX,y:0,width:mt.mainWidth,height:E,fill:"rgba(34, 197, 94, 0.95)"})]}):null,f.jsx("line",{x1:0,y1:V,x2:F,y2:V,strokeDasharray:"6 6",stroke:"rgba(250, 204, 21, 0.9)",strokeWidth:1}),Ce.map((I,lt)=>f.jsxs("g",{children:[f.jsx("rect",{x:I.x-2,y:0,width:4,height:E,fill:"rgba(251, 146, 60, 0.24)"}),f.jsx("line",{x1:I.x,y1:0,x2:I.x,y2:E,stroke:"#facc15",strokeWidth:1.5})]},`boundary-${lt}`)),f.jsx("defs",{children:f.jsxs("linearGradient",{id:Et,x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"rgba(94, 234, 212, 0.55)"}),f.jsx("stop",{offset:"100%",stopColor:"rgba(56, 189, 248, 0.15)"})]})})]})}),r?f.jsxs("div",{className:"chunking-target-hint",children:["Target chunk length: ",fu(r.minMs),"  ",fu(r.maxMs)," (ideal"," ",fu(r.idealMs),")"]}):null,f.jsxs("dl",{className:"chunking-stats",children:[f.jsxs("div",{children:[f.jsx("dt",{children:"Noise floor"}),f.jsx("dd",{children:o.stats.noiseFloor.toFixed(5)})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Silence threshold"}),f.jsx("dd",{children:o.stats.threshold.toFixed(5)})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Peak RMS"}),f.jsx("dd",{children:o.stats.maxRms.toFixed(5)})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Quiet regions"}),f.jsx("dd",{children:o.quietRegions.length})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Proposed breaks"}),f.jsx("dd",{children:o.boundaries.length})]})]})]}),f.jsxs("div",{className:"chunking-chunk-list",children:[f.jsx("h5",{children:"Proposed chunks"}),A.length===0?f.jsx("p",{className:"chunking-empty",children:"No proposed breaks yet. Recording may be too short or lacks silence."}):f.jsx("ul",{children:A.map(I=>f.jsxs("li",{children:[f.jsx("span",{className:"chunking-chunk-label",children:I.label}),f.jsx("span",{children:fu(I.durationMs)})]},I.id))})]})]})},Oy=D.memo(zy),_y=/mp4|m4a/i,ky=3;class sd{#t;#a=!1;#n=new Map;#e=new Map;constructor(r=bt){this.#t=r}async#i(){this.#a||(await this.#t.init(),this.#a=!0)}async ensureTimings(r){await this.#i();const m=this.#n.get(r);if(m)return m;const d=this.#t.verifySessionChunkTimings(r).then(p=>(this.#n.delete(r),p)).catch(p=>{throw this.#n.delete(r),p});return this.#n.set(r,d),d}async prepareAnalysisForSession(r){const{session:m,forceRefresh:d=!1}=r;await this.#i();let p=await this.ensureTimings(m.id);p.status!=="verified"&&p.missingChunkIds.length>0&&(await this.#f(m,p.missingChunkIds,r.mimeTypeHint),p=await this.ensureTimings(m.id));const y=(await this.#t.listChunkVolumeProfiles(m.id)).filter(P=>P.sessionId===m.id&&P.seq>=0).sort((P,mt)=>P.seq-mt.seq),T=y.reduce((P,mt)=>Math.max(P,mt.updatedAt??mt.createdAt??0),0),b=[`timeline-v${ky}`,m.id,m.chunkCount,m.updatedAt??0,p.totalVerifiedDurationMs,p.status,T].join(":");if(!d){const P=this.#e.get(m.id);if(P&&P.cacheKey===b)return{sessionId:m.id,cacheKey:b,analysis:P.analysis,verification:p,frames:P.frames}}const v=await this.#t.getChunkMetadata(m.id),N=/mp4|m4a/i.test(m.mimeType??r.mimeTypeHint??""),E=[...v].filter(P=>P.seq>=0).sort((P,mt)=>P.seq-mt.seq).filter(P=>!N||P.seq!==0?!0:!(Math.max(0,P.endMs-P.startMs)<=10||P.byteLength<4096)),q=new Map;E.forEach(P=>{const mt=typeof P.verifiedAudioMsec=="number"&&P.verifiedAudioMsec>0?Math.round(P.verifiedAudioMsec):0,J=Math.max(0,Math.round(P.endMs-P.startMs)),ct=mt>0?mt:J;q.set(P.seq,ct)});const $=typeof p.totalVerifiedDurationMs=="number"&&p.totalVerifiedDurationMs>0?Math.round(p.totalVerifiedDurationMs):E.reduce((P,mt)=>P+Math.max(0,Math.round(mt.endMs-mt.startMs)),0),et=new Map;y.forEach(P=>{et.set(P.seq,P)});const F=p.baseStartMs??m.startedAt,{frames:Et,sampleRate:ut,frameDurationMs:St,totalDurationMs:dt}=this.#l({orderedChunkSeq:E.map(P=>P.seq),profilesBySeq:et,durationsBySeq:q,durationLimitMs:$,baseStartMs:F}),H=Et.length>0?tp(Et,{totalDurationMs:dt,sampleRate:ut,frameDurationMs:St}):null;return H?this.#e.set(m.id,{cacheKey:b,analysis:H,frames:Et}):this.#e.delete(m.id),{sessionId:m.id,cacheKey:b,analysis:H,verification:p,frames:Et}}#l({orderedChunkSeq:r,profilesBySeq:m,durationsBySeq:d,durationLimitMs:p,baseStartMs:M}){let y=0;const T=[];let b=0,v=0,N=gi.frameDurationMs;return r.forEach(E=>{const q=m.get(E)??null,$=q&&Array.isArray(q.frames)?q.frames:[],et=q&&q.frameDurationMs>0?q.frameDurationMs:gi.frameDurationMs,F=d.get(E)??0,Et=Math.max(0,Math.round((q?.durationMs??0)||$.length*et)),ut=F>0?F:Et;if(p>0&&y>=p)return;const St=y,dt=p>0?Math.max(0,Math.min(ut,p-y)):ut,H=dt>0?Math.ceil(dt/et):$.length;let P=$;if(q&&$.length>0&&F>0){const J=Math.max(0,q.durationMs??$.length*et),ct=Math.max(0,Math.round(q.chunkStartMs-M)),Gt=Math.max(ct,Math.round(q.chunkEndMs-M));if(J>F*1.5&&J>Gt*.8){const Ft=Math.max(0,Math.floor(ct/et)),Wt=Math.min($.length,Math.ceil(Gt/et));P=$.slice(Ft,Math.max(Ft,Wt))}}const mt=Math.max(0,Math.min(P.length,H));for(let J=0;J<mt;J+=1){const ct=P[J],Gt=Number.isFinite(ct)?Math.max(0,ct):0,ne=St+J*et,Ft=Math.min(St+dt,ne+et);T.push({index:b,startMs:ne,endMs:Ft,rms:Gt,normalized:Gt}),b+=1}for(let J=mt;J<H;J+=1){const ct=St+J*et,Gt=Math.min(St+dt,ct+et);if(Gt<=ct)break;T.push({index:b,startMs:ct,endMs:Gt,rms:0,normalized:0}),b+=1}y+=dt,N=et,v===0&&q&&q.sampleRate>0&&(v=q.sampleRate)}),{frames:T,sampleRate:v,frameDurationMs:N,totalDurationMs:p>0?Math.min(y,p):y}}async#f(r,m,d){if(m.length===0)return;const p=await this.#t.getChunkData(r.id);if(p.length===0)return;const y=(p.find(v=>v.seq===0)??null)?.blob??null,T=y?.type??r.mimeType??d??"audio/mp4",b=p.filter(v=>v.seq>0&&v.blob.size>0&&m.includes(v.id));for(const v of b)try{let N=v.blob;y&&_y.test(T)&&(N=new Blob([y,v.blob],{type:y.type||v.blob.type||T}));const E=await ep(N,{chunkId:v.id,sessionId:r.id,seq:v.seq,chunkStartMs:v.startMs,chunkEndMs:v.endMs});await this.#t.storeChunkVolumeProfile(E)}catch(N){console.warn("[SessionAnalysisProvider] Failed to regenerate chunk volume profile",{sessionId:r.id,chunkId:v.id,error:N})}}}const Yh=/mp4|m4a/i,Uy=15e3,jc=(o,r,m)=>{for(let d=0;d<m.length;d+=1)o.setUint8(r+d,m.charCodeAt(d))},By=(o,r)=>{const M=r*2,y=o.length*2,T=new ArrayBuffer(44+y),b=new DataView(T);jc(b,0,"RIFF"),b.setUint32(4,36+y,!0),jc(b,8,"WAVE"),jc(b,12,"fmt "),b.setUint32(16,16,!0),b.setUint16(20,1,!0),b.setUint16(22,1,!0),b.setUint32(24,r,!0),b.setUint32(28,M,!0),b.setUint16(32,2,!0),b.setUint16(34,16,!0),jc(b,36,"data"),b.setUint32(40,y,!0);let v=44;for(let N=0;N<o.length;N+=1){const E=Math.max(-1,Math.min(1,o[N])),q=E<0?Math.round(E*32768):Math.round(E*32767);b.setInt16(v,q,!0),v+=2}return new Blob([T],{type:"audio/wav"})},Vh=(o,r,m)=>{const d=o.sampleRate,p=Math.max(0,Math.floor(r/1e3*d)),M=Math.min(o.length,Math.ceil(m/1e3*d)),y=Math.max(0,M-p);if(y===0)return{samples:new Float32Array(0),sampleRate:d,durationMs:0,startMs:r,endMs:r};if(o.numberOfChannels===1){const v=o.getChannelData(0).slice(p,M),N=v.length/d*1e3;return{samples:v,sampleRate:d,durationMs:N,startMs:r,endMs:r+N}}const T=new Float32Array(y);for(let v=0;v<o.numberOfChannels;v+=1){const N=o.getChannelData(v);for(let E=0;E<y;E+=1)T[E]+=N[p+E]/o.numberOfChannels}const b=T.length/d*1e3;return{samples:T,sampleRate:d,durationMs:b,startMs:r,endMs:r+b}};class Ly{#t;#a;#n=null;constructor(r=bt,m){this.#t=r,this.#a=m??new sd(r)}async#e(){await this.#t.init()}async listChunks(r){return await this.#e(),await this.#t.getChunkData(r)}async listSnips(r,m){await this.#e();const d=await this.#t.listSnips(r.id),p=d.length>0?d[d.length-1].endMs:0,M=Math.max(0,r.durationMs??0),y=r.status==="recording",T=y?Uy:0,b=y?gi.minSegmentMs+T:0,v=Math.max(0,M-p);if(!(d.length===0||(y?v>=b:M>0&&p<Math.max(0,M-1e3))))return d;const E=await this.#a.prepareAnalysisForSession({session:r,mimeTypeHint:m??r.mimeType??null,forceRefresh:y}),q=E.analysis?.stats.totalDurationMs??E.frames[E.frames.length-1]?.endMs??0;if(q<=p+200)return d;const $=Math.min(Math.max(0,p),q),et=q,F=Math.max(0,et-$);if(F<=0||y&&F<b)return d;const ut=Zg({frames:E.frames,windowStartMs:$,windowEndMs:et,sampleRate:E.analysis?.stats.sampleRate??0,frameDurationMs:E.analysis?.stats.frameDurationMs??gi.frameDurationMs}).analysis?.segments??[];if(ut.length===0)return d;const St=y?Math.max(0,F-T):F,dt=d.reduce((P,mt)=>Math.max(P,mt.index),-1)+1,H=[];return ut.forEach(P=>{P.endMs<=0||P.endMs>St||H.push({index:dt+H.length,startMs:$+P.startMs,endMs:$+P.endMs,durationMs:P.durationMs,breakReason:P.breakReason,boundaryIndex:P.boundaryIndex})}),H.length===0?d:await this.#t.appendSnips(r.id,H)}async getChunkAudio(r,m){await this.#e();const d=await this.#t.getChunkData(r.id),p=d.find(F=>F.seq===m)??null;if(!p)return null;const M=d.find(F=>F.seq===0)??null,y=p.blob.type||r.mimeType||"audio/mpeg",b=M&&M.id!==p.id&&Yh.test(y)?new Blob([M.blob,p.blob],{type:y}):p.blob,v=p.startMs,N=p.endMs,E=Math.max(0,N-v),q=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-"),$=String(m+1).padStart(2,"0"),et=/mpeg/i.test(y)?"mp3":/webm/i.test(y)?"webm":/mp4|m4a/i.test(y)?"mp4":"bin";return{kind:"chunk",sessionId:r.id,startMs:v,endMs:N,durationMs:E,mimeType:b.type||y,blob:b,suggestedFilename:`${q}_chunk-${$}.${et}`}}async#i(){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");return this.#n?this.#n:(this.#n=new AudioContext,this.#n)}async#l(r){await this.#e();const m=await this.#t.getChunkData(r.id),d=r.mimeType??"",M=/mp4|m4a/i.test(d)?m.find(E=>E.seq===0&&(E.endMs-E.startMs<=10||E.byteLength<4096))??null:null,y=m.filter(E=>!M||E.id!==M.id).sort((E,q)=>E.seq-q.seq),T=M?.startMs??(y.length>0?y[0].startMs:r.startedAt??Date.now()),b=Number.isFinite(T)?Math.round(T):Date.now(),v=b>1e12,N=y.map(E=>{const q=v?E.startMs-b:E.startMs,$=v?E.endMs-b:E.endMs;return{...E,startOffsetMs:Math.max(0,q),endOffsetMs:Math.max(0,$)}});return{baseStartMs:b,headerChunk:M,playable:N}}async#f(r,m,d){const p=m.blob.type||r.mimeType||"audio/mp4",M=d&&d.id!==m.id&&Yh.test(p),y=M?new Blob([d.blob,m.blob],{type:p}):m.blob,T=await this.#i();try{const b=await y.arrayBuffer();return await T.decodeAudioData(b.slice(0))}catch(b){const v=b instanceof Error?b.message:String(b),N=[`session=${r.id}`,`chunk=${m.id}`,`seq=${m.seq}`,`bytes=${y.size}`,`mime=${p}`,M?"init=1":"init=0"].join(" ");throw new Error(`Failed to decode chunk audio (${N})${v?`: ${v}`:""}`)}}async#m(r,m,d){const p=Math.max(0,m),M=Math.max(p,d),{headerChunk:y,playable:T}=await this.#l(r);if(T.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const b=T.filter(ut=>ut.startOffsetMs<M&&ut.endOffsetMs>p).sort((ut,St)=>ut.seq-St.seq);if(b.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const v=[];for(const ut of b){const St=await this.#f(r,ut,y),dt=Math.max(0,St.duration*1e3),H=Math.max(0,ut.endOffsetMs-ut.startOffsetMs),P=H>0&&dt>H*1.5&&dt>ut.endOffsetMs*.8;v.push({chunk:ut,buffer:St,bufferDurationMs:dt,expectedChunkDurationMs:H,isCumulative:P})}if(v.some(ut=>ut.isCumulative)){const ut=v.find(H=>H.bufferDurationMs>=M-10)??v[v.length-1],St=ut.buffer.sampleRate,dt=Vh(ut.buffer,p,M);return{samples:dt.samples,sampleRate:St,durationMs:dt.durationMs,startMs:p,endMs:p+dt.durationMs}}const E=[];let q=0,$=0;for(const ut of v){const St=ut.chunk,dt=ut.buffer;$===0&&($=dt.sampleRate);const H=dt.duration*1e3,P=Math.max(0,p-St.startOffsetMs),mt=Math.min(H,M-St.startOffsetMs);if(mt<=P)continue;const J=Vh(dt,P,mt);E.push(J.samples),q+=J.samples.length}if($===0||q===0)return{samples:new Float32Array(0),sampleRate:$,durationMs:0,startMs:p,endMs:p};const et=new Float32Array(q);let F=0;E.forEach(ut=>{et.set(ut,F),F+=ut.length});const Et=et.length/$*1e3;return{samples:et,sampleRate:$,durationMs:Et,startMs:p,endMs:p+Et}}async getRangeAudio(r,m,d,p){const M=await this.#m(r,m,d),y=By(M.samples,M.sampleRate),T=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-");return{kind:"snip",sessionId:r.id,startMs:M.startMs,endMs:M.endMs,durationMs:M.durationMs,mimeType:y.type,blob:y,suggestedFilename:`${T}_snip-${Math.round(M.startMs)}-${Math.round(M.endMs)}.wav`}}async inspectRange(r,m,d,p){const M=await this.#m(r,m,d),{samples:y,sampleRate:T}=M,b=y.length;let v=0,N=0;for(let q=0;q<b;q+=1){const $=y[q];v+=$*$;const et=Math.abs($);et>N&&(N=et)}const E=b>0?Math.sqrt(v/b):0;return{startMs:M.startMs,endMs:M.endMs,durationMs:M.durationMs,sampleRate:T,sampleCount:b,rms:E,peak:N}}async getSnipAudio(r,m,d){const p=await this.listSnips(r,d),M=m-1,y=p[M];return y?await this.getRangeAudio(r,y.startMs,y.endMs,d):null}clearSession(r){}}const Cn=new Ly,qy=1024*1024,Hy={pauseSensitivity:.5,minPauseMs:400,maxPauseMs:2600,windowMs:3e4,overlapMs:800,targetBitrate:64e3,groqApiKey:"",transcriptionMode:"disabled",transcriptionOnboardingDismissed:!1,developerMode:!1,storageLimitBytes:200*qy},lp="durable-recorder-settings",Gy=o=>o==="enabled"||o==="disabled";function id(o){const r={...Hy,...o},m=o&&Gy(o.transcriptionMode),d=o&&typeof o.transcriptionOnboardingDismissed=="boolean";if(!m){const p=typeof r.groqApiKey=="string"&&r.groqApiKey.trim().length>0;r.transcriptionMode=p?"enabled":"disabled"}return d||(r.transcriptionOnboardingDismissed=!1),r}function Yy(){if(typeof window>"u")return null;const o=window.localStorage.getItem(lp);if(!o)return null;try{const r=JSON.parse(o);return r?id(r):null}catch(r){return console.warn("[SettingsStore] Failed to parse settings",r),null}}function Vy(o){typeof window>"u"||window.localStorage.setItem(lp,JSON.stringify(o))}class Xy{#t;#a=new Set;constructor(){this.#t=Yy()??id(null)}async get(){return this.#t}async set(r){return this.#t=id({...this.#t,...r}),Vy(this.#t),this.#a.forEach(m=>m(this.#t)),this.#t}subscribe(r){return this.#a.add(r),r(this.#t),()=>this.#a.delete(r)}}const Ss=new Xy,Qy="https://api.groq.com/openai/v1/audio/transcriptions",Zy="https://api.groq.com/openai/v1/models",Xh="whisper-large-v3-turbo",Fo=(o,r)=>{const m=(r??"").trim();return m?[Number.isFinite(o)?Math.max(0,(o??0)*1e3):0,m]:null},Ky=o=>{const r=[];if(Array.isArray(o.segments)&&o.segments.forEach(m=>{const d=Fo(m.start,m.text);d&&r.push(d)}),r.length===0&&Array.isArray(o.words)&&o.words.length>0){const m=o.words.map(d=>(d.word??d.text??"").trim()).filter(d=>d.length>0).join(" ").trim();if(m){const d=o.words.find(M=>Number.isFinite(M.start))?.start,p=Fo(d,m);p&&r.push(p)}}if(r.length===0&&typeof o.text=="string"){const m=Fo(0,o.text);m&&r.push(m)}return r},$y=async o=>{const r=o.trim();if(!r)return{ok:!1,message:"Groq API key missing."};const m=await fetch(Zy,{method:"GET",headers:{Authorization:`Bearer ${r}`}});if(m.ok)return{ok:!0,status:m.status};let d=`Groq key validation failed (${m.status})`;try{const p=await m.json();p?.error?.message&&(d=p.error.message)}catch{}return{ok:!1,status:m.status,message:d}};class Jy{async enqueue(r){throw console.info("[GroqTranscriptionService] enqueue",r.jobId),new Error("Queued transcription is not yet implemented.")}async cancel(r){console.info("[GroqTranscriptionService] cancel",r)}refreshSettings(){console.info("[GroqTranscriptionService] refreshSettings noop")}async transcribeAudio(r){const m=r.apiKey.trim();if(!m)throw new Error("Groq API key is missing. Add it in Settings to start transcription.");const d=`snip-${Date.now()}.wav`,p=r.audio instanceof File?r.audio:new File([r.audio],d,{type:r.audio.type||"audio/wav"}),M=new FormData;M.append("file",p),M.append("model",r.model??Xh),M.append("response_format","verbose_json"),M.append("timestamp_granularities[]","word"),r.temperature!==void 0&&M.append("temperature",String(r.temperature)),r.language&&M.append("language",r.language);const y=await fetch(Qy,{method:"POST",headers:{Authorization:`Bearer ${m}`},body:M}),T=await y.text();if(!y.ok){let E=`Groq transcription failed (${y.status})`;try{const q=JSON.parse(T);q?.error?.message&&(E=q.error.message)}catch{T&&(E=`${E}: ${T}`)}throw new Error(E)}const b=JSON.parse(T),v=Ky(b);return{text:typeof b.text=="string"?b.text.trim():v.map(E=>E[1]).join(" ").trim(),segments:v,model:r.model??Xh,language:b.language??r.language??null}}}const Iy=new Jy,Fy={recording:{label:"Recording",pillClass:"pill-progress"},transcribing:{label:"Transcribing",pillClass:"pill-progress"},ready:{label:"Ready",pillClass:"pill-synced"},partial:{label:"Part TX",pillClass:"pill-attention"},untranscribed:{label:"TX failed",pillClass:"pill-attention"},error:{label:"Error",pillClass:"pill-attention"}},ud=1024*1024,Qh=200*ud,Zh="whisper-large-v3-turbo",Kh=180,Wy=3e3,Py=60,$h=12e4,hi=[3e3,5e3,1e4],Jh=hi.length,Ih=12e4,Fh="Audio was purged to stay under the storage cap. Transcription retries are disabled.",Wh="https://console.groq.com/keys",t0="https://groq.com/pricing",cd=o=>new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit"}).format(new Date(o)),sp=o=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(new Date(o)),e0=o=>{const r=Math.max(0,Math.round(o/1e3)),m=Math.floor(r/60),d=r%60,p=Math.floor(m/60),M=m%60;return p>0?`${p}h ${M.toString().padStart(2,"0")}m`:`${M}m ${d.toString().padStart(2,"0")}s`},Ms=o=>{if(!Number.isFinite(o)||o<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let m=o,d=0;for(;m>=1024&&d<r.length-1;)m/=1024,d+=1;return`${new Intl.NumberFormat(void 0,{maximumSignificantDigits:4,minimumSignificantDigits:1}).format(m)} ${r[d]}`},n0=o=>{if(!Number.isFinite(o)||o<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let m=o,d=0;for(;m>=1024&&d<r.length-1;)m/=1024,d+=1;return`${Math.round(m)} ${r[d]}`},a0=(o,r)=>{const m=Number.isFinite(r)&&r>0?r:0,d=o+m,p=new Date(o),M=new Date(d);return p.toDateString()!==M.toDateString()?`${sp(d)} ${cd(d)}`:cd(d)},l0=o=>{const r=Math.max(0,Math.round(o/1e3)),m=Math.floor(r/3600),d=Math.floor(r%3600/60),p=r%60;return m>0?`${m}:${d.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`:d>0?`${d}:${p.toString().padStart(2,"0")}`:`0:${p.toString().padStart(2,"0")}`},s0=o=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(o)),mi=o=>{if(!Number.isFinite(o))return"0:00";const r=Math.max(0,o),m=Math.floor(r/60),d=Math.floor(r%60);return`${m}:${d.toString().padStart(2,"0")}`},i0=(o,r)=>{const m=o.trim();if(!m)return"";const d=m.split(/\s+/);return d.length<=r?m:d.slice(-r).join(" ")},ip={hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},u0=(()=>{try{return new Intl.DateTimeFormat(void 0,{...ip,fractionalSecondDigits:2})}catch{return null}})(),c0=new Intl.DateTimeFormat(void 0,ip),r0=o=>(u0??c0).format(new Date(o)),Qa=o=>{const r=o.transcription?.text?.trim()??"";if(r)return r;const m=o.transcription?.segments??[];return m.length===0?"":m.map(d=>d[1]).join(" ").trim()},Ph=o=>{const r=o.map(m=>Qa(m)).filter(m=>m.length>0).join(" ").trim();return r?r.length<=Kh?r:`${r.slice(0,Kh).trimEnd()}...`:""},Wo=o=>new Promise(r=>window.setTimeout(r,o));function o0(){const[o,r]=D.useState(null),[m,d]=D.useState([]),[p,M]=D.useState(null),[y,T]=D.useState([]),[b,v]=D.useState([]),[N,E]=D.useState({}),[q,$]=D.useState({}),[et,F]=D.useState({}),[Et,ut]=D.useState({}),[St,dt]=D.useState({}),[H,P]=D.useState(bs.state),[mt,J]=D.useState(null),[ct,Gt]=D.useState({totalBytes:0,limitBytes:Qh}),[ne,Ft]=D.useState([]),[Wt,un]=D.useState(null),[Oe,Ce]=D.useState(!1),[A,V]=D.useState(!1),[W,I]=D.useState(null),[lt,S]=D.useState(null),[k,tt]=D.useState(1),[nt,yt]=D.useState(!1),[jt,At]=D.useState(!1),[Qe,ue]=D.useState(!1),[Ka,Jn]=D.useState(!1),[Es,$a]=D.useState([]),[Dn,sa]=D.useState(null),[jl,Rl]=D.useState("tables"),[Ln,Ja]=D.useState([]),[Nn,zl]=D.useState(null),[mu,As]=D.useState([]),[he,Ts]=D.useState(!1),[qn,ws]=D.useState("chunks"),[Sa,hu]=D.useState(!1),[Ue,Ol]=D.useState({chunkCoverageScan:!0,rangeAccessScan:!0,chunkDecodeScan:!0,sanityChecks:!0,snipScan:!0}),[In,ia]=D.useState(!1),[Be,ce]=D.useState(null),[tn,yi]=D.useState(null),[pu,_l]=D.useState(null),[kl,Ia]=D.useState(null),[Ee,Fn]=D.useState(null),[Ul,Fa]=D.useState(!1),[gu,Wa]=D.useState(null),[jn,hn]=D.useState({playing:!1,duration:0,position:0}),[Bl,Cs]=D.useState(null),[Ma,Ll]=D.useState(!1),[xa,Rn]=D.useState("idle"),[vi,Wn]=D.useState(null),[zn,ae]=D.useState(null),[Le,Pn]=D.useState({}),[Pa,yu]=D.useState(!1),[_c,bi]=D.useState(!1),[pe,ta]=D.useState("missing"),[ea,pn]=D.useState(null),qe=D.useRef(null),Ea=D.useRef(null),ye=D.useRef(null),gn=D.useRef(null),tl=D.useRef(null),yn=D.useRef(new Map),ve=D.useRef(new Map),ql=D.useRef(new Map),vn=D.useRef(new Map),el=D.useRef(new Map),vu=D.useRef(null),nl=D.useRef(null),Aa=D.useRef(null),bn=D.useRef(0),en=D.useRef(new Map),Ds=D.useRef(!1),Ns=D.useRef(null),Hl=D.useRef(new Set),js=D.useRef({sessionId:null,active:!1,pending:[],pendingIds:new Set,retryCounts:new Map,lastSuccessAt:0}),al=D.useRef(!1),Si=D.useRef(!1),cn=D.useRef(0),Gl=D.useRef(null),Yl=D.useRef(0),Vl=D.useRef(null),be=o?.developerMode??!1,Ta=o?.storageLimitBytes??Qh,Rs=o?.transcriptionMode??"disabled",nn=Rs==="enabled",ua=!!o?.groqApiKey?.trim(),Ze=D.useMemo(()=>nn?ua?pe==="invalid"?ea??"Groq API key validation failed. Retry validation in Settings.":pe==="validating"?"Validating Groq API key...":pe==="unchecked"?"Groq API key not validated yet. Validate it in Settings.":null:"Groq API key missing. Add it in Settings to enable transcription.":"Transcription is disabled. Enable it in Settings to start.",[ua,nn,ea,pe]),_t=Ze===null,Mi=!!(o&&!o.transcriptionOnboardingDismissed&&!ua),kc=nn?_t?"Enabled":pe==="invalid"?"Enabled (invalid key)":pe==="validating"?"Enabled (validating)":ua?"Enabled (needs validation)":"Enabled (missing key)":"Disabled",Uc=nn?_t?"is-good":"is-warn":"is-muted",zs=ua?pe==="valid"?"Valid":pe==="validating"?"Validating":pe==="invalid"?"Invalid":"Not checked":"Missing",na=pe==="valid"?"is-good":pe==="validating"?"is-warn":pe==="invalid"?"is-bad":"is-muted",Xl=D.useCallback(async()=>{const i=o?.groqApiKey?.trim()??"";if(!i)return ta("missing"),pn(null),!1;ta("validating"),pn(null);try{const c=await $y(i);return c.ok?(ta("valid"),pn(null),!0):(ta("invalid"),pn(c.message??"Groq API key validation failed."),!1)}catch(c){const g=c instanceof Error?c.message:String(c);return ta("invalid"),pn(g),!1}},[o?.groqApiKey]);D.useEffect(()=>{const i=o?.groqApiKey?.trim()??"";if(!i){Vl.current=null,ta("missing"),pn(null);return}Vl.current!==i&&(Vl.current=i,ta("unchecked"),pn(null))},[o?.groqApiKey]),D.useEffect(()=>{!nn||!ua||pe==="unchecked"&&Xl()},[ua,nn,Xl,pe]);const Ql=D.useMemo(()=>{const i=ne.map(g=>Qa(g)).filter(g=>g.length>0);return i.length===0?[]:i.slice(-2).map(g=>i0(g,Py)).filter(g=>g.length>0)},[ne]),Yt=D.useCallback(i=>!!i.audioPurgedAt,[]),De=D.useCallback(i=>!!i.audioPurgedAt||i.byteLength<=0||i.blob.size<=0,[]),Zl=D.useCallback((i,c)=>{const g=Ph(c),w=c.filter(Y=>!!Y.transcriptionError).length,j=c.filter(Y=>Qa(Y).length>0).length,L=c.filter(Y=>Yt(Y)).length,X=c.length,K=Math.max(0,X-L);E(Y=>{if(!g){if(!(i in Y))return Y;const st={...Y};return delete st[i],st}return Y[i]===g?Y:{...Y,[i]:g}}),$(Y=>{if(w===0){if(!(i in Y))return Y;const st={...Y};return delete st[i],st}return Y[i]===w?Y:{...Y,[i]:w}}),F(Y=>{if(X===0){if(!(i in Y))return Y;const at={...Y};return delete at[i],at}const st=Y[i];return st&&st.transcribedCount===j&&st.total===X&&st.purgedCount===L&&st.retryableCount===K?Y:{...Y,[i]:{transcribedCount:j,total:X,purgedCount:L,retryableCount:K}}})},[Yt]),Os=D.useCallback(async i=>{try{const c=await Promise.all(i.map(async L=>{if(L.status!=="ready")return[L.id,"",0,0,0,0,0];const X=await bt.listSnips(L.id),K=X.filter(Ct=>!!Ct.transcriptionError).length,Y=X.filter(Ct=>Qa(Ct).length>0).length,st=X.filter(Ct=>Yt(Ct)).length,at=X.length,vt=Math.max(0,at-st);return[L.id,Ph(X),K,Y,at,st,vt]})),g={},w={},j={};c.forEach(([L,X,K,Y,st,at,vt])=>{X&&(g[L]=X),K>0&&(w[L]=K),st>0&&(j[L]={transcribedCount:Y,total:st,purgedCount:at,retryableCount:vt})}),E(g),$(w),F(j)}catch(c){await Pe("Transcription preview load failed",{error:c instanceof Error?c.message:String(c)})}},[Yt]),Ke=D.useCallback(async()=>{await bt.init(),await bt.purgeLegacyMp4Sessions();const i=Ns.current??new sd;Ns.current=i;const[c,g]=await Promise.all([bt.listSessions(),bt.storageTotals()]),w=en.current;let j=null;if(Ds.current)for(const X of c){if(X.status!=="ready"||X.chunkCount===0||!w.has(X.id))continue;const K=w.get(X.id);K!==void 0&&K!==X.updatedAt&&(!j||X.updatedAt>j.updatedAt)&&(j=X)}en.current=new Map(c.map(X=>[X.id,X.updatedAt])),Ds.current?j&&un(j.id):Ds.current=!0,d(c),Gt({totalBytes:g.totalBytes,limitBytes:Ta}),Os(c),c.filter(X=>X.chunkCount>0&&(X.timingStatus??"unverified")!=="verified").forEach(X=>{i.ensureTimings(X.id).then(K=>{const Y=K.session;K.status!=="verified"||!Y||(d(st=>st.map(at=>at.id===Y.id?{...at,...Y}:at)),en.current.set(Y.id,Y.updatedAt))}).catch(K=>{console.warn("[UI] Session timing verification failed",{sessionId:X.id,error:K})})})},[Os,Ta]),Hn=D.useCallback(async i=>{if(Si.current)return;const c=Date.now(),g=!i?.force;if(!(g&&c-cn.current<Ih)){Si.current=!0,cn.current=c;try{await bt.init();const w=await bt.applyRetentionPolicy({limitBytes:Ta,now:c});w.purgedChunkIds.length>0&&await Ht("Storage retention purged audio",{beforeBytes:w.beforeBytes,afterBytes:w.afterBytes,limitBytes:w.limitBytes,purgedChunks:w.purgedChunkIds.length,purgedSnips:w.purgedSnipIds.length,reason:i?.reason??(g?"debounced":"manual")}),w.afterBytes>w.limitBytes&&await mn("Storage retention unable to meet cap",{beforeBytes:w.beforeBytes,afterBytes:w.afterBytes,limitBytes:w.limitBytes,purgedChunks:w.purgedChunkIds.length,reason:i?.reason??(g?"debounced":"manual")}),Gt({totalBytes:w.afterBytes,limitBytes:Ta})}catch(w){await Pe("Storage retention pass failed",{error:w instanceof Error?w.message:String(w),reason:i?.reason??(g?"debounced":"manual")})}finally{Si.current=!1}}},[Ta]);D.useEffect(()=>Ss.subscribe(i=>r({...i})),[]),D.useEffect(()=>{o?.storageLimitBytes!=null&&Hn({force:!0,reason:"settings-change"})},[Hn,o?.storageLimitBytes]),D.useEffect(()=>(ry(),()=>{oy()}),[]),D.useEffect(()=>{xy()},[]),D.useEffect(()=>{bt.reconcileDanglingSessions()},[]),D.useEffect(()=>bs.subscribe(c=>P({...c})),[]),D.useEffect(()=>{H.state==="idle"&&(Aa.current=null)},[H.state]),D.useEffect(()=>{const i=H.state==="recording";Nc(i,i?"recording-active":"recording-inactive")},[H.state]),D.useEffect(()=>{if(H.state!=="recording"||!H.sessionId){Gl.current=H.sessionId??null,Yl.current=H.chunksRecorded;return}Gl.current!==H.sessionId&&(Gl.current=H.sessionId,Yl.current=0),H.chunksRecorded>Yl.current&&(Yl.current=H.chunksRecorded,Hn({reason:"chunk-written"}))},[H.chunksRecorded,H.sessionId,H.state,Hn]),D.useEffect(()=>{if(H.state!=="recording")return;let i=!1;const c=()=>{i||Hn()},g=window.setInterval(c,Ih);return c(),()=>{i=!0,window.clearInterval(g)}},[H.state,Hn]),D.useEffect(()=>{const i=c=>{const g=c.target;let w="unknown";g instanceof HTMLElement&&(w=g.tagName.toLowerCase(),g.id?w+=`#${g.id}`:g.classList.length>0&&(w+=`.${g.classList[0]}`)),nl.current={type:c.type,target:w,timestamp:Date.now()}};return window.addEventListener("pointerdown",i,!0),window.addEventListener("keydown",i,!0),()=>{window.removeEventListener("pointerdown",i,!0),window.removeEventListener("keydown",i,!0)}},[]),D.useEffect(()=>{Ke()},[Ke]),D.useEffect(()=>{H.state==="recording"&&!p?(Ce(!0),requestAnimationFrame(()=>V(!0))):V(!1)},[H.state,p]),D.useEffect(()=>{H.state!=="recording"&&Ft([])},[H.state]),D.useEffect(()=>{if(!Wt)return;const i=window.setTimeout(()=>un(null),2400);return()=>window.clearTimeout(i)},[Wt]),D.useEffect(()=>{if(A||!Oe)return;const i=window.setTimeout(()=>Ce(!1),400);return()=>window.clearTimeout(i)},[Oe,A]),D.useEffect(()=>{if(!A)return;const i=vu.current;i&&(i.scrollTop=i.scrollHeight)},[A,Ql]),D.useEffect(()=>{if(typeof window>"u"||!("ontouchstart"in window))return;const i=g=>{g.touches.length>1&&g.preventDefault()},c=g=>{g.preventDefault()};return document.addEventListener("touchmove",i,{passive:!1}),document.addEventListener("gesturestart",c),document.addEventListener("gesturechange",c),document.addEventListener("gestureend",c),()=>{document.removeEventListener("touchmove",i),document.removeEventListener("gesturestart",c),document.removeEventListener("gesturechange",c),document.removeEventListener("gestureend",c)}},[]),D.useEffect(()=>{let i=!1;if(!p){T([]),v([]),Pn({}),Ts(!1),Ll(!1),Wn(null),Rn("idle"),ae(null);return}return Pn({}),(async()=>{const[c,g]=await Promise.all([bt.getChunkData(p),bt.listSnips(p)]);i||(T(c),v(g))})(),()=>{i=!0}},[p]),D.useEffect(()=>{const i=qe.current;if(!i)return;const c=()=>hn(Y=>({...Y,position:i.currentTime})),g=()=>hn(Y=>({...Y,duration:Number.isFinite(i.duration)?i.duration:0})),w=()=>{tl.current!==null&&(window.cancelAnimationFrame(tl.current),tl.current=null)},j=()=>{hn(Y=>({...Y,position:i.currentTime})),tl.current=window.requestAnimationFrame(j)},L=()=>{hn(Y=>({...Y,playing:!0})),w(),tl.current=window.requestAnimationFrame(j)},X=()=>{hn(Y=>({...Y,playing:!1})),w()},K=()=>{hn(Y=>({...Y,playing:!1,position:i.duration||Y.position})),w()};return i.addEventListener("timeupdate",c),i.addEventListener("durationchange",g),i.addEventListener("play",L),i.addEventListener("pause",X),i.addEventListener("ended",K),()=>{w(),i.removeEventListener("timeupdate",c),i.removeEventListener("durationchange",g),i.removeEventListener("play",L),i.removeEventListener("pause",X),i.removeEventListener("ended",K)}},[p]),D.useEffect(()=>{const i=yn.current,c=ve.current,g=new Set(y.map(w=>w.id));Array.from(i.entries()).forEach(([w,j])=>{g.has(w)||(URL.revokeObjectURL(j),i.delete(w))});for(const[w,j]of c.entries())g.has(w)||(j.cleanup(),j.audio.pause(),j.audio.currentTime=j.startTime,c.delete(w));I(w=>w&&g.has(w)?w:null)},[y]),D.useEffect(()=>{const i=ql.current,c=vn.current,g=new Set(b.map(w=>w.id));Array.from(i.entries()).forEach(([w,j])=>{g.has(w)||(URL.revokeObjectURL(j),i.delete(w))}),Array.from(el.current.keys()).forEach(w=>{g.has(w)||el.current.delete(w)});for(const[w,j]of c.entries())g.has(w)||(j.cleanup(),j.audio.pause(),j.audio.currentTime=j.startTime,c.delete(w));S(w=>w&&g.has(w)?w:null)},[b]),D.useEffect(()=>()=>{ve.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),ve.current.clear(),yn.current.forEach(i=>URL.revokeObjectURL(i)),yn.current.clear()},[]),D.useEffect(()=>{he||(ve.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),ve.current.clear(),I(null),vn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),vn.current.clear(),S(null))},[he]),D.useEffect(()=>{ve.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),ve.current.clear(),I(null),vn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),vn.current.clear(),S(null)},[qn]),D.useEffect(()=>{const i=qe.current;i&&(i.volume=k),ve.current.forEach(c=>{c.audio.volume=k}),vn.current.forEach(c=>{c.audio.volume=k})},[k]),D.useEffect(()=>{be||(ue(!1),Ts(!1),Ll(!1),Wn(null),Rn("idle"),ae(null),$a([]),sa(null),Rl("tables"),Ja([]),zl(null),As([]))},[be]),D.useEffect(()=>()=>{gn.current&&(URL.revokeObjectURL(gn.current),gn.current=null)},[]);const B=D.useMemo(()=>m.find(i=>i.id===p)??null,[m,p]),_e=D.useMemo(()=>{const i=b.map(w=>Qa(w)).filter(w=>w.length>0),c=b.filter(w=>!!w.transcriptionError).length,g=b.filter(w=>Yt(w)).length;return{text:i.join(" ").trim(),transcribedCount:i.length,errorCount:c,total:b.length,purgedCount:g,retryableCount:Math.max(0,b.length-g)}},[Yt,b]);D.useEffect(()=>{if(!B){Cs(null);return}Cs(B.durationMs)},[B]),D.useEffect(()=>{B?.id&&Zl(B.id,b)},[B?.id,b,Zl]),D.useEffect(()=>{if(!B?.id){ye.current=null;return}if(!_e.text||ye.current===B.id)return;ye.current=B.id;const i=window.setTimeout(()=>{const c=Ea.current;c&&(c.focus(),c.select())},80);return()=>window.clearTimeout(i)},[B?.id,_e.text]),D.useEffect(()=>{if(!(be&&B&&(Ma||he&&qn==="snips"))){Rn("idle"),Wn(null),ae(null);return}if(B.chunkCount===0){Rn("error"),ae("No audio chunks available yet. Capture a few seconds of audio and try again."),Wn(null);return}const c=Ns.current??new sd;Ns.current=c;let g=!1;return Rn("loading"),ae(null),Wn(null),(async()=>{try{const w=await c.prepareAnalysisForSession({session:B,mimeTypeHint:B.mimeType??null});if(g)return;if(w.analysis){Wn(w.analysis),Rn("ready"),ae(null);try{const j=await Cn.listSnips(B,B.mimeType??null);g||v(j)}catch(j){g||await Pe("Failed to refresh snip segments",{sessionId:B.id,error:j instanceof Error?j.message:String(j)})}}else{Wn(null),Rn("error");const j=w.verification.missingChunkIds.length;ae(j>0?`Waiting on verified audio durations for ${j} chunk${j===1?"":"s"}.`:"No volume profiles available yet. Capture additional audio and retry.")}}catch(w){if(g)return;const j=w instanceof Error?w.message:String(w);Rn("error"),ae(j),Pe("Session analysis failed",{sessionId:B.id,error:j})}})(),()=>{g=!0}},[be,he,qn,Ma,B?.id,B?.updatedAt,B?.chunkCount,B?.mimeType]);const Ae=D.useCallback(i=>{const c=i.blob.type||B?.mimeType||"";if(!/mp4|m4a/i.test(c))return!1;const w=Math.max(0,i.endMs-i.startMs);return i.seq===0&&(w<=10||i.byteLength<4096)},[B?.mimeType]),rn=D.useMemo(()=>y.find(Ae)??null,[y,Ae]),_s=D.useMemo(()=>y.filter(i=>!Ae(i)&&!De(i)).length,[y,De,Ae]),Kl=D.useCallback(i=>{const c=i.blob.type||B?.mimeType||"audio/mp4";return!rn||rn.id===i.id||!/mp4|m4a/i.test(c)?i.blob:new Blob([rn.blob,i.blob],{type:c})},[rn,B?.mimeType]),$l=D.useCallback(i=>{if(De(i))return null;const c=yn.current,g=c.get(i.id);if(g)return g;const w=Kl(i),j=URL.createObjectURL(w);return c.set(i.id,j),j},[Kl,De]),ks=D.useCallback(i=>{const c=$l(i);if(!c)return;const g=B?.startedAt??i.startMs??Date.now(),w=new Date(g).toISOString().replace(/[:.]/g,"-"),j=String(i.seq+1).padStart(2,"0"),L=i.blob.type||B?.mimeType||"application/octet-stream",X=/mpeg/i.test(L)?"mp3":/webm/i.test(L)?"webm":/mp4|m4a/i.test(L)?"mp4":"bin",K=document.createElement("a");K.href=c,K.download=`${w}_chunk-${j}.${X}`,K.rel="noopener",document.body.appendChild(K),K.click(),document.body.removeChild(K)},[$l,B?.mimeType,B?.startedAt]),Jl=D.useCallback(i=>{i.currentTarget.focus(),i.currentTarget.select()},[]),xi=D.useCallback(async()=>{const i=window.AudioContext||window.webkitAudioContext;if(typeof i!="function")return;const c=new i,g=c.createOscillator(),w=c.createGain();w.gain.value=.12,g.type="sine",g.frequency.value=880,g.connect(w),w.connect(c.destination);const j=c.currentTime+.35;g.start(),g.stop(j),g.onended=()=>{c.close().catch(()=>{})}},[]),He=D.useCallback(()=>{ve.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),ve.current.clear(),I(null),vn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),vn.current.clear(),S(null),qe.current&&qe.current.pause()},[]),ca=D.useCallback(()=>{bi(!0),window.setTimeout(()=>bi(!1),1200)},[]);D.useEffect(()=>{const i=()=>{document.visibilityState!=="visible"&&He()},c=()=>He();return document.addEventListener("visibilitychange",i),window.addEventListener("pagehide",c),()=>{document.removeEventListener("visibilitychange",i),window.removeEventListener("pagehide",c)}},[He]);const wa=D.useCallback(async i=>{if(!B||Yt(i))return null;const c=i.id,g=el.current.get(c);if(g)return g;const w=await Cn.getRangeAudio(B,i.startMs,i.endMs,B.mimeType??null);return el.current.set(c,w),w},[Yt,B]),ra=D.useCallback(async i=>{const c=i.id,g=ql.current.get(c),w=await wa(i);if(!w)return null;if(g)return{url:g,slice:w};const j=URL.createObjectURL(w.blob);return ql.current.set(c,j),{url:j,slice:w}},[wa]),Bc=D.useCallback(async(i,c)=>{if(Yt(i))return;const g=await ra(i);if(!g)return;const{url:w,slice:j}=g,L=document.createElement("a");L.href=w,L.download=j.suggestedFilename||`snip-${String(c).padStart(2,"0")}.wav`,L.rel="noopener",document.body.appendChild(L),L.click(),document.body.removeChild(L)},[ra,Yt]),Us=D.useCallback(async(i,c)=>Yt(c)?null:B?.id===i.id?await wa(c):await Cn.getRangeAudio(i,c.startMs,c.endMs,i.mimeType??null),[wa,Yt,B?.id]),ll=D.useCallback(async i=>{const c=await bt.listSnips(i);Zl(i,c)},[Zl]),oa=D.useCallback(i=>{const c=i.filter(w=>!Yt(w)),g=c.filter(w=>!!w.transcriptionError);return g.length>0?g:c},[Yt]),on=D.useCallback(async({session:i,snip:c,updateUi:g,force:w,ignoreBusy:j=!1,reportError:L=!0})=>{if(!w&&Qa(c))return{ok:!0};if(Yt(c))return await mn("Snip transcription blocked (audio purged)",{sessionId:i.id,snipId:c.id}),{ok:!1,error:Fh};if(g&&Le[c.id]&&!j)return{ok:!1};if(Ze)return{ok:!1,error:Ze};const X=o?.groqApiKey?.trim()??"";g&&Pn(K=>({...K,[c.id]:!0}));try{const K=await Us(i,c);if(!K)throw new Error("Unable to resolve snip audio for transcription.");if(K.durationMs<=0||K.blob.size===0)throw new Error(`Snip audio slice is empty (snip=${c.id} start=${c.startMs} end=${c.endMs} duration=${K.durationMs} bytes=${K.blob.size})`);await Ht("Snip transcription started",{sessionId:i.id,snipId:c.id,model:Zh,startMs:c.startMs,endMs:c.endMs,sliceDurationMs:K.durationMs,sliceBytes:K.blob.size});const Y=await Iy.transcribeAudio({apiKey:X,audio:K.blob,model:Zh,temperature:0}),st={text:Y.text,segments:Y.segments,model:Y.model,language:Y.language??null,createdAt:Date.now()},at=await bt.updateSnipTranscription(c.id,{transcription:st,transcriptionError:null});return g&&at&&v(vt=>vt.map(Ct=>Ct.id===at.id?at:Ct)),await Ht("Snip transcription completed",{sessionId:i.id,snipId:c.id,model:Y.model,textLength:Y.text.length,segmentCount:Y.segments.length}),{ok:!0}}catch(K){const Y=K instanceof Error?K.message:String(K);if(L){await Pe("Snip transcription failed",{sessionId:i.id,snipId:c.id,error:Y,startMs:c.startMs,endMs:c.endMs,durationMs:c.durationMs});const st=await bt.updateSnipTranscription(c.id,{transcriptionError:Y});g&&st&&v(at=>at.map(vt=>vt.id===st.id?st:vt))}return{ok:!1,error:Y}}finally{g&&Pn(K=>{const Y={...K};return delete Y[c.id],Y}),await ll(i.id)}},[ll,Us,Ze,o?.groqApiKey,Yt,Le]),Ca=D.useCallback(i=>{const c=js.current;c.sessionId=i,c.active=!1,c.pending=[],c.pendingIds.clear(),c.retryCounts.clear(),c.lastSuccessAt=0},[]),bu=D.useCallback(async i=>{const c=js.current;if(!(c.active||c.sessionId!==i.id)){c.active=!0;try{for(;c.pending.length>0;){if(!_t){c.pending=[],c.pendingIds.clear(),c.retryCounts.clear();break}const g=c.pending.shift();if(!g)break;const w=g.snip;if(c.pendingIds.delete(w.id),c.sessionId!==i.id)break;if((await on({session:i,snip:w,updateUi:B?.id===i.id,force:!0,ignoreBusy:!0,reportError:!0})).ok){c.retryCounts.delete(w.id),c.lastSuccessAt=Date.now();continue}const L=(c.retryCounts.get(w.id)??0)+1;if(c.retryCounts.set(w.id,L),L<=Jh&&Date.now()-c.lastSuccessAt<$h){const K=hi[Math.min(L-1,hi.length-1)];await Wo(K),c.pendingIds.has(w.id)||(c.pending.push({snip:w,attempt:L}),c.pendingIds.add(w.id))}}}finally{c.active=!1}}},[_t,B?.id,on]),Su=D.useCallback(async(i,c)=>{const g=js.current;if(g.sessionId!==i.id&&Ca(i.id),!_t)return;const w=g.lastSuccessAt>0&&Date.now()-g.lastSuccessAt<$h;[...c].sort((L,X)=>L.index-X.index).forEach(L=>{if(Qa(L)||Yt(L)||g.pendingIds.has(L.id))return;const X=g.retryCounts.get(L.id)??0;L.transcriptionError&&(!w||X>=Jh)||(g.pending.push({snip:L,attempt:X}),g.pendingIds.add(L.id))}),!g.active&&g.pending.length>0&&bu(i)},[_t,Yt,Ca,bu]);D.useEffect(()=>{H.state!=="recording"&&Ca(null)},[H.state,Ca]),D.useEffect(()=>{_t||Ca(null)},[_t,Ca]),D.useEffect(()=>{if(!H.sessionId||H.state!=="recording")return;const i=H.sessionId;let c=!1;const g=async()=>{if(!(c||al.current)){al.current=!0;try{const j=await bt.getSession(i);if(!j||j.status!=="recording")return;const L=await Cn.listSnips(j,j.mimeType??null);if(c)return;if(Ft(L),B?.id===i){const[X]=await Promise.all([bt.getChunkData(i)]);c||(T(X),v(L))}await Su(j,L),await Ke()}catch(j){if(!c){const L=j instanceof Error?j.message:String(j);mn("Live snip refresh failed",{sessionId:i,error:L})}}finally{al.current=!1}}},w=window.setInterval(g,Wy);return g(),()=>{c=!0,window.clearInterval(w)}},[H.sessionId,H.state,Su,Ke,B?.id]);const Lc=D.useCallback(async i=>{if(B&&!Yt(i)){if(!_t){Ze&&J(Ze);return}await on({session:B,snip:i,updateUi:!0,force:!0})}},[_t,Yt,B,Ze,on]),Ei=D.useCallback(async()=>{if(!B||Pa)return;if(!_t){Ze&&J(Ze);return}const i=B.id;yu(!0),dt(c=>({...c,[i]:!0}));try{const c=await bt.listSnips(i),g=c.length>0?c:await Cn.listSnips(B,B.mimeType??null);if(g.length===0)return;v(g);const w=oa(g);if(w.length===0)return;for(const j of w)await on({session:B,snip:j,updateUi:!0,force:!0,ignoreBusy:!0})}finally{yu(!1),dt(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}},[_t,Pa,oa,B,Ze,on]),qc=D.useCallback(async i=>{if(!Et[i]){if(!_t){Ze&&J(Ze);return}ut(c=>({...c,[i]:!0})),dt(c=>({...c,[i]:!0}));try{const c=await bt.getSession(i);if(!c)return;const g=await bt.listSnips(i),w=g.length>0?g:await Cn.listSnips(c,c.mimeType??null);if(w.length===0)return;B?.id===i&&v(w);const j=oa(w);if(j.length===0)return;for(const L of j)await on({session:c,snip:L,updateUi:B?.id===i,force:!0,ignoreBusy:!0})}finally{ut(c=>{if(!c[i])return c;const g={...c};return delete g[i],g}),dt(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}}},[_t,Et,oa,B?.id,Ze,on]),Mu=D.useCallback(async i=>{if(!Hl.current.has(i)){Hl.current.add(i),dt(c=>({...c,[i]:!0}));try{await Wo(1200);const c=await bt.getSession(i);if(!c||c.status!=="ready")return;const g=await Cn.listSnips(c,c.mimeType??null);if(g.length===0||!_t)return;const w=hi.length+1;for(const j of g)if(!Qa(j)&&!Yt(j))for(let L=0;L<w;L+=1){if(L>0){const K=hi[Math.min(L-1,hi.length-1)];await Wo(K)}if((await on({session:c,snip:j,updateUi:B?.id===i,force:L>0,ignoreBusy:L>0,reportError:L===w-1})).ok)break}}finally{Hl.current.delete(i),await ll(i),dt(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}}},[_t,Yt,ll,B?.id,on]),Hc=D.useCallback(async()=>{J(null),await Ke()},[Ke]),Gc=D.useCallback(async()=>{if(H.state==="recording")return;let i="";Aa.current=Date.now(),Nc(!0,"recording-start-click");try{await Ht("Recorder start requested",{previousState:H.state}),J(null);const c=await Ss.get();i=window.crypto?.randomUUID?.()??`session-${Date.now()}`;const g=Date.now();await bt.createSession({id:i,title:`Recording ${new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1}).format(g)}`,startedAt:g,updatedAt:g,status:"recording",totalBytes:0,chunkCount:0,durationMs:0,mimeType:null,notes:nn?"Transcription pending...":"Recording in progress.",timingStatus:"unverified"}),await bs.start({sessionId:i,targetBitrate:c.targetBitrate,chunkDurationMs:4e3}),await Ht("Recorder started",{sessionId:i,targetBitrate:c.targetBitrate,chunkDurationMs:4e3}),await Ke()}catch(c){console.error("[UI] Failed to start recording",c),Aa.current=null,Nc(!1,"recording-start-failed"),await Pe("Recorder failed to start",{sessionId:i,error:c instanceof Error?c.message:String(c)}),i&&await bt.updateSession(i,{status:"error",notes:"Recording failed to start.",updatedAt:Date.now()}),await Ke(),J(c instanceof Error?c.message:String(c))}},[H.state,nn,Ke]),Ai=D.useCallback(async()=>{if(H.state!=="recording")return;const i=H.sessionId;try{await Ht("Recorder stop requested",{sessionId:i}),await bs.stop(),await Ht("Recorder stopped",{sessionId:i})}catch(c){console.error("[UI] Failed to stop recording",c),J(c instanceof Error?c.message:String(c)),await Pe("Recorder failed to stop",{sessionId:i,error:c instanceof Error?c.message:String(c)})}finally{Nc(!1,"recording-stop-request"),await Ke(),i&&Mu(i)}},[Mu,H.sessionId,H.state,Ke]),xu=async()=>{H.state==="recording"?await Ai():await Gc()};D.useEffect(()=>{if(H.state!=="recording"||!H.startedAt)return;const i=window.setTimeout(()=>{const c=bs.state;if(c.state!=="recording"||c.chunksRecorded>0)return;const g=typeof bs.getDiagnostics=="function"?bs.getDiagnostics():null;mn("No audio captured after timeout; stopping recording",{sessionId:c.sessionId,timeoutMs:15e3,error:c.error??null,diagnostics:g});const w=Aa.current??c.startedAt??Date.now(),j=nl.current;py(w,{sessionId:c.sessionId,timeoutMs:15e3,captureState:{state:c.state,chunksRecorded:c.chunksRecorded,error:c.error??null},diagnostics:g,lastUserInteraction:j??null}),ca(),xi(),Ai()},15e3);return()=>window.clearTimeout(i)},[H.startedAt,H.state,xi,Ai,ca]);const Bs=D.useCallback(async(i=!1)=>{if(!B)return!1;const c=B.mimeType??"audio/mp4",w=[...await bt.getChunkData(B.id)].sort((at,vt)=>at.seq-vt.seq);if(w.length===0)throw new Error("No audio available yet. Keep recording to capture chunks.");const j=w.find(at=>Ae(at))??null,L=w.filter(at=>!Ae(at)&&!De(at));if(L.length===0)throw new Error("Audio for this recording was purged.");const X=[];j&&/mp4|m4a/i.test(c)&&X.push(j.blob),L.forEach(at=>X.push(at.blob));const K=new Blob(X,{type:c});if(await Ht("Playback source prepared",{sessionId:B.id,blobSize:K.size,blobType:K.type}),T(w),gn.current&&!i)return!0;gn.current&&URL.revokeObjectURL(gn.current);const Y=URL.createObjectURL(K);gn.current=Y;const st=qe.current;return st&&(st.src=Y,st.currentTime=0,hn({playing:!1,duration:Number.isFinite(st.duration)?st.duration:0,position:0})),!0},[De,Ae,B]);D.useEffect(()=>{!B||B.status==="recording"||B.chunkCount===0||Bs(!0).catch(i=>{console.error("[UI] Failed to prepare playback on detail open",i),Wa(i instanceof Error?i.message:String(i))})},[Bs,B,B?.id,B?.updatedAt,B?.chunkCount,B?.status]);const Yc=D.useCallback(async()=>{if(!B)return;if(!y.some(c=>!Ae(c)&&!De(c))){const c="Audio was purged for this recording and is no longer available.";Wa(c),typeof window<"u"&&window.alert(c);return}Wa(null),Fa(!0);try{gn.current||await Bs();const c=qe.current;if(!c)throw new Error("Audio element unavailable");c.paused?(await c.play(),await Ht("Playback started",{sessionId:B.id})):(c.pause(),await Ht("Playback paused",{sessionId:B.id}))}catch(c){console.error("[UI] Playback toggle failed",c),Wa(c instanceof Error?c.message:String(c)),await Pe("Playback toggle failed",{sessionId:B.id,error:c instanceof Error?c.message:String(c)})}finally{Fa(!1)}},[y,De,Ae,Bs,B]),Il=async()=>{ve.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),ve.current.clear(),yn.current.forEach(i=>URL.revokeObjectURL(i)),yn.current.clear(),I(null),vn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),vn.current.clear(),ql.current.forEach(i=>URL.revokeObjectURL(i)),ql.current.clear(),el.current.clear(),S(null),ws("chunks"),hu(!1),ia(!1),ce(null),yi(null),Fn(null),yt(!1),M(null),T([]),Cs(null),Ts(!1),Ll(!1),Wn(null),Rn("idle"),ae(null),Wa(null),hn({playing:!1,duration:0,position:0}),p&&await Ht("Detail view closed",{sessionId:p}),p&&Cn.clearSession(p),gn.current&&(URL.revokeObjectURL(gn.current),gn.current=null),qe.current&&(qe.current.pause(),qe.current.currentTime=0),await Hc()},Fl=D.useCallback(()=>{const i=Date.now(),c=nl.current,g=c?{...c,msAgo:Math.max(0,i-c.timestamp)}:null,w=navigator,j=w.userActivation?{isActive:w.userActivation.isActive,hasBeenActive:w.userActivation.hasBeenActive}:null,L=typeof document<"u"&&document.activeElement instanceof HTMLElement?document.activeElement.tagName.toLowerCase():null,X=typeof document<"u"?document.visibilityState:null,K=typeof document<"u"&&typeof document.hasFocus=="function"?document.hasFocus():null;return{visibilityState:X,hasFocus:K,activeElement:L,userActivation:j,lastInteraction:g}},[]),Ti=async()=>{if(!B)return;const i=B.id;if(Ht("Delete recording requested",{sessionId:i,source:"detail"}),B.id===H.sessionId&&H.state==="recording"){J("Stop the active recording before deleting it."),await mn("Delete blocked for active recording",{sessionId:i,source:"detail"});return}const c=Date.now(),g=Fl();Ht("Delete confirmation opened",{sessionId:i,source:"detail",...g});const w=window.confirm("Delete this recording? This cannot be undone."),j=Math.max(0,Date.now()-c),L=Fl();if(Ht("Delete confirmation resolved",{sessionId:i,source:"detail",confirmed:w,confirmDurationMs:j,before:g,after:L}),!w){Ht("Delete recording cancelled",{sessionId:i,source:"detail"});return}Ht("Delete recording confirmed",{sessionId:i,source:"detail"});try{await bt.init()}catch(X){console.error("[UI] Failed to init manifest for delete",X),await Pe("Delete init failed",{sessionId:B.id,error:X instanceof Error?X.message:String(X)});return}try{await bt.deleteSession(i),await bt.getSession(i)&&await mn("Delete verification failed",{sessionId:i,source:"detail"}),await Ht("Recording deleted",{sessionId:i,source:"detail"}),await Il(),await Ke()}catch(X){console.error("[UI] Failed to delete recording",X),J(X instanceof Error?X.message:String(X)),await Pe("Recording delete failed",{sessionId:i,source:"detail",error:X instanceof Error?X.message:String(X)})}},Vc=D.useCallback(async i=>{const c=i.id;if(Ht("Delete recording requested",{sessionId:c,source:"list"}),i.id===H.sessionId&&H.state==="recording"){J("Stop the active recording before deleting it."),await mn("Delete blocked for active recording",{sessionId:c,source:"list"});return}const g=Date.now(),w=Fl();Ht("Delete confirmation opened",{sessionId:c,source:"list",...w});const j=window.confirm("Delete this recording? This cannot be undone."),L=Math.max(0,Date.now()-g),X=Fl();if(Ht("Delete confirmation resolved",{sessionId:c,source:"list",confirmed:j,confirmDurationMs:L,before:w,after:X}),!j){Ht("Delete recording cancelled",{sessionId:c,source:"list"});return}Ht("Delete recording confirmed",{sessionId:c,source:"list"});try{await bt.init()}catch(K){console.error("[UI] Failed to init manifest for delete",K),await Pe("Delete init failed",{sessionId:c,source:"list",error:K instanceof Error?K.message:String(K)});return}try{await bt.deleteSession(c),await bt.getSession(c)&&await mn("Delete verification failed",{sessionId:c,source:"list"}),await Ht("Recording deleted",{sessionId:c,source:"list"}),B?.id===c&&await Il(),await Ke()}catch(K){console.error("[UI] Failed to delete recording",K),J(K instanceof Error?K.message:String(K)),await Pe("Recording delete failed",{sessionId:c,source:"list",error:K instanceof Error?K.message:String(K)})}},[Fl,H.sessionId,H.state,Il,Ke,B?.id]),Ge=(i,c)=>c>0?`${Math.round(i/c*100)}%`:"0%",Sn=i=>{const c=Math.max(0,i/1e3),g=Math.floor(c/60),w=c-g*60,j=w<10?`0${w.toFixed(1)}`:w.toFixed(1);return`${g}:${j}`},sl=i=>{const c={ok:0,warn:0,error:0,total:i.length};return i.forEach(g=>{g.status==="ok"?c.ok+=1:g.status==="warn"?c.warn+=1:c.error+=1}),c},Wl=i=>{const c=new Map;return i.forEach(g=>{const w=g.reason??"(no reason)",j=`${g.status}:${w}`,L=c.get(j);L?(L.count+=1,L.examples.length<6&&L.examples.push(g)):c.set(j,{reason:w,status:g.status,count:1,examples:[g]})}),Array.from(c.values()).sort((g,w)=>{const j={error:0,warn:1,ok:2};return j[g.status]!==j[w.status]?j[g.status]-j[w.status]:w.count-g.count})},Xc=i=>{const{session:c,doctorReports:g,logs:w}=i,j=[];if(j.push("Web Whisper  Doctor Report (compact)"),j.push(`Session: ${c.id}`),j.push(`StartedAt: ${new Date(c.startedAt).toISOString()}`),j.push(`DurationMs: ${c.durationMs}  (=${(c.durationMs/1e3).toFixed(1)}s)`),j.push(`Mime: ${c.mimeType??"unknown"}  Chunks: ${c.chunkCount}  Timing: ${c.timingStatus??"unverified"}`),j.push(""),g?.sanity){const Y=g.sanity.metrics;j.push("Sanity:"),j.push(`- chunkTimebase=${Y.chunkTimebase} session=${((Y.sessionDurationMs??0)/1e3).toFixed(1)}s chunkMax=${((Y.chunkMaxOffsetMs??0)/1e3).toFixed(1)}s chunkSum=${((Y.chunkSumDurationMs??0)/1e3).toFixed(1)}s snips=${Y.snipCount??0} snipMax=${((Y.snipMaxEndMs??0)/1e3).toFixed(1)}s`),g.sanity.findings.forEach(st=>j.push(`- ${st.level.toUpperCase()}: ${st.message}`)),j.push("")}const L=(Y,st)=>{if(!st)return;j.push(`${Y}: OK=${st.summary.ok} WARN=${st.summary.warn} ERR=${st.summary.error} TOTAL=${st.summary.total}`),j.push(`- expected=${((st.metrics.expectedDurationMs??0)/1e3).toFixed(1)}s observed=${((st.metrics.observedDurationMs??0)/1e3).toFixed(1)}s items=${st.metrics.observedItemCount??0}/${st.metrics.expectedItemCount??0}`),Wl(st.segments).filter(vt=>vt.status!=="ok").slice(0,5).forEach(vt=>{const Ct=vt.examples.slice(0,3).map(Bt=>`${Sn(Bt.startMs)}${Sn(Bt.endMs)}`).join(", ");j.push(`- ${vt.status.toUpperCase()}: ${vt.reason} (${vt.count}) e.g. ${Ct}`)}),j.push("")};L("Chunk coverage",g?.chunkCoverage),L("Range access",g?.rangeAccess),L("Per-chunk decode",g?.chunkDecode),L("Snip scan",g?.snipScan),w.length>0&&(j.push("Recent logs (last 30):"),w.slice(-30).forEach(Y=>{const st=typeof Y.timestamp=="number"?new Date(Y.timestamp).toISOString():"",at=Y.level??"",vt=(Y.message??"").replace(/\s+/g," ").slice(0,200);j.push(`- ${st} ${at} ${vt}`.trim())}),j.push(""));let X=j.join(`
`);const K=45e3;return X.length>K&&(X=`${X.slice(0,K)}

[TRUNCATED: report exceeded ${K} chars]
`),X},Pl=(i,c)=>{const g=JSON.stringify(c,null,2),w=new Blob([g],{type:"application/json"}),j=URL.createObjectURL(w),L=document.createElement("a");L.href=j,L.download=`${i.replace(/\s+/g,"-").toLowerCase()}-doctor-report.json`,L.rel="noopener",document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(j)},Qc=async i=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText){await navigator.clipboard.writeText(i);return}const c=document.createElement("textarea");c.value=i,c.style.position="fixed",c.style.left="-9999px",c.style.top="0",document.body.appendChild(c),c.focus(),c.select(),document.execCommand("copy"),document.body.removeChild(c)},Zc=(i,c)=>{const g=i.find(w=>w.seq>=0)??null;return g?g.startMs>1e12&&c>1e12?"absolute":g.startMs>=0&&g.startMs<864e5?"offset":"unknown":"unknown"},Kc=(i,c,g)=>g==="absolute"?{startMs:i.startMs-c,endMs:i.endMs-c}:{startMs:i.startMs,endMs:i.endMs},$c=D.useCallback(async()=>{if(!B)return;const i=bn.current+1;bn.current=i;const c=()=>bn.current!==i;ia(!0),yi(null),Fn(null),await bt.init();try{await bt.verifySessionChunkTimings(B.id)}catch{}Cn.clearSession(B.id);const g=await bt.getSession(B.id)??B,w=await bt.getChunkData(B.id),j=w.filter(it=>!Ae(it)),L=w.find(it=>it.seq===0)?.startMs??j[0]?.startMs??g.startedAt,X=Number.isFinite(L)?Math.round(L):g.startedAt,K=Zc(j,X),Y=j.map(it=>({...it,...Kc(it,X,K)})),st=Bl??(Y.length>0?Math.max(...Y.map(it=>it.endMs)):g.durationMs??0),at=Math.max(0,st),vt=100,Ct=at>0?Math.ceil(at/vt):0,Bt={},le=async()=>{await new Promise(it=>requestAnimationFrame(()=>it()))},rt=async()=>{const it=[];ce({label:"Chunk coverage scan",completed:0,total:Ct});let re=0;for(let fe=0;fe<Ct;fe+=1){if(c())return;const Lt=fe*vt,ge=Math.min(at,Lt+vt),gt=Y.find(xt=>xt.startMs<=Lt&&xt.endMs>Lt)??null;gt?!Number.isFinite(gt.byteLength)||gt.byteLength<=0?it.push({index:fe,startMs:Lt,endMs:ge,status:"error",reason:"Chunk blob is empty",meta:{chunkId:gt.id,seq:gt.seq,byteLength:gt.byteLength}}):gt.endMs<=gt.startMs?it.push({index:fe,startMs:Lt,endMs:ge,status:"warn",reason:"Chunk timing metadata looks invalid",meta:{chunkId:gt.id,seq:gt.seq,chunkStartMs:gt.startMs,chunkEndMs:gt.endMs}}):(re+=ge-Lt,it.push({index:fe,startMs:Lt,endMs:ge,status:"ok",meta:{chunkId:gt.id,seq:gt.seq}})):it.push({index:fe,startMs:Lt,endMs:ge,status:"error",reason:"No chunk covers this time range"}),fe%50===0&&(ce({label:"Chunk coverage scan",completed:fe+1,total:Ct}),await le())}ce({label:"Chunk coverage scan",completed:Ct,total:Ct}),Bt.chunkCoverage={stepMs:vt,totalDurationMs:at,segments:it,summary:sl(it),metrics:{expectedDurationMs:at,observedDurationMs:re,expectedItemCount:Ct,observedItemCount:Ct-sl(it).error}}},Dt=async()=>{const it=[];ce({label:"Range access scan (0.1s)",completed:0,total:Ct});let re=0,fe=0;for(let Lt=0;Lt<Ct;Lt+=1){if(c())return;const ge=Lt*vt,gt=Math.min(at,ge+vt);try{const xt=await Cn.inspectRange(g,ge,gt,g.mimeType??null);re+=xt.durationMs,fe+=1;const Ye=gt-ge,Vt=xt.durationMs<Math.min(Ye*.5,Ye-10),$t=xt.sampleCount>0&&xt.rms<=1e-5&&xt.peak<=5e-5,Mn=Vt||$t?"warn":"ok",pt=Vt?"Decoded slice shorter than expected":$t?"Slice appears silent":void 0;it.push({index:Lt,startMs:ge,endMs:gt,status:Mn,reason:pt,meta:{durationMs:xt.durationMs,sampleCount:xt.sampleCount,rms:xt.rms,peak:xt.peak}})}catch(xt){it.push({index:Lt,startMs:ge,endMs:gt,status:"error",reason:xt instanceof Error?xt.message:String(xt)})}Lt%20===0&&(ce({label:"Range access scan (0.1s)",completed:Lt+1,total:Ct}),await le())}ce({label:"Range access scan (0.1s)",completed:Ct,total:Ct}),Bt.rangeAccess={stepMs:vt,totalDurationMs:at,segments:it,summary:sl(it),metrics:{expectedDurationMs:at,observedDurationMs:re,expectedItemCount:Ct,observedItemCount:fe}}},an=async()=>{ce({label:"Per-chunk decode scan",completed:0,total:j.length});const it=[];if(typeof window>"u"||typeof window.AudioContext>"u"){Bt.chunkDecode={stepMs:1,totalDurationMs:at,segments:[{index:0,startMs:0,endMs:0,status:"error",reason:"AudioContext is not supported in this environment."}],summary:{ok:0,warn:0,error:1,total:1},metrics:{expectedDurationMs:null,observedDurationMs:null,expectedItemCount:null,observedItemCount:null}};return}const re=new AudioContext;let fe=0,Lt=0,ge=0;try{for(let gt=0;gt<Y.length;gt+=1){if(c())return;const xt=Y[gt],Ye=xt.seq;fe+=Math.max(0,xt.endMs-xt.startMs);try{const Vt=await Cn.getChunkAudio(g,Ye);if(!Vt)it.push({index:gt,startMs:xt.startMs,endMs:xt.endMs,status:"error",reason:"Chunk not found",meta:{seq:Ye}});else{const $t=await Vt.blob.arrayBuffer(),Mn=await re.decodeAudioData($t.slice(0)),pt=Math.max(0,Mn.duration*1e3);Lt+=pt,ge+=1;const Xt=Math.max(0,xt.endMs-xt.startMs),Se=Math.abs(pt-Xt),ma=Se>250?"warn":"ok",ha=Se>250?"Decoded duration differs from expected chunk timing":void 0;it.push({index:gt,startMs:xt.startMs,endMs:xt.endMs,status:ma,reason:ha,meta:{seq:Ye,blobType:Vt.mimeType,blobBytes:Vt.blob.size,decodedMs:pt,expectedMs:Xt,driftMs:Se,note:"Standalone chunk decoding can include timestamp offsets; compare against range scans."}})}}catch(Vt){it.push({index:gt,startMs:xt.startMs,endMs:xt.endMs,status:"error",reason:Vt instanceof Error?Vt.message:String(Vt),meta:{seq:Ye}})}gt%5===0&&(ce({label:"Per-chunk decode scan",completed:gt+1,total:j.length}),await le())}}finally{await re.close().catch(()=>{})}ce({label:"Per-chunk decode scan",completed:j.length,total:j.length}),Bt.chunkDecode={stepMs:1,totalDurationMs:at,segments:it,summary:sl(it),metrics:{expectedDurationMs:fe,observedDurationMs:Lt,expectedItemCount:j.length,observedItemCount:ge}}},ss=async()=>{const it=[],re=Number.isFinite(B.durationMs)?Math.max(0,B.durationMs):null,fe=j.length>0?Math.max(...j.map(pt=>pt.endMs)):null,Lt=Y.length>0?Math.max(...Y.map(pt=>pt.endMs)):null,ge=Y.reduce((pt,Xt)=>pt+Math.max(0,Xt.endMs-Xt.startMs),0),gt=[...Y].sort((pt,Xt)=>pt.seq-Xt.seq);let xt=0,Ye=0;for(let pt=1;pt<gt.length;pt+=1){const Xt=gt[pt-1],Se=gt[pt];Se.startMs<Xt.endMs-5&&(xt+=1),Se.startMs>Xt.endMs+50&&(Ye+=1)}if(xt>0&&it.push({level:"warn",message:`Chunk timings overlap in ${xt} places.`,meta:{overlaps:xt}}),Ye>0&&it.push({level:"warn",message:`Chunk timings have gaps in ${Ye} places.`,meta:{gaps:Ye}}),re!==null&&Lt!==null){const pt=Lt-re;Math.abs(pt)>1e3?it.push({level:(pt>0,"warn"),message:"Session duration and chunk max end differ by >1s.",meta:{sessionDurationMs:re,chunkMaxOffsetMs:Lt,driftMs:pt,chunkTimebase:K}}):it.push({level:"info",message:"Session duration and chunk max end are close.",meta:{sessionDurationMs:re,chunkMaxOffsetMs:Lt,driftMs:pt,chunkTimebase:K}})}let Vt=null,$t=null,Mn=null;try{const pt=await Cn.listSnips(g,g.mimeType??null);Vt=pt.length,$t=pt.length>0?Math.max(...pt.map(Se=>Se.endMs)):0,Mn=pt.reduce((Se,ma)=>Se+Math.max(0,ma.durationMs),0);const Xt=Lt??re??at;Xt>0&&$t>Xt+2e3?it.push({level:"error",message:"Snips extend beyond the expected session duration by >2s.",meta:{baselineDurationMs:Xt,snipMaxEndMs:$t,driftMs:$t-Xt}}):Xt>0&&pt.length>0&&$t<Xt-2e3?it.push({level:"error",message:"Snips do not cover the full expected session duration (end too early).",meta:{baselineDurationMs:Xt,snipMaxEndMs:$t,driftMs:$t-Xt}}):it.push({level:"info",message:"Snip end times are within expected duration.",meta:{baselineDurationMs:Xt,snipMaxEndMs:$t}})}catch(pt){it.push({level:"error",message:"Failed to compute snips for sanity checks.",meta:{error:pt instanceof Error?pt.message:String(pt)}})}try{const pt=await bt.listChunkVolumeProfiles(B.id),Xt=new Set(Y.map(Tt=>Tt.seq)),Se=pt.filter(Tt=>Xt.has(Tt.seq)).sort((Tt,Gn)=>Tt.seq-Gn.seq),ma=new Set(Se.map(Tt=>Tt.seq)),ha=[...Xt].filter(Tt=>!ma.has(Tt)),Hs=Se.filter(Tt=>!(typeof Tt.durationMs=="number"&&Tt.durationMs>0)),pa=Se.filter(Tt=>!Array.isArray(Tt.frames)||Tt.frames.length===0),Gs=Se.filter(Tt=>{const Gn=Array.isArray(Tt.frames)?Tt.frames:[];return Gn.length===0?!1:Gn.every(dn=>!Number.isFinite(dn)||dn<=0)}),is=Se.filter(Tt=>!(typeof Tt.sampleRate=="number"&&Tt.sampleRate>0)),Na=Se.filter(Tt=>!(typeof Tt.frameDurationMs=="number"&&Tt.frameDurationMs>0)),Ys=[];Se.forEach(Tt=>{const Gn=Y.find(ja=>ja.seq===Tt.seq)??null;if(!Gn)return;const dn=Math.max(0,Gn.endMs-Gn.startMs),Ni=Math.max(0,Tt.durationMs??0),us=Ni-dn;Math.abs(us)>250&&Ys.push({seq:Tt.seq,expectedMs:dn,profileMs:Ni,driftMs:us})}),ha.length>0?it.push({level:"warn",message:`Missing chunk volume profiles for ${ha.length} chunk(s).`,meta:{examples:ha.slice(0,10)}}):it.push({level:"info",message:"Chunk volume profiles exist for all chunks."}),Hs.length>0||pa.length>0||is.length>0||Na.length>0?it.push({level:"warn",message:"Some chunk volume profiles have invalid metadata (duration/frames/sampleRate/frameDuration).",meta:{zeroDuration:Hs.length,zeroFrames:pa.length,invalidSampleRate:is.length,invalidFrameDuration:Na.length}}):it.push({level:"info",message:"Chunk volume profile metadata looks well-formed."}),Gs.length>0&&it.push({level:"warn",message:`Some chunk volume profiles are all zeros (silent/failed decode) (${Gs.length}).`,meta:{examples:Gs.slice(0,6).map(Tt=>Tt.seq)}}),Ys.length>0?it.push({level:"warn",message:`Chunk volume profile durations differ from chunk timings for ${Ys.length} chunk(s).`,meta:{examples:Ys.slice(0,6)}}):it.push({level:"info",message:"Chunk volume profile durations match chunk timings (within 250ms)."})}catch(pt){it.push({level:"warn",message:"Unable to validate chunk volume profiles.",meta:{error:pt instanceof Error?pt.message:String(pt)}})}Bt.sanity={findings:it,metrics:{sessionDurationMs:re,chunkMaxEndMs:fe,chunkSumDurationMs:ge,snipCount:Vt,snipMaxEndMs:$t,snipSumDurationMs:Mn,chunkTimebase:K,chunkMaxOffsetMs:Lt}}},fa=async()=>{ce({label:"Snip scan (each snip)",completed:0,total:1});const it=await Cn.listSnips(g,g.mimeType??null),re=[],fe=it.reduce((gt,xt)=>gt+Math.max(0,xt.durationMs),0);let Lt=0,ge=0;ce({label:"Snip scan (each snip)",completed:0,total:it.length});for(let gt=0;gt<it.length;gt+=1){if(c())return;const xt=it[gt],Ye=gt+1;try{const Vt=await Cn.inspectRange(g,xt.startMs,xt.endMs,g.mimeType??null);Lt+=Vt.durationMs,ge+=1;const $t=Math.abs(Vt.durationMs-Math.max(0,xt.durationMs)),Mn=Vt.sampleCount>0&&Vt.rms<=1e-5&&Vt.peak<=5e-5,pt=$t>500||Mn?"warn":"ok",Xt=$t>500?"Decoded snip duration differs from expected":Mn?"Snip appears silent":void 0;re.push({index:gt,startMs:xt.startMs,endMs:xt.endMs,status:pt,reason:Xt,meta:{snipNumber:Ye,expectedMs:xt.durationMs,decodedMs:Vt.durationMs,driftMs:$t,rms:Vt.rms,peak:Vt.peak,sampleCount:Vt.sampleCount}})}catch(Vt){re.push({index:gt,startMs:xt.startMs,endMs:xt.endMs,status:"error",reason:Vt instanceof Error?Vt.message:String(Vt),meta:{snipNumber:Ye}})}gt%5===0&&(ce({label:"Snip scan (each snip)",completed:gt+1,total:it.length}),await le())}ce({label:"Snip scan (each snip)",completed:it.length,total:it.length}),Bt.snipScan={stepMs:0,totalDurationMs:it.length>0?it[it.length-1].endMs:0,segments:re,summary:sl(re),metrics:{expectedDurationMs:fe,observedDurationMs:Lt,expectedItemCount:it.length,observedItemCount:ge}}};try{if(Ue.sanityChecks&&await ss(),Ue.chunkCoverageScan&&await rt(),Ue.rangeAccessScan&&await Dt(),Ue.chunkDecodeScan&&await an(),Ue.snipScan&&await fa(),c())return;Fn(Bt)}catch(it){if(c())return;yi(it instanceof Error?it.message:String(it))}finally{c()||(ia(!1),ce(null))}},[Ue.chunkCoverageScan,Ue.chunkDecodeScan,Ue.rangeAccessScan,Ue.sanityChecks,Ue.snipScan,B,Bl]),Eu=()=>{ue(!1),$a([]),sa(null),Rl("tables"),Ja([]),zl(null),As([])},Jc=async i=>{const c=Number(i);!Number.isFinite(c)||c<=0||await Ss.set({storageLimitBytes:Math.round(c*ud)})},wi=async i=>{await Ss.set({developerMode:i})},il=async i=>{await Ss.set({transcriptionMode:i})},Ic=async i=>{await Ss.set({groqApiKey:i})},Au=async()=>{await Ss.set({transcriptionOnboardingDismissed:!0})},Tu=D.useCallback(async i=>{const{id:c}=i,g=ve.current,w=g.get(c),j=(Bt,le)=>{le.cleanup(),le.audio.pause(),le.audio.currentTime=le.startTime,g.delete(Bt)};if(W===c){w&&j(c,w),I(null);return}for(const[Bt,le]of g.entries())j(Bt,le);if(I(null),Ae(i)||De(i))return;const L=new Audio,X=$l(i);if(!X){console.error("[UI] Missing chunk URL for playback",c);return}L.src=X,L.volume=k;const K=0,Y=0;qe.current?.pause();function st(){L.removeEventListener("ended",vt),L.removeEventListener("error",vt)}function at(){st(),L.pause(),L.currentTime=K,g.delete(c),I(Bt=>Bt===c?null:Bt)}function vt(){at()}L.addEventListener("ended",vt),L.addEventListener("error",vt);const Ct=()=>st();g.set(c,{audio:L,cleanup:Ct,startTime:K,endTime:Y});try{L.currentTime=K,await L.play(),I(c)}catch(Bt){console.error("[UI] Failed to play chunk",Bt),at()}},[W,$l,De,Ae,k]),wu=D.useCallback(async i=>{if(!B||Yt(i))return;const c=i.id,g=vn.current,w=g.get(c),j=(rt,Dt)=>{Dt.cleanup(),Dt.audio.pause(),Dt.audio.currentTime=Dt.startTime,g.delete(rt)};if(lt===c){w&&j(c,w),S(null);return}ve.current.forEach((rt,Dt)=>{rt.cleanup(),rt.audio.pause(),rt.audio.currentTime=rt.startTime,ve.current.delete(Dt)}),I(null);for(const[rt,Dt]of g.entries())j(rt,Dt);S(null);const L=await ra(i);if(!L)return;const X=new Audio;X.src=L.url,X.volume=k;const K=Math.max(0,i.durationMs/1e3),Y=0,st=K;qe.current?.pause();function at(){X.removeEventListener("timeupdate",Bt),X.removeEventListener("ended",Ct),X.removeEventListener("error",Ct)}function vt(){at(),X.pause(),X.currentTime=Y,g.delete(c),S(rt=>rt===c?null:rt)}function Ct(){vt()}function Bt(){K>0&&X.currentTime>=st-.05&&vt()}X.addEventListener("timeupdate",Bt),X.addEventListener("ended",Ct),X.addEventListener("error",Ct);const le=()=>at();g.set(c,{audio:X,cleanup:le,startTime:Y,endTime:st});try{await X.play(),S(c)}catch(rt){console.error("[UI] Failed to play snip",rt),vt()}},[ra,Yt,k,B,lt]),Ls=D.useCallback(async()=>{try{const[i,c,g,w]=await Promise.all([bt.listSessions(),bt.getChunksForInspection(),bt.listChunkVolumeProfiles(),bt.listSnips()]);$a([{name:"sessions",rows:i.map(j=>({...j}))},{name:"chunks",rows:c.map(j=>({...j}))},{name:"chunkVolumes",rows:g.map(j=>({...j,framesPreview:j.frames.slice(0,24),framesTotal:j.frames.length}))},{name:"snips",rows:w.map(j=>({...j,segmentsPreview:j.transcription?.segments?.slice(0,6)??[],segmentsCount:j.transcription?.segments?.length??0}))}]),sa(j=>j??"sessions")}catch(i){console.error("[UI] Failed to load developer tables",i),$a([]),sa("sessions"),await Pe("Developer table load failed",{error:i instanceof Error?i.message:String(i)})}},[]),Da=D.useCallback(async i=>{if(zl(i),i){const c=await bt.getLogEntries(i.id);As(c)}else As([])},[]),da=D.useCallback(async()=>{try{const i=await bt.listLogSessions();Ja(i);const g=Oh()??i[0]??null;await Da(g)}catch(i){console.error("[UI] Failed to load log sessions",i),Ja([]),await Da(null),await Pe("Log session load failed",{error:i instanceof Error?i.message:String(i)})}},[Da]),Cu=D.useCallback(async i=>{if(!Nn)return;const c=Ln.findIndex(w=>w.id===Nn.id);if(c===-1)return;const g=Ln[c+i];g&&await Da(g)},[Da,Ln,Nn]),Fc=D.useCallback(async()=>{Rl("tables"),ue(!0),Jn(!0);try{await Ls(),await da()}catch(i){console.error("[UI] Failed to load developer data",i),$a([]),sa(null),await Pe("Developer overlay failed to load",{error:i instanceof Error?i.message:String(i)})}finally{Jn(!1)}},[Ls,da]),Wc=`${Ms(ct.totalBytes)} / ${Ms(ct.limitBytes)}`,ts=H.state==="recording"&&H.capturedMs>0,ul=Math.max(0,H.capturedMs),es=`${(ul/1e3).toFixed(1)}s`,ns=H.state==="recording"&&o?.targetBitrate?Math.round(ul/1e3*(o.targetBitrate/8)):0,Pc=H.state==="recording"?Math.max(H.bytesBuffered,ns):H.bytesBuffered,as=B?.id===H.sessionId&&H.state==="recording",Du=Oe&&!p&&_t,Ci=as?ul:Bl??B?.durationMs??0,ls=Math.max(Bl!==null?Bl/1e3:Ci/1e3,jn.duration),$e=D.useMemo(()=>{if(!B||y.length===0)return null;const i=1e12,c=y.map(rt=>rt.startMs).filter(rt=>Number.isFinite(rt)),g=c.length>0?Math.min(...c):0,w=Number.isFinite(g)?g:0,j=w>i,L=rt=>j?rt-w:rt,X=y.filter(rt=>!Ae(rt)).map(rt=>{const Dt=L(rt.startMs),an=L(rt.endMs);return!Number.isFinite(Dt)||!Number.isFinite(an)?null:{startMs:Dt,endMs:an,hasAudio:!De(rt)}}).filter(rt=>!!rt).sort((rt,Dt)=>rt.startMs-Dt.startMs),K=Math.max(B.durationMs??0,X.reduce((rt,Dt)=>Math.max(rt,Dt.endMs),0)),Y=[],st=4;let at=0;const vt=rt=>{if(rt.endMs<=rt.startMs)return;const Dt=Y[Y.length-1];if(Dt&&Dt.hasAudio===rt.hasAudio&&Math.abs(Dt.endMs-rt.startMs)<=st){Dt.endMs=Math.max(Dt.endMs,rt.endMs);return}Y.push(rt)};X.forEach(rt=>{let Dt=Math.max(0,rt.startMs),an=Math.max(Dt,rt.endMs);K>0&&(Dt=Math.min(Dt,K),an=Math.min(an,K)),!(an<=at)&&(Dt>at+st&&vt({startMs:at,endMs:Dt,hasAudio:!1}),vt({startMs:Dt,endMs:an,hasAudio:rt.hasAudio}),at=Math.max(at,an))}),K>0&&at<K-st&&vt({startMs:at,endMs:K,hasAudio:!1});const Ct=Y.filter(rt=>rt.hasAudio),Bt=[];let le=0;return Ct.forEach(rt=>{const Dt=Math.max(0,rt.endMs-rt.startMs);Dt<=0||(Bt.push({startMs:rt.startMs,endMs:rt.endMs,playStartMs:le,playEndMs:le+Dt}),le+=Dt)}),{durationMs:K,segments:Y,playableDurationMs:le,playbackMap:Bt}},[y,De,Ae,B]),qs=($e?.playableDurationMs??0)>0,Di=D.useMemo(()=>{if(!$e||$e.playbackMap.length===0)return jn.position;const i=Math.max(0,jn.position*1e3),c=$e.playbackMap.find(w=>i<=w.playEndMs)??$e.playbackMap[$e.playbackMap.length-1],g=Math.max(0,Math.min(i-c.playStartMs,c.endMs-c.startMs));return Math.max(0,(c.startMs+g)/1e3)},[jn.position,$e]),Nu=ls>0?Di/ls*100:0,tr=D.useMemo(()=>{if(!$e||$e.durationMs<=0)return[];const i=c=>Math.max(0,Math.min(100,c));return $e.segments.filter(c=>!c.hasAudio).map(c=>{const g=i(c.startMs/$e.durationMs*100),w=i(c.endMs/$e.durationMs*100);return{startPct:g,widthPct:Math.max(0,w-g)}}).filter(c=>c.widthPct>0)},[$e]),ju=/mp4|m4a/i.test(H.mimeType??"")&&H.chunksRecorded>0,er=Math.max(0,H.chunksRecorded-(ju?1:0));return f.jsxs("div",{className:"app-shell",children:[_c?f.jsx("div",{className:"no-audio-flash","aria-hidden":"true"}):null,f.jsxs("header",{className:"app-header",children:[f.jsx("div",{className:"brand",children:f.jsx("h1",{children:"Web Whisper"})}),f.jsxs("div",{className:"header-controls",children:[f.jsxs("div",{className:"buffer-card",role:"status","aria-live":"polite",children:[f.jsx("p",{className:"buffer-label",children:"Data"}),f.jsx("p",{className:"buffer-value",children:Wc})]}),be?f.jsx("button",{className:"dev-trigger",type:"button",onClick:Fc,"aria-label":"Open developer console",children:""}):null,f.jsx("button",{className:"settings-button",type:"button",onClick:()=>At(!0),children:"Settings"})]})]}),mt?f.jsxs("div",{className:"alert-banner",role:"alert",children:[f.jsx("p",{children:mt}),f.jsx("button",{type:"button",onClick:()=>J(null),children:"Dismiss"})]}):null,f.jsxs("main",{className:"content-grid",children:[f.jsxs("aside",{className:"controls-panel","aria-label":"Capture controls",children:[Mi?f.jsxs("div",{className:"onboarding-card",role:"status",children:[f.jsxs("div",{className:"onboarding-header",children:[f.jsx("h3",{children:"Transcription setup is insanely easy."}),f.jsx("button",{type:"button",onClick:()=>void Au(),children:"Dismiss"})]}),f.jsx("p",{children:"Groq is a separate service (not this app), and their accounts are free with no credit card required. Recording works out of the box."}),f.jsx("p",{className:"onboarding-highlight",children:"This uses one of the most amazing AI models. It is a crazy amount of value for free."}),f.jsxs("ol",{children:[f.jsx("li",{children:"Create a free Groq account and copy your API key."}),f.jsx("li",{children:"Open Settings and switch Transcription to Enabled."}),f.jsx("li",{children:"Paste the key and click Validate."})]}),f.jsx("p",{className:"onboarding-disclaimer",children:"Transcription is powered by Groq's servers (again: a separate service). Whisper on Groq is SO inexpensive. I used it all day intensely and I have never come close to being charged. Groq's pay-as-you-go free tier means you will likely never be charged."}),f.jsxs("div",{className:"onboarding-actions",children:[f.jsx("button",{type:"button",onClick:()=>At(!0),children:"Open Settings"}),f.jsx("a",{href:Wh,target:"_blank",rel:"noreferrer",children:"Get Groq API key"})]})]}):null,f.jsxs("div",{className:"controls-card",children:[f.jsx("h2",{children:"Capture"}),f.jsx("button",{className:`record-toggle ${H.state==="recording"?ts?"record-toggle-stop":"record-toggle-starting":"record-toggle-start"}`,type:"button",onClick:xu,"aria-pressed":H.state==="recording",disabled:H.state==="recording"&&!ts,children:H.state==="recording"?ts?"Stop recording":"Starting":"Start recording"}),f.jsx("p",{className:"controls-copy",children:H.state==="recording"?ts?`Recording  ${mi(Math.floor(ul/1e3))} elapsed`:"Starting recorder":"Recorder idle  tap start to begin a durable session."})]})]}),be&&H.state==="recording"?f.jsxs("div",{className:"dev-strip capture-strip",role:"status","aria-live":"polite",children:[f.jsxs("span",{children:["Audio: ",es," / ",er," seg",ju?" + init":""]}),f.jsxs("span",{children:["Data: ",Ms(Pc)]})]}):null,f.jsx("section",{className:"session-section","aria-label":"Recording sessions",children:f.jsx("ul",{className:"session-list",children:m.map(i=>{const c=i.id===H.sessionId&&H.state==="recording",g=c?mi(Math.floor(ul/1e3)):l0(i.durationMs),w=N[i.id]??"",j=q[i.id]??0,L=et[i.id],X=L?.transcribedCount??0,K=L?.total??0,Y=L?.purgedCount??0,st=L?.retryableCount??Math.max(0,K-Y),at=X>0,vt=_t&&j>0,Ct=K>0||vt,Bt=i.status==="error"?i.notes??"Recording error.":"",le=!!Et[i.id],rt=_t&&!c&&!!(St[i.id]||le),Dt=_t&&st>0,an=i.status==="error"?"error":c?"recording":rt?"transcribing":vt&&Ct?at?"partial":"untranscribed":i.status,ss=Fy[an],it=!(i.chunkCount>0&&i.totalBytes>0&&(i.durationMs??0)>0)||i.status==="error",re=`${s0(i.startedAt)}  ${n0(i.totalBytes)}`,fe=i.id===Wt,Lt=["session-card"];fe&&Lt.push("is-new"),i.status==="error"&&Lt.push("has-error");const ge=c?"Recording in progress...":Bt||(rt?"Finishing transcription...":w||(Y>0&&!vt?`Audio purged for ${Y} snip${Y===1?"":"s"}.`:vt?at?`Partially transcribed (${X}/${K})`:"Transcription failed for all snips.":_t?"Transcription pending...":nn?"Recording complete. Transcription paused.":"Recording complete."));return f.jsx("li",{children:f.jsxs("article",{className:Lt.join(" "),role:"button",tabIndex:0,onClick:()=>M(i.id),onKeyDown:gt=>{(gt.key==="Enter"||gt.key===" ")&&(gt.preventDefault(),M(i.id))},children:[f.jsxs("header",{className:"session-topline",children:[f.jsxs("div",{className:"session-topline-left",children:[f.jsx("span",{className:`session-pill ${ss.pillClass}`,children:ss.label}),f.jsx("span",{className:"session-duration-label",children:g})]}),f.jsx("div",{className:"session-topline-right",children:f.jsx("span",{className:"session-meta",children:re})})]}),f.jsxs("div",{className:"session-preview-row",children:[f.jsx("p",{className:"session-preview",children:ge}),rt?f.jsx("span",{className:"session-spinner","aria-label":"Transcribing"}):null,!rt&&Dt&&(vt||!w&&!Bt)&&i.status==="ready"?f.jsx("button",{type:"button",className:"session-retry",onClick:gt=>{gt.stopPropagation(),qc(i.id)},disabled:le,"aria-label":`Retry transcription for ${i.title}`,children:le?"Retrying":"Retry TX"}):null,it?f.jsx("button",{type:"button",className:"session-delete",onClick:gt=>{gt.stopPropagation(),Vc(i)},disabled:i.id===H.sessionId&&H.state==="recording","aria-label":`Delete ${i.title}`,title:i.id===H.sessionId&&H.state==="recording"?"Stop the active recording before deleting it.":"Delete recording",children:""}):null]})]})},i.id)})})})]}),Du?f.jsxs("section",{className:`transcription-panel${A?" is-visible":""}`,"aria-live":"polite","aria-label":"Live transcription preview",children:[f.jsx("header",{className:"transcription-header",children:f.jsx("h2",{children:"Live transcription"})}),f.jsxs("div",{className:"transcription-stream",ref:vu,children:[Ql.length===0?f.jsx("p",{className:"transcription-empty",children:"Pending - first words arrive in about 30 seconds."}):Ql.map((i,c)=>f.jsx("p",{className:"transcription-line",children:i},`${c}-${i.slice(0,12)}`)),f.jsx("div",{className:"transcription-fade","aria-hidden":"true"})]})]}):null,f.jsx("audio",{ref:qe,hidden:!0,preload:"none"}),B?f.jsx("div",{className:"detail-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"recording-detail-title",onClick:i=>{i.target===i.currentTarget&&Il()},children:f.jsxs("div",{className:"detail-panel",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"detail-header",children:[f.jsxs("div",{children:[f.jsx("p",{className:"detail-label",children:B.id===H.sessionId&&H.state==="recording"?"Recording in progress":"Recorded session"}),f.jsx("h2",{id:"recording-detail-title",children:e0(Ci)})]}),f.jsxs("div",{className:"detail-actions",children:[be?f.jsx("button",{className:`detail-graph-toggle ${Ma?"is-active":""}`,type:"button",onClick:()=>Ll(i=>!i),"aria-pressed":Ma,"aria-label":Ma?"Hide audio chunking analysis":"Show audio chunking analysis",children:""}):null,be?f.jsx("button",{className:`detail-doctor-toggle ${Sa?"is-active":""}`,type:"button",onClick:()=>hu(i=>!i),"aria-pressed":Sa,"aria-label":Sa?"Hide recording doctor diagnostics":"Show recording doctor diagnostics",children:""}):null,be?f.jsx("button",{className:`detail-debug-toggle ${he?"is-active":""}`,type:"button",onClick:()=>Ts(i=>!i),"aria-pressed":he,"aria-label":he?"Hide developer details":"Show developer details",children:""}):null,f.jsx("button",{className:"detail-delete",type:"button",onClick:()=>void Ti(),"aria-label":"Delete recording",disabled:B.id===H.sessionId&&H.state==="recording",title:B.id===H.sessionId&&H.state==="recording"?"Stop the active recording before deleting it.":"Delete recording",children:""}),f.jsx("button",{className:"detail-close",type:"button",onClick:Il,children:"Close"})]})]}),f.jsxs("div",{className:"detail-body",children:[f.jsxs("div",{className:"detail-summary",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Captured:"})," ",sp(B.startedAt)," ",cd(B.startedAt)," "," ",a0(B.startedAt,B.durationMs)]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Size:"})," ",Ms(B.totalBytes)]}),be&&he?f.jsxs("p",{children:[f.jsx("strong",{children:"Format:"})," ",B.mimeType??"pending"," "," ",f.jsx("strong",{children:"Chunks:"})," ",_s,rn?" + init":""]}):null]}),f.jsxs("div",{className:"playback-controls",children:[f.jsx("button",{className:`playback-button${qs?"":" is-disabled"}`,type:"button",onClick:Yc,disabled:Ul,"aria-disabled":!qs,"aria-pressed":jn.playing,children:Ul?"":jn.playing?"":""}),f.jsxs("div",{className:"playback-progress","aria-hidden":"true",children:[tr.map((i,c)=>f.jsx("span",{className:"playback-gap",style:{left:`${i.startPct}%`,width:`${i.widthPct}%`}},`gap-${c}-${i.startPct}`)),f.jsx("div",{className:"playback-progress-bar",style:{width:`${Nu}%`}})]}),f.jsxs("span",{className:"playback-timestamps",children:[mi(Di)," / ",mi(ls)]}),f.jsxs("div",{className:`volume-control ${nt?"is-open":""}`,children:[f.jsx("button",{type:"button",className:"volume-button","aria-pressed":nt,"aria-label":nt?"Hide volume slider":"Show volume slider",onClick:()=>yt(i=>!i),children:k===0?"":k<.5?"":""}),nt?f.jsx("input",{className:"volume-slider",type:"range",min:0,max:100,value:Math.round(k*100),onChange:i=>tt(Number(i.target.value)/100),"aria-label":"Playback volume"}):null]})]}),gu?f.jsx("p",{className:"detail-notes",role:"alert",children:gu}):null,qs?null:f.jsx("p",{className:"detail-notes",role:"status",children:"Audio was purged for this recording. Playback is unavailable."}),be&&Ma?f.jsx("div",{className:"detail-analysis",children:xa==="loading"?f.jsx("p",{className:"detail-analysis-status",children:"Analyzing audio for pauses"}):xa==="error"?f.jsx("p",{className:"detail-analysis-status",role:"alert",children:zn??"Unable to analyze audio."}):vi?f.jsx(Oy,{analysis:vi,targetRange:{minMs:5e3,idealMs:1e4,maxMs:6e4},playback:{positionMs:Math.max(0,jn.position*1e3),isPlaying:jn.playing}}):f.jsx("p",{className:"detail-analysis-status",children:"Preparing analysis"})}):null,f.jsxs("div",{className:"detail-transcription",children:[f.jsx("h3",{children:"Transcription"}),f.jsx("div",{className:"detail-transcription-actions",children:f.jsx("button",{type:"button",className:"detail-transcription-retry",onClick:()=>{if(!_t){At(!0);return}Ei()},disabled:Pa||_t&&(b.length===0||_e.retryableCount===0),children:_t?Pa?"Retrying":"Retry TX":"Open Settings"})}),_t?null:f.jsxs("div",{className:"detail-transcription-blocked",role:"status",children:[f.jsx("p",{children:Ze??"Transcription is unavailable right now."}),f.jsx("button",{type:"button",onClick:()=>At(!0),children:"Open Settings"})]}),b.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No snips recorded yet."}):_t?_e.transcribedCount===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No snip transcriptions yet. Open the snip list to retry each segment."}):f.jsx("textarea",{ref:Ea,className:"detail-transcription-text",readOnly:!0,value:_e.text,onClick:Jl,"aria-label":"Session transcription text",rows:Math.min(8,Math.max(3,Math.ceil(_e.text.length/90)))}):f.jsx("p",{className:"detail-transcription-placeholder",children:"Transcription is paused. Enable it in Settings to start sending snips to Groq."}),b.length>0&&(_t||_e.transcribedCount>0)?f.jsxs("p",{className:"detail-transcription-meta",children:["Transcribed ",_e.transcribedCount," of ",_e.total," snips."]}):null,_t&&_e.errorCount>0?f.jsxs("p",{className:"detail-transcription-error",role:"alert",children:[_e.errorCount," snip transcription error",_e.errorCount===1?"":"s"," recorded. See the snip list for details."]}):null,_e.purgedCount>0?f.jsxs("p",{className:"detail-transcription-note",children:["Audio purged for ",_e.purgedCount," snip",_e.purgedCount===1?"":"s"," to stay under the storage cap. Retries are disabled for purged audio."]}):null]}),be&&Sa?f.jsxs("div",{className:"detail-doctor",children:[f.jsxs("div",{className:"detail-doctor-header",children:[f.jsx("h3",{children:"Doctor diagnostics"}),f.jsxs("div",{className:"detail-doctor-actions",children:[f.jsx("button",{type:"button",onClick:async()=>{if(B){_l(null),Ia(null);try{await bt.init();const c=Oh()?.id??null,g=c?await bt.getLogEntries(c,400):[],w=Xc({session:B,doctorReports:Ee,logs:g.map(j=>({level:j.level,message:j.message,timestamp:j.timestamp}))});Ia(w);try{await Qc(w),_l("Copied compact report to clipboard."),window.setTimeout(()=>_l(null),2500)}catch{_l("Clipboard copy blocked; compact report shown below (tap Select all).")}}catch(i){_l(`Copy failed: ${i instanceof Error?i.message:String(i)}`)}}},disabled:In,children:"Copy compact report"}),f.jsx("button",{type:"button",onClick:()=>{bn.current+=1,ia(!1),ce(null)},disabled:!In,children:"Cancel"}),f.jsx("button",{type:"button",onClick:()=>void $c(),disabled:In,children:In?"Running":"Run selected tests"})]})]}),pu?f.jsx("p",{className:"detail-transcription-placeholder",children:pu}):null,kl?f.jsxs("div",{className:"doctor-export",children:[f.jsxs("div",{className:"doctor-export-actions",children:[f.jsx("button",{type:"button",onClick:()=>{const i=document.getElementById("doctor-export-textarea");i&&(i.focus(),i.select())},children:"Select all"}),f.jsx("button",{type:"button",onClick:()=>Ia(null),children:"Hide"})]}),f.jsx("textarea",{id:"doctor-export-textarea",className:"doctor-export-textarea",readOnly:!0,value:kl,rows:10})]}):null,f.jsx("p",{className:"detail-transcription-placeholder",children:"Runs quick integrity checks to help identify whether corruption is in stored chunks or in range access/decoding."}),f.jsxs("div",{className:"doctor-test-list",children:[f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ue.sanityChecks,disabled:In,onChange:i=>Ol(c=>({...c,sanityChecks:i.target.checked}))}),f.jsx("span",{children:"Sanity checks (durations, snip bounds, chunk timing)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ue.chunkCoverageScan,disabled:In,onChange:i=>Ol(c=>({...c,chunkCoverageScan:i.target.checked}))}),f.jsx("span",{children:"Chunk coverage scan (IndexedDB timings/coverage, 0.1s)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ue.rangeAccessScan,disabled:In,onChange:i=>Ol(c=>({...c,rangeAccessScan:i.target.checked}))}),f.jsx("span",{children:"Range access scan via slice API (decode+inspect, 0.1s)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ue.chunkDecodeScan,disabled:In,onChange:i=>Ol(c=>({...c,chunkDecodeScan:i.target.checked}))}),f.jsx("span",{children:"Per-chunk decode scan (decode each chunk blob)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ue.snipScan,disabled:In,onChange:i=>Ol(c=>({...c,snipScan:i.target.checked}))}),f.jsx("span",{children:"Snip scan (inspect each snip range)"})]})]}),Be?f.jsxs("p",{className:"detail-transcription-placeholder",children:[Be.label,": ",Be.completed,"/",Be.total]}):null,tn?f.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:tn}):null,Ee?.sanity?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Sanity checks"}),f.jsxs("p",{className:"doctor-summary",children:["Session duration: ",((Ee.sanity.metrics.sessionDurationMs??0)/1e3).toFixed(1),"s  Chunk timebase: ",Ee.sanity.metrics.chunkTimebase,"  Chunk max end:"," ",((Ee.sanity.metrics.chunkMaxOffsetMs??0)/1e3).toFixed(1),"s  Chunk sum:"," ",((Ee.sanity.metrics.chunkSumDurationMs??0)/1e3).toFixed(1),"s  Snips:"," ",Ee.sanity.metrics.snipCount??0,"  Snip max end:"," ",((Ee.sanity.metrics.snipMaxEndMs??0)/1e3).toFixed(1),"s  Snip sum:"," ",((Ee.sanity.metrics.snipSumDurationMs??0)/1e3).toFixed(1),"s"]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>Pl(`sanity-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:Ee.sanity}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Ee.sanity.findings.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No findings."}):Ee.sanity.findings.map((i,c)=>f.jsx("div",{className:`doctor-detail-row is-${i.level==="info"?"ok":i.level}`,children:f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:i.level.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:i.message})]})},c))})]}):null,(()=>{const i=Ee?.chunkCoverage;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Chunk coverage scan"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Chunk coverage results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`${Sn(c.startMs)}${Sn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ge(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ge(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ge(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected segments:"," ",i.metrics.expectedItemCount??0,"  Observed segments: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>Pl(`chunk-coverage-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Wl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ge(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:[Sn(g.startMs),"",Sn(g.endMs)]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=Ee?.rangeAccess;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Range access scan (0.1s)"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Range access results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`${Sn(c.startMs)}${Sn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ge(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ge(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ge(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected windows:"," ",i.metrics.expectedItemCount??0,"  Decoded windows: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>Pl(`range-access-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Wl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ge(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:[Sn(g.startMs),"",Sn(g.endMs)]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=Ee?.chunkDecode;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Per-chunk decode scan"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Per-chunk decode results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`Chunk #${c.index+1}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ge(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ge(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ge(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Decoded audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected chunks:"," ",i.metrics.expectedItemCount??0,"  Decoded chunks: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>Pl(`chunk-decode-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Wl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ge(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=Ee?.snipScan;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Snip scan (each snip)"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Snip scan results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`Snip #${c.index+1}  ${Sn(c.startMs)}${Sn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ge(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ge(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ge(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected snips:"," ",i.metrics.expectedItemCount??0,"  Decoded snips: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>Pl(`snip-scan-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Wl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ge(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})()]}):null,be&&he?f.jsxs("div",{className:"detail-chunks",children:[f.jsxs("div",{className:"detail-slices-header",children:[f.jsxs("h3",{children:[qn==="chunks"?`Chunks (${_s}${rn?" + init":""})`:`Snips (${b.length})`," "," ",B.mimeType??"pending"]}),f.jsxs("div",{className:"detail-slice-toggle",role:"tablist","aria-label":"Slice mode",children:[f.jsx("button",{type:"button",role:"tab","aria-selected":qn==="chunks",className:qn==="chunks"?"is-selected":"",onClick:()=>ws("chunks"),children:"Chunks"}),f.jsx("button",{type:"button",role:"tab","aria-selected":qn==="snips",className:qn==="snips"?"is-selected":"",onClick:()=>ws("snips"),children:"Snips"})]})]}),qn==="chunks"?y.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No chunks persisted yet."}):f.jsx("ul",{className:"chunk-list",children:y.map(i=>{const c=Math.max(0,(i.endMs-i.startMs)/1e3),g=c<10?2:1,w=`${c.toFixed(g)} s`,j=Ae(i),L=W===i.id,X=i.seq+1,K=De(i),Y=j?`Chunk ${X} is an init segment without audio`:K?`Chunk ${X} audio purged`:L?`Pause chunk ${X}`:`Play chunk ${X}`;return f.jsxs("li",{className:`chunk-item ${j?"header-chunk":""}`,children:[f.jsx("button",{type:"button",className:`chunk-play ${L?"is-playing":""}`,onClick:()=>void Tu(i),"aria-pressed":L,"aria-label":Y,disabled:j||K,title:j?"Init segment (no audio payload)":K?"Audio purged to stay under the storage cap":void 0,children:j?"NA":L?"":""}),f.jsxs("span",{children:["#",X]}),f.jsx("span",{children:w}),f.jsx("span",{children:Ms(i.byteLength)}),f.jsx("button",{type:"button",className:"chunk-download",onClick:()=>ks(i),"aria-label":`Download chunk ${X}`,disabled:j||K,title:j?"Init segment (typically no downloadable audio)":K?"Audio purged to stay under the storage cap":void 0,children:""}),j?f.jsx("span",{className:"chunk-flag",children:"init segment"}):null,K?f.jsx("span",{className:"chunk-flag is-purged",children:"purged"}):null]},i.id)})}):xa==="loading"&&b.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"Analyzing audio for snips"}):xa==="error"&&b.length===0?f.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:zn??"Unable to analyze audio."}):b.length?f.jsxs(f.Fragment,{children:[xa==="error"&&zn?f.jsxs("p",{className:"detail-transcription-placeholder",role:"alert",children:["Snip refresh failed: ",zn]}):null,f.jsx("ul",{className:"chunk-list",children:b.map(i=>{const c=i.index+1,g=Math.max(0,i.durationMs/1e3),w=g<10?2:1,j=`${g.toFixed(w)} s`,L=i.id,X=lt===L,K=!!Le[i.id],Y=Qa(i),st=Y.length>0,at=Yt(i),vt=at?`Snip ${c} audio purged`:X?`Pause snip ${c}`:`Play snip ${c}`,Ct=at?`Snip ${c} audio purged`:_t?K?`Transcribing snip ${c}`:st?`Retry transcription for snip ${c}`:`Transcribe snip ${c}`:`Transcription paused. Open Settings to enable snip ${c}.`,Bt=at?"Audio purged":_t?K&&!as?"Transcribing":st?"Transcribed":"Pending":"Paused",le=at?"is-purged":st?"is-ready":_t?"is-pending":"is-paused";return f.jsxs("li",{className:"chunk-item",children:[f.jsx("button",{type:"button",className:`chunk-play ${X?"is-playing":""}`,onClick:()=>void wu(i),"aria-pressed":X,"aria-label":vt,disabled:at,children:X?"":""}),f.jsxs("span",{children:["#",c]}),f.jsx("span",{children:j}),f.jsxs("span",{children:[mi(Math.round(i.startMs/1e3)),"  ",mi(Math.round(i.endMs/1e3))]}),f.jsx("span",{className:`snip-transcription-status ${le}`,children:Bt}),f.jsx("button",{type:"button",className:"chunk-download",onClick:()=>void Bc(i,c),"aria-label":`Download snip ${c}`,disabled:at,children:""}),f.jsx("button",{type:"button",className:"snip-transcribe",onClick:()=>void Lc(i),"aria-label":Ct,disabled:K||at||!_t,children:_t?st?"Retry":"Tx":"Off"}),Y?f.jsx("textarea",{className:"snip-transcription-text",readOnly:!0,value:Y,onClick:Jl,"aria-label":`Snip ${c} transcription`,rows:Math.min(6,Math.max(2,Math.ceil(Y.length/80)))}):null,i.transcriptionError?f.jsx("span",{className:"snip-transcription-error",role:"alert",children:i.transcriptionError}):null,at?f.jsx("span",{className:"snip-retention-note",children:Fh}):null]},L)})})]}):f.jsx("p",{className:"detail-transcription-placeholder",children:"No snips available yet."})]}):null,B.status==="error"&&B.notes?f.jsx("p",{className:"detail-notes",children:B.notes}):null]})]})}):null,jt?f.jsx("div",{className:"settings-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",onClick:i=>{i.target===i.currentTarget&&At(!1)},children:f.jsxs("div",{className:"settings-dialog",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"settings-header",children:[f.jsx("h2",{id:"settings-title",children:"Settings"}),f.jsx("button",{type:"button",className:"settings-close",onClick:()=>At(!1),children:"Close"})]}),f.jsxs("div",{className:"settings-body",children:[f.jsxs("section",{className:"settings-section","aria-labelledby":"settings-transcription-title",children:[f.jsxs("div",{className:"settings-section-header",children:[f.jsx("h3",{id:"settings-transcription-title",children:"Transcription"}),f.jsx("span",{className:`settings-pill ${Uc}`,children:kc})]}),f.jsx("p",{className:"settings-hint",children:"Groq is a separate service (not this app). Their free account takes about a minute to set up, and you can enable it any time."}),f.jsxs("ol",{className:"settings-cheatsheet",children:[f.jsx("li",{children:"Create a free Groq account and copy the API key."}),f.jsx("li",{children:"Switch Transcription to Enabled."}),f.jsx("li",{children:"Paste the key and click Validate."})]}),f.jsxs("div",{className:"settings-mode-toggle",role:"group","aria-label":"Transcription mode",children:[f.jsx("button",{type:"button",className:Rs==="enabled"?"is-selected":"",onClick:()=>void il("enabled"),children:"Enabled"}),f.jsx("button",{type:"button",className:Rs==="disabled"?"is-selected":"",onClick:()=>void il("disabled"),children:"Disabled"})]}),f.jsxs("label",{className:"settings-field",children:[f.jsx("span",{children:"Groq API key"}),f.jsx("input",{type:"text",value:o?.groqApiKey??"",onChange:i=>void Ic(i.target.value),placeholder:"sk-",autoComplete:"off"})]}),f.jsxs("div",{className:"settings-validation",children:[f.jsxs("span",{className:`settings-validation-status ${na}`,children:["Key status: ",zs]}),f.jsx("button",{type:"button",onClick:()=>void Xl(),disabled:!ua||pe==="validating",children:pe==="validating"?"Validating...":pe==="invalid"?"Retry validation":"Validate key"})]}),ea?f.jsx("p",{className:"settings-error",role:"alert",children:ea}):null,f.jsxs("p",{className:"settings-disclaimer",children:["Need a key?"," ",f.jsx("a",{href:Wh,target:"_blank",rel:"noreferrer",children:"Create one in Groq Console"}),". Groq is a separate service and handles billing directly. Whisper on Groq is SO inexpensive. I used it all day intensely and I have never come close to being charged. Groq's pay-as-you-go free tier means you will likely never be charged. See"," ",f.jsx("a",{href:t0,target:"_blank",rel:"noreferrer",children:"Groq pricing"}),"."]})]}),f.jsxs("section",{className:"settings-section","aria-labelledby":"settings-app-title",children:[f.jsx("h3",{id:"settings-app-title",children:"App"}),f.jsxs("label",{className:"settings-field settings-checkbox",children:[f.jsx("input",{type:"checkbox",checked:be,onChange:i=>void wi(i.target.checked)}),f.jsx("span",{children:"Enable developer mode"})]}),f.jsxs("label",{className:"settings-field",children:[f.jsx("span",{children:"Storage cap (MB)"}),f.jsx("input",{type:"number",min:1,value:Math.round(Ta/ud),onChange:i=>void Jc(i.target.value)})]})]})]})]})}):null,be&&Qe?f.jsx("div",{className:"dev-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"dev-console-title",onClick:i=>{i.target===i.currentTarget&&Eu()},children:f.jsxs("div",{className:"dev-panel",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"dev-panel-header",children:[f.jsx("h2",{id:"dev-console-title",children:"Developer Console"}),f.jsx("button",{type:"button",className:"dev-close",onClick:Eu,children:"Close"})]}),f.jsxs("div",{className:"dev-panel-toolbar",children:[f.jsx("button",{type:"button",className:jl==="tables"?"is-selected":"",onClick:()=>{Rl("tables"),Jn(!0),Ls().finally(()=>Jn(!1))},children:"IndexedDB"}),f.jsx("button",{type:"button",className:jl==="logs"?"is-selected":"",onClick:()=>{Rl("logs"),Jn(!0),da().finally(()=>Jn(!1))},children:"Logs"})]}),jl==="tables"?f.jsxs("div",{className:"dev-panel-body",children:[f.jsx("div",{className:"dev-table-buttons",children:Es.map(i=>f.jsxs("button",{type:"button",className:Dn===i.name?"is-selected":"",onClick:()=>sa(i.name),children:[i.name,f.jsx("span",{className:"dev-table-count",children:i.rows.length})]},i.name))}),f.jsx("div",{className:"dev-table-rows",children:Ka?f.jsx("p",{children:"Loading"}):Dn?(()=>{const i=Es.find(c=>c.name===Dn);return i?i.rows.length===0?f.jsx("p",{children:"No rows."}):Dn==="chunks"?i.rows.map((g,w)=>{const j=typeof g.id=="string"?g.id:`${g.sessionId??"chunk"}-${g.seq??w}`,L=typeof g.blobSize=="number"?g.blobSize:null,X=typeof g.verifiedByteLength=="number"?g.verifiedByteLength:null,K=L!==null?`${L} B (${Ms(L)})`:"unknown",Y=X!==null?`${X} B (${Ms(X)})`:"unverified",st=!!(g.sizeMismatch??(X!==null&&L!==null&&X!==L));return f.jsxs("div",{className:`dev-table-chunk ${st?"has-mismatch":""}`,children:[f.jsx("pre",{children:JSON.stringify(g,null,2)}),f.jsxs("p",{className:"dev-chunk-extra",children:[f.jsxs("span",{children:["blob.size: ",K]}),f.jsxs("span",{children:["verified: ",Y]}),f.jsx("span",{className:st?"dev-chunk-warning":"dev-chunk-ok",children:st?" size mismatch":" sizes match"})]})]},j)}):Dn==="chunkVolumes"?i.rows.map((g,w)=>{const j=`${g.sessionId}-${g.chunkId}-${w}`,L=g.framesTotal??g.frames.length,X=typeof g.averageNormalized=="number"?g.averageNormalized:0,K=typeof g.maxNormalized=="number"?g.maxNormalized:0,Y=typeof g.durationMs=="number"?(g.durationMs/1e3).toFixed(2):"0.00";return f.jsxs("div",{className:"dev-table-chunk",children:[f.jsx("pre",{children:JSON.stringify(g,null,2)}),f.jsxs("p",{className:"dev-chunk-extra",children:[f.jsxs("span",{children:["frames: ",L]}),f.jsxs("span",{children:["duration: ",Y,"s"]}),f.jsxs("span",{children:["avg volume: ",X.toFixed(4)]}),f.jsxs("span",{children:["peak volume: ",K.toFixed(4)]})]})]},j)}):i.rows.map((c,g)=>f.jsx("pre",{children:JSON.stringify(c,null,2)},g)):f.jsx("p",{children:"No rows."})})():f.jsx("p",{children:"Select a table to inspect rows."})})]}):f.jsxs("div",{className:"dev-log-body",children:[f.jsxs("div",{className:"dev-log-header",children:[f.jsx("button",{type:"button",onClick:()=>void Cu(-1),disabled:!Nn||Ln.findIndex(i=>i.id===Nn.id)===Ln.length-1,children:""}),f.jsxs("select",{value:Nn?.id??"",onChange:i=>{const c=Ln.find(g=>g.id===i.target.value)??null;Da(c)},children:[Ln.length===0?f.jsx("option",{value:"",children:"No sessions"}):null,Ln.map(i=>f.jsx("option",{value:i.id,children:new Date(i.startedAt).toLocaleString()},i.id))]}),f.jsx("button",{type:"button",onClick:()=>void Cu(1),disabled:!Nn||Ln.findIndex(i=>i.id===Nn.id)<=0,children:""})]}),f.jsx("div",{className:"dev-log-entries",children:Ka?f.jsx("p",{children:"Loading"}):Nn?mu.length===0?f.jsx("p",{children:"No entries for this session."}):mu.map(i=>f.jsxs("article",{className:`dev-log-entry level-${i.level}`,children:[f.jsxs("header",{children:[f.jsx("span",{className:"dev-log-message",children:i.message}),f.jsxs("span",{className:"dev-log-meta",children:[f.jsx("span",{className:"dev-log-level",children:i.level.toUpperCase()}),f.jsx("time",{dateTime:new Date(i.timestamp).toISOString(),children:r0(i.timestamp)})]})]}),i.details?f.jsx("code",{className:"dev-log-details",children:typeof i.details=="string"?i.details:JSON.stringify(i.details)}):null]},i.id??`${i.timestamp}`)):f.jsx("p",{children:"No log sessions found."})})]})]})}):null]})}document.title="Web Whisper";Ug({immediate:!0});zg.createRoot(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(o0,{})}));
