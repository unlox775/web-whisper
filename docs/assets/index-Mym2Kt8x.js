(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const M of p)if(M.type==="childList")for(const y of M.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function m(p){const M={};return p.integrity&&(M.integrity=p.integrity),p.referrerPolicy&&(M.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?M.credentials="include":p.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function d(p){if(p.ep)return;p.ep=!0;const M=m(p);fetch(p.href,M)}})();var Ho={exports:{}},mu={};var mh;function Eg(){if(mh)return mu;mh=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function m(d,p,M){var y=null;if(M!==void 0&&(y=""+M),p.key!==void 0&&(y=""+p.key),"key"in p){M={};for(var T in p)T!=="key"&&(M[T]=p[T])}else M=p;return p=M.ref,{$$typeof:o,type:d,key:y,ref:p!==void 0?p:null,props:M}}return mu.Fragment=r,mu.jsx=m,mu.jsxs=m,mu}var hh;function Ag(){return hh||(hh=1,Ho.exports=Eg()),Ho.exports}var f=Ag(),Go={exports:{}},Tt={};var ph;function Tg(){if(ph)return Tt;ph=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),y=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),L=Symbol.iterator;function $(S){return S===null||typeof S!="object"?null:(S=L&&S[L]||S["@@iterator"],typeof S=="function"?S:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Et={};function ut(S,_,tt){this.props=S,this.context=_,this.refs=Et,this.updater=tt||et}ut.prototype.isReactComponent={},ut.prototype.setState=function(S,_){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,_,"setState")},ut.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function bt(){}bt.prototype=ut.prototype;function ot(S,_,tt){this.props=S,this.context=_,this.refs=Et,this.updater=tt||et}var H=ot.prototype=new bt;H.constructor=ot,F(H,ut.prototype),H.isPureReactComponent=!0;var P=Array.isArray;function mt(){}var J={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function Gt(S,_,tt){var at=tt.ref;return{$$typeof:o,type:S,key:_,ref:at!==void 0?at:null,props:tt}}function le(S,_){return Gt(S.type,_,S.props)}function Ft(S){return typeof S=="object"&&S!==null&&S.$$typeof===o}function Wt(S){var _={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(tt){return _[tt]})}var on=/\/+/g;function ze(S,_){return typeof S=="object"&&S!==null&&S.key!=null?Wt(""+S.key):_.toString(36)}function we(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(mt,mt):(S.status="pending",S.then(function(_){S.status==="pending"&&(S.status="fulfilled",S.value=_)},function(_){S.status==="pending"&&(S.status="rejected",S.reason=_)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function A(S,_,tt,at,yt){var wt=typeof S;(wt==="undefined"||wt==="boolean")&&(S=null);var At=!1;if(S===null)At=!0;else switch(wt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(S.$$typeof){case o:case r:At=!0;break;case N:return At=S._init,A(At(S._payload),_,tt,at,yt)}}if(At)return yt=yt(S),At=at===""?"."+ze(S,0):at,P(yt)?(tt="",At!=null&&(tt=At.replace(on,"$&/")+"/"),A(yt,_,tt,"",function(_l){return _l})):yt!=null&&(Ft(yt)&&(yt=le(yt,tt+(yt.key==null||S&&S.key===yt.key?"":(""+yt.key).replace(on,"$&/")+"/")+At)),_.push(yt)),1;At=0;var Ke=at===""?".":at+":";if(P(S))for(var Pt=0;Pt<S.length;Pt++)at=S[Pt],wt=Ke+ze(at,Pt),At+=A(at,_,tt,wt,yt);else if(Pt=$(S),typeof Pt=="function")for(S=Pt.call(S),Pt=0;!(at=S.next()).done;)at=at.value,wt=Ke+ze(at,Pt++),At+=A(at,_,tt,wt,yt);else if(wt==="object"){if(typeof S.then=="function")return A(we(S),_,tt,at,yt);throw _=String(S),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return At}function Y(S,_,tt){if(S==null)return S;var at=[],yt=0;return A(S,at,"","",function(wt){return _.call(tt,wt,yt++)}),at}function W(S){if(S._status===-1){var _=S._result;_=_(),_.then(function(tt){(S._status===0||S._status===-1)&&(S._status=1,S._result=tt)},function(tt){(S._status===0||S._status===-1)&&(S._status=2,S._result=tt)}),S._status===-1&&(S._status=0,S._result=_)}if(S._status===1)return S._result.default;throw S._result}var I=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},lt={map:Y,forEach:function(S,_,tt){Y(S,function(){_.apply(this,arguments)},tt)},count:function(S){var _=0;return Y(S,function(){_++}),_},toArray:function(S){return Y(S,function(_){return _})||[]},only:function(S){if(!Ft(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return Tt.Activity=E,Tt.Children=lt,Tt.Component=ut,Tt.Fragment=m,Tt.Profiler=p,Tt.PureComponent=ot,Tt.StrictMode=d,Tt.Suspense=b,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return J.H.useMemoCache(S)}},Tt.cache=function(S){return function(){return S.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(S,_,tt){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var at=F({},S.props),yt=S.key;if(_!=null)for(wt in _.key!==void 0&&(yt=""+_.key),_)!ct.call(_,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&_.ref===void 0||(at[wt]=_[wt]);var wt=arguments.length-2;if(wt===1)at.children=tt;else if(1<wt){for(var At=Array(wt),Ke=0;Ke<wt;Ke++)At[Ke]=arguments[Ke+2];at.children=At}return Gt(S.type,yt,at)},Tt.createContext=function(S){return S={$$typeof:y,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:M,_context:S},S},Tt.createElement=function(S,_,tt){var at,yt={},wt=null;if(_!=null)for(at in _.key!==void 0&&(wt=""+_.key),_)ct.call(_,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=_[at]);var At=arguments.length-2;if(At===1)yt.children=tt;else if(1<At){for(var Ke=Array(At),Pt=0;Pt<At;Pt++)Ke[Pt]=arguments[Pt+2];yt.children=Ke}if(S&&S.defaultProps)for(at in At=S.defaultProps,At)yt[at]===void 0&&(yt[at]=At[at]);return Gt(S,wt,yt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(S){return{$$typeof:T,render:S}},Tt.isValidElement=Ft,Tt.lazy=function(S){return{$$typeof:N,_payload:{_status:-1,_result:S},_init:W}},Tt.memo=function(S,_){return{$$typeof:v,type:S,compare:_===void 0?null:_}},Tt.startTransition=function(S){var _=J.T,tt={};J.T=tt;try{var at=S(),yt=J.S;yt!==null&&yt(tt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(mt,I)}catch(wt){I(wt)}finally{_!==null&&tt.types!==null&&(_.types=tt.types),J.T=_}},Tt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Tt.use=function(S){return J.H.use(S)},Tt.useActionState=function(S,_,tt){return J.H.useActionState(S,_,tt)},Tt.useCallback=function(S,_){return J.H.useCallback(S,_)},Tt.useContext=function(S){return J.H.useContext(S)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(S,_){return J.H.useDeferredValue(S,_)},Tt.useEffect=function(S,_){return J.H.useEffect(S,_)},Tt.useEffectEvent=function(S){return J.H.useEffectEvent(S)},Tt.useId=function(){return J.H.useId()},Tt.useImperativeHandle=function(S,_,tt){return J.H.useImperativeHandle(S,_,tt)},Tt.useInsertionEffect=function(S,_){return J.H.useInsertionEffect(S,_)},Tt.useLayoutEffect=function(S,_){return J.H.useLayoutEffect(S,_)},Tt.useMemo=function(S,_){return J.H.useMemo(S,_)},Tt.useOptimistic=function(S,_){return J.H.useOptimistic(S,_)},Tt.useReducer=function(S,_,tt){return J.H.useReducer(S,_,tt)},Tt.useRef=function(S){return J.H.useRef(S)},Tt.useState=function(S){return J.H.useState(S)},Tt.useSyncExternalStore=function(S,_,tt){return J.H.useSyncExternalStore(S,_,tt)},Tt.useTransition=function(){return J.H.useTransition()},Tt.version="19.2.0",Tt}var gh;function od(){return gh||(gh=1,Go.exports=Tg()),Go.exports}var D=od(),Yo={exports:{}},hu={},Vo={exports:{}},Xo={};var yh;function Cg(){return yh||(yh=1,(function(o){function r(A,Y){var W=A.length;A.push(Y);t:for(;0<W;){var I=W-1>>>1,lt=A[I];if(0<p(lt,Y))A[I]=Y,A[W]=lt,W=I;else break t}}function m(A){return A.length===0?null:A[0]}function d(A){if(A.length===0)return null;var Y=A[0],W=A.pop();if(W!==Y){A[0]=W;t:for(var I=0,lt=A.length,S=lt>>>1;I<S;){var _=2*(I+1)-1,tt=A[_],at=_+1,yt=A[at];if(0>p(tt,W))at<lt&&0>p(yt,tt)?(A[I]=yt,A[at]=W,I=at):(A[I]=tt,A[_]=W,I=_);else if(at<lt&&0>p(yt,W))A[I]=yt,A[at]=W,I=at;else break t}}return Y}function p(A,Y){var W=A.sortIndex-Y.sortIndex;return W!==0?W:A.id-Y.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var M=performance;o.unstable_now=function(){return M.now()}}else{var y=Date,T=y.now();o.unstable_now=function(){return y.now()-T}}var b=[],v=[],N=1,E=null,L=3,$=!1,et=!1,F=!1,Et=!1,ut=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function H(A){for(var Y=m(v);Y!==null;){if(Y.callback===null)d(v);else if(Y.startTime<=A)d(v),Y.sortIndex=Y.expirationTime,r(b,Y);else break;Y=m(v)}}function P(A){if(F=!1,H(A),!et)if(m(b)!==null)et=!0,mt||(mt=!0,Wt());else{var Y=m(v);Y!==null&&we(P,Y.startTime-A)}}var mt=!1,J=-1,ct=5,Gt=-1;function le(){return Et?!0:!(o.unstable_now()-Gt<ct)}function Ft(){if(Et=!1,mt){var A=o.unstable_now();Gt=A;var Y=!0;try{t:{et=!1,F&&(F=!1,bt(J),J=-1),$=!0;var W=L;try{e:{for(H(A),E=m(b);E!==null&&!(E.expirationTime>A&&le());){var I=E.callback;if(typeof I=="function"){E.callback=null,L=E.priorityLevel;var lt=I(E.expirationTime<=A);if(A=o.unstable_now(),typeof lt=="function"){E.callback=lt,H(A),Y=!0;break e}E===m(b)&&d(b),H(A)}else d(b);E=m(b)}if(E!==null)Y=!0;else{var S=m(v);S!==null&&we(P,S.startTime-A),Y=!1}}break t}finally{E=null,L=W,$=!1}Y=void 0}}finally{Y?Wt():mt=!1}}}var Wt;if(typeof ot=="function")Wt=function(){ot(Ft)};else if(typeof MessageChannel<"u"){var on=new MessageChannel,ze=on.port2;on.port1.onmessage=Ft,Wt=function(){ze.postMessage(null)}}else Wt=function(){ut(Ft,0)};function we(A,Y){J=ut(function(){A(o.unstable_now())},Y)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(A){A.callback=null},o.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<A?Math.floor(1e3/A):5},o.unstable_getCurrentPriorityLevel=function(){return L},o.unstable_next=function(A){switch(L){case 1:case 2:case 3:var Y=3;break;default:Y=L}var W=L;L=Y;try{return A()}finally{L=W}},o.unstable_requestPaint=function(){Et=!0},o.unstable_runWithPriority=function(A,Y){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=L;L=A;try{return Y()}finally{L=W}},o.unstable_scheduleCallback=function(A,Y,W){var I=o.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?I+W:I):W=I,A){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=W+lt,A={id:N++,callback:Y,priorityLevel:A,startTime:W,expirationTime:lt,sortIndex:-1},W>I?(A.sortIndex=W,r(v,A),m(b)===null&&A===m(v)&&(F?(bt(J),J=-1):F=!0,we(P,W-I))):(A.sortIndex=lt,r(b,A),et||$||(et=!0,mt||(mt=!0,Wt()))),A},o.unstable_shouldYield=le,o.unstable_wrapCallback=function(A){var Y=L;return function(){var W=L;L=Y;try{return A.apply(this,arguments)}finally{L=W}}}})(Xo)),Xo}var vh;function wg(){return vh||(vh=1,Vo.exports=Cg()),Vo.exports}var Qo={exports:{}},cn={};var bh;function Dg(){if(bh)return cn;bh=1;var o=od();function r(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)v+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var d={d:{f:m,r:function(){throw Error(r(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},p=Symbol.for("react.portal");function M(b,v,N){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:E==null?null:""+E,children:b,containerInfo:v,implementation:N}}var y=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,cn.createPortal=function(b,v){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(r(299));return M(b,v,null,N)},cn.flushSync=function(b){var v=y.T,N=d.p;try{if(y.T=null,d.p=2,b)return b()}finally{y.T=v,d.p=N,d.d.f()}},cn.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,d.d.C(b,v))},cn.prefetchDNS=function(b){typeof b=="string"&&d.d.D(b)},cn.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var N=v.as,E=T(N,v.crossOrigin),L=typeof v.integrity=="string"?v.integrity:void 0,$=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;N==="style"?d.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:L,fetchPriority:$}):N==="script"&&d.d.X(b,{crossOrigin:E,integrity:L,fetchPriority:$,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},cn.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var N=T(v.as,v.crossOrigin);d.d.M(b,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&d.d.M(b)},cn.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var N=v.as,E=T(N,v.crossOrigin);d.d.L(b,N,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},cn.preloadModule=function(b,v){if(typeof b=="string")if(v){var N=T(v.as,v.crossOrigin);d.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else d.d.m(b)},cn.requestFormReset=function(b){d.d.r(b)},cn.unstable_batchedUpdates=function(b,v){return b(v)},cn.useFormState=function(b,v,N){return y.H.useFormState(b,v,N)},cn.useFormStatus=function(){return y.H.useHostTransitionStatus()},cn.version="19.2.0",cn}var Sh;function Ng(){if(Sh)return Qo.exports;Sh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Qo.exports=Dg(),Qo.exports}var Mh;function jg(){if(Mh)return hu;Mh=1;var o=wg(),r=od(),m=Ng();function d(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function M(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function y(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(M(t)!==t)throw Error(d(188))}function v(t){var e=t.alternate;if(!e){if(e=M(t),e===null)throw Error(d(188));return e!==t?null:t}for(var n=t,a=e;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return b(l),t;if(s===a)return b(l),e;s=s.sibling}throw Error(d(188))}if(n.return!==a.return)n=l,a=s;else{for(var u=!1,h=l.child;h;){if(h===n){u=!0,n=l,a=s;break}if(h===a){u=!0,a=l,n=s;break}h=h.sibling}if(!u){for(h=s.child;h;){if(h===n){u=!0,n=s,a=l;break}if(h===a){u=!0,a=s,n=l;break}h=h.sibling}if(!u)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?t:e}function N(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=N(t),e!==null)return e;t=t.sibling}return null}var E=Object.assign,L=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Et=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),Gt=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),Ft=Symbol.iterator;function Wt(t){return t===null||typeof t!="object"?null:(t=Ft&&t[Ft]||t["@@iterator"],typeof t=="function"?t:null)}var on=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===on?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case ut:return"Profiler";case Et:return"StrictMode";case P:return"Suspense";case mt:return"SuspenseList";case Gt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case et:return"Portal";case ot:return t.displayName||"Context";case bt:return(t._context.displayName||"Context")+".Consumer";case H:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return e=t.displayName||null,e!==null?e:ze(t.type)||"Memo";case ct:e=t._payload,t=t._init;try{return ze(t(e))}catch{}}return null}var we=Array.isArray,A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},I=[],lt=-1;function S(t){return{current:t}}function _(t){0>lt||(t.current=I[lt],I[lt]=null,lt--)}function tt(t,e){lt++,I[lt]=t.current,t.current=e}var at=S(null),yt=S(null),wt=S(null),At=S(null);function Ke(t,e){switch(tt(wt,e),tt(yt,t),tt(at,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Um(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Um(e),t=Bm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}_(at),tt(at,t)}function Pt(){_(at),_(yt),_(wt)}function _l(t){t.memoizedState!==null&&tt(At,t);var e=at.current,n=Bm(e,t.type);e!==n&&(tt(yt,t),tt(at,n))}function Ja(t){yt.current===t&&(_(at),_(yt)),At.current===t&&(_(At),ru._currentValue=W)}var Ss,Ea;function ua(t){if(Ss===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ss=e&&e[1]||"",Ea=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+Ea}var Aa=!1;function Ta(t,e){if(!t||Aa)return"";Aa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(U){var k=U}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(U){k=U}t.call(Z.prototype)}}else{try{throw Error()}catch(U){k=U}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(U){if(U&&k&&typeof U.stack=="string")return[U.stack,k.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),u=s[0],h=s[1];if(u&&h){var x=u.split(`
`),O=h.split(`
`);for(l=a=0;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;for(;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;if(a===x.length||l===O.length)for(a=x.length-1,l=O.length-1;1<=a&&0<=l&&x[a]!==O[l];)l--;for(;1<=a&&0<=l;a--,l--)if(x[a]!==O[l]){if(a!==1||l!==1)do if(a--,l--,0>l||x[a]!==O[l]){var G=`
`+x[a].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=a&&0<=l);break}}}finally{Aa=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ua(n):""}function Ia(t,e){switch(t.tag){case 26:case 27:case 5:return ua(t.type);case 16:return ua("Lazy");case 13:return t.child!==e&&e!==null?ua("Suspense Fallback"):ua("Suspense");case 19:return ua("SuspenseList");case 0:case 15:return Ta(t.type,!1);case 11:return Ta(t.type.render,!1);case 1:return Ta(t.type,!0);case 31:return ua("Activity");default:return""}}function Ms(t){try{var e="",n=null;do e+=Ia(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ca=Object.prototype.hasOwnProperty,An=o.unstable_scheduleCallback,Fa=o.unstable_cancelCallback,$n=o.unstable_shouldYield,pi=o.unstable_requestPaint,an=o.unstable_now,xs=o.unstable_getCurrentPriorityLevel,Un=o.unstable_ImmediatePriority,Ul=o.unstable_UserBlockingPriority,hn=o.unstable_NormalPriority,gi=o.unstable_LowPriority,Bl=o.unstable_IdlePriority,vu=o.log,$e=o.unstable_setDisableYieldValue,Jn=null,pe=null;function Tn(t){if(typeof vu=="function"&&$e(t),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(Jn,t)}catch{}}var Le=Math.clz32?Math.clz32:yi,He=Math.log,bu=Math.LN2;function yi(t){return t>>>=0,t===0?32:31-(He(t)/bu|0)|0}var ql=256,ca=262144,Ll=4194304;function In(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ae(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,s=t.suspendedLanes,u=t.pingedLanes;t=t.warmLanes;var h=a&134217727;return h!==0?(a=h&~s,a!==0?l=In(a):(u&=h,u!==0?l=In(u):n||(n=h&~t,n!==0&&(l=In(n))))):(h=a&~s,h!==0?l=In(h):u!==0?l=In(u):n||(n=a&~t,n!==0&&(l=In(n)))),l===0?0:e!==0&&e!==l&&(e&s)===0&&(s=l&-l,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:l}function wa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Su(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(){var t=Ll;return Ll<<=1,(Ll&62914560)===0&&(Ll=4194304),t}function Es(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wn(t,e,n,a,l,s){var u=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var h=t.entanglements,x=t.expirationTimes,O=t.hiddenUpdates;for(n=u&~n;0<n;){var G=31-Le(n),Z=1<<G;h[G]=0,x[G]=-1;var k=O[G];if(k!==null)for(O[G]=null,G=0;G<k.length;G++){var U=k[G];U!==null&&(U.lane&=-536870913)}n&=~Z}a!==0&&Pn(t,a,0),s!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=s&~(u&~e))}function Pn(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-Le(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function Wa(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-Le(n),l=1<<a;l&e|t[a]&e&&(t[a]|=e),n&=~l}}function As(t,e){var n=e&-e;return n=(n&42)!==0?1:ra(n),(n&(t.suspendedLanes|e))!==0?0:n}function ra(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tl(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:ih(t.type))}function Bn(t,e){var n=Y.p;try{return Y.p=t,e()}finally{Y.p=n}}var ta=Math.random().toString(36).slice(2),ie="__reactFiber$"+ta,Oe="__reactProps$"+ta,ln="__reactContainer$"+ta,Hl="__reactEvents$"+ta,Ts="__reactListeners$"+ta,Cs="__reactHandles$"+ta,bi="__reactResources$"+ta,Gl="__reactMarker$"+ta;function ws(t){delete t[ie],delete t[Oe],delete t[Hl],delete t[Ts],delete t[Cs]}function ue(t){var e=t[ie];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ln]||n[ie]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xm(t);t!==null;){if(n=t[ie])return n;t=Xm(t)}return e}t=n,n=t.parentNode}return null}function pn(t){if(t=t[ie]||t[ln]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function oa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(d(33))}function gn(t){var e=t[bi];return e||(e=t[bi]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Zt(t){t[Gl]=!0}var Si=new Set,Ds={};function ke(t,e){qn(t,e),qn(t+"Capture",e)}function qn(t,e){for(Ds[t]=e,t=0;t<e.length;t++)Si.add(e[t])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ge={},nl={};function Cn(t){return Ca.call(nl,t)?!0:Ca.call(Ge,t)?!1:el.test(t)?nl[t]=!0:(Ge[t]=!0,!1)}function da(t,e,n){if(Cn(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Yl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function wn(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function Je(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vl(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Mi(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,s=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(u){n=""+u,s.call(this,u)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xl(t){if(!t._valueTracker){var e=Vl(t)?"checked":"value";t._valueTracker=Mi(t,e,""+t[e])}}function Ql(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=Vl(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function al(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xi=/[\n"\\]/g;function sn(t){return t.replace(xi,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Zl(t,e,n,a,l,s,u,h){t.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.type=u:t.removeAttribute("type"),e!=null?u==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Je(e)):t.value!==""+Je(e)&&(t.value=""+Je(e)):u!=="submit"&&u!=="reset"||t.removeAttribute("value"),e!=null?Kl(t,u,Je(e)):n!=null?Kl(t,u,Je(n)):a!=null&&t.removeAttribute("value"),l==null&&s!=null&&(t.defaultChecked=!!s),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?t.name=""+Je(h):t.removeAttribute("name")}function Ei(t,e,n,a,l,s,u,h){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Xl(t);return}n=n!=null?""+Je(n):"",e=e!=null?""+Je(e):n,h||e===t.value||(t.value=e),t.defaultValue=e}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=h?t.checked:!!a,t.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.name=u),Xl(t)}function Kl(t,e,n){e==="number"&&al(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ea(t,e,n,a){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&a&&(t[n].defaultSelected=!0)}else{for(n=""+Je(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,a&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function Ns(t,e,n){if(e!=null&&(e=""+Je(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Je(n):""}function Dn(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(d(92));if(we(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=Je(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),Xl(t)}function Se(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ll=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nn(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||ll.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function js(t,e,n){if(e!=null&&typeof e!="object")throw Error(d(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var l in e)a=e[l],e.hasOwnProperty(l)&&n[l]!==a&&Nn(t,l,a)}else for(var s in e)e.hasOwnProperty(s)&&Nn(t,s,e[s])}function Ye(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rs(t){return Bc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function na(){}var Ai=null;function Ti(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fa=null,ma=null;function te(t){var e=pn(t);if(e&&(t=e.stateNode)){var n=t[Oe]||null;t:switch(t=e.stateNode,e.type){case"input":if(Zl(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+sn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var l=a[Oe]||null;if(!l)throw Error(d(90));Zl(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&Ql(a)}break t;case"textarea":Ns(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&ea(t,!!n.multiple,e,!1)}}}var Ie=!1;function $l(t,e,n){if(Ie)return t(e,n);Ie=!0;try{var a=t(e);return a}finally{if(Ie=!1,(fa!==null||ma!==null)&&(rc(),fa&&(e=fa,t=ma,ma=fa=null,te(e),t)))for(e=0;e<t.length;e++)te(t[e])}}function sl(t,e){var n=t.stateNode;if(n===null)return null;var a=n[Oe]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(d(231,e,typeof n));return n}var me=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(me)try{var B={};Object.defineProperty(B,"passive",{get:function(){ha=!0}}),window.addEventListener("test",B,B),window.removeEventListener("test",B,B)}catch{ha=!1}var re=null,_e=null,aa=null;function Ci(){if(aa)return aa;var t,e=_e,n=e.length,a,l="value"in re?re.value:re.textContent,s=l.length;for(t=0;t<n&&e[t]===l[t];t++);var u=n-t;for(a=1;a<=u&&e[n-a]===l[s-a];a++);return aa=l.slice(t,1<a?1-a:void 0)}function Jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Da(){return!0}function Mu(){return!1}function Fe(t){function e(n,a,l,s,u){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(s):s[h]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Da:Mu,this.isPropagationStopped=Mu,this}return E(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),e}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=Fe(pa),ul=E({},pa,{view:0,detail:0}),zs=Fe(ul),cl,wi,rl,Na=E({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ja,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rl&&(rl&&t.type==="mousemove"?(cl=t.screenX-rl.screenX,wi=t.screenY-rl.screenY):wi=cl=0,rl=t),cl)},movementY:function(t){return"movementY"in t?t.movementY:wi}}),Il=Fe(Na),Ln=E({},Na,{dataTransfer:0}),ol=Fe(Ln),xu=E({},ul,{relatedTarget:0}),Os=Fe(xu),qc=E({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Lc=Fe(qc),Hc=E({},pa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=Fe(Hc),Gc=E({},pa,{data:0}),Au=Fe(Gc),Di={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ks={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vc(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ks[t])?!!e[t]:!1}function ja(){return Vc}var Fl=E({},ul,{key:function(t){if(t.key){var e=Di[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ja,charCode:function(t){return t.type==="keypress"?Jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xc=Fe(Fl),Qc=E({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ue=Fe(Qc),yn=E({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ja}),Wl=Fe(yn),Pl=E({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zc=Fe(Pl),ts=E({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kc=Fe(ts),$c=E({},pa,{newState:0,oldState:0}),Jc=Fe($c),Ic=[9,13,27,32],_s=me&&"CompositionEvent"in window,es=null;me&&"documentMode"in document&&(es=document.documentMode);var Fc=me&&"TextEvent"in window&&!es,Tu=me&&(!_s||es&&8<es&&11>=es),Cu=" ",wu=!1;function Du(t,e){switch(t){case"keyup":return Ic.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Us(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jn=!1;function Ni(t,e){switch(t){case"compositionend":return Us(e);case"keypress":return e.which!==32?null:(wu=!0,Cu);case"textInput":return t=e.data,t===Cu&&wu?null:t;default:return null}}function Nu(t,e){if(jn)return t==="compositionend"||!_s&&Du(t,e)?(t=Ci(),aa=_e=re=null,jn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tu&&e.locale!=="ko"?null:e.data;default:return null}}var Wc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ju(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Wc[t.type]:e==="textarea"}function ns(t,e,n,a){fa?ma?ma.push(a):ma=[a]:fa=a,e=gc(e,"onChange"),0<e.length&&(n=new il("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var la=null,as=null;function Pc(t){jm(t,0)}function Bs(t){var e=oa(t);if(Ql(e))return t}function ji(t,e){if(t==="change")return e}var Ru=!1;if(me){var qs;if(me){var ls="oninput"in document;if(!ls){var un=document.createElement("div");un.setAttribute("oninput","return;"),ls=typeof un.oninput=="function"}qs=ls}else qs=!1;Ru=qs&&(!document.documentMode||9<document.documentMode)}function Ls(){la&&(la.detachEvent("onpropertychange",Ri),as=la=null)}function Ri(t){if(t.propertyName==="value"&&Bs(as)){var e=[];ns(e,as,t,Ti(t)),$l(Pc,e)}}function tr(t,e,n){t==="focusin"?(Ls(),la=e,as=n,la.attachEvent("onpropertychange",Ri)):t==="focusout"&&Ls()}function er(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bs(as)}function zu(t,e){if(t==="click")return Bs(e)}function nr(t,e){if(t==="input"||t==="change")return Bs(e)}function i(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var c=typeof Object.is=="function"?Object.is:i;function g(t,e){if(c(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!Ca.call(e,l)||!c(t[l],e[l]))return!1}return!0}function C(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j(t,e){var n=C(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=C(n)}}function q(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?q(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function V(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=al(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=al(t.document)}return e}function K(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var X=me&&"documentMode"in document&&11>=document.documentMode,nt=null,st=null,pt=null,Dt=!1;function Lt(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dt||nt==null||nt!==al(a)||(a=nt,"selectionStart"in a&&K(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),pt&&g(pt,a)||(pt=a,a=gc(st,"onSelect"),0<a.length&&(e=new il("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=nt)))}function Vt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var dt={animationend:Vt("Animation","AnimationEnd"),animationiteration:Vt("Animation","AnimationIteration"),animationstart:Vt("Animation","AnimationStart"),transitionrun:Vt("Transition","TransitionRun"),transitionstart:Vt("Transition","TransitionStart"),transitioncancel:Vt("Transition","TransitionCancel"),transitionend:Vt("Transition","TransitionEnd")},jt={},dn={};me&&(dn=document.createElement("div").style,"AnimationEvent"in window||(delete dt.animationend.animation,delete dt.animationiteration.animation,delete dt.animationstart.animation),"TransitionEvent"in window||delete dt.transitionend.transition);function Hn(t){if(jt[t])return jt[t];if(!dt[t])return t;var e=dt[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dn)return jt[t]=e[n];return t}var zi=Hn("animationend"),it=Hn("animationiteration"),oe=Hn("animationstart"),ge=Hn("transitionrun"),Ut=Hn("transitionstart"),ye=Hn("transitioncancel"),gt=Hn("transitionend"),xt=new Map,Be="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Be.push("scrollEnd");function Rt(t,e){xt.set(t,e),ke(e,[t])}var ve=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Me=[],Mt=0,$t=0;function be(){for(var t=Mt,e=$t=Mt=0;e<t;){var n=Me[e];Me[e++]=null;var a=Me[e];Me[e++]=null;var l=Me[e];Me[e++]=null;var s=Me[e];if(Me[e++]=null,a!==null&&l!==null){var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}s!==0&&Oi(n,l,s)}}function ga(t,e,n,a){Me[Mt++]=t,Me[Mt++]=e,Me[Mt++]=n,Me[Mt++]=a,$t|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Ra(t,e,n,a){return ga(t,e,n,a),dl(t)}function ya(t,e){return ga(t,null,null,e),dl(t)}function Oi(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var l=!1,s=t.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(l=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,l&&e!==null&&(l=31-Le(n),t=s.hiddenUpdates,a=t[l],a===null?t[l]=[e]:a.push(e),e.lane=n|536870912),s):null}function dl(t){if(50<nu)throw nu=0,ro=null,Error(d(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var za={};function Ou(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(t,e,n,a){return new Ou(t,e,n,a)}function Ht(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xe(t,e){var n=t.alternate;return n===null?(n=Ve(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function fl(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ss(t,e,n,a,l,s){var u=0;if(a=t,typeof t=="function")Ht(t)&&(u=1);else if(typeof t=="string")u=dg(t,n,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Gt:return t=Ve(31,n,e,l),t.elementType=Gt,t.lanes=s,t;case F:return va(n.children,l,s,e);case Et:u=8,l|=24;break;case ut:return t=Ve(12,n,e,l|2),t.elementType=ut,t.lanes=s,t;case P:return t=Ve(13,n,e,l),t.elementType=P,t.lanes=s,t;case mt:return t=Ve(19,n,e,l),t.elementType=mt,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:u=10;break t;case bt:u=9;break t;case H:u=11;break t;case J:u=14;break t;case ct:u=16,a=null;break t}u=29,n=Error(d(130,t===null?"null":typeof t,"")),a=null}return e=Ve(u,n,e,l),e.elementType=t,e.type=a,e.lanes=s,e}function va(t,e,n,a){return t=Ve(7,t,a,e),t.lanes=n,t}function ki(t,e,n){return t=Ve(6,t,null,e),t.lanes=n,t}function fd(t){var e=Ve(18,null,null,0);return e.stateNode=t,e}function ar(t,e,n){return e=Ve(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var md=new WeakMap;function Gn(t,e){if(typeof t=="object"&&t!==null){var n=md.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ms(e)},md.set(t,e),e)}return{value:t,source:e,stack:Ms(e)}}var Hs=[],Gs=0,ku=null,_i=0,Yn=[],Vn=0,ml=null,ba=1,Sa="";function Oa(t,e){Hs[Gs++]=_i,Hs[Gs++]=ku,ku=t,_i=e}function hd(t,e,n){Yn[Vn++]=ba,Yn[Vn++]=Sa,Yn[Vn++]=ml,ml=t;var a=ba;t=Sa;var l=32-Le(a)-1;a&=~(1<<l),n+=1;var s=32-Le(e)+l;if(30<s){var u=l-l%5;s=(a&(1<<u)-1).toString(32),a>>=u,l-=u,ba=1<<32-Le(e)+l|n<<l|a,Sa=s+t}else ba=1<<s|n<<l|a,Sa=t}function lr(t){t.return!==null&&(Oa(t,1),hd(t,1,0))}function sr(t){for(;t===ku;)ku=Hs[--Gs],Hs[Gs]=null,_i=Hs[--Gs],Hs[Gs]=null;for(;t===ml;)ml=Yn[--Vn],Yn[Vn]=null,Sa=Yn[--Vn],Yn[Vn]=null,ba=Yn[--Vn],Yn[Vn]=null}function pd(t,e){Yn[Vn++]=ba,Yn[Vn++]=Sa,Yn[Vn++]=ml,ba=e.id,Sa=e.overflow,ml=t}var We=null,de=null,Bt=!1,hl=null,Xn=!1,ir=Error(d(519));function pl(t){var e=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ui(Gn(e,t)),ir}function gd(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[ie]=t,e[Oe]=a,n){case"dialog":Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":case"embed":Ot("load",e);break;case"video":case"audio":for(n=0;n<lu.length;n++)Ot(lu[n],e);break;case"source":Ot("error",e);break;case"img":case"image":case"link":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"input":Ot("invalid",e),Ei(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ot("invalid",e);break;case"textarea":Ot("invalid",e),Dn(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||km(e.textContent,n)?(a.popover!=null&&(Ot("beforetoggle",e),Ot("toggle",e)),a.onScroll!=null&&Ot("scroll",e),a.onScrollEnd!=null&&Ot("scrollend",e),a.onClick!=null&&(e.onclick=na),e=!0):e=!1,e||pl(t,!0)}function yd(t){for(We=t.return;We;)switch(We.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:We=We.return}}function Ys(t){if(t!==We)return!1;if(!Bt)return yd(t),Bt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||To(t.type,t.memoizedProps)),n=!n),n&&de&&pl(t),yd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));de=Vm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));de=Vm(t)}else e===27?(e=de,Nl(t.type)?(t=jo,jo=null,de=t):de=e):de=We?Zn(t.stateNode.nextSibling):null;return!0}function is(){de=We=null,Bt=!1}function ur(){var t=hl;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),hl=null),t}function Ui(t){hl===null?hl=[t]:hl.push(t)}var cr=S(null),us=null,ka=null;function gl(t,e,n){tt(cr,e._currentValue),e._currentValue=n}function _a(t){t._currentValue=cr.current,_(cr)}function rr(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function or(t,e,n,a){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){var u=l.child;s=s.firstContext;t:for(;s!==null;){var h=s;s=l;for(var x=0;x<e.length;x++)if(h.context===e[x]){s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),rr(s.return,n,t),a||(u=null);break t}s=h.next}}else if(l.tag===18){if(u=l.return,u===null)throw Error(d(341));u.lanes|=n,s=u.alternate,s!==null&&(s.lanes|=n),rr(u,n,t),u=null}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}}function Vs(t,e,n,a){t=null;for(var l=e,s=!1;l!==null;){if(!s){if((l.flags&524288)!==0)s=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var u=l.alternate;if(u===null)throw Error(d(387));if(u=u.memoizedProps,u!==null){var h=l.type;c(l.pendingProps.value,u.value)||(t!==null?t.push(h):t=[h])}}else if(l===At.current){if(u=l.alternate,u===null)throw Error(d(387));u.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(ru):t=[ru])}l=l.return}t!==null&&or(e,t,n,a),e.flags|=262144}function _u(t){for(t=t.firstContext;t!==null;){if(!c(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function cs(t){us=t,ka=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Pe(t){return vd(us,t)}function Uu(t,e){return us===null&&cs(t),vd(t,e)}function vd(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ka===null){if(t===null)throw Error(d(308));ka=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ka=ka.next=e;return n}var up=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},cp=o.unstable_scheduleCallback,rp=o.unstable_NormalPriority,De={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dr(){return{controller:new up,data:new Map,refCount:0}}function Bi(t){t.refCount--,t.refCount===0&&cp(rp,function(){t.controller.abort()})}var qi=null,fr=0,Xs=0,Qs=null;function op(t,e){if(qi===null){var n=qi=[];fr=0,Xs=go(),Qs={status:"pending",value:void 0,then:function(a){n.push(a)}}}return fr++,e.then(bd,bd),e}function bd(){if(--fr===0&&qi!==null){Qs!==null&&(Qs.status="fulfilled");var t=qi;qi=null,Xs=0,Qs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function dp(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var Sd=A.S;A.S=function(t,e){lm=an(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&op(t,e),Sd!==null&&Sd(t,e)};var rs=S(null);function mr(){var t=rs.current;return t!==null?t:se.pooledCache}function Bu(t,e){e===null?tt(rs,rs.current):tt(rs,e.pool)}function Md(){var t=mr();return t===null?null:{parent:De._currentValue,pool:t}}var Zs=Error(d(460)),hr=Error(d(474)),qu=Error(d(542)),Lu={then:function(){}};function xd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ed(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(na,na),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Td(t),t;default:if(typeof e.status=="string")e.then(na,na);else{if(t=se,t!==null&&100<t.shellSuspendCounter)throw Error(d(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=a}},function(a){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Td(t),t}throw ds=e,Zs}}function os(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ds=n,Zs):n}}var ds=null;function Ad(){if(ds===null)throw Error(d(459));var t=ds;return ds=null,t}function Td(t){if(t===Zs||t===qu)throw Error(d(483))}var Ks=null,Li=0;function Hu(t){var e=Li;return Li+=1,Ks===null&&(Ks=[]),Ed(Ks,t,e)}function Hi(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Gu(t,e){throw e.$$typeof===L?Error(d(525)):(t=Object.prototype.toString.call(e),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Cd(t){function e(R,w){if(t){var z=R.deletions;z===null?(R.deletions=[w],R.flags|=16):z.push(w)}}function n(R,w){if(!t)return null;for(;w!==null;)e(R,w),w=w.sibling;return null}function a(R){for(var w=new Map;R!==null;)R.key!==null?w.set(R.key,R):w.set(R.index,R),R=R.sibling;return w}function l(R,w){return R=Xe(R,w),R.index=0,R.sibling=null,R}function s(R,w,z){return R.index=z,t?(z=R.alternate,z!==null?(z=z.index,z<w?(R.flags|=67108866,w):z):(R.flags|=67108866,w)):(R.flags|=1048576,w)}function u(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function h(R,w,z,Q){return w===null||w.tag!==6?(w=ki(z,R.mode,Q),w.return=R,w):(w=l(w,z),w.return=R,w)}function x(R,w,z,Q){var ht=z.type;return ht===F?G(R,w,z.props.children,Q,z.key):w!==null&&(w.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ct&&os(ht)===w.type)?(w=l(w,z.props),Hi(w,z),w.return=R,w):(w=ss(z.type,z.key,z.props,null,R.mode,Q),Hi(w,z),w.return=R,w)}function O(R,w,z,Q){return w===null||w.tag!==4||w.stateNode.containerInfo!==z.containerInfo||w.stateNode.implementation!==z.implementation?(w=ar(z,R.mode,Q),w.return=R,w):(w=l(w,z.children||[]),w.return=R,w)}function G(R,w,z,Q,ht){return w===null||w.tag!==7?(w=va(z,R.mode,Q,ht),w.return=R,w):(w=l(w,z),w.return=R,w)}function Z(R,w,z){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=ki(""+w,R.mode,z),w.return=R,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $:return z=ss(w.type,w.key,w.props,null,R.mode,z),Hi(z,w),z.return=R,z;case et:return w=ar(w,R.mode,z),w.return=R,w;case ct:return w=os(w),Z(R,w,z)}if(we(w)||Wt(w))return w=va(w,R.mode,z,null),w.return=R,w;if(typeof w.then=="function")return Z(R,Hu(w),z);if(w.$$typeof===ot)return Z(R,Uu(R,w),z);Gu(R,w)}return null}function k(R,w,z,Q){var ht=w!==null?w.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ht!==null?null:h(R,w,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return z.key===ht?x(R,w,z,Q):null;case et:return z.key===ht?O(R,w,z,Q):null;case ct:return z=os(z),k(R,w,z,Q)}if(we(z)||Wt(z))return ht!==null?null:G(R,w,z,Q,null);if(typeof z.then=="function")return k(R,w,Hu(z),Q);if(z.$$typeof===ot)return k(R,w,Uu(R,z),Q);Gu(R,z)}return null}function U(R,w,z,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return R=R.get(z)||null,h(w,R,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:return R=R.get(Q.key===null?z:Q.key)||null,x(w,R,Q,ht);case et:return R=R.get(Q.key===null?z:Q.key)||null,O(w,R,Q,ht);case ct:return Q=os(Q),U(R,w,z,Q,ht)}if(we(Q)||Wt(Q))return R=R.get(z)||null,G(w,R,Q,ht,null);if(typeof Q.then=="function")return U(R,w,z,Hu(Q),ht);if(Q.$$typeof===ot)return U(R,w,z,Uu(w,Q),ht);Gu(w,Q)}return null}function rt(R,w,z,Q){for(var ht=null,Xt=null,ft=w,Nt=w=0,_t=null;ft!==null&&Nt<z.length;Nt++){ft.index>Nt?(_t=ft,ft=null):_t=ft.sibling;var Qt=k(R,ft,z[Nt],Q);if(Qt===null){ft===null&&(ft=_t);break}t&&ft&&Qt.alternate===null&&e(R,ft),w=s(Qt,w,Nt),Xt===null?ht=Qt:Xt.sibling=Qt,Xt=Qt,ft=_t}if(Nt===z.length)return n(R,ft),Bt&&Oa(R,Nt),ht;if(ft===null){for(;Nt<z.length;Nt++)ft=Z(R,z[Nt],Q),ft!==null&&(w=s(ft,w,Nt),Xt===null?ht=ft:Xt.sibling=ft,Xt=ft);return Bt&&Oa(R,Nt),ht}for(ft=a(ft);Nt<z.length;Nt++)_t=U(ft,R,Nt,z[Nt],Q),_t!==null&&(t&&_t.alternate!==null&&ft.delete(_t.key===null?Nt:_t.key),w=s(_t,w,Nt),Xt===null?ht=_t:Xt.sibling=_t,Xt=_t);return t&&ft.forEach(function(kl){return e(R,kl)}),Bt&&Oa(R,Nt),ht}function St(R,w,z,Q){if(z==null)throw Error(d(151));for(var ht=null,Xt=null,ft=w,Nt=w=0,_t=null,Qt=z.next();ft!==null&&!Qt.done;Nt++,Qt=z.next()){ft.index>Nt?(_t=ft,ft=null):_t=ft.sibling;var kl=k(R,ft,Qt.value,Q);if(kl===null){ft===null&&(ft=_t);break}t&&ft&&kl.alternate===null&&e(R,ft),w=s(kl,w,Nt),Xt===null?ht=kl:Xt.sibling=kl,Xt=kl,ft=_t}if(Qt.done)return n(R,ft),Bt&&Oa(R,Nt),ht;if(ft===null){for(;!Qt.done;Nt++,Qt=z.next())Qt=Z(R,Qt.value,Q),Qt!==null&&(w=s(Qt,w,Nt),Xt===null?ht=Qt:Xt.sibling=Qt,Xt=Qt);return Bt&&Oa(R,Nt),ht}for(ft=a(ft);!Qt.done;Nt++,Qt=z.next())Qt=U(ft,R,Nt,Qt.value,Q),Qt!==null&&(t&&Qt.alternate!==null&&ft.delete(Qt.key===null?Nt:Qt.key),w=s(Qt,w,Nt),Xt===null?ht=Qt:Xt.sibling=Qt,Xt=Qt);return t&&ft.forEach(function(xg){return e(R,xg)}),Bt&&Oa(R,Nt),ht}function ae(R,w,z,Q){if(typeof z=="object"&&z!==null&&z.type===F&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case $:t:{for(var ht=z.key;w!==null;){if(w.key===ht){if(ht=z.type,ht===F){if(w.tag===7){n(R,w.sibling),Q=l(w,z.props.children),Q.return=R,R=Q;break t}}else if(w.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ct&&os(ht)===w.type){n(R,w.sibling),Q=l(w,z.props),Hi(Q,z),Q.return=R,R=Q;break t}n(R,w);break}else e(R,w);w=w.sibling}z.type===F?(Q=va(z.props.children,R.mode,Q,z.key),Q.return=R,R=Q):(Q=ss(z.type,z.key,z.props,null,R.mode,Q),Hi(Q,z),Q.return=R,R=Q)}return u(R);case et:t:{for(ht=z.key;w!==null;){if(w.key===ht)if(w.tag===4&&w.stateNode.containerInfo===z.containerInfo&&w.stateNode.implementation===z.implementation){n(R,w.sibling),Q=l(w,z.children||[]),Q.return=R,R=Q;break t}else{n(R,w);break}else e(R,w);w=w.sibling}Q=ar(z,R.mode,Q),Q.return=R,R=Q}return u(R);case ct:return z=os(z),ae(R,w,z,Q)}if(we(z))return rt(R,w,z,Q);if(Wt(z)){if(ht=Wt(z),typeof ht!="function")throw Error(d(150));return z=ht.call(z),St(R,w,z,Q)}if(typeof z.then=="function")return ae(R,w,Hu(z),Q);if(z.$$typeof===ot)return ae(R,w,Uu(R,z),Q);Gu(R,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,w!==null&&w.tag===6?(n(R,w.sibling),Q=l(w,z),Q.return=R,R=Q):(n(R,w),Q=ki(z,R.mode,Q),Q.return=R,R=Q),u(R)):n(R,w)}return function(R,w,z,Q){try{Li=0;var ht=ae(R,w,z,Q);return Ks=null,ht}catch(ft){if(ft===Zs||ft===qu)throw ft;var Xt=Ve(29,ft,null,R.mode);return Xt.lanes=Q,Xt.return=R,Xt}finally{}}}var fs=Cd(!0),wd=Cd(!1),yl=!1;function pr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function bl(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Kt&2)!==0){var l=a.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),a.pending=e,e=dl(t),Oi(t,null,n),e}return ga(t,a,e,n),dl(t)}function Gi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Wa(t,n)}}function yr(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?l=s=e:s=s.next=e}else l=s=e;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var vr=!1;function Yi(){if(vr){var t=Qs;if(t!==null)throw t}}function Vi(t,e,n,a){vr=!1;var l=t.updateQueue;yl=!1;var s=l.firstBaseUpdate,u=l.lastBaseUpdate,h=l.shared.pending;if(h!==null){l.shared.pending=null;var x=h,O=x.next;x.next=null,u===null?s=O:u.next=O,u=x;var G=t.alternate;G!==null&&(G=G.updateQueue,h=G.lastBaseUpdate,h!==u&&(h===null?G.firstBaseUpdate=O:h.next=O,G.lastBaseUpdate=x))}if(s!==null){var Z=l.baseState;u=0,G=O=x=null,h=s;do{var k=h.lane&-536870913,U=k!==h.lane;if(U?(kt&k)===k:(a&k)===k){k!==0&&k===Xs&&(vr=!0),G!==null&&(G=G.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});t:{var rt=t,St=h;k=e;var ae=n;switch(St.tag){case 1:if(rt=St.payload,typeof rt=="function"){Z=rt.call(ae,Z,k);break t}Z=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=St.payload,k=typeof rt=="function"?rt.call(ae,Z,k):rt,k==null)break t;Z=E({},Z,k);break t;case 2:yl=!0}}k=h.callback,k!==null&&(t.flags|=64,U&&(t.flags|=8192),U=l.callbacks,U===null?l.callbacks=[k]:U.push(k))}else U={lane:k,tag:h.tag,payload:h.payload,callback:h.callback,next:null},G===null?(O=G=U,x=Z):G=G.next=U,u|=k;if(h=h.next,h===null){if(h=l.shared.pending,h===null)break;U=h,h=U.next,U.next=null,l.lastBaseUpdate=U,l.shared.pending=null}}while(!0);G===null&&(x=Z),l.baseState=x,l.firstBaseUpdate=O,l.lastBaseUpdate=G,s===null&&(l.shared.lanes=0),Al|=u,t.lanes=u,t.memoizedState=Z}}function Dd(t,e){if(typeof t!="function")throw Error(d(191,t));t.call(e)}function Nd(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Dd(n[t],e)}var $s=S(null),Yu=S(0);function jd(t,e){t=Xa,tt(Yu,t),tt($s,e),Xa=t|e.baseLanes}function br(){tt(Yu,Xa),tt($s,$s.current)}function Sr(){Xa=Yu.current,_($s),_(Yu)}var Rn=S(null),Qn=null;function Sl(t){var e=t.alternate;tt(Te,Te.current&1),tt(Rn,t),Qn===null&&(e===null||$s.current!==null||e.memoizedState!==null)&&(Qn=t)}function Mr(t){tt(Te,Te.current),tt(Rn,t),Qn===null&&(Qn=t)}function Rd(t){t.tag===22?(tt(Te,Te.current),tt(Rn,t),Qn===null&&(Qn=t)):Ml()}function Ml(){tt(Te,Te.current),tt(Rn,Rn.current)}function zn(t){_(Rn),Qn===t&&(Qn=null),_(Te)}var Te=S(0);function Vu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Do(n)||No(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ua=0,Ct=null,ee=null,Ne=null,Xu=!1,Js=!1,ms=!1,Qu=0,Xi=0,Is=null,fp=0;function xe(){throw Error(d(321))}function xr(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!c(t[n],e[n]))return!1;return!0}function Er(t,e,n,a,l,s){return Ua=s,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,A.H=t===null||t.memoizedState===null?pf:qr,ms=!1,s=n(a,l),ms=!1,Js&&(s=Od(e,n,a,l)),zd(t),s}function zd(t){A.H=Ki;var e=ee!==null&&ee.next!==null;if(Ua=0,Ne=ee=Ct=null,Xu=!1,Xi=0,Is=null,e)throw Error(d(300));t===null||je||(t=t.dependencies,t!==null&&_u(t)&&(je=!0))}function Od(t,e,n,a){Ct=t;var l=0;do{if(Js&&(Is=null),Xi=0,Js=!1,25<=l)throw Error(d(301));if(l+=1,Ne=ee=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}A.H=gf,s=e(n,a)}while(Js);return s}function mp(){var t=A.H,e=t.useState()[0];return e=typeof e.then=="function"?Qi(e):e,t=t.useState()[0],(ee!==null?ee.memoizedState:null)!==t&&(Ct.flags|=1024),e}function Ar(){var t=Qu!==0;return Qu=0,t}function Tr(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Cr(t){if(Xu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Xu=!1}Ua=0,Ne=ee=Ct=null,Js=!1,Xi=Qu=0,Is=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Ct.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function Ce(){if(ee===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=ee.next;var e=Ne===null?Ct.memoizedState:Ne.next;if(e!==null)Ne=e,ee=t;else{if(t===null)throw Ct.alternate===null?Error(d(467)):Error(d(310));ee=t,t={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ne===null?Ct.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qi(t){var e=Xi;return Xi+=1,Is===null&&(Is=[]),t=Ed(Is,t,e),e=Ct,(Ne===null?e.memoizedState:Ne.next)===null&&(e=e.alternate,A.H=e===null||e.memoizedState===null?pf:qr),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qi(t);if(t.$$typeof===ot)return Pe(t)}throw Error(d(438,String(t)))}function wr(t){var e=null,n=Ct.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=Ct.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Zu(),Ct.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=le;return e.index++,n}function Ba(t,e){return typeof e=="function"?e(t):e}function $u(t){var e=Ce();return Dr(e,ee,t)}function Dr(t,e,n){var a=t.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var l=t.baseQueue,s=a.pending;if(s!==null){if(l!==null){var u=l.next;l.next=s.next,s.next=u}e.baseQueue=l=s,a.pending=null}if(s=t.baseState,l===null)t.memoizedState=s;else{e=l.next;var h=u=null,x=null,O=e,G=!1;do{var Z=O.lane&-536870913;if(Z!==O.lane?(kt&Z)===Z:(Ua&Z)===Z){var k=O.revertLane;if(k===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Z===Xs&&(G=!0);else if((Ua&k)===k){O=O.next,k===Xs&&(G=!0);continue}else Z={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(h=x=Z,u=s):x=x.next=Z,Ct.lanes|=k,Al|=k;Z=O.action,ms&&n(s,Z),s=O.hasEagerState?O.eagerState:n(s,Z)}else k={lane:Z,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(h=x=k,u=s):x=x.next=k,Ct.lanes|=Z,Al|=Z;O=O.next}while(O!==null&&O!==e);if(x===null?u=s:x.next=h,!c(s,t.memoizedState)&&(je=!0,G&&(n=Qs,n!==null)))throw n;t.memoizedState=s,t.baseState=u,t.baseQueue=x,a.lastRenderedState=s}return l===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Nr(t){var e=Ce(),n=e.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=t;var a=n.dispatch,l=n.pending,s=e.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do s=t(s,u.action),u=u.next;while(u!==l);c(s,e.memoizedState)||(je=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,a]}function kd(t,e,n){var a=Ct,l=Ce(),s=Bt;if(s){if(n===void 0)throw Error(d(407));n=n()}else n=e();var u=!c((ee||l).memoizedState,n);if(u&&(l.memoizedState=n,je=!0),l=l.queue,zr(Bd.bind(null,a,l,t),[t]),l.getSnapshot!==e||u||Ne!==null&&Ne.memoizedState.tag&1){if(a.flags|=2048,Fs(9,{destroy:void 0},Ud.bind(null,a,l,n,e),null),se===null)throw Error(d(349));s||(Ua&127)!==0||_d(a,e,n)}return n}function _d(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ct.updateQueue,e===null?(e=Zu(),Ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ud(t,e,n,a){e.value=n,e.getSnapshot=a,qd(e)&&Ld(t)}function Bd(t,e,n){return n(function(){qd(e)&&Ld(t)})}function qd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!c(t,n)}catch{return!0}}function Ld(t){var e=ya(t,2);e!==null&&xn(e,t,2)}function jr(t){var e=fn();if(typeof t=="function"){var n=t;if(t=n(),ms){Tn(!0);try{n()}finally{Tn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},e}function Hd(t,e,n,a){return t.baseState=n,Dr(t,ee,typeof a=="function"?a:Ba)}function hp(t,e,n,a,l){if(Fu(t))throw Error(d(485));if(t=e.action,t!==null){var s={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){s.listeners.push(u)}};A.T!==null?n(!0):s.isTransition=!1,a(s),n=e.pending,n===null?(s.next=e.pending=s,Gd(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Gd(t,e){var n=e.action,a=e.payload,l=t.state;if(e.isTransition){var s=A.T,u={};A.T=u;try{var h=n(l,a),x=A.S;x!==null&&x(u,h),Yd(t,e,h)}catch(O){Rr(t,e,O)}finally{s!==null&&u.types!==null&&(s.types=u.types),A.T=s}}else try{s=n(l,a),Yd(t,e,s)}catch(O){Rr(t,e,O)}}function Yd(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Vd(t,e,a)},function(a){return Rr(t,e,a)}):Vd(t,e,n)}function Vd(t,e,n){e.status="fulfilled",e.value=n,Xd(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Gd(t,n)))}function Rr(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,Xd(e),e=e.next;while(e!==a)}t.action=null}function Xd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Qd(t,e){return e}function Zd(t,e){if(Bt){var n=se.formState;if(n!==null){t:{var a=Ct;if(Bt){if(de){e:{for(var l=de,s=Xn;l.nodeType!==8;){if(!s){l=null;break e}if(l=Zn(l.nextSibling),l===null){l=null;break e}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){de=Zn(l.nextSibling),a=l.data==="F!";break t}}pl(a)}a=!1}a&&(e=n[0])}}return n=fn(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:e},n.queue=a,n=ff.bind(null,Ct,a),a.dispatch=n,a=jr(!1),s=Br.bind(null,Ct,!1,a.queue),a=fn(),l={state:e,dispatch:null,action:t,pending:null},a.queue=l,n=hp.bind(null,Ct,l,s,n),l.dispatch=n,a.memoizedState=t,[e,n,!1]}function Kd(t){var e=Ce();return $d(e,ee,t)}function $d(t,e,n){if(e=Dr(t,e,Qd)[0],t=$u(Ba)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Qi(e)}catch(u){throw u===Zs?qu:u}else a=e;e=Ce();var l=e.queue,s=l.dispatch;return n!==e.memoizedState&&(Ct.flags|=2048,Fs(9,{destroy:void 0},pp.bind(null,l,n),null)),[a,s,t]}function pp(t,e){t.action=e}function Jd(t){var e=Ce(),n=ee;if(n!==null)return $d(e,n,t);Ce(),e=e.memoizedState,n=Ce();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function Fs(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=Ct.updateQueue,e===null&&(e=Zu(),Ct.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function Id(){return Ce().memoizedState}function Ju(t,e,n,a){var l=fn();Ct.flags|=t,l.memoizedState=Fs(1|e,{destroy:void 0},n,a===void 0?null:a)}function Iu(t,e,n,a){var l=Ce();a=a===void 0?null:a;var s=l.memoizedState.inst;ee!==null&&a!==null&&xr(a,ee.memoizedState.deps)?l.memoizedState=Fs(e,s,n,a):(Ct.flags|=t,l.memoizedState=Fs(1|e,s,n,a))}function Fd(t,e){Ju(8390656,8,t,e)}function zr(t,e){Iu(2048,8,t,e)}function gp(t){Ct.flags|=4;var e=Ct.updateQueue;if(e===null)e=Zu(),Ct.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Wd(t){var e=Ce().memoizedState;return gp({ref:e,nextImpl:t}),function(){if((Kt&2)!==0)throw Error(d(440));return e.impl.apply(void 0,arguments)}}function Pd(t,e){return Iu(4,2,t,e)}function tf(t,e){return Iu(4,4,t,e)}function ef(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nf(t,e,n){n=n!=null?n.concat([t]):null,Iu(4,4,ef.bind(null,e,t),n)}function Or(){}function af(t,e){var n=Ce();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&xr(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function lf(t,e){var n=Ce();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&xr(e,a[1]))return a[0];if(a=t(),ms){Tn(!0);try{t()}finally{Tn(!1)}}return n.memoizedState=[a,e],a}function kr(t,e,n){return n===void 0||(Ua&1073741824)!==0&&(kt&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=im(),Ct.lanes|=t,Al|=t,n)}function sf(t,e,n,a){return c(n,e)?n:$s.current!==null?(t=kr(t,n,a),c(t,e)||(je=!0),t):(Ua&42)===0||(Ua&1073741824)!==0&&(kt&261930)===0?(je=!0,t.memoizedState=n):(t=im(),Ct.lanes|=t,Al|=t,e)}function uf(t,e,n,a,l){var s=Y.p;Y.p=s!==0&&8>s?s:8;var u=A.T,h={};A.T=h,Br(t,!1,e,n);try{var x=l(),O=A.S;if(O!==null&&O(h,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=dp(x,a);Zi(t,e,G,_n(t))}else Zi(t,e,a,_n(t))}catch(Z){Zi(t,e,{then:function(){},status:"rejected",reason:Z},_n())}finally{Y.p=s,u!==null&&h.types!==null&&(u.types=h.types),A.T=u}}function yp(){}function _r(t,e,n,a){if(t.tag!==5)throw Error(d(476));var l=cf(t).queue;uf(t,l,e,W,n===null?yp:function(){return rf(t),n(a)})}function cf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:W},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function rf(t){var e=cf(t);e.next===null&&(e=t.alternate.memoizedState),Zi(t,e.next.queue,{},_n())}function Ur(){return Pe(ru)}function of(){return Ce().memoizedState}function df(){return Ce().memoizedState}function vp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=_n();t=vl(n);var a=bl(e,t,n);a!==null&&(xn(a,e,n),Gi(a,e,n)),e={cache:dr()},t.payload=e;return}e=e.return}}function bp(t,e,n){var a=_n();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Fu(t)?mf(e,n):(n=Ra(t,e,n,a),n!==null&&(xn(n,t,a),hf(n,e,a)))}function ff(t,e,n){var a=_n();Zi(t,e,n,a)}function Zi(t,e,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))mf(e,l);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var u=e.lastRenderedState,h=s(u,n);if(l.hasEagerState=!0,l.eagerState=h,c(h,u))return ga(t,e,l,0),se===null&&be(),!1}catch{}finally{}if(n=Ra(t,e,l,a),n!==null)return xn(n,t,a),hf(n,e,a),!0}return!1}function Br(t,e,n,a){if(a={lane:2,revertLane:go(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(e)throw Error(d(479))}else e=Ra(t,n,a,2),e!==null&&xn(e,t,2)}function Fu(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function mf(t,e){Js=Xu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hf(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Wa(t,n)}}var Ki={readContext:Pe,use:Ku,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};Ki.useEffectEvent=xe;var pf={readContext:Pe,use:Ku,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:Pe,useEffect:Fd,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ju(4194308,4,ef.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ju(4194308,4,t,e)},useInsertionEffect:function(t,e){Ju(4,2,t,e)},useMemo:function(t,e){var n=fn();e=e===void 0?null:e;var a=t();if(ms){Tn(!0);try{t()}finally{Tn(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=fn();if(n!==void 0){var l=n(e);if(ms){Tn(!0);try{n(e)}finally{Tn(!1)}}}else l=e;return a.memoizedState=a.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},a.queue=t,t=t.dispatch=bp.bind(null,Ct,t),[a.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:function(t){t=jr(t);var e=t.queue,n=ff.bind(null,Ct,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Or,useDeferredValue:function(t,e){var n=fn();return kr(n,t,e)},useTransition:function(){var t=jr(!1);return t=uf.bind(null,Ct,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=Ct,l=fn();if(Bt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=e(),se===null)throw Error(d(349));(kt&127)!==0||_d(a,e,n)}l.memoizedState=n;var s={value:n,getSnapshot:e};return l.queue=s,Fd(Bd.bind(null,a,s,t),[t]),a.flags|=2048,Fs(9,{destroy:void 0},Ud.bind(null,a,s,n,e),null),n},useId:function(){var t=fn(),e=se.identifierPrefix;if(Bt){var n=Sa,a=ba;n=(a&~(1<<32-Le(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Qu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=fp++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Ur,useFormState:Zd,useActionState:Zd,useOptimistic:function(t){var e=fn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Br.bind(null,Ct,!0,n),n.dispatch=e,[t,e]},useMemoCache:wr,useCacheRefresh:function(){return fn().memoizedState=vp.bind(null,Ct)},useEffectEvent:function(t){var e=fn(),n={impl:t};return e.memoizedState=n,function(){if((Kt&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},qr={readContext:Pe,use:Ku,useCallback:af,useContext:Pe,useEffect:zr,useImperativeHandle:nf,useInsertionEffect:Pd,useLayoutEffect:tf,useMemo:lf,useReducer:$u,useRef:Id,useState:function(){return $u(Ba)},useDebugValue:Or,useDeferredValue:function(t,e){var n=Ce();return sf(n,ee.memoizedState,t,e)},useTransition:function(){var t=$u(Ba)[0],e=Ce().memoizedState;return[typeof t=="boolean"?t:Qi(t),e]},useSyncExternalStore:kd,useId:of,useHostTransitionStatus:Ur,useFormState:Kd,useActionState:Kd,useOptimistic:function(t,e){var n=Ce();return Hd(n,ee,t,e)},useMemoCache:wr,useCacheRefresh:df};qr.useEffectEvent=Wd;var gf={readContext:Pe,use:Ku,useCallback:af,useContext:Pe,useEffect:zr,useImperativeHandle:nf,useInsertionEffect:Pd,useLayoutEffect:tf,useMemo:lf,useReducer:Nr,useRef:Id,useState:function(){return Nr(Ba)},useDebugValue:Or,useDeferredValue:function(t,e){var n=Ce();return ee===null?kr(n,t,e):sf(n,ee.memoizedState,t,e)},useTransition:function(){var t=Nr(Ba)[0],e=Ce().memoizedState;return[typeof t=="boolean"?t:Qi(t),e]},useSyncExternalStore:kd,useId:of,useHostTransitionStatus:Ur,useFormState:Jd,useActionState:Jd,useOptimistic:function(t,e){var n=Ce();return ee!==null?Hd(n,ee,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:wr,useCacheRefresh:df};gf.useEffectEvent=Wd;function Lr(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:E({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hr={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=_n(),l=vl(a);l.payload=e,n!=null&&(l.callback=n),e=bl(t,l,a),e!==null&&(xn(e,t,a),Gi(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=_n(),l=vl(a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=bl(t,l,a),e!==null&&(xn(e,t,a),Gi(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),a=vl(n);a.tag=2,e!=null&&(a.callback=e),e=bl(t,a,n),e!==null&&(xn(e,t,n),Gi(e,t,n))}};function yf(t,e,n,a,l,s,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,s,u):e.prototype&&e.prototype.isPureReactComponent?!g(n,a)||!g(l,s):!0}function vf(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&Hr.enqueueReplaceState(e,e.state,null)}function hs(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=E({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function bf(t){ve(t)}function Sf(t){console.error(t)}function Mf(t){ve(t)}function Wu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function xf(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Gr(t,e,n){return n=vl(n),n.tag=3,n.payload={element:null},n.callback=function(){Wu(t,e)},n}function Ef(t){return t=vl(t),t.tag=3,t}function Af(t,e,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=a.value;t.payload=function(){return l(s)},t.callback=function(){xf(e,n,a)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){xf(e,n,a),typeof l!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var h=a.stack;this.componentDidCatch(a.value,{componentStack:h!==null?h:""})})}function Sp(t,e,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&Vs(e,n,l,!0),n=Rn.current,n!==null){switch(n.tag){case 31:case 13:return Qn===null?oc():n.alternate===null&&Ee===0&&(Ee=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Lu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),mo(t,a,l)),!1;case 22:return n.flags|=65536,a===Lu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),mo(t,a,l)),!1}throw Error(d(435,n.tag))}return mo(t,a,l),oc(),!1}if(Bt)return e=Rn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,a!==ir&&(t=Error(d(422),{cause:a}),Ui(Gn(t,n)))):(a!==ir&&(e=Error(d(423),{cause:a}),Ui(Gn(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,a=Gn(a,n),l=Gr(t.stateNode,a,l),yr(t,l),Ee!==4&&(Ee=2)),!1;var s=Error(d(520),{cause:a});if(s=Gn(s,n),eu===null?eu=[s]:eu.push(s),Ee!==4&&(Ee=2),e===null)return!0;a=Gn(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=Gr(n.stateNode,a,t),yr(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Tl===null||!Tl.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Ef(l),Af(l,t,n,a),yr(n,l),!1}n=n.return}while(n!==null);return!1}var Yr=Error(d(461)),je=!1;function tn(t,e,n,a){e.child=t===null?wd(e,null,n,a):fs(e,t.child,n,a)}function Tf(t,e,n,a,l){n=n.render;var s=e.ref;if("ref"in a){var u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}else u=a;return cs(e),a=Er(t,e,n,u,s,l),h=Ar(),t!==null&&!je?(Tr(t,e,l),qa(t,e,l)):(Bt&&h&&lr(e),e.flags|=1,tn(t,e,a,l),e.child)}function Cf(t,e,n,a,l){if(t===null){var s=n.type;return typeof s=="function"&&!Ht(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,wf(t,e,s,a,l)):(t=ss(n.type,null,a,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Ir(t,l)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:g,n(u,a)&&t.ref===e.ref)return qa(t,e,l)}return e.flags|=1,t=Xe(s,a),t.ref=e.ref,t.return=e,e.child=t}function wf(t,e,n,a,l){if(t!==null){var s=t.memoizedProps;if(g(s,a)&&t.ref===e.ref)if(je=!1,e.pendingProps=a=s,Ir(t,l))(t.flags&131072)!==0&&(je=!0);else return e.lanes=t.lanes,qa(t,e,l)}return Vr(t,e,n,a,l)}function Df(t,e,n,a){var l=a.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,t!==null){for(a=e.child=t.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~s}else a=0,e.child=null;return Nf(t,e,s,n,a)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(e,s!==null?s.cachePool:null),s!==null?jd(e,s):br(),Rd(e);else return a=e.lanes=536870912,Nf(t,e,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(Bu(e,s.cachePool),jd(e,s),Ml(),e.memoizedState=null):(t!==null&&Bu(e,null),br(),Ml());return tn(t,e,l,n),e.child}function $i(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Nf(t,e,n,a,l){var s=mr();return s=s===null?null:{parent:De._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Bu(e,null),br(),Rd(e),t!==null&&Vs(t,e,a,!0),e.childLanes=l,null}function Pu(t,e){return e=ec({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function jf(t,e,n){return fs(e,t.child,null,n),t=Pu(e,e.pendingProps),t.flags|=2,zn(e),e.memoizedState=null,t}function Mp(t,e,n){var a=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Bt){if(a.mode==="hidden")return t=Pu(e,a),e.lanes=536870912,$i(null,t);if(Mr(e),(t=de)?(t=Ym(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ml!==null?{id:ba,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},n=fd(t),n.return=e,e.child=n,We=e,de=null)):t=null,t===null)throw pl(e);return e.lanes=536870912,null}return Pu(e,a)}var s=t.memoizedState;if(s!==null){var u=s.dehydrated;if(Mr(e),l)if(e.flags&256)e.flags&=-257,e=jf(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(d(558));else if(je||Vs(t,e,n,!1),l=(n&t.childLanes)!==0,je||l){if(a=se,a!==null&&(u=As(a,n),u!==0&&u!==s.retryLane))throw s.retryLane=u,ya(t,u),xn(a,t,u),Yr;oc(),e=jf(t,e,n)}else t=s.treeContext,de=Zn(u.nextSibling),We=e,Bt=!0,hl=null,Xn=!1,t!==null&&pd(e,t),e=Pu(e,a),e.flags|=4096;return e}return t=Xe(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function tc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Vr(t,e,n,a,l){return cs(e),n=Er(t,e,n,a,void 0,l),a=Ar(),t!==null&&!je?(Tr(t,e,l),qa(t,e,l)):(Bt&&a&&lr(e),e.flags|=1,tn(t,e,n,l),e.child)}function Rf(t,e,n,a,l,s){return cs(e),e.updateQueue=null,n=Od(e,a,n,l),zd(t),a=Ar(),t!==null&&!je?(Tr(t,e,s),qa(t,e,s)):(Bt&&a&&lr(e),e.flags|=1,tn(t,e,n,s),e.child)}function zf(t,e,n,a,l){if(cs(e),e.stateNode===null){var s=za,u=n.contextType;typeof u=="object"&&u!==null&&(s=Pe(u)),s=new n(a,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Hr,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=a,s.state=e.memoizedState,s.refs={},pr(e),u=n.contextType,s.context=typeof u=="object"&&u!==null?Pe(u):za,s.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(Lr(e,n,u,a),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(u=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),u!==s.state&&Hr.enqueueReplaceState(s,s.state,null),Vi(e,a,s,l),Yi(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){s=e.stateNode;var h=e.memoizedProps,x=hs(n,h);s.props=x;var O=s.context,G=n.contextType;u=za,typeof G=="object"&&G!==null&&(u=Pe(G));var Z=n.getDerivedStateFromProps;G=typeof Z=="function"||typeof s.getSnapshotBeforeUpdate=="function",h=e.pendingProps!==h,G||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(h||O!==u)&&vf(e,s,a,u),yl=!1;var k=e.memoizedState;s.state=k,Vi(e,a,s,l),Yi(),O=e.memoizedState,h||k!==O||yl?(typeof Z=="function"&&(Lr(e,n,Z,a),O=e.memoizedState),(x=yl||yf(e,n,x,a,k,O,u))?(G||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=O),s.props=a,s.state=O,s.context=u,a=x):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{s=e.stateNode,gr(t,e),u=e.memoizedProps,G=hs(n,u),s.props=G,Z=e.pendingProps,k=s.context,O=n.contextType,x=za,typeof O=="object"&&O!==null&&(x=Pe(O)),h=n.getDerivedStateFromProps,(O=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==Z||k!==x)&&vf(e,s,a,x),yl=!1,k=e.memoizedState,s.state=k,Vi(e,a,s,l),Yi();var U=e.memoizedState;u!==Z||k!==U||yl||t!==null&&t.dependencies!==null&&_u(t.dependencies)?(typeof h=="function"&&(Lr(e,n,h,a),U=e.memoizedState),(G=yl||yf(e,n,G,a,k,U,x)||t!==null&&t.dependencies!==null&&_u(t.dependencies))?(O||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,U,x),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,U,x)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=U),s.props=a,s.state=U,s.context=x,a=G):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),a=!1)}return s=a,tc(t,e),a=(e.flags&128)!==0,s||a?(s=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&a?(e.child=fs(e,t.child,null,l),e.child=fs(e,null,n,l)):tn(t,e,n,l),e.memoizedState=s.state,t=e.child):t=qa(t,e,l),t}function Of(t,e,n,a){return is(),e.flags|=256,tn(t,e,n,a),e.child}var Xr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qr(t){return{baseLanes:t,cachePool:Md()}}function Zr(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=kn),t}function kf(t,e,n){var a=e.pendingProps,l=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),u&&(l=!0,e.flags&=-129),u=(e.flags&32)!==0,e.flags&=-33,t===null){if(Bt){if(l?Sl(e):Ml(),(t=de)?(t=Ym(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ml!==null?{id:ba,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},n=fd(t),n.return=e,e.child=n,We=e,de=null)):t=null,t===null)throw pl(e);return No(t)?e.lanes=32:e.lanes=536870912,null}var h=a.children;return a=a.fallback,l?(Ml(),l=e.mode,h=ec({mode:"hidden",children:h},l),a=va(a,l,n,null),h.return=e,a.return=e,h.sibling=a,e.child=h,a=e.child,a.memoizedState=Qr(n),a.childLanes=Zr(t,u,n),e.memoizedState=Xr,$i(null,a)):(Sl(e),Kr(e,h))}var x=t.memoizedState;if(x!==null&&(h=x.dehydrated,h!==null)){if(s)e.flags&256?(Sl(e),e.flags&=-257,e=$r(t,e,n)):e.memoizedState!==null?(Ml(),e.child=t.child,e.flags|=128,e=null):(Ml(),h=a.fallback,l=e.mode,a=ec({mode:"visible",children:a.children},l),h=va(h,l,n,null),h.flags|=2,a.return=e,h.return=e,a.sibling=h,e.child=a,fs(e,t.child,null,n),a=e.child,a.memoizedState=Qr(n),a.childLanes=Zr(t,u,n),e.memoizedState=Xr,e=$i(null,a));else if(Sl(e),No(h)){if(u=h.nextSibling&&h.nextSibling.dataset,u)var O=u.dgst;u=O,a=Error(d(419)),a.stack="",a.digest=u,Ui({value:a,source:null,stack:null}),e=$r(t,e,n)}else if(je||Vs(t,e,n,!1),u=(n&t.childLanes)!==0,je||u){if(u=se,u!==null&&(a=As(u,n),a!==0&&a!==x.retryLane))throw x.retryLane=a,ya(t,a),xn(u,t,a),Yr;Do(h)||oc(),e=$r(t,e,n)}else Do(h)?(e.flags|=192,e.child=t.child,e=null):(t=x.treeContext,de=Zn(h.nextSibling),We=e,Bt=!0,hl=null,Xn=!1,t!==null&&pd(e,t),e=Kr(e,a.children),e.flags|=4096);return e}return l?(Ml(),h=a.fallback,l=e.mode,x=t.child,O=x.sibling,a=Xe(x,{mode:"hidden",children:a.children}),a.subtreeFlags=x.subtreeFlags&65011712,O!==null?h=Xe(O,h):(h=va(h,l,n,null),h.flags|=2),h.return=e,a.return=e,a.sibling=h,e.child=a,$i(null,a),a=e.child,h=t.child.memoizedState,h===null?h=Qr(n):(l=h.cachePool,l!==null?(x=De._currentValue,l=l.parent!==x?{parent:x,pool:x}:l):l=Md(),h={baseLanes:h.baseLanes|n,cachePool:l}),a.memoizedState=h,a.childLanes=Zr(t,u,n),e.memoizedState=Xr,$i(t.child,a)):(Sl(e),n=t.child,t=n.sibling,n=Xe(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(u=e.deletions,u===null?(e.deletions=[t],e.flags|=16):u.push(t)),e.child=n,e.memoizedState=null,n)}function Kr(t,e){return e=ec({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ec(t,e){return t=Ve(22,t,null,e),t.lanes=0,t}function $r(t,e,n){return fs(e,t.child,null,n),t=Kr(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _f(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),rr(t.return,e,n)}function Jr(t,e,n,a,l,s){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:s}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=n,u.tailMode=l,u.treeForkCount=s)}function Uf(t,e,n){var a=e.pendingProps,l=a.revealOrder,s=a.tail;a=a.children;var u=Te.current,h=(u&2)!==0;if(h?(u=u&1|2,e.flags|=128):u&=1,tt(Te,u),tn(t,e,a,n),a=Bt?_i:0,!h&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_f(t,n,e);else if(t.tag===19)_f(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&Vu(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Jr(e,!1,l,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Vu(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Jr(e,!0,n,null,s,a);break;case"together":Jr(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function qa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Al|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Vs(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(d(153));if(e.child!==null){for(t=e.child,n=Xe(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xe(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ir(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&_u(t)))}function xp(t,e,n){switch(e.tag){case 3:Ke(e,e.stateNode.containerInfo),gl(e,De,t.memoizedState.cache),is();break;case 27:case 5:_l(e);break;case 4:Ke(e,e.stateNode.containerInfo);break;case 10:gl(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Mr(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(Sl(e),e.flags|=128,null):(n&e.child.childLanes)!==0?kf(t,e,n):(Sl(e),t=qa(t,e,n),t!==null?t.sibling:null);Sl(e);break;case 19:var l=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(Vs(t,e,n,!1),a=(n&e.childLanes)!==0),l){if(a)return Uf(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),tt(Te,Te.current),a)break;return null;case 22:return e.lanes=0,Df(t,e,n,e.pendingProps);case 24:gl(e,De,t.memoizedState.cache)}return qa(t,e,n)}function Bf(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)je=!0;else{if(!Ir(t,n)&&(e.flags&128)===0)return je=!1,xp(t,e,n);je=(t.flags&131072)!==0}else je=!1,Bt&&(e.flags&1048576)!==0&&hd(e,_i,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=os(e.elementType),e.type=t,typeof t=="function")Ht(t)?(a=hs(t,a),e.tag=1,e=zf(null,e,t,a,n)):(e.tag=0,e=Vr(null,e,t,a,n));else{if(t!=null){var l=t.$$typeof;if(l===H){e.tag=11,e=Tf(null,e,t,a,n);break t}else if(l===J){e.tag=14,e=Cf(null,e,t,a,n);break t}}throw e=ze(t)||t,Error(d(306,e,""))}}return e;case 0:return Vr(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,l=hs(a,e.pendingProps),zf(t,e,a,l,n);case 3:t:{if(Ke(e,e.stateNode.containerInfo),t===null)throw Error(d(387));a=e.pendingProps;var s=e.memoizedState;l=s.element,gr(t,e),Vi(e,a,null,n);var u=e.memoizedState;if(a=u.cache,gl(e,De,a),a!==s.cache&&or(e,[De],n,!0),Yi(),a=u.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:u.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Of(t,e,a,n);break t}else if(a!==l){l=Gn(Error(d(424)),e),Ui(l),e=Of(t,e,a,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(de=Zn(t.firstChild),We=e,Bt=!0,hl=null,Xn=!0,n=wd(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(is(),a===l){e=qa(t,e,n);break t}tn(t,e,a,n)}e=e.child}return e;case 26:return tc(t,e),t===null?(n=$m(e.type,null,e.pendingProps,null))?e.memoizedState=n:Bt||(n=e.type,t=e.pendingProps,a=yc(wt.current).createElement(n),a[ie]=e,a[Oe]=t,en(a,n,t),Zt(a),e.stateNode=a):e.memoizedState=$m(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return _l(e),t===null&&Bt&&(a=e.stateNode=Qm(e.type,e.pendingProps,wt.current),We=e,Xn=!0,l=de,Nl(e.type)?(jo=l,de=Zn(a.firstChild)):de=l),tn(t,e,e.pendingProps.children,n),tc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Bt&&((l=a=de)&&(a=Wp(a,e.type,e.pendingProps,Xn),a!==null?(e.stateNode=a,We=e,de=Zn(a.firstChild),Xn=!1,l=!0):l=!1),l||pl(e)),_l(e),l=e.type,s=e.pendingProps,u=t!==null?t.memoizedProps:null,a=s.children,To(l,s)?a=null:u!==null&&To(l,u)&&(e.flags|=32),e.memoizedState!==null&&(l=Er(t,e,mp,null,null,n),ru._currentValue=l),tc(t,e),tn(t,e,a,n),e.child;case 6:return t===null&&Bt&&((t=n=de)&&(n=Pp(n,e.pendingProps,Xn),n!==null?(e.stateNode=n,We=e,de=null,t=!0):t=!1),t||pl(e)),null;case 13:return kf(t,e,n);case 4:return Ke(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=fs(e,null,a,n):tn(t,e,a,n),e.child;case 11:return Tf(t,e,e.type,e.pendingProps,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,gl(e,e.type,a.value),tn(t,e,a.children,n),e.child;case 9:return l=e.type._context,a=e.pendingProps.children,cs(e),l=Pe(l),a=a(l),e.flags|=1,tn(t,e,a,n),e.child;case 14:return Cf(t,e,e.type,e.pendingProps,n);case 15:return wf(t,e,e.type,e.pendingProps,n);case 19:return Uf(t,e,n);case 31:return Mp(t,e,n);case 22:return Df(t,e,n,e.pendingProps);case 24:return cs(e),a=Pe(De),t===null?(l=mr(),l===null&&(l=se,s=dr(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),e.memoizedState={parent:a,cache:l},pr(e),gl(e,De,l)):((t.lanes&n)!==0&&(gr(t,e),Vi(e,null,null,n),Yi()),l=t.memoizedState,s=e.memoizedState,l.parent!==a?(l={parent:a,cache:a},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),gl(e,De,a)):(a=s.cache,gl(e,De,a),a!==l.cache&&or(e,[De],n,!0))),tn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(d(156,e.tag))}function La(t){t.flags|=4}function Fr(t,e,n,a,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(om())t.flags|=8192;else throw ds=Lu,hr}else t.flags&=-16777217}function qf(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pm(e))if(om())t.flags|=8192;else throw ds=Lu,hr}function nc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?vi():536870912,t.lanes|=e,ei|=e)}function Ji(t,e){if(!Bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function Ep(t,e,n){var a=e.pendingProps;switch(sr(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(e),null;case 1:return fe(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),_a(De),Pt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ys(e)?La(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ur())),fe(e),null;case 26:var l=e.type,s=e.memoizedState;return t===null?(La(e),s!==null?(fe(e),qf(e,s)):(fe(e),Fr(e,l,null,a,n))):s?s!==t.memoizedState?(La(e),fe(e),qf(e,s)):(fe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&La(e),fe(e),Fr(e,l,t,a,n)),null;case 27:if(Ja(e),n=wt.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&La(e);else{if(!a){if(e.stateNode===null)throw Error(d(166));return fe(e),null}t=at.current,Ys(e)?gd(e):(t=Qm(l,a,n),e.stateNode=t,La(e))}return fe(e),null;case 5:if(Ja(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&La(e);else{if(!a){if(e.stateNode===null)throw Error(d(166));return fe(e),null}if(s=at.current,Ys(e))gd(e);else{var u=yc(wt.current);switch(s){case 1:s=u.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=u.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=u.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?u.createElement(l,{is:a.is}):u.createElement(l)}}s[ie]=e,s[Oe]=a;t:for(u=e.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break t;for(;u.sibling===null;){if(u.return===null||u.return===e)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}e.stateNode=s;t:switch(en(s,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&La(e)}}return fe(e),Fr(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&La(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(d(166));if(t=wt.current,Ys(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,l=We,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}t[ie]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||km(t.nodeValue,n)),t||pl(e,!0)}else t=yc(t).createTextNode(a),t[ie]=e,e.stateNode=t}return fe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=Ys(e),n!==null){if(t===null){if(!a)throw Error(d(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(557));t[ie]=e}else is(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;fe(e),t=!1}else n=ur(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(zn(e),e):(zn(e),null);if((e.flags&128)!==0)throw Error(d(558))}return fe(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Ys(e),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(d(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(d(317));l[ie]=e}else is(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;fe(e),l=!1}else l=ur(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(zn(e),e):(zn(e),null)}return zn(e),(e.flags&128)!==0?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),nc(e,e.updateQueue),fe(e),null);case 4:return Pt(),t===null&&So(e.stateNode.containerInfo),fe(e),null;case 10:return _a(e.type),fe(e),null;case 19:if(_(Te),a=e.memoizedState,a===null)return fe(e),null;if(l=(e.flags&128)!==0,s=a.rendering,s===null)if(l)Ji(a,!1);else{if(Ee!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=Vu(t),s!==null){for(e.flags|=128,Ji(a,!1),t=s.updateQueue,e.updateQueue=t,nc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)fl(n,t),n=n.sibling;return tt(Te,Te.current&1|2),Bt&&Oa(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&an()>uc&&(e.flags|=128,l=!0,Ji(a,!1),e.lanes=4194304)}else{if(!l)if(t=Vu(s),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,nc(e,t),Ji(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Bt)return fe(e),null}else 2*an()-a.renderingStartTime>uc&&n!==536870912&&(e.flags|=128,l=!0,Ji(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(t=a.last,t!==null?t.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=an(),t.sibling=null,n=Te.current,tt(Te,l?n&1|2:n&1),Bt&&Oa(e,a.treeForkCount),t):(fe(e),null);case 22:case 23:return zn(e),Sr(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(fe(e),e.subtreeFlags&6&&(e.flags|=8192)):fe(e),n=e.updateQueue,n!==null&&nc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&_(rs),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),_a(De),fe(e),null;case 25:return null;case 30:return null}throw Error(d(156,e.tag))}function Ap(t,e){switch(sr(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _a(De),Pt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ja(e),null;case 31:if(e.memoizedState!==null){if(zn(e),e.alternate===null)throw Error(d(340));is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(zn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(d(340));is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _(Te),null;case 4:return Pt(),null;case 10:return _a(e.type),null;case 22:case 23:return zn(e),Sr(),t!==null&&_(rs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return _a(De),null;case 25:return null;default:return null}}function Lf(t,e){switch(sr(e),e.tag){case 3:_a(De),Pt();break;case 26:case 27:case 5:Ja(e);break;case 4:Pt();break;case 31:e.memoizedState!==null&&zn(e);break;case 13:zn(e);break;case 19:_(Te);break;case 10:_a(e.type);break;case 22:case 23:zn(e),Sr(),t!==null&&_(rs);break;case 24:_a(De)}}function Ii(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&t)===t){a=void 0;var s=n.create,u=n.inst;a=s(),u.destroy=a}n=n.next}while(n!==l)}}catch(h){It(e,e.return,h)}}function xl(t,e,n){try{var a=e.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&t)===t){var u=a.inst,h=u.destroy;if(h!==void 0){u.destroy=void 0,l=e;var x=n,O=h;try{O()}catch(G){It(l,x,G)}}}a=a.next}while(a!==s)}}catch(G){It(e,e.return,G)}}function Hf(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Nd(e,n)}catch(a){It(t,t.return,a)}}}function Gf(t,e,n){n.props=hs(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){It(t,e,a)}}function Fi(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(l){It(t,e,l)}}function Ma(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){It(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){It(t,e,l)}else n.current=null}function Yf(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){It(t,t.return,l)}}function Wr(t,e,n){try{var a=t.stateNode;Zp(a,t.type,n,e),a[Oe]=e}catch(l){It(t,t.return,l)}}function Vf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Nl(t.type)||t.tag===4}function Pr(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Nl(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function to(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=na));else if(a!==4&&(a===27&&Nl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(to(t,e,n),t=t.sibling;t!==null;)to(t,e,n),t=t.sibling}function ac(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&Nl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ac(t,e,n),t=t.sibling;t!==null;)ac(t,e,n),t=t.sibling}function Xf(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);en(e,a,n),e[ie]=t,e[Oe]=n}catch(s){It(t,t.return,s)}}var Ha=!1,Re=!1,eo=!1,Qf=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Tp(t,e){if(t=t.containerInfo,Eo=Ac,t=V(t),K(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var u=0,h=-1,x=-1,O=0,G=0,Z=t,k=null;e:for(;;){for(var U;Z!==n||l!==0&&Z.nodeType!==3||(h=u+l),Z!==s||a!==0&&Z.nodeType!==3||(x=u+a),Z.nodeType===3&&(u+=Z.nodeValue.length),(U=Z.firstChild)!==null;)k=Z,Z=U;for(;;){if(Z===t)break e;if(k===n&&++O===l&&(h=u),k===s&&++G===a&&(x=u),(U=Z.nextSibling)!==null)break;Z=k,k=Z.parentNode}Z=U}n=h===-1||x===-1?null:{start:h,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ao={focusedElem:t,selectionRange:n},Ac=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){switch(e=Qe,s=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)l=t[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&s!==null){t=void 0,n=e,l=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var rt=hs(n.type,l);t=a.getSnapshotBeforeUpdate(rt,s),a.__reactInternalSnapshotBeforeUpdate=t}catch(St){It(n,n.return,St)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)wo(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wo(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(d(163))}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}}function Zf(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ya(t,n),a&4&&Ii(5,n);break;case 1:if(Ya(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(u){It(n,n.return,u)}else{var l=hs(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(u){It(n,n.return,u)}}a&64&&Hf(n),a&512&&Fi(n,n.return);break;case 3:if(Ya(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Nd(t,e)}catch(u){It(n,n.return,u)}}break;case 27:e===null&&a&4&&Xf(n);case 26:case 5:Ya(t,n),e===null&&a&4&&Yf(n),a&512&&Fi(n,n.return);break;case 12:Ya(t,n);break;case 31:Ya(t,n),a&4&&Jf(t,n);break;case 13:Ya(t,n),a&4&&If(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=kp.bind(null,n),tg(t,n))));break;case 22:if(a=n.memoizedState!==null||Ha,!a){e=e!==null&&e.memoizedState!==null||Re,l=Ha;var s=Re;Ha=a,(Re=e)&&!s?Va(t,n,(n.subtreeFlags&8772)!==0):Ya(t,n),Ha=l,Re=s}break;case 30:break;default:Ya(t,n)}}function Kf(t){var e=t.alternate;e!==null&&(t.alternate=null,Kf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ws(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var he=null,vn=!1;function Ga(t,e,n){for(n=n.child;n!==null;)$f(t,e,n),n=n.sibling}function $f(t,e,n){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(Jn,n)}catch{}switch(n.tag){case 26:Re||Ma(n,e),Ga(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Re||Ma(n,e);var a=he,l=vn;Nl(n.type)&&(he=n.stateNode,vn=!1),Ga(t,e,n),iu(n.stateNode),he=a,vn=l;break;case 5:Re||Ma(n,e);case 6:if(a=he,l=vn,he=null,Ga(t,e,n),he=a,vn=l,he!==null)if(vn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(n.stateNode)}catch(s){It(n,e,s)}else try{he.removeChild(n.stateNode)}catch(s){It(n,e,s)}break;case 18:he!==null&&(vn?(t=he,Hm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ri(t)):Hm(he,n.stateNode));break;case 4:a=he,l=vn,he=n.stateNode.containerInfo,vn=!0,Ga(t,e,n),he=a,vn=l;break;case 0:case 11:case 14:case 15:xl(2,n,e),Re||xl(4,n,e),Ga(t,e,n);break;case 1:Re||(Ma(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Gf(n,e,a)),Ga(t,e,n);break;case 21:Ga(t,e,n);break;case 22:Re=(a=Re)||n.memoizedState!==null,Ga(t,e,n),Re=a;break;default:Ga(t,e,n)}}function Jf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ri(t)}catch(n){It(e,e.return,n)}}}function If(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ri(t)}catch(n){It(e,e.return,n)}}function Cp(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Qf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Qf),e;default:throw Error(d(435,t.tag))}}function lc(t,e){var n=Cp(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var l=_p.bind(null,t,a);a.then(l,l)}})}function bn(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],s=t,u=e,h=u;t:for(;h!==null;){switch(h.tag){case 27:if(Nl(h.type)){he=h.stateNode,vn=!1;break t}break;case 5:he=h.stateNode,vn=!1;break t;case 3:case 4:he=h.stateNode.containerInfo,vn=!0;break t}h=h.return}if(he===null)throw Error(d(160));$f(s,u,l),he=null,vn=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Ff(e,t),e=e.sibling}var sa=null;function Ff(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(e,t),Sn(t),a&4&&(xl(3,t,t.return),Ii(3,t),xl(5,t,t.return));break;case 1:bn(e,t),Sn(t),a&512&&(Re||n===null||Ma(n,n.return)),a&64&&Ha&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=sa;if(bn(e,t),Sn(t),a&512&&(Re||n===null||Ma(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,l=l.ownerDocument||l;e:switch(a){case"title":s=l.getElementsByTagName("title")[0],(!s||s[Gl]||s[ie]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(a),l.head.insertBefore(s,l.querySelector("head > title"))),en(s,a,n),s[ie]=t,Zt(s),a=s;break t;case"link":var u=Fm("link","href",l).get(a+(n.href||""));if(u){for(var h=0;h<u.length;h++)if(s=u[h],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(h,1);break e}}s=l.createElement(a),en(s,a,n),l.head.appendChild(s);break;case"meta":if(u=Fm("meta","content",l).get(a+(n.content||""))){for(h=0;h<u.length;h++)if(s=u[h],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(h,1);break e}}s=l.createElement(a),en(s,a,n),l.head.appendChild(s);break;default:throw Error(d(468,a))}s[ie]=t,Zt(s),a=s}t.stateNode=a}else Wm(l,t.type,t.stateNode);else t.stateNode=Im(l,a,t.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Wm(l,t.type,t.stateNode):Im(l,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Wr(t,t.memoizedProps,n.memoizedProps)}break;case 27:bn(e,t),Sn(t),a&512&&(Re||n===null||Ma(n,n.return)),n!==null&&a&4&&Wr(t,t.memoizedProps,n.memoizedProps);break;case 5:if(bn(e,t),Sn(t),a&512&&(Re||n===null||Ma(n,n.return)),t.flags&32){l=t.stateNode;try{Se(l,"")}catch(rt){It(t,t.return,rt)}}a&4&&t.stateNode!=null&&(l=t.memoizedProps,Wr(t,l,n!==null?n.memoizedProps:l)),a&1024&&(eo=!0);break;case 6:if(bn(e,t),Sn(t),a&4){if(t.stateNode===null)throw Error(d(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(rt){It(t,t.return,rt)}}break;case 3:if(Sc=null,l=sa,sa=vc(e.containerInfo),bn(e,t),sa=l,Sn(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ri(e.containerInfo)}catch(rt){It(t,t.return,rt)}eo&&(eo=!1,Wf(t));break;case 4:a=sa,sa=vc(t.stateNode.containerInfo),bn(e,t),Sn(t),sa=a;break;case 12:bn(e,t),Sn(t);break;case 31:bn(e,t),Sn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,lc(t,a)));break;case 13:bn(e,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ic=an()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,lc(t,a)));break;case 22:l=t.memoizedState!==null;var x=n!==null&&n.memoizedState!==null,O=Ha,G=Re;if(Ha=O||l,Re=G||x,bn(e,t),Re=G,Ha=O,Sn(t),a&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||x||Ha||Re||ps(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){x=n=e;try{if(s=x.stateNode,l)u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{h=x.stateNode;var Z=x.memoizedProps.style,k=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;h.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(rt){It(x,x.return,rt)}}}else if(e.tag===6){if(n===null){x=e;try{x.stateNode.nodeValue=l?"":x.memoizedProps}catch(rt){It(x,x.return,rt)}}}else if(e.tag===18){if(n===null){x=e;try{var U=x.stateNode;l?Gm(U,!0):Gm(x.stateNode,!1)}catch(rt){It(x,x.return,rt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,lc(t,n))));break;case 19:bn(e,t),Sn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,lc(t,a)));break;case 30:break;case 21:break;default:bn(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(Vf(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var l=n.stateNode,s=Pr(t);ac(t,s,l);break;case 5:var u=n.stateNode;n.flags&32&&(Se(u,""),n.flags&=-33);var h=Pr(t);ac(t,h,u);break;case 3:case 4:var x=n.stateNode.containerInfo,O=Pr(t);to(t,O,x);break;default:throw Error(d(161))}}catch(G){It(t,t.return,G)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wf(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Wf(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ya(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Zf(t,e.alternate,e),e=e.sibling}function ps(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:xl(4,e,e.return),ps(e);break;case 1:Ma(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Gf(e,e.return,n),ps(e);break;case 27:iu(e.stateNode);case 26:case 5:Ma(e,e.return),ps(e);break;case 22:e.memoizedState===null&&ps(e);break;case 30:ps(e);break;default:ps(e)}t=t.sibling}}function Va(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,l=t,s=e,u=s.flags;switch(s.tag){case 0:case 11:case 15:Va(l,s,n),Ii(4,s);break;case 1:if(Va(l,s,n),a=s,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(O){It(a,a.return,O)}if(a=s,l=a.updateQueue,l!==null){var h=a.stateNode;try{var x=l.shared.hiddenCallbacks;if(x!==null)for(l.shared.hiddenCallbacks=null,l=0;l<x.length;l++)Dd(x[l],h)}catch(O){It(a,a.return,O)}}n&&u&64&&Hf(s),Fi(s,s.return);break;case 27:Xf(s);case 26:case 5:Va(l,s,n),n&&a===null&&u&4&&Yf(s),Fi(s,s.return);break;case 12:Va(l,s,n);break;case 31:Va(l,s,n),n&&u&4&&Jf(l,s);break;case 13:Va(l,s,n),n&&u&4&&If(l,s);break;case 22:s.memoizedState===null&&Va(l,s,n),Fi(s,s.return);break;case 30:break;default:Va(l,s,n)}e=e.sibling}}function no(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Bi(n))}function ao(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Bi(t))}function ia(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pf(t,e,n,a),e=e.sibling}function Pf(t,e,n,a){var l=e.flags;switch(e.tag){case 0:case 11:case 15:ia(t,e,n,a),l&2048&&Ii(9,e);break;case 1:ia(t,e,n,a);break;case 3:ia(t,e,n,a),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Bi(t)));break;case 12:if(l&2048){ia(t,e,n,a),t=e.stateNode;try{var s=e.memoizedProps,u=s.id,h=s.onPostCommit;typeof h=="function"&&h(u,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){It(e,e.return,x)}}else ia(t,e,n,a);break;case 31:ia(t,e,n,a);break;case 13:ia(t,e,n,a);break;case 23:break;case 22:s=e.stateNode,u=e.alternate,e.memoizedState!==null?s._visibility&2?ia(t,e,n,a):Wi(t,e):s._visibility&2?ia(t,e,n,a):(s._visibility|=2,Ws(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),l&2048&&no(u,e);break;case 24:ia(t,e,n,a),l&2048&&ao(e.alternate,e);break;default:ia(t,e,n,a)}}function Ws(t,e,n,a,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,u=e,h=n,x=a,O=u.flags;switch(u.tag){case 0:case 11:case 15:Ws(s,u,h,x,l),Ii(8,u);break;case 23:break;case 22:var G=u.stateNode;u.memoizedState!==null?G._visibility&2?Ws(s,u,h,x,l):Wi(s,u):(G._visibility|=2,Ws(s,u,h,x,l)),l&&O&2048&&no(u.alternate,u);break;case 24:Ws(s,u,h,x,l),l&&O&2048&&ao(u.alternate,u);break;default:Ws(s,u,h,x,l)}e=e.sibling}}function Wi(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,l=a.flags;switch(a.tag){case 22:Wi(n,a),l&2048&&no(a.alternate,a);break;case 24:Wi(n,a),l&2048&&ao(a.alternate,a);break;default:Wi(n,a)}e=e.sibling}}var Pi=8192;function Ps(t,e,n){if(t.subtreeFlags&Pi)for(t=t.child;t!==null;)tm(t,e,n),t=t.sibling}function tm(t,e,n){switch(t.tag){case 26:Ps(t,e,n),t.flags&Pi&&t.memoizedState!==null&&fg(n,sa,t.memoizedState,t.memoizedProps);break;case 5:Ps(t,e,n);break;case 3:case 4:var a=sa;sa=vc(t.stateNode.containerInfo),Ps(t,e,n),sa=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Pi,Pi=16777216,Ps(t,e,n),Pi=a):Ps(t,e,n));break;default:Ps(t,e,n)}}function em(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function tu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Qe=a,am(a,t)}em(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nm(t),t=t.sibling}function nm(t){switch(t.tag){case 0:case 11:case 15:tu(t),t.flags&2048&&xl(9,t,t.return);break;case 3:tu(t);break;case 12:tu(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,sc(t)):tu(t);break;default:tu(t)}}function sc(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Qe=a,am(a,t)}em(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:xl(8,e,e.return),sc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,sc(e));break;default:sc(e)}t=t.sibling}}function am(t,e){for(;Qe!==null;){var n=Qe;switch(n.tag){case 0:case 11:case 15:xl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Bi(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Qe=a;else t:for(n=t;Qe!==null;){a=Qe;var l=a.sibling,s=a.return;if(Kf(a),a===n){Qe=null;break t}if(l!==null){l.return=s,Qe=l;break t}Qe=s}}}var wp={getCacheForType:function(t){var e=Pe(De),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Pe(De).controller.signal}},Dp=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,zt=null,kt=0,Jt=0,On=null,El=!1,ti=!1,lo=!1,Xa=0,Ee=0,Al=0,gs=0,so=0,kn=0,ei=0,eu=null,Mn=null,io=!1,ic=0,lm=0,uc=1/0,cc=null,Tl=null,qe=0,Cl=null,ni=null,Qa=0,uo=0,co=null,sm=null,nu=0,ro=null;function _n(){return(Kt&2)!==0&&kt!==0?kt&-kt:A.T!==null?go():tl()}function im(){if(kn===0)if((kt&536870912)===0||Bt){var t=ca;ca<<=1,(ca&3932160)===0&&(ca=262144),kn=t}else kn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),kn}function xn(t,e,n){(t===se&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)&&(ai(t,0),wl(t,kt,kn,!1)),Fn(t,n),((Kt&2)===0||t!==se)&&(t===se&&((Kt&2)===0&&(gs|=n),Ee===4&&wl(t,kt,kn,!1)),xa(t))}function um(t,e,n){if((Kt&6)!==0)throw Error(d(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||wa(t,e),l=a?Rp(t,e):fo(t,e,!0),s=a;do{if(l===0){ti&&!a&&wl(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!Np(n)){l=fo(t,e,!1),s=!1;continue}if(l===2){if(s=e,t.errorRecoveryDisabledLanes&s)var u=0;else u=t.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){e=u;t:{var h=t;l=eu;var x=h.current.memoizedState.isDehydrated;if(x&&(ai(h,u).flags|=256),u=fo(h,u,!1),u!==2){if(lo&&!x){h.errorRecoveryDisabledLanes|=s,gs|=s,l=4;break t}s=Mn,Mn=l,s!==null&&(Mn===null?Mn=s:Mn.push.apply(Mn,s))}l=u}if(s=!1,l!==2)continue}}if(l===1){ai(t,0),wl(t,e,0,!0);break}t:{switch(a=t,s=l,s){case 0:case 1:throw Error(d(345));case 4:if((e&4194048)!==e)break;case 6:wl(a,e,kn,!El);break t;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(d(329))}if((e&62914560)===e&&(l=ic+300-an(),10<l)){if(wl(a,e,kn,!El),Ae(a,0,!0)!==0)break t;Qa=e,a.timeoutHandle=qm(cm.bind(null,a,n,Mn,cc,io,e,kn,gs,ei,El,s,"Throttled",-0,0),l);break t}cm(a,n,Mn,cc,io,e,kn,gs,ei,El,s,null,-0,0)}}break}while(!0);xa(t)}function cm(t,e,n,a,l,s,u,h,x,O,G,Z,k,U){if(t.timeoutHandle=-1,Z=e.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:na},tm(e,s,Z);var rt=(s&62914560)===s?ic-an():(s&4194048)===s?lm-an():0;if(rt=mg(Z,rt),rt!==null){Qa=s,t.cancelPendingCommit=rt(gm.bind(null,t,e,s,n,a,l,u,h,x,G,Z,null,k,U)),wl(t,s,u,!O);return}}gm(t,e,s,n,a,l,u,h,x)}function Np(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],s=l.getSnapshot;l=l.value;try{if(!c(s(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wl(t,e,n,a){e&=~so,e&=~gs,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var l=e;0<l;){var s=31-Le(l),u=1<<s;a[s]=-1,l&=~u}n!==0&&Pn(t,n,e)}function rc(){return(Kt&6)===0?(au(0),!1):!0}function oo(){if(zt!==null){if(Jt===0)var t=zt.return;else t=zt,ka=us=null,Cr(t),Ks=null,Li=0,t=zt;for(;t!==null;)Lf(t.alternate,t),t=t.return;zt=null}}function ai(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Jp(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Qa=0,oo(),se=t,zt=n=Xe(t.current,null),kt=e,Jt=0,On=null,El=!1,ti=wa(t,e),lo=!1,ei=kn=so=gs=Al=Ee=0,Mn=eu=null,io=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var l=31-Le(a),s=1<<l;e|=t[l],a&=~s}return Xa=e,be(),n}function rm(t,e){Ct=null,A.H=Ki,e===Zs||e===qu?(e=Ad(),Jt=3):e===hr?(e=Ad(),Jt=4):Jt=e===Yr?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,On=e,zt===null&&(Ee=1,Wu(t,Gn(e,t.current)))}function om(){var t=Rn.current;return t===null?!0:(kt&4194048)===kt?Qn===null:(kt&62914560)===kt||(kt&536870912)!==0?t===Qn:!1}function dm(){var t=A.H;return A.H=Ki,t===null?Ki:t}function fm(){var t=A.A;return A.A=wp,t}function oc(){Ee=4,El||(kt&4194048)!==kt&&Rn.current!==null||(ti=!0),(Al&134217727)===0&&(gs&134217727)===0||se===null||wl(se,kt,kn,!1)}function fo(t,e,n){var a=Kt;Kt|=2;var l=dm(),s=fm();(se!==t||kt!==e)&&(cc=null,ai(t,e)),e=!1;var u=Ee;t:do try{if(Jt!==0&&zt!==null){var h=zt,x=On;switch(Jt){case 8:oo(),u=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(e=!0);var O=Jt;if(Jt=0,On=null,li(t,h,x,O),n&&ti){u=0;break t}break;default:O=Jt,Jt=0,On=null,li(t,h,x,O)}}jp(),u=Ee;break}catch(G){rm(t,G)}while(!0);return e&&t.shellSuspendCounter++,ka=us=null,Kt=a,A.H=l,A.A=s,zt===null&&(se=null,kt=0,be()),u}function jp(){for(;zt!==null;)mm(zt)}function Rp(t,e){var n=Kt;Kt|=2;var a=dm(),l=fm();se!==t||kt!==e?(cc=null,uc=an()+500,ai(t,e)):ti=wa(t,e);t:do try{if(Jt!==0&&zt!==null){e=zt;var s=On;e:switch(Jt){case 1:Jt=0,On=null,li(t,e,s,1);break;case 2:case 9:if(xd(s)){Jt=0,On=null,hm(e);break}e=function(){Jt!==2&&Jt!==9||se!==t||(Jt=7),xa(t)},s.then(e,e);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:xd(s)?(Jt=0,On=null,hm(e)):(Jt=0,On=null,li(t,e,s,7));break;case 5:var u=null;switch(zt.tag){case 26:u=zt.memoizedState;case 5:case 27:var h=zt;if(u?Pm(u):h.stateNode.complete){Jt=0,On=null;var x=h.sibling;if(x!==null)zt=x;else{var O=h.return;O!==null?(zt=O,dc(O)):zt=null}break e}}Jt=0,On=null,li(t,e,s,5);break;case 6:Jt=0,On=null,li(t,e,s,6);break;case 8:oo(),Ee=6;break t;default:throw Error(d(462))}}zp();break}catch(G){rm(t,G)}while(!0);return ka=us=null,A.H=a,A.A=l,Kt=n,zt!==null?0:(se=null,kt=0,be(),Ee)}function zp(){for(;zt!==null&&!$n();)mm(zt)}function mm(t){var e=Bf(t.alternate,t,Xa);t.memoizedProps=t.pendingProps,e===null?dc(t):zt=e}function hm(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Rf(n,e,e.pendingProps,e.type,void 0,kt);break;case 11:e=Rf(n,e,e.pendingProps,e.type.render,e.ref,kt);break;case 5:Cr(e);default:Lf(n,e),e=zt=fl(e,Xa),e=Bf(n,e,Xa)}t.memoizedProps=t.pendingProps,e===null?dc(t):zt=e}function li(t,e,n,a){ka=us=null,Cr(e),Ks=null,Li=0;var l=e.return;try{if(Sp(t,l,e,n,kt)){Ee=1,Wu(t,Gn(n,t.current)),zt=null;return}}catch(s){if(l!==null)throw zt=l,s;Ee=1,Wu(t,Gn(n,t.current)),zt=null;return}e.flags&32768?(Bt||a===1?t=!0:ti||(kt&536870912)!==0?t=!1:(El=t=!0,(a===2||a===9||a===3||a===6)&&(a=Rn.current,a!==null&&a.tag===13&&(a.flags|=16384))),pm(e,t)):dc(e)}function dc(t){var e=t;do{if((e.flags&32768)!==0){pm(e,El);return}t=e.return;var n=Ep(e.alternate,e,Xa);if(n!==null){zt=n;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);Ee===0&&(Ee=5)}function pm(t,e){do{var n=Ap(t.alternate,t);if(n!==null){n.flags&=32767,zt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){zt=t;return}zt=t=n}while(t!==null);Ee=6,zt=null}function gm(t,e,n,a,l,s,u,h,x){t.cancelPendingCommit=null;do fc();while(qe!==0);if((Kt&6)!==0)throw Error(d(327));if(e!==null){if(e===t.current)throw Error(d(177));if(s=e.lanes|e.childLanes,s|=$t,Wn(t,n,s,u,h,x),t===se&&(zt=se=null,kt=0),ni=e,Cl=t,Qa=n,uo=s,co=l,sm=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Up(hn,function(){return Mm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=A.T,A.T=null,l=Y.p,Y.p=2,u=Kt,Kt|=4;try{Tp(t,e,n)}finally{Kt=u,Y.p=l,A.T=a}}qe=1,ym(),vm(),bm()}}function ym(){if(qe===1){qe=0;var t=Cl,e=ni,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=A.T,A.T=null;var a=Y.p;Y.p=2;var l=Kt;Kt|=4;try{Ff(e,t);var s=Ao,u=V(t.containerInfo),h=s.focusedElem,x=s.selectionRange;if(u!==h&&h&&h.ownerDocument&&q(h.ownerDocument.documentElement,h)){if(x!==null&&K(h)){var O=x.start,G=x.end;if(G===void 0&&(G=O),"selectionStart"in h)h.selectionStart=O,h.selectionEnd=Math.min(G,h.value.length);else{var Z=h.ownerDocument||document,k=Z&&Z.defaultView||window;if(k.getSelection){var U=k.getSelection(),rt=h.textContent.length,St=Math.min(x.start,rt),ae=x.end===void 0?St:Math.min(x.end,rt);!U.extend&&St>ae&&(u=ae,ae=St,St=u);var R=j(h,St),w=j(h,ae);if(R&&w&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==w.node||U.focusOffset!==w.offset)){var z=Z.createRange();z.setStart(R.node,R.offset),U.removeAllRanges(),St>ae?(U.addRange(z),U.extend(w.node,w.offset)):(z.setEnd(w.node,w.offset),U.addRange(z))}}}}for(Z=[],U=h;U=U.parentNode;)U.nodeType===1&&Z.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<Z.length;h++){var Q=Z[h];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ac=!!Eo,Ao=Eo=null}finally{Kt=l,Y.p=a,A.T=n}}t.current=e,qe=2}}function vm(){if(qe===2){qe=0;var t=Cl,e=ni,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=A.T,A.T=null;var a=Y.p;Y.p=2;var l=Kt;Kt|=4;try{Zf(t,e.alternate,e)}finally{Kt=l,Y.p=a,A.T=n}}qe=3}}function bm(){if(qe===4||qe===3){qe=0,pi();var t=Cl,e=ni,n=Qa,a=sm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?qe=5:(qe=0,ni=Cl=null,Sm(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(Tl=null),Pa(n),e=e.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(Jn,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=A.T,l=Y.p,Y.p=2,A.T=null;try{for(var s=t.onRecoverableError,u=0;u<a.length;u++){var h=a[u];s(h.value,{componentStack:h.stack})}}finally{A.T=e,Y.p=l}}(Qa&3)!==0&&fc(),xa(t),l=t.pendingLanes,(n&261930)!==0&&(l&42)!==0?t===ro?nu++:(nu=0,ro=t):nu=0,au(0)}}function Sm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Bi(e)))}function fc(){return ym(),vm(),bm(),Mm()}function Mm(){if(qe!==5)return!1;var t=Cl,e=uo;uo=0;var n=Pa(Qa),a=A.T,l=Y.p;try{Y.p=32>n?32:n,A.T=null,n=co,co=null;var s=Cl,u=Qa;if(qe=0,ni=Cl=null,Qa=0,(Kt&6)!==0)throw Error(d(331));var h=Kt;if(Kt|=4,nm(s.current),Pf(s,s.current,u,n),Kt=h,au(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(Jn,s)}catch{}return!0}finally{Y.p=l,A.T=a,Sm(t,e)}}function xm(t,e,n){e=Gn(n,e),e=Gr(t.stateNode,e,2),t=bl(t,e,2),t!==null&&(Fn(t,2),xa(t))}function It(t,e,n){if(t.tag===3)xm(t,t,n);else for(;e!==null;){if(e.tag===3){xm(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Tl===null||!Tl.has(a))){t=Gn(n,t),n=Ef(2),a=bl(e,n,2),a!==null&&(Af(n,a,e,t),Fn(a,2),xa(a));break}}e=e.return}}function mo(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new Dp;var l=new Set;a.set(e,l)}else l=a.get(e),l===void 0&&(l=new Set,a.set(e,l));l.has(n)||(lo=!0,l.add(n),t=Op.bind(null,t,e,n),e.then(t,t))}function Op(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,se===t&&(kt&n)===n&&(Ee===4||Ee===3&&(kt&62914560)===kt&&300>an()-ic?(Kt&2)===0&&ai(t,0):so|=n,ei===kt&&(ei=0)),xa(t)}function Em(t,e){e===0&&(e=vi()),t=ya(t,e),t!==null&&(Fn(t,e),xa(t))}function kp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Em(t,n)}function _p(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(e),Em(t,n)}function Up(t,e){return An(t,e)}var mc=null,si=null,ho=!1,hc=!1,po=!1,Dl=0;function xa(t){t!==si&&t.next===null&&(si===null?mc=si=t:si=si.next=t),hc=!0,ho||(ho=!0,qp())}function au(t,e){if(!po&&hc){po=!0;do for(var n=!1,a=mc;a!==null;){if(t!==0){var l=a.pendingLanes;if(l===0)var s=0;else{var u=a.suspendedLanes,h=a.pingedLanes;s=(1<<31-Le(42|t)+1)-1,s&=l&~(u&~h),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,wm(a,s))}else s=kt,s=Ae(a,a===se?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||wa(a,s)||(n=!0,wm(a,s));a=a.next}while(n);po=!1}}function Bp(){Am()}function Am(){hc=ho=!1;var t=0;Dl!==0&&$p()&&(t=Dl);for(var e=an(),n=null,a=mc;a!==null;){var l=a.next,s=Tm(a,e);s===0?(a.next=null,n===null?mc=l:n.next=l,l===null&&(si=n)):(n=a,(t!==0||(s&3)!==0)&&(hc=!0)),a=l}qe!==0&&qe!==5||au(t),Dl!==0&&(Dl=0)}function Tm(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,l=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var u=31-Le(s),h=1<<u,x=l[u];x===-1?((h&n)===0||(h&a)!==0)&&(l[u]=Su(h,e)):x<=e&&(t.expiredLanes|=h),s&=~h}if(e=se,n=kt,n=Ae(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Fa(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||wa(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&Fa(a),Pa(n)){case 2:case 8:n=Ul;break;case 32:n=hn;break;case 268435456:n=Bl;break;default:n=hn}return a=Cm.bind(null,t),n=An(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&Fa(a),t.callbackPriority=2,t.callbackNode=null,2}function Cm(t,e){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(fc()&&t.callbackNode!==n)return null;var a=kt;return a=Ae(t,t===se?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(um(t,a,e),Tm(t,an()),t.callbackNode!=null&&t.callbackNode===n?Cm.bind(null,t):null)}function wm(t,e){if(fc())return null;um(t,e,!0)}function qp(){Ip(function(){(Kt&6)!==0?An(Un,Bp):Am()})}function go(){if(Dl===0){var t=Xs;t===0&&(t=ql,ql<<=1,(ql&261888)===0&&(ql=256)),Dl=t}return Dl}function Dm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Rs(""+t)}function Nm(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Lp(t,e,n,a,l){if(e==="submit"&&n&&n.stateNode===l){var s=Dm((l[Oe]||null).action),u=a.submitter;u&&(e=(e=u[Oe]||null)?Dm(e.formAction):u.getAttribute("formAction"),e!==null&&(s=e,u=null));var h=new il("action","action",null,a,l);t.push({event:h,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Dl!==0){var x=u?Nm(l,u):new FormData(l);_r(n,{pending:!0,data:x,method:l.method,action:s},null,x)}}else typeof s=="function"&&(h.preventDefault(),x=u?Nm(l,u):new FormData(l),_r(n,{pending:!0,data:x,method:l.method,action:s},s,x))},currentTarget:l}]})}}for(var yo=0;yo<Be.length;yo++){var vo=Be[yo],Hp=vo.toLowerCase(),Gp=vo[0].toUpperCase()+vo.slice(1);Rt(Hp,"on"+Gp)}Rt(zi,"onAnimationEnd"),Rt(it,"onAnimationIteration"),Rt(oe,"onAnimationStart"),Rt("dblclick","onDoubleClick"),Rt("focusin","onFocus"),Rt("focusout","onBlur"),Rt(ge,"onTransitionRun"),Rt(Ut,"onTransitionStart"),Rt(ye,"onTransitionCancel"),Rt(gt,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lu));function jm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],l=a.event;a=a.listeners;t:{var s=void 0;if(e)for(var u=a.length-1;0<=u;u--){var h=a[u],x=h.instance,O=h.currentTarget;if(h=h.listener,x!==s&&l.isPropagationStopped())break t;s=h,l.currentTarget=O;try{s(l)}catch(G){ve(G)}l.currentTarget=null,s=x}else for(u=0;u<a.length;u++){if(h=a[u],x=h.instance,O=h.currentTarget,h=h.listener,x!==s&&l.isPropagationStopped())break t;s=h,l.currentTarget=O;try{s(l)}catch(G){ve(G)}l.currentTarget=null,s=x}}}}function Ot(t,e){var n=e[Hl];n===void 0&&(n=e[Hl]=new Set);var a=t+"__bubble";n.has(a)||(Rm(e,t,2,!1),n.add(a))}function bo(t,e,n){var a=0;e&&(a|=4),Rm(n,t,a,e)}var pc="_reactListening"+Math.random().toString(36).slice(2);function So(t){if(!t[pc]){t[pc]=!0,Si.forEach(function(n){n!=="selectionchange"&&(Yp.has(n)||bo(n,!1,t),bo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pc]||(e[pc]=!0,bo("selectionchange",!1,e))}}function Rm(t,e,n,a){switch(ih(e)){case 2:var l=gg;break;case 8:l=yg;break;default:l=_o}n=l.bind(null,e,n,t),l=void 0,!ha||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),a?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function Mo(t,e,n,a,l){var s=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var h=a.stateNode.containerInfo;if(h===l)break;if(u===4)for(u=a.return;u!==null;){var x=u.tag;if((x===3||x===4)&&u.stateNode.containerInfo===l)return;u=u.return}for(;h!==null;){if(u=ue(h),u===null)return;if(x=u.tag,x===5||x===6||x===26||x===27){a=s=u;continue t}h=h.parentNode}}a=a.return}$l(function(){var O=s,G=Ti(n),Z=[];t:{var k=xt.get(t);if(k!==void 0){var U=il,rt=t;switch(t){case"keypress":if(Jl(n)===0)break t;case"keydown":case"keyup":U=Xc;break;case"focusin":rt="focus",U=Os;break;case"focusout":rt="blur",U=Os;break;case"beforeblur":case"afterblur":U=Os;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Wl;break;case zi:case it:case oe:U=Lc;break;case gt:U=Zc;break;case"scroll":case"scrollend":U=zs;break;case"wheel":U=Kc;break;case"copy":case"cut":case"paste":U=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Ue;break;case"toggle":case"beforetoggle":U=Jc}var St=(e&4)!==0,ae=!St&&(t==="scroll"||t==="scrollend"),R=St?k!==null?k+"Capture":null:k;St=[];for(var w=O,z;w!==null;){var Q=w;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||R===null||(Q=sl(w,R),Q!=null&&St.push(su(w,Q,z))),ae)break;w=w.return}0<St.length&&(k=new U(k,rt,null,n,G),Z.push({event:k,listeners:St}))}}if((e&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",k&&n!==Ai&&(rt=n.relatedTarget||n.fromElement)&&(ue(rt)||rt[ln]))break t;if((U||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,U?(rt=n.relatedTarget||n.toElement,U=O,rt=rt?ue(rt):null,rt!==null&&(ae=M(rt),St=rt.tag,rt!==ae||St!==5&&St!==27&&St!==6)&&(rt=null)):(U=null,rt=O),U!==rt)){if(St=Il,Q="onMouseLeave",R="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(St=Ue,Q="onPointerLeave",R="onPointerEnter",w="pointer"),ae=U==null?k:oa(U),z=rt==null?k:oa(rt),k=new St(Q,w+"leave",U,n,G),k.target=ae,k.relatedTarget=z,Q=null,ue(G)===O&&(St=new St(R,w+"enter",rt,n,G),St.target=z,St.relatedTarget=ae,Q=St),ae=Q,U&&rt)e:{for(St=Vp,R=U,w=rt,z=0,Q=R;Q;Q=St(Q))z++;Q=0;for(var ht=w;ht;ht=St(ht))Q++;for(;0<z-Q;)R=St(R),z--;for(;0<Q-z;)w=St(w),Q--;for(;z--;){if(R===w||w!==null&&R===w.alternate){St=R;break e}R=St(R),w=St(w)}St=null}else St=null;U!==null&&zm(Z,k,U,St,!1),rt!==null&&ae!==null&&zm(Z,ae,rt,St,!0)}}t:{if(k=O?oa(O):window,U=k.nodeName&&k.nodeName.toLowerCase(),U==="select"||U==="input"&&k.type==="file")var Xt=ji;else if(ju(k))if(Ru)Xt=nr;else{Xt=er;var ft=tr}else U=k.nodeName,!U||U.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?O&&Ye(O.elementType)&&(Xt=ji):Xt=zu;if(Xt&&(Xt=Xt(t,O))){ns(Z,Xt,n,G);break t}ft&&ft(t,k,O),t==="focusout"&&O&&k.type==="number"&&O.memoizedProps.value!=null&&Kl(k,"number",k.value)}switch(ft=O?oa(O):window,t){case"focusin":(ju(ft)||ft.contentEditable==="true")&&(nt=ft,st=O,pt=null);break;case"focusout":pt=st=nt=null;break;case"mousedown":Dt=!0;break;case"contextmenu":case"mouseup":case"dragend":Dt=!1,Lt(Z,n,G);break;case"selectionchange":if(X)break;case"keydown":case"keyup":Lt(Z,n,G)}var Nt;if(_s)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else jn?Du(t,n)&&(_t="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_t="onCompositionStart");_t&&(Tu&&n.locale!=="ko"&&(jn||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&jn&&(Nt=Ci()):(re=G,_e="value"in re?re.value:re.textContent,jn=!0)),ft=gc(O,_t),0<ft.length&&(_t=new Au(_t,t,null,n,G),Z.push({event:_t,listeners:ft}),Nt?_t.data=Nt:(Nt=Us(n),Nt!==null&&(_t.data=Nt)))),(Nt=Fc?Ni(t,n):Nu(t,n))&&(_t=gc(O,"onBeforeInput"),0<_t.length&&(ft=new Au("onBeforeInput","beforeinput",null,n,G),Z.push({event:ft,listeners:_t}),ft.data=Nt)),Lp(Z,t,O,n,G)}jm(Z,e)})}function su(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gc(t,e){for(var n=e+"Capture",a=[];t!==null;){var l=t,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=sl(t,n),l!=null&&a.unshift(su(t,l,s)),l=sl(t,e),l!=null&&a.push(su(t,l,s))),t.tag===3)return a;t=t.return}return[]}function Vp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zm(t,e,n,a,l){for(var s=e._reactName,u=[];n!==null&&n!==a;){var h=n,x=h.alternate,O=h.stateNode;if(h=h.tag,x!==null&&x===a)break;h!==5&&h!==26&&h!==27||O===null||(x=O,l?(O=sl(n,s),O!=null&&u.unshift(su(n,O,x))):l||(O=sl(n,s),O!=null&&u.push(su(n,O,x)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Xp=/\r\n?/g,Qp=/\u0000|\uFFFD/g;function Om(t){return(typeof t=="string"?t:""+t).replace(Xp,`
`).replace(Qp,"")}function km(t,e){return e=Om(e),Om(t)===e}function ne(t,e,n,a,l,s){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||Se(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&Se(t,""+a);break;case"className":Yl(t,"class",a);break;case"tabIndex":Yl(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Yl(t,n,a);break;case"style":js(t,a,s);break;case"data":if(e!=="object"){Yl(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=Rs(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ne(t,e,"name",l.name,l,null),ne(t,e,"formEncType",l.formEncType,l,null),ne(t,e,"formMethod",l.formMethod,l,null),ne(t,e,"formTarget",l.formTarget,l,null)):(ne(t,e,"encType",l.encType,l,null),ne(t,e,"method",l.method,l,null),ne(t,e,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=Rs(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=na);break;case"onScroll":a!=null&&Ot("scroll",t);break;case"onScrollEnd":a!=null&&Ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(d(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=Rs(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":Ot("beforetoggle",t),Ot("toggle",t),da(t,"popover",a);break;case"xlinkActuate":wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":wn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":wn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":wn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":wn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":da(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Yt.get(n)||n,da(t,n,a))}}function xo(t,e,n,a,l,s){switch(n){case"style":js(t,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(d(60));t.innerHTML=n}}break;case"children":typeof a=="string"?Se(t,a):(typeof a=="number"||typeof a=="bigint")&&Se(t,""+a);break;case"onScroll":a!=null&&Ot("scroll",t);break;case"onScrollEnd":a!=null&&Ot("scrollend",t);break;case"onClick":a!=null&&(t.onclick=na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ds.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),s=t[Oe]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,l),typeof a=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,l);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):da(t,n,a)}}}function en(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",t),Ot("load",t);var a=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,e));default:ne(t,e,s,u,n,null)}}l&&ne(t,e,"srcSet",n.srcSet,n,null),a&&ne(t,e,"src",n.src,n,null);return;case"input":Ot("invalid",t);var h=s=u=l=null,x=null,O=null;for(a in n)if(n.hasOwnProperty(a)){var G=n[a];if(G!=null)switch(a){case"name":l=G;break;case"type":u=G;break;case"checked":x=G;break;case"defaultChecked":O=G;break;case"value":s=G;break;case"defaultValue":h=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(d(137,e));break;default:ne(t,e,a,G,n,null)}}Ei(t,s,h,x,O,u,l,!1);return;case"select":Ot("invalid",t),a=u=s=null;for(l in n)if(n.hasOwnProperty(l)&&(h=n[l],h!=null))switch(l){case"value":s=h;break;case"defaultValue":u=h;break;case"multiple":a=h;default:ne(t,e,l,h,n,null)}e=s,n=u,t.multiple=!!a,e!=null?ea(t,!!a,e,!1):n!=null&&ea(t,!!a,n,!0);return;case"textarea":Ot("invalid",t),s=l=a=null;for(u in n)if(n.hasOwnProperty(u)&&(h=n[u],h!=null))switch(u){case"value":a=h;break;case"defaultValue":l=h;break;case"children":s=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(d(91));break;default:ne(t,e,u,h,n,null)}Dn(t,a,l,s);return;case"option":for(x in n)if(n.hasOwnProperty(x)&&(a=n[x],a!=null))switch(x){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ne(t,e,x,a,n,null)}return;case"dialog":Ot("beforetoggle",t),Ot("toggle",t),Ot("cancel",t),Ot("close",t);break;case"iframe":case"object":Ot("load",t);break;case"video":case"audio":for(a=0;a<lu.length;a++)Ot(lu[a],t);break;case"image":Ot("error",t),Ot("load",t);break;case"details":Ot("toggle",t);break;case"embed":case"source":case"link":Ot("error",t),Ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in n)if(n.hasOwnProperty(O)&&(a=n[O],a!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,e));default:ne(t,e,O,a,n,null)}return;default:if(Ye(e)){for(G in n)n.hasOwnProperty(G)&&(a=n[G],a!==void 0&&xo(t,e,G,a,n,void 0));return}}for(h in n)n.hasOwnProperty(h)&&(a=n[h],a!=null&&ne(t,e,h,a,n,null))}function Zp(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,u=null,h=null,x=null,O=null,G=null;for(U in n){var Z=n[U];if(n.hasOwnProperty(U)&&Z!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":x=Z;default:a.hasOwnProperty(U)||ne(t,e,U,null,a,Z)}}for(var k in a){var U=a[k];if(Z=n[k],a.hasOwnProperty(k)&&(U!=null||Z!=null))switch(k){case"type":s=U;break;case"name":l=U;break;case"checked":O=U;break;case"defaultChecked":G=U;break;case"value":u=U;break;case"defaultValue":h=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(d(137,e));break;default:U!==Z&&ne(t,e,k,U,a,Z)}}Zl(t,u,h,x,O,G,s,l);return;case"select":U=u=h=k=null;for(s in n)if(x=n[s],n.hasOwnProperty(s)&&x!=null)switch(s){case"value":break;case"multiple":U=x;default:a.hasOwnProperty(s)||ne(t,e,s,null,a,x)}for(l in a)if(s=a[l],x=n[l],a.hasOwnProperty(l)&&(s!=null||x!=null))switch(l){case"value":k=s;break;case"defaultValue":h=s;break;case"multiple":u=s;default:s!==x&&ne(t,e,l,s,a,x)}e=h,n=u,a=U,k!=null?ea(t,!!n,k,!1):!!a!=!!n&&(e!=null?ea(t,!!n,e,!0):ea(t,!!n,n?[]:"",!1));return;case"textarea":U=k=null;for(h in n)if(l=n[h],n.hasOwnProperty(h)&&l!=null&&!a.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:ne(t,e,h,null,a,l)}for(u in a)if(l=a[u],s=n[u],a.hasOwnProperty(u)&&(l!=null||s!=null))switch(u){case"value":k=l;break;case"defaultValue":U=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(d(91));break;default:l!==s&&ne(t,e,u,l,a,s)}Ns(t,k,U);return;case"option":for(var rt in n)if(k=n[rt],n.hasOwnProperty(rt)&&k!=null&&!a.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:ne(t,e,rt,null,a,k)}for(x in a)if(k=a[x],U=n[x],a.hasOwnProperty(x)&&k!==U&&(k!=null||U!=null))switch(x){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:ne(t,e,x,k,a,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in n)k=n[St],n.hasOwnProperty(St)&&k!=null&&!a.hasOwnProperty(St)&&ne(t,e,St,null,a,k);for(O in a)if(k=a[O],U=n[O],a.hasOwnProperty(O)&&k!==U&&(k!=null||U!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(d(137,e));break;default:ne(t,e,O,k,a,U)}return;default:if(Ye(e)){for(var ae in n)k=n[ae],n.hasOwnProperty(ae)&&k!==void 0&&!a.hasOwnProperty(ae)&&xo(t,e,ae,void 0,a,k);for(G in a)k=a[G],U=n[G],!a.hasOwnProperty(G)||k===U||k===void 0&&U===void 0||xo(t,e,G,k,a,U);return}}for(var R in n)k=n[R],n.hasOwnProperty(R)&&k!=null&&!a.hasOwnProperty(R)&&ne(t,e,R,null,a,k);for(Z in a)k=a[Z],U=n[Z],!a.hasOwnProperty(Z)||k===U||k==null&&U==null||ne(t,e,Z,k,a,U)}function _m(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],s=l.transferSize,u=l.initiatorType,h=l.duration;if(s&&h&&_m(u)){for(u=0,h=l.responseEnd,a+=1;a<n.length;a++){var x=n[a],O=x.startTime;if(O>h)break;var G=x.transferSize,Z=x.initiatorType;G&&_m(Z)&&(x=x.responseEnd,u+=G*(x<h?1:(h-O)/(x-O)))}if(--a,e+=8*(s+u)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Eo=null,Ao=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function Um(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function To(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Co=null;function $p(){var t=window.event;return t&&t.type==="popstate"?t===Co?!1:(Co=t,!0):(Co=null,!1)}var qm=typeof setTimeout=="function"?setTimeout:void 0,Jp=typeof clearTimeout=="function"?clearTimeout:void 0,Lm=typeof Promise=="function"?Promise:void 0,Ip=typeof queueMicrotask=="function"?queueMicrotask:typeof Lm<"u"?function(t){return Lm.resolve(null).then(t).catch(Fp)}:qm;function Fp(t){setTimeout(function(){throw t})}function Nl(t){return t==="head"}function Hm(t,e){var n=e,a=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(l),ri(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")iu(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,iu(n);for(var s=n.firstChild;s;){var u=s.nextSibling,h=s.nodeName;s[Gl]||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=u}}else n==="body"&&iu(t.ownerDocument.body);n=l}while(n);ri(e)}function Gm(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function wo(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wo(n),ws(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Wp(t,e,n,a){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Gl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function Pp(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Zn(t.nextSibling),t===null))return null;return t}function Ym(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Zn(t.nextSibling),t===null))return null;return t}function Do(t){return t.data==="$?"||t.data==="$~"}function No(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tg(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Zn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var jo=null;function Vm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Zn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Xm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Qm(t,e,n){switch(e=yc(n),t){case"html":if(t=e.documentElement,!t)throw Error(d(452));return t;case"head":if(t=e.head,!t)throw Error(d(453));return t;case"body":if(t=e.body,!t)throw Error(d(454));return t;default:throw Error(d(451))}}function iu(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ws(t)}var Kn=new Map,Zm=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Za=Y.d;Y.d={f:eg,r:ng,D:ag,C:lg,L:sg,m:ig,X:cg,S:ug,M:rg};function eg(){var t=Za.f(),e=rc();return t||e}function ng(t){var e=pn(t);e!==null&&e.tag===5&&e.type==="form"?rf(e):Za.r(t)}var ii=typeof document>"u"?null:document;function Km(t,e,n){var a=ii;if(a&&typeof e=="string"&&e){var l=sn(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Zm.has(l)||(Zm.add(l),t={rel:t,crossOrigin:n,href:e},a.querySelector(l)===null&&(e=a.createElement("link"),en(e,"link",t),Zt(e),a.head.appendChild(e)))}}function ag(t){Za.D(t),Km("dns-prefetch",t,null)}function lg(t,e){Za.C(t,e),Km("preconnect",t,e)}function sg(t,e,n){Za.L(t,e,n);var a=ii;if(a&&t&&e){var l='link[rel="preload"][as="'+sn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+sn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+sn(n.imageSizes)+'"]')):l+='[href="'+sn(t)+'"]';var s=l;switch(e){case"style":s=ui(t);break;case"script":s=ci(t)}Kn.has(s)||(t=E({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Kn.set(s,t),a.querySelector(l)!==null||e==="style"&&a.querySelector(uu(s))||e==="script"&&a.querySelector(cu(s))||(e=a.createElement("link"),en(e,"link",t),Zt(e),a.head.appendChild(e)))}}function ig(t,e){Za.m(t,e);var n=ii;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+sn(a)+'"][href="'+sn(t)+'"]',s=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ci(t)}if(!Kn.has(s)&&(t=E({rel:"modulepreload",href:t},e),Kn.set(s,t),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(cu(s)))return}a=n.createElement("link"),en(a,"link",t),Zt(a),n.head.appendChild(a)}}}function ug(t,e,n){Za.S(t,e,n);var a=ii;if(a&&t){var l=gn(a).hoistableStyles,s=ui(t);e=e||"default";var u=l.get(s);if(!u){var h={loading:0,preload:null};if(u=a.querySelector(uu(s)))h.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Kn.get(s))&&Ro(t,n);var x=u=a.createElement("link");Zt(x),en(x,"link",t),x._p=new Promise(function(O,G){x.onload=O,x.onerror=G}),x.addEventListener("load",function(){h.loading|=1}),x.addEventListener("error",function(){h.loading|=2}),h.loading|=4,bc(u,e,a)}u={type:"stylesheet",instance:u,count:1,state:h},l.set(s,u)}}}function cg(t,e){Za.X(t,e);var n=ii;if(n&&t){var a=gn(n).hoistableScripts,l=ci(t),s=a.get(l);s||(s=n.querySelector(cu(l)),s||(t=E({src:t,async:!0},e),(e=Kn.get(l))&&zo(t,e),s=n.createElement("script"),Zt(s),en(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function rg(t,e){Za.M(t,e);var n=ii;if(n&&t){var a=gn(n).hoistableScripts,l=ci(t),s=a.get(l);s||(s=n.querySelector(cu(l)),s||(t=E({src:t,async:!0,type:"module"},e),(e=Kn.get(l))&&zo(t,e),s=n.createElement("script"),Zt(s),en(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function $m(t,e,n,a){var l=(l=wt.current)?vc(l):null;if(!l)throw Error(d(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ui(n.href),n=gn(l).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ui(n.href);var s=gn(l).hoistableStyles,u=s.get(t);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,u),(s=l.querySelector(uu(t)))&&!s._p&&(u.instance=s,u.state.loading=5),Kn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Kn.set(t,n),s||og(l,t,n,u.state))),e&&a===null)throw Error(d(528,""));return u}if(e&&a!==null)throw Error(d(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ci(n),n=gn(l).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,t))}}function ui(t){return'href="'+sn(t)+'"'}function uu(t){return'link[rel="stylesheet"]['+t+"]"}function Jm(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function og(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),en(e,"link",n),Zt(e),t.head.appendChild(e))}function ci(t){return'[src="'+sn(t)+'"]'}function cu(t){return"script[async]"+t}function Im(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+sn(n.href)+'"]');if(a)return e.instance=a,Zt(a),a;var l=E({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Zt(a),en(a,"style",l),bc(a,n.precedence,t),e.instance=a;case"stylesheet":l=ui(n.href);var s=t.querySelector(uu(l));if(s)return e.state.loading|=4,e.instance=s,Zt(s),s;a=Jm(n),(l=Kn.get(l))&&Ro(a,l),s=(t.ownerDocument||t).createElement("link"),Zt(s);var u=s;return u._p=new Promise(function(h,x){u.onload=h,u.onerror=x}),en(s,"link",a),e.state.loading|=4,bc(s,n.precedence,t),e.instance=s;case"script":return s=ci(n.src),(l=t.querySelector(cu(s)))?(e.instance=l,Zt(l),l):(a=n,(l=Kn.get(s))&&(a=E({},n),zo(a,l)),t=t.ownerDocument||t,l=t.createElement("script"),Zt(l),en(l,"link",a),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(d(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,bc(a,n.precedence,t));return e.instance}function bc(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,s=l,u=0;u<a.length;u++){var h=a[u];if(h.dataset.precedence===e)s=h;else if(s!==l)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Ro(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function zo(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Sc=null;function Fm(t,e,n){if(Sc===null){var a=new Map,l=Sc=new Map;l.set(n,a)}else l=Sc,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var s=n[l];if(!(s[Gl]||s[ie]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var u=s.getAttribute(e)||"";u=t+u;var h=a.get(u);h?h.push(s):a.set(u,[s])}}return a}function Wm(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function dg(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Pm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function fg(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=ui(a.href),s=e.querySelector(uu(l));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Mc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,Zt(s);return}s=e.ownerDocument||e,a=Jm(a),(l=Kn.get(l))&&Ro(a,l),s=s.createElement("link"),Zt(s);var u=s;u._p=new Promise(function(h,x){u.onload=h,u.onerror=x}),en(s,"link",a),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=Mc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Oo=0;function mg(t,e){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Oo===0&&(Oo=62500*Kp());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Oo?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function Mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Ec(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,e.forEach(hg,t),xc=null,Mc.call(t))}function hg(t,e){if(!(e.state.loading&4)){var n=xc.get(t);if(n)var a=n.get(null);else{n=new Map,xc.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var u=l[s];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),a=u)}a&&n.set(null,a)}l=e.instance,u=l.getAttribute("data-precedence"),s=n.get(u)||a,s===a&&n.set(null,l),n.set(u,l),this.count++,a=Mc.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),s?s.parentNode.insertBefore(l,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var ru={$$typeof:ot,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function pg(t,e,n,a,l,s,u,h,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Es(0),this.hiddenUpdates=Es(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function th(t,e,n,a,l,s,u,h,x,O,G,Z){return t=new pg(t,e,n,u,x,O,G,Z,h),e=1,s===!0&&(e|=24),s=Ve(3,null,null,e),t.current=s,s.stateNode=t,e=dr(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:e},pr(s),t}function eh(t){return t?(t=za,t):za}function nh(t,e,n,a,l,s){l=eh(l),a.context===null?a.context=l:a.pendingContext=l,a=vl(e),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=bl(t,a,e),n!==null&&(xn(n,t,e),Gi(n,t,e))}function ah(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ko(t,e){ah(t,e),(t=t.alternate)&&ah(t,e)}function lh(t){if(t.tag===13||t.tag===31){var e=ya(t,67108864);e!==null&&xn(e,t,67108864),ko(t,67108864)}}function sh(t){if(t.tag===13||t.tag===31){var e=_n();e=ra(e);var n=ya(t,e);n!==null&&xn(n,t,e),ko(t,e)}}var Ac=!0;function gg(t,e,n,a){var l=A.T;A.T=null;var s=Y.p;try{Y.p=2,_o(t,e,n,a)}finally{Y.p=s,A.T=l}}function yg(t,e,n,a){var l=A.T;A.T=null;var s=Y.p;try{Y.p=8,_o(t,e,n,a)}finally{Y.p=s,A.T=l}}function _o(t,e,n,a){if(Ac){var l=Uo(a);if(l===null)Mo(t,e,a,Tc,n),uh(t,a);else if(bg(l,t,e,n,a))a.stopPropagation();else if(uh(t,a),e&4&&-1<vg.indexOf(t)){for(;l!==null;){var s=pn(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var u=In(s.pendingLanes);if(u!==0){var h=s;for(h.pendingLanes|=2,h.entangledLanes|=2;u;){var x=1<<31-Le(u);h.entanglements[1]|=x,u&=~x}xa(s),(Kt&6)===0&&(uc=an()+500,au(0))}}break;case 31:case 13:h=ya(s,2),h!==null&&xn(h,s,2),rc(),ko(s,2)}if(s=Uo(a),s===null&&Mo(t,e,a,Tc,n),s===l)break;l=s}l!==null&&a.stopPropagation()}else Mo(t,e,a,null,n)}}function Uo(t){return t=Ti(t),Bo(t)}var Tc=null;function Bo(t){if(Tc=null,t=ue(t),t!==null){var e=M(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=y(e),t!==null)return t;t=null}else if(n===31){if(t=T(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Tc=t,null}function ih(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xs()){case Un:return 2;case Ul:return 8;case hn:case gi:return 32;case Bl:return 268435456;default:return 32}default:return 32}}var qo=!1,jl=null,Rl=null,zl=null,ou=new Map,du=new Map,Ol=[],vg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uh(t,e){switch(t){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":ou.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(e.pointerId)}}function fu(t,e,n,a,l,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[l]},e!==null&&(e=pn(e),e!==null&&lh(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function bg(t,e,n,a,l){switch(e){case"focusin":return jl=fu(jl,t,e,n,a,l),!0;case"dragenter":return Rl=fu(Rl,t,e,n,a,l),!0;case"mouseover":return zl=fu(zl,t,e,n,a,l),!0;case"pointerover":var s=l.pointerId;return ou.set(s,fu(ou.get(s)||null,t,e,n,a,l)),!0;case"gotpointercapture":return s=l.pointerId,du.set(s,fu(du.get(s)||null,t,e,n,a,l)),!0}return!1}function ch(t){var e=ue(t.target);if(e!==null){var n=M(e);if(n!==null){if(e=n.tag,e===13){if(e=y(n),e!==null){t.blockedOn=e,Bn(t.priority,function(){sh(n)});return}}else if(e===31){if(e=T(n),e!==null){t.blockedOn=e,Bn(t.priority,function(){sh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uo(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);Ai=a,n.target.dispatchEvent(a),Ai=null}else return e=pn(n),e!==null&&lh(e),t.blockedOn=n,!1;e.shift()}return!0}function rh(t,e,n){Cc(t)&&n.delete(e)}function Sg(){qo=!1,jl!==null&&Cc(jl)&&(jl=null),Rl!==null&&Cc(Rl)&&(Rl=null),zl!==null&&Cc(zl)&&(zl=null),ou.forEach(rh),du.forEach(rh)}function wc(t,e){t.blockedOn===e&&(t.blockedOn=null,qo||(qo=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Sg)))}var Dc=null;function oh(t){Dc!==t&&(Dc=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Dc===t&&(Dc=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],l=t[e+2];if(typeof a!="function"){if(Bo(a||n)===null)continue;break}var s=pn(n);s!==null&&(t.splice(e,3),e-=3,_r(s,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function ri(t){function e(x){return wc(x,t)}jl!==null&&wc(jl,t),Rl!==null&&wc(Rl,t),zl!==null&&wc(zl,t),ou.forEach(e),du.forEach(e);for(var n=0;n<Ol.length;n++){var a=Ol[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Ol.length&&(n=Ol[0],n.blockedOn===null);)ch(n),n.blockedOn===null&&Ol.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],s=n[a+1],u=l[Oe]||null;if(typeof s=="function")u||oh(n);else if(u){var h=null;if(s&&s.hasAttribute("formAction")){if(l=s,u=s[Oe]||null)h=u.formAction;else if(Bo(l)!==null)continue}else h=u.action;typeof h=="function"?n[a+1]=h:(n.splice(a,3),a-=3),oh(n)}}}function dh(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(u){return l=u})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function Lo(t){this._internalRoot=t}Nc.prototype.render=Lo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(d(409));var n=e.current,a=_n();nh(n,a,t,e,null,null)},Nc.prototype.unmount=Lo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nh(t.current,2,null,t,null,null),rc(),e[ln]=null}};function Nc(t){this._internalRoot=t}Nc.prototype.unstable_scheduleHydration=function(t){if(t){var e=tl();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ol.length&&e!==0&&e<Ol[n].priority;n++);Ol.splice(n,0,t),n===0&&ch(t)}};var fh=r.version;if(fh!=="19.2.0")throw Error(d(527,fh,"19.2.0"));Y.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=v(e),t=t!==null?N(t):null,t=t===null?null:t.stateNode,t};var Mg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Jn=jc.inject(Mg),pe=jc}catch{}}return hu.createRoot=function(t,e){if(!p(t))throw Error(d(299));var n=!1,a="",l=bf,s=Sf,u=Mf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(u=e.onRecoverableError)),e=th(t,1,!1,null,null,n,a,null,l,s,u,dh),t[ln]=e.current,So(t),new Lo(e)},hu.hydrateRoot=function(t,e,n){if(!p(t))throw Error(d(299));var a=!1,l="",s=bf,u=Sf,h=Mf,x=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(h=n.onRecoverableError),n.formState!==void 0&&(x=n.formState)),e=th(t,1,!0,e,n??null,a,l,x,s,u,h,dh),e.context=eh(null),n=e.current,a=_n(),a=ra(a),l=vl(a),l.callback=null,bl(n,l,a),n=a,e.current.lanes=n,Fn(e,n),xa(e),t[ln]=e.current,So(t),new Nc(e)},hu.version="19.2.0",hu}var xh;function Rg(){if(xh)return Yo.exports;xh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Yo.exports=jg(),Yo.exports}var zg=Rg();const Og="modulepreload",kg=function(o,r){return new URL(o,r).href},Eh={},_g=function(r,m,d){let p=Promise.resolve();if(m&&m.length>0){let v=function(N){return Promise.all(N.map(E=>Promise.resolve(E).then(L=>({status:"fulfilled",value:L}),L=>({status:"rejected",reason:L}))))};const y=document.getElementsByTagName("link"),T=document.querySelector("meta[property=csp-nonce]"),b=T?.nonce||T?.getAttribute("nonce");p=v(m.map(N=>{if(N=kg(N,d),N in Eh)return;Eh[N]=!0;const E=N.endsWith(".css"),L=E?'[rel="stylesheet"]':"";if(d)for(let et=y.length-1;et>=0;et--){const F=y[et];if(F.href===N&&(!E||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${N}"]${L}`))return;const $=document.createElement("link");if($.rel=E?"stylesheet":Og,E||($.as="script"),$.crossOrigin="",$.href=N,b&&$.setAttribute("nonce",b),document.head.appendChild($),E)return new Promise((et,F)=>{$.addEventListener("load",et),$.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${N}`)))})}))}function M(y){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=y,window.dispatchEvent(T),!T.defaultPrevented)throw y}return p.then(y=>{for(const T of y||[])T.status==="rejected"&&M(T.reason);return r().catch(M)})};function Ug(o={}){const{immediate:r=!1,onNeedRefresh:m,onOfflineReady:d,onRegistered:p,onRegisteredSW:M,onRegisterError:y}=o;let T,b;const v=async(E=!0)=>{await b};async function N(){if("serviceWorker"in navigator){if(T=await _g(async()=>{const{Workbox:E}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:E}},[],import.meta.url).then(({Workbox:E})=>new E("./sw.js",{scope:"./",type:"classic"})).catch(E=>{y?.(E)}),!T)return;T.addEventListener("activated",E=>{(E.isUpdate||E.isExternal)&&window.location.reload()}),T.addEventListener("installed",E=>{E.isUpdate||d?.()}),T.register({immediate:r}).then(E=>{M?M("./sw.js",E):p?.(E)}).catch(E=>{y?.(E)})}}return b=N(),v}const Bg=""+new URL("lame.all-C7RRJB7H.js",import.meta.url).href;let Rc=null;async function qg(){if(typeof window>"u")throw new Error("MP3 encoder can only load in a browser.");if(!window.lamejs?.Mp3Encoder)return Rc||(Rc=new Promise((o,r)=>{const m=document.createElement("script");m.src=Bg,m.async=!0,m.onload=()=>o(),m.onerror=()=>r(new Error("Failed to load MP3 encoder script.")),document.head.appendChild(m)}).then(()=>{if(!window.lamejs?.Mp3Encoder)throw new Error("MP3 encoder loaded but window.lamejs.Mp3Encoder is missing.")}),Rc)}function Lg(){const o=window.lamejs?.Mp3Encoder;if(!o)throw new Error("MP3 encoder is not loaded yet.");return o}const hi={frameDurationMs:50,minQuietDurationMs:600,minSegmentMs:5e3,targetSegmentMs:1e4,maxSegmentMs:6e4,silencePaddingMs:200,thresholdMultiplier:1.6,quietPercentile:.3,noisePercentile:.12,initialIgnoreMs:120},Ah=(o,r)=>{if(o.length===0)return 0;const m=[...o].sort((M,y)=>M-y),d=Math.min(Math.max(r,0),1),p=d===1?m.length-1:Math.floor(d*m.length);return m[p]},Hg=o=>{if(o.numberOfChannels===1)return o.getChannelData(0);const{length:r,numberOfChannels:m}=o,d=new Float32Array(r);for(let p=0;p<m;p+=1){const M=o.getChannelData(p);for(let y=0;y<r;y+=1)d[y]+=M[y]/m}return d},Gg=(o,r,m)=>{const d=Math.max(1,Math.round(m/1e3*r)),p=o.length,M=Math.ceil(p/d),y=new Array(M),T=new Array(M);let b=Number.POSITIVE_INFINITY,v=0;for(let N=0;N<M;N+=1){const E=N*d,L=Math.min(p,E+d),$=L-E;if($<=0){y[N]={index:N,startMs:E/r*1e3,endMs:L/r*1e3,rms:0,normalized:0},T[N]=0;continue}let et=0;for(let Et=E;Et<L;Et+=1){const ut=o[Et];et+=ut*ut}const F=Math.sqrt(et/$);y[N]={index:N,startMs:E/r*1e3,endMs:L/r*1e3,rms:F,normalized:F},T[N]=F,F<b&&(b=F),F>v&&(v=F)}return Number.isFinite(b)||(b=0),{frames:y,rmsValues:T,minRms:b,maxRms:v}},Yg=({audioBuffer:o,frameDurationMs:r=hi.frameDurationMs})=>{const m=Hg(o),{frames:d}=Gg(m,o.sampleRate,r),p=d.reduce((N,E)=>Math.max(N,E.rms),0),M=p>0?.92/p:1,y=d.map(N=>Math.min(N.rms*M,1)),T=y.length,b=T>0?y.reduce((N,E)=>N+E,0)/T:0,v=T>0?Math.max(...y):0;return{normalizedFrames:y,scalingFactor:M,maxNormalized:v,averageNormalized:b,frameDurationMs:r}},Vg=(o,r,m,d)=>{const p=[];let M=null,y=Number.POSITIVE_INFINITY,T=0,b=0,v=0,N=!1;for(let E=0;E<o.length;E+=1){const L=o[E],$=L.startMs>=d;$&&L.rms>r&&(N=!0);const F=N&&$&&L.rms<=r;if(F&&(M===null?(M=E,y=L.rms,T=L.rms,b=L.rms,v=1):(y=Math.min(y,L.rms),T=Math.max(T,L.rms),b+=L.rms,v+=1)),(!F&&M!==null||E===o.length-1&&F)&&M!==null){const ut=F?E:E-1,bt=o[M],ot=o[ut],H=ot.endMs-bt.startMs;if(H>=m){const P=(bt.startMs+ot.endMs)/2;p.push({index:p.length,startFrame:M,endFrame:ut,startMs:bt.startMs,endMs:ot.endMs,durationMs:H,minRms:y,maxRms:T,averageRms:v>0?b/v:0,centerMs:P,normalizedMin:0,normalizedMax:0})}M=null,y=Number.POSITIVE_INFINITY,T=0,b=0,v=0}}return p},Xg=(o,r)=>o.map(m=>{const d=r.slice(m.startFrame,m.endFrame+1).map(y=>y.normalized),p=d.length>0?Math.min(...d):0,M=d.length>0?Math.max(...d):0;return{...m,normalizedMin:p,normalizedMax:M}}),Qg=(o,r,m)=>{const d=[];let p=0;for(const b of o){const v=b.centerMs-p;if(!(v<m.minSegmentMs)&&(v>=m.targetSegmentMs||v>=m.maxSegmentMs)){const N=Math.max(0,1-b.normalizedMax);d.push({index:d.length,positionMs:b.centerMs,precedingDurationMs:v,quietRegionIndex:b.index,score:N,reason:"pause"}),p=b.centerMs}}const M=[],y=[...d].sort((b,v)=>b.positionMs-v.positionMs);let T=0;return y.forEach((b,v)=>{const N=Math.min(b.positionMs,r),E=Math.max(0,N-T);M.push({index:v,startMs:T,endMs:N,durationMs:E,breakReason:"pause",boundaryIndex:b.index}),T=b.positionMs}),T<r&&M.push({index:M.length,startMs:T,endMs:r,durationMs:Math.max(0,r-T),breakReason:"end",boundaryIndex:null}),{boundaries:d,segments:M}};function tp(o,r={}){const{totalDurationMs:m,config:d={},sampleRate:p=0,frameDurationMs:M}=r;if(o.length===0)return null;const y={...hi,...d},T=o.map(H=>H.normalized),b=o.reduce((H,P)=>Math.max(H,P.rms),0),v=o.reduce((H,P)=>Math.min(H,P.rms),Number.POSITIVE_INFINITY),N=1,E=Ah(T,y.noisePercentile),L=Ah(T,y.quietPercentile),$=Math.max(E*y.thresholdMultiplier,(E+L)/2),et=Math.min($,b*.7),F=Math.min(et,.98),Et=Math.max(m??0,o[o.length-1]?.endMs??0),ut=Xg(Vg(o,et,y.minQuietDurationMs,y.initialIgnoreMs),o),{boundaries:bt,segments:ot}=Qg(ut,Et,y);return{frames:o,quietRegions:ut,boundaries:bt,segments:ot,stats:{sampleRate:p,totalDurationMs:Et,frameDurationMs:M??y.frameDurationMs,frameCount:o.length,maxRms:b,minRms:Number.isFinite(v)?v:0,scalingFactor:N,noiseFloor:E,threshold:et,normalizedThreshold:F}}}function Zg({frames:o,windowStartMs:r,windowEndMs:m,sampleRate:d,frameDurationMs:p,config:M}){const y=Math.max(0,Math.round(r)),T=Math.max(y,Math.round(m)),b=Math.max(0,T-y);if(o.length===0||b<=0)return{analysis:null,frames:[],windowStartMs:y,windowEndMs:T,windowDurationMs:b};const v=[];for(const E of o){if(E.endMs<=y||E.startMs>=T)continue;const L=Math.max(0,E.startMs-y),$=Math.min(T,E.endMs)-y;$<=L||v.push({...E,index:v.length,startMs:L,endMs:$})}return{analysis:v.length>0?tp(v,{totalDurationMs:b,sampleRate:d,frameDurationMs:p,config:M}):null,frames:v,windowStartMs:y,windowEndMs:T,windowDurationMs:b}}async function ep(o,r){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");const{chunkId:m,sessionId:d,seq:p,chunkStartMs:M,chunkEndMs:y,frameDurationMs:T}=r,b=new AudioContext;try{const v=await o.arrayBuffer(),N=await b.decodeAudioData(v.slice(0)),{normalizedFrames:E,scalingFactor:L,maxNormalized:$,averageNormalized:et}=Yg({audioBuffer:N,frameDurationMs:T});return{chunkId:m,sessionId:d,seq:p,chunkStartMs:M,chunkEndMs:y,durationMs:N.duration*1e3,sampleRate:N.sampleRate,frameDurationMs:T??50,frames:E,maxNormalized:$,averageNormalized:et,scalingFactor:L}}finally{await b.close().catch(()=>{})}}const td=(o,r)=>r.some(m=>o instanceof m);let Th,Ch;function Kg(){return Th||(Th=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $g(){return Ch||(Ch=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ed=new WeakMap,Zo=new WeakMap,_c=new WeakMap;function Jg(o){const r=new Promise((m,d)=>{const p=()=>{o.removeEventListener("success",M),o.removeEventListener("error",y)},M=()=>{m(bs(o.result)),p()},y=()=>{d(o.error),p()};o.addEventListener("success",M),o.addEventListener("error",y)});return _c.set(r,o),r}function Ig(o){if(ed.has(o))return;const r=new Promise((m,d)=>{const p=()=>{o.removeEventListener("complete",M),o.removeEventListener("error",y),o.removeEventListener("abort",y)},M=()=>{m(),p()},y=()=>{d(o.error||new DOMException("AbortError","AbortError")),p()};o.addEventListener("complete",M),o.addEventListener("error",y),o.addEventListener("abort",y)});ed.set(o,r)}let nd={get(o,r,m){if(o instanceof IDBTransaction){if(r==="done")return ed.get(o);if(r==="store")return m.objectStoreNames[1]?void 0:m.objectStore(m.objectStoreNames[0])}return bs(o[r])},set(o,r,m){return o[r]=m,!0},has(o,r){return o instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in o}};function np(o){nd=o(nd)}function Fg(o){return $g().includes(o)?function(...r){return o.apply(ad(this),r),bs(this.request)}:function(...r){return bs(o.apply(ad(this),r))}}function Wg(o){return typeof o=="function"?Fg(o):(o instanceof IDBTransaction&&Ig(o),td(o,Kg())?new Proxy(o,nd):o)}function bs(o){if(o instanceof IDBRequest)return Jg(o);if(Zo.has(o))return Zo.get(o);const r=Wg(o);return r!==o&&(Zo.set(o,r),_c.set(r,o)),r}const ad=o=>_c.get(o);function Pg(o,r,{blocked:m,upgrade:d,blocking:p,terminated:M}={}){const y=indexedDB.open(o,r),T=bs(y);return d&&y.addEventListener("upgradeneeded",b=>{d(bs(y.result),b.oldVersion,b.newVersion,bs(y.transaction),b)}),m&&y.addEventListener("blocked",b=>m(b.oldVersion,b.newVersion,b)),T.then(b=>{M&&b.addEventListener("close",()=>M()),p&&b.addEventListener("versionchange",v=>p(v.oldVersion,v.newVersion,v))}).catch(()=>{}),T}const ty=["get","getKey","getAll","getAllKeys","count"],ey=["put","add","delete","clear"],Ko=new Map;function wh(o,r){if(!(o instanceof IDBDatabase&&!(r in o)&&typeof r=="string"))return;if(Ko.get(r))return Ko.get(r);const m=r.replace(/FromIndex$/,""),d=r!==m,p=ey.includes(m);if(!(m in(d?IDBIndex:IDBObjectStore).prototype)||!(p||ty.includes(m)))return;const M=async function(y,...T){const b=this.transaction(y,p?"readwrite":"readonly");let v=b.store;return d&&(v=v.index(T.shift())),(await Promise.all([v[m](...T),p&&b.done]))[0]};return Ko.set(r,M),M}np(o=>({...o,get:(r,m,d)=>wh(r,m)||o.get(r,m,d),has:(r,m)=>!!wh(r,m)||o.has(r,m)}));const ny=["continue","continuePrimaryKey","advance"],Dh={},ld=new WeakMap,ap=new WeakMap,ay={get(o,r){if(!ny.includes(r))return o[r];let m=Dh[r];return m||(m=Dh[r]=function(...d){ld.set(this,ap.get(this)[r](...d))}),m}};async function*ly(...o){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...o)),!r)return;r=r;const m=new Proxy(r,ay);for(ap.set(m,r),_c.set(m,ad(r));r;)yield m,r=await(ld.get(m)||r.continue()),ld.delete(m)}function Nh(o,r){return r===Symbol.asyncIterator&&td(o,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&td(o,[IDBIndex,IDBObjectStore])}np(o=>({...o,get(r,m,d){return Nh(r,m)?ly:o.get(r,m,d)},has(r,m){return Nh(r,m)||o.has(r,m)}}));const Ze="unverified";function sy(o,r){let m=0;return r.map(d=>{const p=Number.isFinite(d.durationMs)&&d.durationMs>0?Math.round(d.durationMs):0,M=Math.round(o+m),y=Math.round(M+p);return m+=p,{...d,durationMs:p,startMs:M,endMs:y}})}const jh=o=>{const r=Array.isArray(o.frames)?o.frames:[],m=r.length>0&&typeof r[0]=="number"?r:r.map(T=>{if(T&&typeof T=="object"){if(typeof T.normalized=="number")return Math.max(0,T.normalized);if(typeof T.rms=="number")return Math.max(0,T.rms)}return 0}),d=typeof o.frameDurationMs=="number"&&o.frameDurationMs>0?o.frameDurationMs:50,p=typeof o.durationMs=="number"&&o.durationMs>0?o.durationMs:m.length*d,M=typeof o.maxNormalized=="number"?o.maxNormalized:m.length>0?Math.max(...m):0,y=typeof o.averageNormalized=="number"?o.averageNormalized:m.length>0?m.reduce((T,b)=>T+b,0)/m.length:0;return{chunkId:o.chunkId,sessionId:o.sessionId,seq:o.seq??0,chunkStartMs:o.chunkStartMs??0,chunkEndMs:typeof o.chunkEndMs=="number"?o.chunkEndMs:(o.chunkStartMs??0)+p,durationMs:p,sampleRate:o.sampleRate??0,frameDurationMs:d,frames:m,maxNormalized:M,averageNormalized:y,scalingFactor:o.scalingFactor??1,id:o.id??o.chunkId,createdAt:o.createdAt??Date.now(),updatedAt:o.updatedAt??Date.now()}},pu=o=>{const r=Number.isFinite(o.startMs)?o.startMs:0,m=Number.isFinite(o.endMs)?o.endMs:r,d=Number.isFinite(o.durationMs)?o.durationMs:Math.max(0,m-r),p=typeof o.audioPurgedAt=="number"?o.audioPurgedAt:null,M=o.transcription?{...o.transcription,segments:Array.isArray(o.transcription.segments)?o.transcription.segments:[],text:o.transcription.text??""}:o.transcription;return{...o,index:Number.isFinite(o.index)?o.index:0,startMs:r,endMs:m,durationMs:d,breakReason:o.breakReason??null,boundaryIndex:typeof o.boundaryIndex=="number"?o.boundaryIndex:null,transcription:M??null,transcriptionError:o.transcriptionError??null,audioPurgedAt:p}},iy="durable-audio-recorder",uy=4,Rh=50;let $o=null;async function ce(){return $o||($o=Pg(iy,uy,{upgrade(o,r){if(r<1&&(o.createObjectStore("sessions",{keyPath:"id"}).createIndex("by-updated","updatedAt"),o.createObjectStore("chunks",{keyPath:"id"}).createIndex("by-session","sessionId")),r<2){o.createObjectStore("logSessions",{keyPath:"id"}).createIndex("by-started","startedAt");const d=o.createObjectStore("logEntries",{keyPath:"id",autoIncrement:!0});d.createIndex("by-session","sessionId"),d.createIndex("by-timestamp","timestamp")}if(r<3){const m=o.createObjectStore("chunkVolumes",{keyPath:"id"});m.createIndex("by-session","sessionId"),m.createIndex("by-chunk","chunkId")}r<4&&o.createObjectStore("snips",{keyPath:"id"}).createIndex("by-session","sessionId")}})),$o}class cy{async init(){await ce()}async createSession(r){await(await ce()).put("sessions",{...r,timingStatus:r.timingStatus??Ze})}async updateSession(r,m){const p=(await ce()).transaction("sessions","readwrite"),M=p.objectStore("sessions"),y=await M.get(r);if(!y)return await p.done,null;const T={...y,...m,timingStatus:m.timingStatus??y.timingStatus??Ze};return await M.put(T),await p.done,T}async appendChunk(r,m){const p=(await ce()).transaction(["chunks","sessions"],"readwrite"),M=p.objectStore("chunks"),y=p.objectStore("sessions"),T={...r,blob:m,byteLength:m.size,createdAt:Date.now(),verifiedAudioMsec:r.seq===0&&/mp4|m4a/i.test(m.type)?0:null,timingStatus:Ze};await M.put(T);const b=await y.get(r.sessionId);if(b){const v=Math.max(b.durationMs,r.endMs-b.startedAt),N={...b,updatedAt:Date.now(),chunkCount:b.chunkCount+1,totalBytes:b.totalBytes+m.size,durationMs:v};await y.put(N)}await p.done}async listSessions(){return(await(await ce()).getAll("sessions")).map(d=>({...d,timingStatus:d.timingStatus??Ze})).sort((d,p)=>p.startedAt-d.startedAt)}async getSession(r){const d=await(await ce()).get("sessions",r);return d?{...d,timingStatus:d.timingStatus??Ze}:null}async getChunkMetadata(r){return(await(await ce()).transaction("chunks").store.index("by-session").getAll(r)).map(({blob:M,timingStatus:y,...T})=>({...T,timingStatus:y??Ze})).sort((M,y)=>M.seq-y.seq)}async getChunkData(r){return(await(await ce()).transaction("chunks").store.index("by-session").getAll(r)).sort((M,y)=>M.seq-y.seq).map(M=>({...M,timingStatus:M.timingStatus??Ze}))}async buildSessionBlob(r,m){const M=await(await ce()).transaction("chunks").store.index("by-session").getAll(r);if(M.length===0)return null;const T=M.sort((b,v)=>b.seq-v.seq).map(b=>b.blob);return new Blob(T,{type:m})}async storeChunkVolumeProfile(r){const d=(await ce()).transaction(["chunkVolumes","chunks"],"readwrite"),p=d.objectStore("chunkVolumes"),M=d.objectStore("chunks"),y=await p.get(r.chunkId),T=Date.now(),b={...r,id:r.chunkId,createdAt:y?.createdAt??T,updatedAt:T},v=jh(b);await p.put(v);const N=await M.get(r.chunkId);N&&(N.verifiedAudioMsec=Math.round(r.durationMs),await M.put(N)),await d.done}async getChunkVolumeProfile(r){return await(await ce()).get("chunkVolumes",r)??null}async listChunkVolumeProfiles(r){const d=(await ce()).transaction("chunkVolumes").store;let p;return r?p=await d.index("by-session").getAll(r):p=await d.getAll(),p.map(y=>jh(y)).sort((y,T)=>y.sessionId!==T.sessionId?y.sessionId.localeCompare(T.sessionId):y.seq!==T.seq?y.seq-T.seq:y.chunkStartMs-T.chunkStartMs)}async listSnips(r){const d=(await ce()).transaction("snips").store;let p;return r?p=await d.index("by-session").getAll(r):p=await d.getAll(),p.map(y=>pu(y)).sort((y,T)=>y.sessionId!==T.sessionId?y.sessionId.localeCompare(T.sessionId):y.index-T.index)}async appendSnips(r,m){const p=(await ce()).transaction("snips","readwrite"),M=p.objectStore("snips"),y=await M.index("by-session").getAll(r),T=new Map;y.forEach(N=>{T.set(N.index,N)});const b=Date.now();for(const N of m){if(T.has(N.index))continue;const E=Number.isFinite(N.startMs)?Math.max(0,N.startMs):0,L=Number.isFinite(N.endMs)?Math.max(E,N.endMs):E,$=Number.isFinite(N.durationMs)?Math.max(0,N.durationMs):Math.max(0,L-E),et={id:`${r}-snip-${N.index}`,sessionId:r,index:N.index,startMs:E,endMs:L,durationMs:$,breakReason:N.breakReason??null,boundaryIndex:typeof N.boundaryIndex=="number"?N.boundaryIndex:null,createdAt:b,updatedAt:b,transcription:null,transcriptionError:null,audioPurgedAt:null};await M.put(et),T.set(et.index,et)}return await p.done,Array.from(T.values()).map(N=>pu(N)).sort((N,E)=>N.index-E.index)}async updateSnipTranscription(r,m){const p=(await ce()).transaction("snips","readwrite"),M=p.objectStore("snips"),y=await M.get(r);if(!y)return await p.done,null;const T=pu({...y,transcription:m.transcription!==void 0?m.transcription:y.transcription,transcriptionError:m.transcriptionError!==void 0?m.transcriptionError:y.transcriptionError,updatedAt:Date.now()});return await M.put(T),await p.done,T}async deleteSession(r){const d=(await ce()).transaction(["sessions","chunks","chunkVolumes","snips"],"readwrite");await d.objectStore("sessions").delete(r);const M=d.objectStore("chunks").index("by-session");for(let N=await M.openCursor(r);N;N=await N.continue())await N.delete();const T=d.objectStore("chunkVolumes").index("by-session");for(let N=await T.openCursor(r);N;N=await N.continue())await N.delete();const v=d.objectStore("snips").index("by-session");for(let N=await v.openCursor(r);N;N=await N.continue())await N.delete();await d.done}async purgeLegacyMp4Sessions(){const m=(await this.listSessions()).filter(d=>/mp4|m4a/i.test(d.mimeType??""));for(const d of m)await this.deleteSession(d.id);return{deletedSessions:m.length}}async storageTotals(){const m=(await ce()).transaction("chunks").store;let d=0,p=await m.openCursor();for(;p;)d+=p.value.byteLength,p=await p.continue();return{totalBytes:d}}async applyRetentionPolicy(r){const m=typeof r.now=="number"?r.now:Date.now(),p=(await ce()).transaction(["chunks","snips","sessions"],"readwrite"),M=p.objectStore("chunks"),y=p.objectStore("snips"),T=p.objectStore("sessions"),[b,v,N]=await Promise.all([M.getAll(),y.getAll(),T.getAll()]),E=b.map(A=>({...A,timingStatus:A.timingStatus??Ze})),L=v.map(A=>pu(A)),$=N.map(A=>({...A,timingStatus:A.timingStatus??Ze})),et=E.reduce((A,Y)=>A+Y.byteLength,0);let F=et;const Et=Number.isFinite(r.limitBytes)?Math.max(0,r.limitBytes):et;if(F<=Et)return await p.done,{limitBytes:Et,beforeBytes:et,afterBytes:F,purgedChunkIds:[],purgedSnipIds:[],updatedSessionIds:[],ranAt:m};const ut=new Map($.map(A=>[A.id,A])),bt=new Map;E.forEach(A=>{bt.set(A.sessionId,(bt.get(A.sessionId)??0)+A.byteLength)});const ot=new Map;L.forEach(A=>{const Y=ot.get(A.sessionId);Y?Y.push(A):ot.set(A.sessionId,[A])}),ot.forEach(A=>A.sort((Y,W)=>Y.startMs-W.startMs));const H=1e12,P=new Map;E.forEach(A=>{const Y=P.get(A.sessionId);(Y===void 0||A.startMs<Y)&&P.set(A.sessionId,A.startMs)});const mt=new Map;ot.forEach((A,Y)=>{mt.set(Y,A.some(W=>W.startMs>H||W.endMs>H))});const J=new Map;$.forEach(A=>{const Y=Number.isFinite(A.startedAt)?Math.round(A.startedAt):P.get(A.id)??0,W=Number.isFinite(Y)?Y:0;J.set(A.id,{baseStartMs:W,baseIsAbsolute:W>H,snipIsAbsolute:mt.get(A.id)??!1})});const ct=4,Gt=(A,Y)=>{const W=A.blob.type||Y?.mimeType||"";if(!/mp4|m4a/i.test(W))return!1;const I=Math.max(0,A.endMs-A.startMs);return A.seq===0&&(I<=10||A.byteLength<4096)},le=(A,Y)=>{const{baseStartMs:W,baseIsAbsolute:I,snipIsAbsolute:lt}=Y,S=I&&A.startMs>H,_=lt?S?A.startMs:I?W+A.startMs:A.startMs:S?A.startMs-W:A.startMs,tt=lt?S?A.endMs:I?W+A.endMs:A.endMs:S?A.endMs-W:A.endMs,at=Number.isFinite(_)?_:0,yt=Number.isFinite(tt)?tt:at;return{startMs:lt?at:Math.max(0,at),endMs:lt?yt:Math.max(Math.max(0,at),yt)}},Ft=(A,Y,W)=>{if(!A||A.length===0)return[];const I=Y+ct,lt=W-ct;if(lt<=I)return[];const S=[];for(const _ of A)if(!(_.endMs<=I)){if(_.startMs>=lt)break;S.push(_)}return S},Wt=[];for(const A of E){if(A.byteLength<=0||A.blob.size<=0)continue;const Y=ut.get(A.sessionId)??null;if(Gt(A,Y))continue;const W=ot.get(A.sessionId),I=J.get(A.sessionId)??{baseStartMs:0,baseIsAbsolute:!1,snipIsAbsolute:!1},lt=le(A,I),S=Ft(W,lt.startMs,lt.endMs);S.length!==0&&S.every(_=>_.transcription&&!_.transcriptionError)&&Wt.push({chunk:A,snipIds:S.map(_=>_.id),session:Y})}Wt.sort((A,Y)=>{const W=A.chunk.createdAt??A.chunk.startMs,I=Y.chunk.createdAt??Y.chunk.startMs;return W!==I?W-I:A.chunk.seq-Y.chunk.seq});const on=[],ze=new Set,we=new Set;for(const A of Wt){if(F<=Et)break;const Y=A.chunk,W=Y.byteLength;if(W<=0)continue;const I=Y.blob.type||A.session?.mimeType||"",lt={...Y,blob:new Blob([],{type:I}),byteLength:0,audioPurgedAt:m};await M.put(lt),on.push(Y.id),F=Math.max(0,F-W),bt.set(Y.sessionId,Math.max(0,(bt.get(Y.sessionId)??0)-W)),we.add(Y.sessionId),A.snipIds.forEach(S=>ze.add(S))}for(const A of we){const Y=ut.get(A);if(!Y)continue;const W=Math.max(0,bt.get(A)??0);await T.put({...Y,totalBytes:W,updatedAt:m,timingStatus:Y.timingStatus??Ze})}for(const A of ze){const Y=await y.get(A);if(!Y)continue;const W=pu(Y);W.audioPurgedAt||await y.put({...W,audioPurgedAt:m,updatedAt:m})}return await p.done,{limitBytes:Et,beforeBytes:et,afterBytes:F,purgedChunkIds:on,purgedSnipIds:Array.from(ze),updatedSessionIds:Array.from(we),ranAt:m}}async verifySessionChunkTimings(r){const d=(await ce()).transaction(["chunks","chunkVolumes","sessions"],"readwrite"),p=d.objectStore("chunks"),M=d.objectStore("chunkVolumes"),y=d.objectStore("sessions"),[T,b]=await Promise.all([y.get(r),p.index("by-session").getAll(r)]),v=T?{...T,timingStatus:T.timingStatus??Ze}:null;if(b.length===0)return await d.done,{sessionId:r,status:Ze,updatedChunkIds:[],missingChunkIds:[],totalVerifiedDurationMs:0,baseStartMs:v?.startedAt??null,verifiedChunkCount:0,session:v};const N=[...b].sort((J,ct)=>J.seq-ct.seq),E=new Array(N.length),L=[],$=v?.mimeType??"",F=/mp4|m4a/i.test($)?N.find(J=>J.seq===0&&(J.endMs-J.startMs<=10||J.byteLength<4096))??null:null;for(let J=0;J<N.length;J+=1){const ct=N[J];if(F?.id===ct.id){E[J]=0;continue}const le=typeof ct.verifiedAudioMsec=="number"&&ct.verifiedAudioMsec>0?Math.round(ct.verifiedAudioMsec):null;if(le!==null){E[J]=le;continue}const Ft=await M.get(ct.id);if(Ft&&typeof Ft.durationMs=="number"&&Ft.durationMs>0){E[J]=Math.round(Ft.durationMs);continue}L.push(ct.id)}const Et=F?.startMs??v?.startedAt??N[0]?.startMs??Date.now(),ut=Number.isFinite(Et)?Math.round(Et):Date.now();if(L.length>0)return T&&T.timingStatus!==Ze&&await y.put({...T,timingStatus:Ze}),await d.done,{sessionId:r,status:Ze,updatedChunkIds:[],missingChunkIds:L,totalVerifiedDurationMs:0,baseStartMs:ut,verifiedChunkCount:N.filter((J,ct)=>E[ct]>0).length,session:v};const bt=sy(ut,N.map((J,ct)=>({id:J.id,seq:J.seq,durationMs:E[ct]}))),ot=[];let H=0,P=0;for(let J=0;J<bt.length;J+=1){const ct=N[J],Gt=bt[J],le={...ct,startMs:Gt.startMs,endMs:Gt.endMs,verifiedAudioMsec:Gt.durationMs,timingStatus:"verified"};(ct.startMs!==le.startMs||ct.endMs!==le.endMs||(ct.verifiedAudioMsec??0)!==le.verifiedAudioMsec||ct.timingStatus!=="verified")&&(await p.put(le),ot.push(le.id)),N[J]=le,Gt.durationMs>0&&(P+=1,H+=Math.max(0,Gt.durationMs))}let mt=v;if(T){const J=Math.max(0,Math.round(H)),ct={...T,timingStatus:"verified",durationMs:Math.max(T.durationMs,J),updatedAt:Date.now()};await y.put(ct),mt={...ct}}return await d.done,{sessionId:r,status:"verified",updatedChunkIds:ot,missingChunkIds:[],totalVerifiedDurationMs:Math.max(0,Math.round(H)),baseStartMs:ut,verifiedChunkCount:P,session:mt}}async reconcileDanglingSessions(){const m=(await ce()).transaction(["sessions","chunks"],"readwrite"),d=m.objectStore("sessions"),p=m.objectStore("chunks"),M=await d.getAll(),y=Date.now();for(const T of M){if(T.status!=="recording")continue;const b=await p.index("by-session").getAll(T.id);if(b.length===0)await d.put({...T,status:"error",notes:"No audio captured (session interrupted).",updatedAt:y,totalBytes:0,chunkCount:0,durationMs:0,timingStatus:T.timingStatus??Ze});else{const v=b.reduce((E,L)=>E+L.byteLength,0),N=Math.max(T.durationMs,Math.max(...b.map(E=>E.endMs))-T.startedAt);await d.put({...T,status:"ready",notes:T.notes,updatedAt:y,totalBytes:v,chunkCount:b.length,durationMs:N,timingStatus:T.timingStatus??Ze})}}await m.done}async getChunksForInspection(){const d=(await(await ce()).transaction("chunks").store.getAll()).sort((p,M)=>p.startMs!==M.startMs?M.startMs-p.startMs:p.seq!==M.seq?M.seq-p.seq:(M.createdAt??0)-(p.createdAt??0));return Promise.all(d.map(async({blob:p,...M})=>{let y=null;try{y=(await p.arrayBuffer()).byteLength}catch(T){console.warn("[Manifest] Failed to read chunk blob for inspection",T)}return{...M,timingStatus:M.timingStatus??Ze,blobSize:p.size,blobType:p.type,verifiedByteLength:y,sizeMismatch:y!==null&&y!==p.size,startIso:new Date(M.startMs).toISOString(),endIso:new Date(M.endMs).toISOString(),blob:"[binary omitted]"}}))}async createLogSession(){const m=(await ce()).transaction(["logSessions","logEntries"],"readwrite"),d=m.objectStore("logSessions"),M={id:crypto.randomUUID(),startedAt:Date.now()};await d.put(M);const y=await d.getAll();if(y.length>Rh){const b=y.sort((N,E)=>N.startedAt-E.startedAt).slice(0,y.length-Rh),v=m.objectStore("logEntries");for(const N of b){await d.delete(N.id);for(let E=await v.index("by-session").openCursor(N.id);E;E=await E.continue())await E.delete()}}return await m.done,M}async finishLogSession(r){const d=(await ce()).transaction("logSessions","readwrite").objectStore("logSessions"),p=await d.get(r);p&&(p.endedAt=Date.now(),await d.put(p))}async appendLogEntry(r){await(await ce()).transaction("logEntries","readwrite").objectStore("logEntries").add({...r})}async listLogSessions(){return(await(await ce()).transaction("logSessions").store.getAll()).sort((d,p)=>p.startedAt-d.startedAt)}async getLogEntries(r,m=250){const p=(await ce()).transaction("logEntries").store.index("by-session"),M=[];for(let y=await p.openCursor(r,"prev");y&&M.length<m;y=await y.continue())M.push(y.value);return M.sort((y,T)=>y.timestamp-T.timestamp)}}const vt=new cy,zh=120,mi=[];let kc=!1,sd=null,$a=null;async function ry(){return $a||($a=await vt.createLogSession(),await qt("Logger initialised")),fy(),$a}async function oy(){$a&&(await qt("Logger shutting down"),await vt.finishLogSession($a.id),$a=null),my()}async function Uc(o,r,m){if($a)try{await vt.appendLogEntry({sessionId:$a.id,timestamp:Date.now(),level:o,message:r,details:m})}catch(d){console.warn("[Logger] Failed to persist log entry",d)}}function Oh(o,r){return Uc("debug",o,r)}function qt(o,r){return Uc("info",o,r)}function mn(o,r){return Uc("warn",o,r)}function nn(o,r){return Uc("error",o,r)}function kh(){return $a}const dy=o=>{if(!o)return"unknown";if(o instanceof HTMLElement){let r=o.tagName.toLowerCase();o.id?r+=`#${o.id}`:o.classList.length>0&&(r+=`.${o.classList[0]}`);const m=o;return m.src?r+=` src=${m.src}`:m.href&&(r+=` href=${m.href}`),r}return o.constructor?.name??"unknown"},Jo=o=>{mi.push(o),mi.length>zh&&mi.splice(0,mi.length-zh)};function fy(){if(kc||typeof window>"u")return;kc=!0;const o=m=>{const d=Date.now();if(m instanceof ErrorEvent){Jo({timestamp:d,type:"error",message:m.message||"Uncaught error",stack:m.error instanceof Error?m.error.stack:void 0,filename:m.filename||void 0,lineno:m.lineno||void 0,colno:m.colno||void 0});return}Jo({timestamp:d,type:"resource",message:"Resource error",target:dy(m.target)})},r=m=>{const d=Date.now(),p=m.reason,M=p instanceof Error?p.message:String(p);Jo({timestamp:d,type:"unhandledrejection",message:M||"Unhandled promise rejection",stack:p instanceof Error?p.stack:void 0,reason:p instanceof Error?void 0:String(p)})};window.addEventListener("error",o,!0),window.addEventListener("unhandledrejection",r),sd=()=>{window.removeEventListener("error",o,!0),window.removeEventListener("unhandledrejection",r)}}function my(){kc&&(sd?.(),sd=null,kc=!1)}function hy(o){return Number.isFinite(o)?mi.filter(r=>r.timestamp>=o):[]}async function py(o,r={}){if(!o||!Number.isFinite(o)){await qt("Global error snapshot skipped (missing timestamp)",r);return}const m=hy(o),d={...r,since:o,capturedCount:m.length,bufferSize:mi.length,entries:m.slice(-20)};if(m.length===0){await qt("No global errors captured during recording start window",d);return}await mn("Global errors captured during recording start window",d)}const gy={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}},gu="audio/mpeg",_h=9e3,yy=o=>({id:o.id,label:o.label,enabled:o.enabled,muted:o.muted,readyState:o.readyState,settings:typeof o.getSettings=="function"?o.getSettings():void 0,constraints:typeof o.getConstraints=="function"?o.getConstraints():void 0}),Uh=o=>{if(!o)return null;const r=o.getAudioTracks();return{active:o.active,trackCount:r.length,tracks:r.map(m=>yy(m))}},Bh=o=>{if(!o)return null;const r="outputLatency"in o?o.outputLatency:null;return{state:o.state,sampleRate:o.sampleRate,baseLatency:Number.isFinite(o.baseLatency)?o.baseLatency:null,outputLatency:Number.isFinite(r)?r:null}},vy=o=>{const r=new Int16Array(o.length);for(let m=0;m<o.length;m+=1){const d=Math.max(-1,Math.min(1,o[m]));r[m]=d<0?Math.round(d*32768):Math.round(d*32767)}return r};class by{#t=null;#a=null;#n=null;#e=null;#i=null;#l=null;#f=0;#m=Promise.resolve();#r=0;#u=48e3;#g=64;#p=0;#h=0;#b=0;#M=0;#o=[];#c=0;#S=new Set;#s={sessionId:null,state:"idle",startedAt:null,lastChunkAt:null,capturedMs:0,bytesBuffered:0,mimeType:null,chunksRecorded:0};#y=null;#v=!1;get state(){return this.#s}#d(r){this.#s={...this.#s,...r},this.#S.forEach(m=>m(this.#s))}async start(r){if(this.#s.state==="recording"||this.#s.state==="starting")throw new Error("Recorder already running");this.#d({state:"starting",error:void 0,capturedMs:0}),await vt.init(),await qt("Requesting microphone stream");const m=await navigator.mediaDevices.getUserMedia(gy);await qt("Microphone stream acquired",{stream:Uh(m)});const d=window.AudioContext||window.webkitAudioContext;if(typeof d!="function")throw new Error("AudioContext unavailable");const p=new d;await p.resume().catch(()=>{});const M=p.createMediaStreamSource(m),y=p.createScriptProcessor(4096,1,1),T=p.createGain();T.gain.value=0,M.connect(y),y.connect(T),T.connect(p.destination),this.#t=m,this.#a=p,this.#n=M,this.#e=y,this.#i=T,this.#l=r.sessionId,this.#f=0,this.#o=[],this.#c=0,this.#h=0,this.#b=0,this.#r=Date.now(),this.#u=p.sampleRate,this.#g=Math.max(8,Math.round(r.targetBitrate/1e3)),this.#p=Math.max(1,Math.round(r.chunkDurationMs/1e3*this.#u)),this.#M=Math.max(1,Math.round(this.#u/10)),this.#v=!1,await qt("PCM capture started",{sessionId:r.sessionId,startedAt:this.#r,sampleRate:this.#u,chunkDurationMs:r.chunkDurationMs,mp3Kbps:this.#g,audioContext:Bh(p)}),await qg(),await vt.updateSession(r.sessionId,{startedAt:this.#r,updatedAt:this.#r,mimeType:gu,status:"recording"}),this.#d({state:"recording",sessionId:r.sessionId,startedAt:this.#r,lastChunkAt:this.#r,capturedMs:0,mimeType:gu,bytesBuffered:0,chunksRecorded:0}),y.onaudioprocess=b=>{if(!this.#l||this.#s.state!=="recording")return;this.#v=!0;const v=b.inputBuffer.getChannelData(0),N=vy(v);this.#o.push(N),this.#c+=N.length;const E=this.#h+this.#c;if(E-this.#b>=this.#M){this.#b=E;const L=Math.round(E/this.#u*1e3);this.#d({capturedMs:L})}this.#c>=this.#p&&this.#A().catch(L=>{console.error("[PCM Capture] chunk flush failed",L),this.#d({state:"error",error:L instanceof Error?L.message:String(L)}),nn("PCM chunk flush failed",{sessionId:this.#l,error:L instanceof Error?L.message:String(L)})})},this.#w()}async#A(){if(!this.#l||this.#c<this.#p)return;const r=this.#p,m=[];let d=r;for(;d>0&&this.#o.length>0;){const p=this.#o[0];p.length<=d?(m.push(p),this.#o.shift(),d-=p.length):(m.push(p.subarray(0,d)),this.#o[0]=p.subarray(d),d=0)}this.#c-=r,await this.#x(m)}async#T(){if(!this.#l||this.#c<=0)return;const r=this.#o;this.#o=[],this.#c=0,await this.#x(r)}async#x(r){if(!this.#l)return;const m=this.#l,d=this.#f++,p=Lg(),M=new p(1,this.#u,this.#g),y=[];let T=0;for(const $ of r){if($.length===0)continue;T+=$.length;const et=M.encodeBuffer($);if(et.length>0){const F=new Uint8Array(et.length);F.set(et),y.push(F)}}const b=M.flush();if(b.length>0){const $=new Uint8Array(b.length);$.set(b),y.push($)}const v=new Blob(y,{type:gu}),N=this.#r+Math.round(this.#h/this.#u*1e3),E=this.#r+Math.round((this.#h+T)/this.#u*1e3);this.#h+=T;const L=`${m}-chunk-${d}`;Oh("PCM chunk encoded",{sessionId:m,seq:d,sampleRate:this.#u,samples:T,durationMs:E-N,mp3Bytes:v.size,mp3Kbps:this.#g,chunkStartMs:N,chunkEndMs:E}),this.#m=this.#m.then(()=>vt.appendChunk({id:L,sessionId:m,seq:d,startMs:N,endMs:E,verifiedAudioMsec:null},v)).then(async()=>{this.#d({lastChunkAt:E,bytesBuffered:this.#s.bytesBuffered+v.size,chunksRecorded:this.#s.chunksRecorded+1}),await qt("Chunk persisted",{sessionId:m,seq:d,size:v.size,startMs:N,endMs:E,mimeType:gu});try{const $=await ep(v,{chunkId:L,sessionId:m,seq:d,chunkStartMs:N,chunkEndMs:E});await vt.storeChunkVolumeProfile($),Oh("Chunk volume profile stored",{sessionId:m,seq:d,frameCount:$.frames.length})}catch($){mn("Chunk volume profile failed",{sessionId:m,seq:d,error:$ instanceof Error?$.message:String($)})}})}async stop(){if(this.#s.state!=="recording")return;this.#d({state:"stopping"}),this.#E(),await this.#T(),await this.flushPending();const r=this.#l;let m;if(r){const d=await vt.getChunkMetadata(r),p=d.some(v=>v.byteLength>0&&v.endMs>v.startMs),M=p?"ready":"error",y=d.length>0?d[d.length-1].endMs-d[0].startMs:0,T=d.reduce((v,N)=>v+N.byteLength,0);p||(m=d.length===0?"Error: no audio captured. Check microphone access and try again.":"Error: captured audio contained no playable samples.",await nn("Session completed without playable audio",{sessionId:r,chunkCount:d.length,totalBytes:T,mimeType:gu}));const b={status:M,updatedAt:Date.now(),durationMs:y,totalBytes:T,chunkCount:d.length};m&&(b.notes=m),await vt.updateSession(r,b),await qt("Session timing reconciled",{sessionId:r,status:M,durationMs:y,totalBytes:T,chunkCount:d.length,hasPlayableChunk:p})}this.#C(),this.#l=null,this.#d({state:"idle",sessionId:null,startedAt:null,lastChunkAt:null,capturedMs:0,mimeType:null,chunksRecorded:0,bytesBuffered:0,error:m})}async flushPending(){await this.#m}attachAnalysisPort(r){}#C(){if(this.#e){this.#e.onaudioprocess=null;try{this.#e.disconnect()}catch{}this.#e=null}if(this.#n){try{this.#n.disconnect()}catch{}this.#n=null}if(this.#i){try{this.#i.disconnect()}catch{}this.#i=null}this.#a&&(this.#a.close().catch(()=>{}),this.#a=null),this.#t&&(this.#t.getTracks().forEach(r=>r.stop()),this.#t=null)}#w(){this.#E(),this.#y=window.setTimeout(()=>{!this.#v&&this.#s.state==="recording"&&(this.#d({error:"No audio detected  recording may be muted."}),mn("No PCM audio callback detected within timeout",{sessionId:this.#l,timeoutMs:_h,diagnostics:this.getDiagnostics()}))},_h)}#E(){this.#y!==null&&(window.clearTimeout(this.#y),this.#y=null)}getDiagnostics(){const r=this.#e,m=!!(this.#n||this.#e||this.#i);return{sessionId:this.#l,state:this.#s.state,startedAt:this.#s.startedAt,audioContext:Bh(this.#a),stream:Uh(this.#t),audioGraph:m?{hasSource:!!this.#n,hasProcessor:!!this.#e,hasMuteGain:!!this.#i,processorBufferSize:typeof r?.bufferSize=="number"?r.bufferSize:null,channelCount:typeof r?.channelCount=="number"?r.channelCount:null,channelCountMode:r?.channelCountMode??null,channelInterpretation:r?.channelInterpretation??null}:null,processing:{hasSeenAudioProcess:this.#v,pendingSamples:this.#c,totalSamplesWritten:this.#h,chunkTargetSamples:this.#p,sampleRate:this.#u}}}subscribe(r){return this.#S.add(r),r(this.#s),()=>this.#S.delete(r)}}const ys=new by,rn={desiredActive:!1,sentinel:null,pending:!1,supportLogged:!1,listenersAttached:!1},Io=()=>typeof document>"u"?"unknown":document.visibilityState??"unknown",Sy=()=>{if(typeof navigator>"u")return null;const o=navigator.wakeLock;return!o||typeof o.request!="function"?null:o},dd=async o=>{if(!rn.desiredActive||rn.pending||rn.sentinel)return;const r=Sy();if(!r){rn.supportLogged||(rn.supportLogged=!0,await mn("Wake Lock API unavailable; screen may sleep during recording",{reason:o,userAgent:typeof navigator<"u"?navigator.userAgent:"unknown"}));return}if(typeof document<"u"&&document.visibilityState!=="visible"){await qt("Wake lock request deferred until page is visible",{reason:o,visibility:Io()});return}rn.pending=!0;try{const m=await r.request("screen");rn.sentinel=m,m.addEventListener("release",()=>{rn.sentinel=null,rn.desiredActive&&(mn("Wake lock released unexpectedly; retrying",{visibility:Io()}),dd("released"))}),await qt("Wake lock acquired for recording",{reason:o})}catch(m){await mn("Wake lock request failed",{reason:o,visibility:Io(),error:m instanceof Error?m.message:String(m)})}finally{rn.pending=!1}},My=async o=>{const r=rn.sentinel;if(r){rn.sentinel=null;try{r.released||await r.release(),await qt("Wake lock released after recording",{reason:o})}catch(m){await mn("Wake lock release failed",{reason:o,error:m instanceof Error?m.message:String(m)})}}},xy=()=>{rn.listenersAttached||typeof document>"u"||(rn.listenersAttached=!0,document.addEventListener("visibilitychange",()=>{rn.desiredActive&&document.visibilityState==="visible"&&dd("visibilitychange")}))},zc=async(o,r)=>{if(rn.desiredActive=o,o){await dd(r);return}await My(r)},yu=o=>{if(!Number.isFinite(o)||o<=0)return"0.0s";const r=o/1e3;if(r<10)return`${r.toFixed(1)}s`;if(r<60)return`${r.toFixed(0)}s`;const m=Math.floor(r/60),d=r%60;return`${m}m ${d.toFixed(0).padStart(2,"0")}s`},Ey=10,Ay=75e3,qh=720,Lh=12,Ty=.75,Cy=.1,Hh=3,Gh=7,Yh=(o,r=Ey)=>{if(!Number.isFinite(o)||o<=0)return 0;const m=Math.min(1,Math.max(0,o)),d=Math.log10(1+(r-1)*m),p=Math.log10(r);if(!Number.isFinite(d)||!Number.isFinite(p)||p===0)return m;const M=d/p;return Math.min(1,Math.max(0,M))},wy=1,Dy=(o,r,m,d,p)=>{if(o.length===0||r<=0||d<=0)return[];const M=[...o].sort((E,L)=>E.startMs!==L.startMs?E.startMs-L.startMs:E.endMs!==L.endMs?E.endMs-L.endMs:E.index-L.index),y=[];let T=[],b=0,v=-1/0;const N=()=>{T.length>1&&(T.push(`L ${b.toFixed(2)} ${m}`),T.push("Z"),y.push(T.join(" "))),T=[]};return M.forEach((E,L)=>{const $=(E.startMs+E.endMs)/2,et=Math.min(d,Math.max(0,E.startMs/r*d)),F=Math.min(d,Math.max(0,E.endMs/r*d)),Et=Math.min(d,Math.max(0,$/r*d)),ut=p(E.normalized),bt=Math.max(0,Math.min(m,(1-ut)*m));(T.length===0||$+wy<v)&&(N(),T=[`M ${et.toFixed(2)} ${m}`]),T.push(`L ${Et.toFixed(2)} ${bt.toFixed(2)}`),b=Math.max(F,b),v=$,L===M.length-1&&N()}),T.length>0&&N(),y},Ny=(o,r,m)=>o.map(d=>{const p=d.startMs/r*m,M=(d.endMs-d.startMs)/r*m;return{x:p,rectWidth:M}}),jy=(o,r,m)=>o.map(d=>({x:d.positionMs/r*m})),Ry=o=>o.map(r=>({id:r.index,label:r.breakReason==="end"?"Tail":`Segment #${r.index+1}`,durationMs:r.durationMs,startMs:r.startMs,endMs:r.endMs,breakReason:r.breakReason})),zy=({analysis:o,targetRange:r,playback:m})=>{const d=D.useRef(null),p=D.useRef(null),[M,y]=D.useState(!1),[T,b]=D.useState(!1),[v,N]=D.useState(!1),E=120,L=o.stats.totalDurationMs,$=L>0?L:o.stats.frameCount*o.stats.frameDurationMs,et=typeof window<"u"?Math.min(960,Math.max(qh,Math.floor(window.innerWidth*.8))):qh,F=$>0?Math.max(et,Math.round($/Ay*et)):et,Et=D.useId(),ut=m?.positionMs??null,bt=$>0&&F>0,ot=ut===null||!bt?null:Math.min(Math.max(ut,0),$),H=ot===null||!bt?null:ot/$,P=H===null?null:H*F,mt=D.useMemo(()=>{if(P===null||!bt)return null;const I=Math.min(F,Math.max(0,P)),lt=S=>Math.max(0,Math.min(Math.max(F-S,0),I-S/2));return{center:I,mainX:lt(Hh),mainWidth:Hh,glowX:lt(Gh),glowWidth:Gh}},[bt,P,F]),J=!!m?.isPlaying,ct=D.useCallback(()=>{const I=d.current;if(!I){b(!1),N(!1);return}const{scrollLeft:lt,clientWidth:S,scrollWidth:_}=I;b(lt>Lh),N(lt+S<_-Lh)},[]),Gt=D.useCallback(I=>{M&&I.preventDefault(),ct()},[M,ct]),le=D.useCallback(I=>{const lt=d.current;lt&&(lt.setPointerCapture(I.pointerId),p.current={pointerId:I.pointerId,startX:I.clientX,scrollLeft:lt.scrollLeft},y(!0))},[]),Ft=D.useCallback(I=>{const lt=d.current,S=p.current;if(!lt||!S||S.pointerId!==I.pointerId)return;I.preventDefault();const _=I.clientX-S.startX;lt.scrollLeft=S.scrollLeft-_,ct()},[ct]),Wt=D.useCallback(I=>{const lt=d.current,S=p.current;!lt||!S||S.pointerId!==I.pointerId||(lt.releasePointerCapture(I.pointerId),p.current=null,y(!1),ct())},[ct]);D.useEffect(()=>{ct()},[F,ct]),D.useEffect(()=>{const I=d.current;if(!I||mt===null||M||!J)return;const lt=I.clientWidth;if(lt<=0)return;const S=Math.max(0,I.scrollWidth-lt);if(S<=0)return;const _=I.scrollLeft,tt=_,at=_+lt,yt=lt*Ty,wt=lt*Cy;let At=null;mt.center>=tt+yt?At=Math.min(S,mt.center-yt):mt.center<=tt?At=Math.max(0,mt.center-wt):mt.center>=at&&(At=Math.min(S,mt.center-yt)),At!==null&&Math.abs(At-_)>.5&&(typeof I.scrollTo=="function"?I.scrollTo({left:At,behavior:"smooth"}):I.scrollLeft=At,typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(()=>{ct()}):ct())},[M,J,mt,ct]);const on=D.useMemo(()=>Dy(o.frames,$,E,F,Yh),[o.frames,$,E,F]),ze=D.useMemo(()=>Ny(o.quietRegions,$,F),[o.quietRegions,$,F]),we=D.useMemo(()=>jy(o.boundaries,$,F),[o.boundaries,$,F]),A=D.useMemo(()=>Ry(o.segments),[o.segments]),Y=(1-Yh(o.stats.normalizedThreshold))*E,W=["chunking-graph-scroll",M?"is-dragging":"",T?"show-left-indicator":"",v?"show-right-indicator":""].filter(Boolean).join(" ");return f.jsxs("div",{className:"chunking-graph",children:[f.jsxs("header",{className:"chunking-graph-header",children:[f.jsx("h4",{children:"Volume histogram"}),f.jsxs("div",{className:"chunking-graph-meta",children:[f.jsxs("span",{children:["Frames: ",o.stats.frameCount]}),f.jsxs("span",{children:["Duration: ",yu($)]})]})]}),f.jsxs("div",{className:"chunking-graph-body",children:[f.jsx("div",{className:W,ref:d,onScroll:Gt,onPointerDown:le,onPointerMove:Ft,onPointerUp:Wt,onPointerCancel:Wt,onPointerLeave:I=>{M&&Wt(I)},children:f.jsxs("svg",{className:"chunking-graph-svg",role:"img",viewBox:`0 0 ${F} ${E}`,width:F,height:E,"aria-label":"Volume histogram with proposed chunk boundaries",preserveAspectRatio:"none",children:[f.jsx("rect",{x:0,y:0,width:F,height:E,fill:"rgba(15, 23, 42, 0.85)"}),ze.map((I,lt)=>f.jsx("rect",{x:I.x,y:0,width:Math.max(1.5,I.rectWidth),height:E,fill:"rgba(56, 189, 248, 0.12)"},`quiet-${lt}`)),on.map((I,lt)=>f.jsx("path",{d:I,fill:`url(#${Et})`,stroke:"rgba(94, 234, 212, 0.48)",strokeWidth:1},`histogram-${lt}`)),mt?f.jsxs("g",{className:"chunking-playback-indicator","aria-hidden":"true",children:[f.jsx("rect",{x:mt.glowX,y:0,width:mt.glowWidth,height:E,fill:"rgba(34, 197, 94, 0.28)"}),f.jsx("rect",{x:mt.mainX,y:0,width:mt.mainWidth,height:E,fill:"rgba(34, 197, 94, 0.95)"})]}):null,f.jsx("line",{x1:0,y1:Y,x2:F,y2:Y,strokeDasharray:"6 6",stroke:"rgba(250, 204, 21, 0.9)",strokeWidth:1}),we.map((I,lt)=>f.jsxs("g",{children:[f.jsx("rect",{x:I.x-2,y:0,width:4,height:E,fill:"rgba(251, 146, 60, 0.24)"}),f.jsx("line",{x1:I.x,y1:0,x2:I.x,y2:E,stroke:"#facc15",strokeWidth:1.5})]},`boundary-${lt}`)),f.jsx("defs",{children:f.jsxs("linearGradient",{id:Et,x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"rgba(94, 234, 212, 0.55)"}),f.jsx("stop",{offset:"100%",stopColor:"rgba(56, 189, 248, 0.15)"})]})})]})}),r?f.jsxs("div",{className:"chunking-target-hint",children:["Target chunk length: ",yu(r.minMs),"  ",yu(r.maxMs)," (ideal"," ",yu(r.idealMs),")"]}):null,f.jsxs("dl",{className:"chunking-stats",children:[f.jsxs("div",{children:[f.jsx("dt",{children:"Noise floor"}),f.jsx("dd",{children:o.stats.noiseFloor.toFixed(5)})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Silence threshold"}),f.jsx("dd",{children:o.stats.threshold.toFixed(5)})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Peak RMS"}),f.jsx("dd",{children:o.stats.maxRms.toFixed(5)})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Quiet regions"}),f.jsx("dd",{children:o.quietRegions.length})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Proposed breaks"}),f.jsx("dd",{children:o.boundaries.length})]})]})]}),f.jsxs("div",{className:"chunking-chunk-list",children:[f.jsx("h5",{children:"Proposed chunks"}),A.length===0?f.jsx("p",{className:"chunking-empty",children:"No proposed breaks yet. Recording may be too short or lacks silence."}):f.jsx("ul",{children:A.map(I=>f.jsxs("li",{children:[f.jsx("span",{className:"chunking-chunk-label",children:I.label}),f.jsx("span",{children:yu(I.durationMs)})]},I.id))})]})]})},Oy=D.memo(zy),ky=/mp4|m4a/i,_y=3;class id{#t;#a=!1;#n=new Map;#e=new Map;constructor(r=vt){this.#t=r}async#i(){this.#a||(await this.#t.init(),this.#a=!0)}async ensureTimings(r){await this.#i();const m=this.#n.get(r);if(m)return m;const d=this.#t.verifySessionChunkTimings(r).then(p=>(this.#n.delete(r),p)).catch(p=>{throw this.#n.delete(r),p});return this.#n.set(r,d),d}async prepareAnalysisForSession(r){const{session:m,forceRefresh:d=!1}=r;await this.#i();let p=await this.ensureTimings(m.id);p.status!=="verified"&&p.missingChunkIds.length>0&&(await this.#f(m,p.missingChunkIds,r.mimeTypeHint),p=await this.ensureTimings(m.id));const y=(await this.#t.listChunkVolumeProfiles(m.id)).filter(P=>P.sessionId===m.id&&P.seq>=0).sort((P,mt)=>P.seq-mt.seq),T=y.reduce((P,mt)=>Math.max(P,mt.updatedAt??mt.createdAt??0),0),b=[`timeline-v${_y}`,m.id,m.chunkCount,m.updatedAt??0,p.totalVerifiedDurationMs,p.status,T].join(":");if(!d){const P=this.#e.get(m.id);if(P&&P.cacheKey===b)return{sessionId:m.id,cacheKey:b,analysis:P.analysis,verification:p,frames:P.frames}}const v=await this.#t.getChunkMetadata(m.id),N=/mp4|m4a/i.test(m.mimeType??r.mimeTypeHint??""),E=[...v].filter(P=>P.seq>=0).sort((P,mt)=>P.seq-mt.seq).filter(P=>!N||P.seq!==0?!0:!(Math.max(0,P.endMs-P.startMs)<=10||P.byteLength<4096)),L=new Map;E.forEach(P=>{const mt=typeof P.verifiedAudioMsec=="number"&&P.verifiedAudioMsec>0?Math.round(P.verifiedAudioMsec):0,J=Math.max(0,Math.round(P.endMs-P.startMs)),ct=mt>0?mt:J;L.set(P.seq,ct)});const $=typeof p.totalVerifiedDurationMs=="number"&&p.totalVerifiedDurationMs>0?Math.round(p.totalVerifiedDurationMs):E.reduce((P,mt)=>P+Math.max(0,Math.round(mt.endMs-mt.startMs)),0),et=new Map;y.forEach(P=>{et.set(P.seq,P)});const F=p.baseStartMs??m.startedAt,{frames:Et,sampleRate:ut,frameDurationMs:bt,totalDurationMs:ot}=this.#l({orderedChunkSeq:E.map(P=>P.seq),profilesBySeq:et,durationsBySeq:L,durationLimitMs:$,baseStartMs:F}),H=Et.length>0?tp(Et,{totalDurationMs:ot,sampleRate:ut,frameDurationMs:bt}):null;return H?this.#e.set(m.id,{cacheKey:b,analysis:H,frames:Et}):this.#e.delete(m.id),{sessionId:m.id,cacheKey:b,analysis:H,verification:p,frames:Et}}#l({orderedChunkSeq:r,profilesBySeq:m,durationsBySeq:d,durationLimitMs:p,baseStartMs:M}){let y=0;const T=[];let b=0,v=0,N=hi.frameDurationMs;return r.forEach(E=>{const L=m.get(E)??null,$=L&&Array.isArray(L.frames)?L.frames:[],et=L&&L.frameDurationMs>0?L.frameDurationMs:hi.frameDurationMs,F=d.get(E)??0,Et=Math.max(0,Math.round((L?.durationMs??0)||$.length*et)),ut=F>0?F:Et;if(p>0&&y>=p)return;const bt=y,ot=p>0?Math.max(0,Math.min(ut,p-y)):ut,H=ot>0?Math.ceil(ot/et):$.length;let P=$;if(L&&$.length>0&&F>0){const J=Math.max(0,L.durationMs??$.length*et),ct=Math.max(0,Math.round(L.chunkStartMs-M)),Gt=Math.max(ct,Math.round(L.chunkEndMs-M));if(J>F*1.5&&J>Gt*.8){const Ft=Math.max(0,Math.floor(ct/et)),Wt=Math.min($.length,Math.ceil(Gt/et));P=$.slice(Ft,Math.max(Ft,Wt))}}const mt=Math.max(0,Math.min(P.length,H));for(let J=0;J<mt;J+=1){const ct=P[J],Gt=Number.isFinite(ct)?Math.max(0,ct):0,le=bt+J*et,Ft=Math.min(bt+ot,le+et);T.push({index:b,startMs:le,endMs:Ft,rms:Gt,normalized:Gt}),b+=1}for(let J=mt;J<H;J+=1){const ct=bt+J*et,Gt=Math.min(bt+ot,ct+et);if(Gt<=ct)break;T.push({index:b,startMs:ct,endMs:Gt,rms:0,normalized:0}),b+=1}y+=ot,N=et,v===0&&L&&L.sampleRate>0&&(v=L.sampleRate)}),{frames:T,sampleRate:v,frameDurationMs:N,totalDurationMs:p>0?Math.min(y,p):y}}async#f(r,m,d){if(m.length===0)return;const p=await this.#t.getChunkData(r.id);if(p.length===0)return;const y=(p.find(v=>v.seq===0)??null)?.blob??null,T=y?.type??r.mimeType??d??"audio/mp4",b=p.filter(v=>v.seq>0&&v.blob.size>0&&m.includes(v.id));for(const v of b)try{let N=v.blob;y&&ky.test(T)&&(N=new Blob([y,v.blob],{type:y.type||v.blob.type||T}));const E=await ep(N,{chunkId:v.id,sessionId:r.id,seq:v.seq,chunkStartMs:v.startMs,chunkEndMs:v.endMs});await this.#t.storeChunkVolumeProfile(E)}catch(N){console.warn("[SessionAnalysisProvider] Failed to regenerate chunk volume profile",{sessionId:r.id,chunkId:v.id,error:N})}}}const Vh=/mp4|m4a/i,Uy=15e3,Oc=(o,r,m)=>{for(let d=0;d<m.length;d+=1)o.setUint8(r+d,m.charCodeAt(d))},By=(o,r)=>{const M=r*2,y=o.length*2,T=new ArrayBuffer(44+y),b=new DataView(T);Oc(b,0,"RIFF"),b.setUint32(4,36+y,!0),Oc(b,8,"WAVE"),Oc(b,12,"fmt "),b.setUint32(16,16,!0),b.setUint16(20,1,!0),b.setUint16(22,1,!0),b.setUint32(24,r,!0),b.setUint32(28,M,!0),b.setUint16(32,2,!0),b.setUint16(34,16,!0),Oc(b,36,"data"),b.setUint32(40,y,!0);let v=44;for(let N=0;N<o.length;N+=1){const E=Math.max(-1,Math.min(1,o[N])),L=E<0?Math.round(E*32768):Math.round(E*32767);b.setInt16(v,L,!0),v+=2}return new Blob([T],{type:"audio/wav"})},Xh=(o,r,m)=>{const d=o.sampleRate,p=Math.max(0,Math.floor(r/1e3*d)),M=Math.min(o.length,Math.ceil(m/1e3*d)),y=Math.max(0,M-p);if(y===0)return{samples:new Float32Array(0),sampleRate:d,durationMs:0,startMs:r,endMs:r};if(o.numberOfChannels===1){const v=o.getChannelData(0).slice(p,M),N=v.length/d*1e3;return{samples:v,sampleRate:d,durationMs:N,startMs:r,endMs:r+N}}const T=new Float32Array(y);for(let v=0;v<o.numberOfChannels;v+=1){const N=o.getChannelData(v);for(let E=0;E<y;E+=1)T[E]+=N[p+E]/o.numberOfChannels}const b=T.length/d*1e3;return{samples:T,sampleRate:d,durationMs:b,startMs:r,endMs:r+b}};class qy{#t;#a;#n=null;constructor(r=vt,m){this.#t=r,this.#a=m??new id(r)}async#e(){await this.#t.init()}async listChunks(r){return await this.#e(),await this.#t.getChunkData(r)}async listSnips(r,m){await this.#e();const d=await this.#t.listSnips(r.id),p=d.length>0?d[d.length-1].endMs:0,M=Math.max(0,r.durationMs??0),y=r.status==="recording",T=y?Uy:0,b=y?hi.minSegmentMs+T:0,v=Math.max(0,M-p);if(!(d.length===0||(y?v>=b:M>0&&p<Math.max(0,M-1e3))))return d;const E=await this.#a.prepareAnalysisForSession({session:r,mimeTypeHint:m??r.mimeType??null,forceRefresh:y}),L=E.analysis?.stats.totalDurationMs??E.frames[E.frames.length-1]?.endMs??0;if(L<=p+200)return d;const $=Math.min(Math.max(0,p),L),et=L,F=Math.max(0,et-$);if(F<=0||y&&F<b)return d;const ut=Zg({frames:E.frames,windowStartMs:$,windowEndMs:et,sampleRate:E.analysis?.stats.sampleRate??0,frameDurationMs:E.analysis?.stats.frameDurationMs??hi.frameDurationMs}).analysis?.segments??[];if(ut.length===0)return d;const bt=y?Math.max(0,F-T):F,ot=d.reduce((P,mt)=>Math.max(P,mt.index),-1)+1,H=[];return ut.forEach(P=>{P.endMs<=0||P.endMs>bt||H.push({index:ot+H.length,startMs:$+P.startMs,endMs:$+P.endMs,durationMs:P.durationMs,breakReason:P.breakReason,boundaryIndex:P.boundaryIndex})}),H.length===0?d:await this.#t.appendSnips(r.id,H)}async getChunkAudio(r,m){await this.#e();const d=await this.#t.getChunkData(r.id),p=d.find(F=>F.seq===m)??null;if(!p)return null;const M=d.find(F=>F.seq===0)??null,y=p.blob.type||r.mimeType||"audio/mpeg",b=M&&M.id!==p.id&&Vh.test(y)?new Blob([M.blob,p.blob],{type:y}):p.blob,v=p.startMs,N=p.endMs,E=Math.max(0,N-v),L=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-"),$=String(m+1).padStart(2,"0"),et=/mpeg/i.test(y)?"mp3":/webm/i.test(y)?"webm":/mp4|m4a/i.test(y)?"mp4":"bin";return{kind:"chunk",sessionId:r.id,startMs:v,endMs:N,durationMs:E,mimeType:b.type||y,blob:b,suggestedFilename:`${L}_chunk-${$}.${et}`}}async#i(){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");return this.#n?this.#n:(this.#n=new AudioContext,this.#n)}async#l(r){await this.#e();const m=await this.#t.getChunkData(r.id),d=r.mimeType??"",M=/mp4|m4a/i.test(d)?m.find(E=>E.seq===0&&(E.endMs-E.startMs<=10||E.byteLength<4096))??null:null,y=m.filter(E=>!M||E.id!==M.id).sort((E,L)=>E.seq-L.seq),T=M?.startMs??(y.length>0?y[0].startMs:r.startedAt??Date.now()),b=Number.isFinite(T)?Math.round(T):Date.now(),v=b>1e12,N=y.map(E=>{const L=v?E.startMs-b:E.startMs,$=v?E.endMs-b:E.endMs;return{...E,startOffsetMs:Math.max(0,L),endOffsetMs:Math.max(0,$)}});return{baseStartMs:b,headerChunk:M,playable:N}}async#f(r,m,d){const p=m.blob.type||r.mimeType||"audio/mp4",M=d&&d.id!==m.id&&Vh.test(p),y=M?new Blob([d.blob,m.blob],{type:p}):m.blob,T=await this.#i();try{const b=await y.arrayBuffer();return await T.decodeAudioData(b.slice(0))}catch(b){const v=b instanceof Error?b.message:String(b),N=[`session=${r.id}`,`chunk=${m.id}`,`seq=${m.seq}`,`bytes=${y.size}`,`mime=${p}`,M?"init=1":"init=0"].join(" ");throw new Error(`Failed to decode chunk audio (${N})${v?`: ${v}`:""}`)}}async#m(r,m,d){const p=Math.max(0,m),M=Math.max(p,d),{headerChunk:y,playable:T}=await this.#l(r);if(T.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const b=T.filter(ut=>ut.startOffsetMs<M&&ut.endOffsetMs>p).sort((ut,bt)=>ut.seq-bt.seq);if(b.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const v=[];for(const ut of b){const bt=await this.#f(r,ut,y),ot=Math.max(0,bt.duration*1e3),H=Math.max(0,ut.endOffsetMs-ut.startOffsetMs),P=H>0&&ot>H*1.5&&ot>ut.endOffsetMs*.8;v.push({chunk:ut,buffer:bt,bufferDurationMs:ot,expectedChunkDurationMs:H,isCumulative:P})}if(v.some(ut=>ut.isCumulative)){const ut=v.find(H=>H.bufferDurationMs>=M-10)??v[v.length-1],bt=ut.buffer.sampleRate,ot=Xh(ut.buffer,p,M);return{samples:ot.samples,sampleRate:bt,durationMs:ot.durationMs,startMs:p,endMs:p+ot.durationMs}}const E=[];let L=0,$=0;for(const ut of v){const bt=ut.chunk,ot=ut.buffer;$===0&&($=ot.sampleRate);const H=ot.duration*1e3,P=Math.max(0,p-bt.startOffsetMs),mt=Math.min(H,M-bt.startOffsetMs);if(mt<=P)continue;const J=Xh(ot,P,mt);E.push(J.samples),L+=J.samples.length}if($===0||L===0)return{samples:new Float32Array(0),sampleRate:$,durationMs:0,startMs:p,endMs:p};const et=new Float32Array(L);let F=0;E.forEach(ut=>{et.set(ut,F),F+=ut.length});const Et=et.length/$*1e3;return{samples:et,sampleRate:$,durationMs:Et,startMs:p,endMs:p+Et}}async getRangeAudio(r,m,d,p){const M=await this.#m(r,m,d),y=By(M.samples,M.sampleRate),T=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-");return{kind:"snip",sessionId:r.id,startMs:M.startMs,endMs:M.endMs,durationMs:M.durationMs,mimeType:y.type,blob:y,suggestedFilename:`${T}_snip-${Math.round(M.startMs)}-${Math.round(M.endMs)}.wav`}}async inspectRange(r,m,d,p){const M=await this.#m(r,m,d),{samples:y,sampleRate:T}=M,b=y.length;let v=0,N=0;for(let L=0;L<b;L+=1){const $=y[L];v+=$*$;const et=Math.abs($);et>N&&(N=et)}const E=b>0?Math.sqrt(v/b):0;return{startMs:M.startMs,endMs:M.endMs,durationMs:M.durationMs,sampleRate:T,sampleCount:b,rms:E,peak:N}}async getSnipAudio(r,m,d){const p=await this.listSnips(r,d),M=m-1,y=p[M];return y?await this.getRangeAudio(r,y.startMs,y.endMs,d):null}clearSession(r){}}const En=new qy,Ly=1024*1024,Hy={pauseSensitivity:.5,minPauseMs:400,maxPauseMs:2600,windowMs:3e4,overlapMs:800,targetBitrate:64e3,groqApiKey:"",transcriptionOnboardingDismissed:!1,developerMode:!1,storageLimitBytes:200*Ly},lp="durable-recorder-settings";function ud(o){const r={...Hy,...o};return o&&typeof o.transcriptionOnboardingDismissed=="boolean"||(r.transcriptionOnboardingDismissed=!1),r}function Gy(){if(typeof window>"u")return null;const o=window.localStorage.getItem(lp);if(!o)return null;try{const r=JSON.parse(o);return r?ud(r):null}catch(r){return console.warn("[SettingsStore] Failed to parse settings",r),null}}function Yy(o){typeof window>"u"||window.localStorage.setItem(lp,JSON.stringify(o))}class Vy{#t;#a=new Set;constructor(){this.#t=Gy()??ud(null)}async get(){return this.#t}async set(r){return this.#t=ud({...this.#t,...r}),Yy(this.#t),this.#a.forEach(m=>m(this.#t)),this.#t}subscribe(r){return this.#a.add(r),r(this.#t),()=>this.#a.delete(r)}}const oi=new Vy,Xy="https://api.groq.com/openai/v1/audio/transcriptions",Qy="https://api.groq.com/openai/v1/models",Qh="whisper-large-v3-turbo",Fo=(o,r)=>{const m=(r??"").trim();return m?[Number.isFinite(o)?Math.max(0,(o??0)*1e3):0,m]:null},Zy=o=>{const r=[];if(Array.isArray(o.segments)&&o.segments.forEach(m=>{const d=Fo(m.start,m.text);d&&r.push(d)}),r.length===0&&Array.isArray(o.words)&&o.words.length>0){const m=o.words.map(d=>(d.word??d.text??"").trim()).filter(d=>d.length>0).join(" ").trim();if(m){const d=o.words.find(M=>Number.isFinite(M.start))?.start,p=Fo(d,m);p&&r.push(p)}}if(r.length===0&&typeof o.text=="string"){const m=Fo(0,o.text);m&&r.push(m)}return r},Ky=async o=>{const r=o.trim();if(!r)return{ok:!1,message:"Groq API key missing."};const m=await fetch(Qy,{method:"GET",headers:{Authorization:`Bearer ${r}`}});if(m.ok)return{ok:!0,status:m.status};let d=`Groq key validation failed (${m.status})`;try{const p=await m.json();p?.error?.message&&(d=p.error.message)}catch{}return{ok:!1,status:m.status,message:d}};class $y{async enqueue(r){throw console.info("[GroqTranscriptionService] enqueue",r.jobId),new Error("Queued transcription is not yet implemented.")}async cancel(r){console.info("[GroqTranscriptionService] cancel",r)}refreshSettings(){console.info("[GroqTranscriptionService] refreshSettings noop")}async transcribeAudio(r){const m=r.apiKey.trim();if(!m)throw new Error("Groq API key is missing. Add it in Settings to start transcription.");const d=`snip-${Date.now()}.wav`,p=r.audio instanceof File?r.audio:new File([r.audio],d,{type:r.audio.type||"audio/wav"}),M=new FormData;M.append("file",p),M.append("model",r.model??Qh),M.append("response_format","verbose_json"),M.append("timestamp_granularities[]","word"),r.temperature!==void 0&&M.append("temperature",String(r.temperature)),r.language&&M.append("language",r.language);const y=await fetch(Xy,{method:"POST",headers:{Authorization:`Bearer ${m}`},body:M}),T=await y.text();if(!y.ok){let E=`Groq transcription failed (${y.status})`;try{const L=JSON.parse(T);L?.error?.message&&(E=L.error.message)}catch{T&&(E=`${E}: ${T}`)}throw new Error(E)}const b=JSON.parse(T),v=Zy(b);return{text:typeof b.text=="string"?b.text.trim():v.map(E=>E[1]).join(" ").trim(),segments:v,model:r.model??Qh,language:b.language??r.language??null}}}const Jy=new $y,Iy={recording:{label:"Recording",pillClass:"pill-progress"},transcribing:{label:"Transcribing",pillClass:"pill-progress"},ready:{label:"Ready",pillClass:"pill-synced"},partial:{label:"Part TX",pillClass:"pill-attention"},untranscribed:{label:"TX failed",pillClass:"pill-attention"},error:{label:"Error",pillClass:"pill-attention"}},cd=1024*1024,Zh=200*cd,Kh="whisper-large-v3-turbo",$h=180,Fy=3e3,Wy=60,Jh=12e4,fi=[3e3,5e3,1e4],Ih=fi.length,Fh=12e4,Wh="Audio was purged to stay under the storage cap. Transcription retries are disabled.",Wo="https://console.groq.com/keys",Py="https://groq.com/pricing",rd=o=>new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit"}).format(new Date(o)),sp=o=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(new Date(o)),t0=o=>{const r=Math.max(0,Math.round(o/1e3)),m=Math.floor(r/60),d=r%60,p=Math.floor(m/60),M=m%60;return p>0?`${p}h ${M.toString().padStart(2,"0")}m`:`${M}m ${d.toString().padStart(2,"0")}s`},vs=o=>{if(!Number.isFinite(o)||o<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let m=o,d=0;for(;m>=1024&&d<r.length-1;)m/=1024,d+=1;return`${new Intl.NumberFormat(void 0,{maximumSignificantDigits:4,minimumSignificantDigits:1}).format(m)} ${r[d]}`},e0=o=>{if(!Number.isFinite(o)||o<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let m=o,d=0;for(;m>=1024&&d<r.length-1;)m/=1024,d+=1;return`${Math.round(m)} ${r[d]}`},n0=(o,r)=>{const m=Number.isFinite(r)&&r>0?r:0,d=o+m,p=new Date(o),M=new Date(d);return p.toDateString()!==M.toDateString()?`${sp(d)} ${rd(d)}`:rd(d)},a0=o=>{const r=Math.max(0,Math.round(o/1e3)),m=Math.floor(r/3600),d=Math.floor(r%3600/60),p=r%60;return m>0?`${m}:${d.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`:d>0?`${d}:${p.toString().padStart(2,"0")}`:`0:${p.toString().padStart(2,"0")}`},l0=o=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(o)),di=o=>{if(!Number.isFinite(o))return"0:00";const r=Math.max(0,o),m=Math.floor(r/60),d=Math.floor(r%60);return`${m}:${d.toString().padStart(2,"0")}`},s0=(o,r)=>{const m=o.trim();if(!m)return"";const d=m.split(/\s+/);return d.length<=r?m:d.slice(-r).join(" ")},ip={hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},i0=(()=>{try{return new Intl.DateTimeFormat(void 0,{...ip,fractionalSecondDigits:2})}catch{return null}})(),u0=new Intl.DateTimeFormat(void 0,ip),c0=o=>(i0??u0).format(new Date(o)),Ka=o=>{const r=o.transcription?.text?.trim()??"";if(r)return r;const m=o.transcription?.segments??[];return m.length===0?"":m.map(d=>d[1]).join(" ").trim()},Ph=o=>{const r=o.map(m=>Ka(m)).filter(m=>m.length>0).join(" ").trim();return r?r.length<=$h?r:`${r.slice(0,$h).trimEnd()}...`:""},Po=o=>new Promise(r=>window.setTimeout(r,o));function r0(){const[o,r]=D.useState(null),[m,d]=D.useState([]),[p,M]=D.useState(null),[y,T]=D.useState([]),[b,v]=D.useState([]),[N,E]=D.useState({}),[L,$]=D.useState({}),[et,F]=D.useState({}),[Et,ut]=D.useState({}),[bt,ot]=D.useState({}),[H,P]=D.useState(ys.state),[mt,J]=D.useState(null),[ct,Gt]=D.useState({totalBytes:0,limitBytes:Zh}),[le,Ft]=D.useState([]),[Wt,on]=D.useState(null),[ze,we]=D.useState(!1),[A,Y]=D.useState(!1),[W,I]=D.useState(null),[lt,S]=D.useState(null),[_,tt]=D.useState(1),[at,yt]=D.useState(!1),[wt,At]=D.useState(!1),[Ke,Pt]=D.useState(!1),[_l,Ja]=D.useState(!1),[Ss,Ea]=D.useState(!1),[ua,Aa]=D.useState([]),[Ta,Ia]=D.useState(null),[Ms,Ca]=D.useState("tables"),[An,Fa]=D.useState([]),[$n,pi]=D.useState(null),[an,xs]=D.useState([]),[Un,Ul]=D.useState(!1),[hn,gi]=D.useState("chunks"),[Bl,vu]=D.useState(!1),[$e,Jn]=D.useState({chunkCoverageScan:!0,rangeAccessScan:!0,chunkDecodeScan:!0,sanityChecks:!0,snipScan:!0}),[pe,Tn]=D.useState(!1),[Le,He]=D.useState(null),[bu,yi]=D.useState(null),[ql,ca]=D.useState(null),[Ll,In]=D.useState(null),[Ae,wa]=D.useState(null),[Su,vi]=D.useState(!1),[Es,Fn]=D.useState(null),[Wn,Pn]=D.useState({playing:!1,duration:0,position:0}),[Wa,As]=D.useState(null),[ra,Pa]=D.useState(!1),[tl,Bn]=D.useState("idle"),[ta,ie]=D.useState(null),[Oe,ln]=D.useState(null),[Hl,Ts]=D.useState({}),[Cs,bi]=D.useState(!1),[Gl,ws]=D.useState(!1),[ue,pn]=D.useState("missing"),[oa,gn]=D.useState(null),Zt=D.useRef(null),Si=D.useRef(null),Ds=D.useRef(null),ke=D.useRef(null),qn=D.useRef(null),el=D.useRef(new Map),Ge=D.useRef(new Map),nl=D.useRef(new Map),Cn=D.useRef(new Map),da=D.useRef(new Map),Yl=D.useRef(null),wn=D.useRef(null),Je=D.useRef(null),Vl=D.useRef(0),Mi=D.useRef(new Map),Xl=D.useRef(!1),Ql=D.useRef(null),al=D.useRef(new Set),xi=D.useRef({sessionId:null,active:!1,pending:[],pendingIds:new Set,retryCounts:new Map,lastSuccessAt:0}),sn=D.useRef(!1),Zl=D.useRef(!1),Ei=D.useRef(0),Kl=D.useRef(null),ea=D.useRef(0),Ns=D.useRef(null),Dn=D.useRef(null),Se=o?.developerMode??!1,ll=o?.storageLimitBytes??Zh,Nn=!!o?.groqApiKey?.trim(),js=Nn&&ue==="valid",Ye=D.useMemo(()=>Nn?ue==="invalid"?oa??"Groq API key validation failed. Retry validation in Settings.":ue==="validating"?"Validating Groq API key...":ue==="unchecked"?"Groq API key pending validation...":null:"Groq API key missing. Paste it in Settings to enable transcription.",[Nn,oa,ue]),Yt=Ye===null,Bc=!!(o&&!o.transcriptionOnboardingDismissed&&!Nn),Rs=js?"Enabled":ue==="validating"||ue==="unchecked"?"Checking key":ue==="invalid"?"Key invalid":"Disabled",na=js?"is-good":Nn?"is-warn":"is-muted",Ai=Nn?ue==="valid"?"Valid":ue==="validating"?"Validating":ue==="invalid"?"Invalid":"Pending":"Missing",Ti=ue==="valid"?"is-good":ue==="validating"?"is-warn":ue==="invalid"?"is-bad":"is-muted",fa=D.useCallback(async()=>{const i=o?.groqApiKey?.trim()??"";if(!i)return pn("missing"),gn(null),!1;pn("validating"),gn(null);try{const c=await Ky(i);return c.ok?(pn("valid"),gn(null),!0):(pn("invalid"),gn(c.message??"Groq API key validation failed."),!1)}catch(c){const g=c instanceof Error?c.message:String(c);return pn("invalid"),gn(g),!1}},[o?.groqApiKey]);D.useEffect(()=>{const i=o?.groqApiKey?.trim()??"";if(!i){Ns.current=null,Dn.current&&(window.clearTimeout(Dn.current),Dn.current=null),pn("missing"),gn(null);return}Ns.current!==i&&(Ns.current=i,pn("unchecked"),gn(null))},[o?.groqApiKey]),D.useEffect(()=>{if(!(!Nn||ue!=="unchecked"))return Dn.current&&window.clearTimeout(Dn.current),Dn.current=window.setTimeout(()=>{Dn.current=null,fa()},600),()=>{Dn.current&&(window.clearTimeout(Dn.current),Dn.current=null)}},[Nn,fa,ue]);const ma=D.useMemo(()=>{const i=le.map(g=>Ka(g)).filter(g=>g.length>0);return i.length===0?[]:i.slice(-2).map(g=>s0(g,Wy)).filter(g=>g.length>0)},[le]),te=D.useCallback(i=>!!i.audioPurgedAt,[]),Ie=D.useCallback(i=>!!i.audioPurgedAt||i.byteLength<=0||i.blob.size<=0,[]),$l=D.useCallback((i,c)=>{const g=Ph(c),C=c.filter(X=>!!X.transcriptionError).length,j=c.filter(X=>Ka(X).length>0).length,q=c.filter(X=>te(X)).length,V=c.length,K=Math.max(0,V-q);E(X=>{if(!g){if(!(i in X))return X;const nt={...X};return delete nt[i],nt}return X[i]===g?X:{...X,[i]:g}}),$(X=>{if(C===0){if(!(i in X))return X;const nt={...X};return delete nt[i],nt}return X[i]===C?X:{...X,[i]:C}}),F(X=>{if(V===0){if(!(i in X))return X;const st={...X};return delete st[i],st}const nt=X[i];return nt&&nt.transcribedCount===j&&nt.total===V&&nt.purgedCount===q&&nt.retryableCount===K?X:{...X,[i]:{transcribedCount:j,total:V,purgedCount:q,retryableCount:K}}})},[te]),sl=D.useCallback(async i=>{try{const c=await Promise.all(i.map(async q=>{if(q.status!=="ready")return[q.id,"",0,0,0,0,0];const V=await vt.listSnips(q.id),K=V.filter(Dt=>!!Dt.transcriptionError).length,X=V.filter(Dt=>Ka(Dt).length>0).length,nt=V.filter(Dt=>te(Dt)).length,st=V.length,pt=Math.max(0,st-nt);return[q.id,Ph(V),K,X,st,nt,pt]})),g={},C={},j={};c.forEach(([q,V,K,X,nt,st,pt])=>{V&&(g[q]=V),K>0&&(C[q]=K),nt>0&&(j[q]={transcribedCount:X,total:nt,purgedCount:st,retryableCount:pt})}),E(g),$(C),F(j)}catch(c){await nn("Transcription preview load failed",{error:c instanceof Error?c.message:String(c)})}},[te]),me=D.useCallback(async()=>{await vt.init(),await vt.purgeLegacyMp4Sessions();const i=Ql.current??new id;Ql.current=i;const[c,g]=await Promise.all([vt.listSessions(),vt.storageTotals()]),C=Mi.current;let j=null;if(Xl.current)for(const V of c){if(V.status!=="ready"||V.chunkCount===0||!C.has(V.id))continue;const K=C.get(V.id);K!==void 0&&K!==V.updatedAt&&(!j||V.updatedAt>j.updatedAt)&&(j=V)}Mi.current=new Map(c.map(V=>[V.id,V.updatedAt])),Xl.current?j&&on(j.id):Xl.current=!0,d(c),Gt({totalBytes:g.totalBytes,limitBytes:ll}),sl(c),c.filter(V=>V.chunkCount>0&&(V.timingStatus??"unverified")!=="verified").forEach(V=>{i.ensureTimings(V.id).then(K=>{const X=K.session;K.status!=="verified"||!X||(d(nt=>nt.map(st=>st.id===X.id?{...st,...X}:st)),Mi.current.set(X.id,X.updatedAt))}).catch(K=>{console.warn("[UI] Session timing verification failed",{sessionId:V.id,error:K})})})},[sl,ll]),ha=D.useCallback(async i=>{if(Zl.current)return;const c=Date.now(),g=!i?.force;if(!(g&&c-Ei.current<Fh)){Zl.current=!0,Ei.current=c;try{await vt.init();const C=await vt.applyRetentionPolicy({limitBytes:ll,now:c});C.purgedChunkIds.length>0&&await qt("Storage retention purged audio",{beforeBytes:C.beforeBytes,afterBytes:C.afterBytes,limitBytes:C.limitBytes,purgedChunks:C.purgedChunkIds.length,purgedSnips:C.purgedSnipIds.length,reason:i?.reason??(g?"debounced":"manual")}),C.afterBytes>C.limitBytes&&await mn("Storage retention unable to meet cap",{beforeBytes:C.beforeBytes,afterBytes:C.afterBytes,limitBytes:C.limitBytes,purgedChunks:C.purgedChunkIds.length,reason:i?.reason??(g?"debounced":"manual")}),Gt({totalBytes:C.afterBytes,limitBytes:ll})}catch(C){await nn("Storage retention pass failed",{error:C instanceof Error?C.message:String(C),reason:i?.reason??(g?"debounced":"manual")})}finally{Zl.current=!1}}},[ll]);D.useEffect(()=>oi.subscribe(i=>r({...i})),[]),D.useEffect(()=>{o?.storageLimitBytes!=null&&ha({force:!0,reason:"settings-change"})},[ha,o?.storageLimitBytes]),D.useEffect(()=>(ry(),()=>{oy()}),[]),D.useEffect(()=>{xy()},[]),D.useEffect(()=>{vt.reconcileDanglingSessions()},[]),D.useEffect(()=>ys.subscribe(c=>P({...c})),[]),D.useEffect(()=>{H.state==="idle"&&(Je.current=null)},[H.state]),D.useEffect(()=>{const i=H.state==="recording";zc(i,i?"recording-active":"recording-inactive")},[H.state]),D.useEffect(()=>{if(H.state!=="recording"||!H.sessionId){Kl.current=H.sessionId??null,ea.current=H.chunksRecorded;return}Kl.current!==H.sessionId&&(Kl.current=H.sessionId,ea.current=0),H.chunksRecorded>ea.current&&(ea.current=H.chunksRecorded,ha({reason:"chunk-written"}))},[H.chunksRecorded,H.sessionId,H.state,ha]),D.useEffect(()=>{if(H.state!=="recording")return;let i=!1;const c=()=>{i||ha()},g=window.setInterval(c,Fh);return c(),()=>{i=!0,window.clearInterval(g)}},[H.state,ha]),D.useEffect(()=>{const i=c=>{const g=c.target;let C="unknown";g instanceof HTMLElement&&(C=g.tagName.toLowerCase(),g.id?C+=`#${g.id}`:g.classList.length>0&&(C+=`.${g.classList[0]}`)),wn.current={type:c.type,target:C,timestamp:Date.now()}};return window.addEventListener("pointerdown",i,!0),window.addEventListener("keydown",i,!0),()=>{window.removeEventListener("pointerdown",i,!0),window.removeEventListener("keydown",i,!0)}},[]),D.useEffect(()=>{me()},[me]),D.useEffect(()=>{H.state==="recording"&&!p?(we(!0),requestAnimationFrame(()=>Y(!0))):Y(!1)},[H.state,p]),D.useEffect(()=>{H.state!=="recording"&&Ft([])},[H.state]),D.useEffect(()=>{if(!Wt)return;const i=window.setTimeout(()=>on(null),2400);return()=>window.clearTimeout(i)},[Wt]),D.useEffect(()=>{if(A||!ze)return;const i=window.setTimeout(()=>we(!1),400);return()=>window.clearTimeout(i)},[ze,A]),D.useEffect(()=>{if(!A)return;const i=Yl.current;i&&(i.scrollTop=i.scrollHeight)},[A,ma]),D.useEffect(()=>{if(typeof window>"u"||!("ontouchstart"in window))return;const i=g=>{g.touches.length>1&&g.preventDefault()},c=g=>{g.preventDefault()};return document.addEventListener("touchmove",i,{passive:!1}),document.addEventListener("gesturestart",c),document.addEventListener("gesturechange",c),document.addEventListener("gestureend",c),()=>{document.removeEventListener("touchmove",i),document.removeEventListener("gesturestart",c),document.removeEventListener("gesturechange",c),document.removeEventListener("gestureend",c)}},[]),D.useEffect(()=>{let i=!1;if(!p){T([]),v([]),Ts({}),Ul(!1),Pa(!1),ie(null),Bn("idle"),ln(null);return}return Ts({}),(async()=>{const[c,g]=await Promise.all([vt.getChunkData(p),vt.listSnips(p)]);i||(T(c),v(g))})(),()=>{i=!0}},[p]),D.useEffect(()=>{const i=Zt.current;if(!i)return;const c=()=>Pn(X=>({...X,position:i.currentTime})),g=()=>Pn(X=>({...X,duration:Number.isFinite(i.duration)?i.duration:0})),C=()=>{qn.current!==null&&(window.cancelAnimationFrame(qn.current),qn.current=null)},j=()=>{Pn(X=>({...X,position:i.currentTime})),qn.current=window.requestAnimationFrame(j)},q=()=>{Pn(X=>({...X,playing:!0})),C(),qn.current=window.requestAnimationFrame(j)},V=()=>{Pn(X=>({...X,playing:!1})),C()},K=()=>{Pn(X=>({...X,playing:!1,position:i.duration||X.position})),C()};return i.addEventListener("timeupdate",c),i.addEventListener("durationchange",g),i.addEventListener("play",q),i.addEventListener("pause",V),i.addEventListener("ended",K),()=>{C(),i.removeEventListener("timeupdate",c),i.removeEventListener("durationchange",g),i.removeEventListener("play",q),i.removeEventListener("pause",V),i.removeEventListener("ended",K)}},[p]),D.useEffect(()=>{const i=el.current,c=Ge.current,g=new Set(y.map(C=>C.id));Array.from(i.entries()).forEach(([C,j])=>{g.has(C)||(URL.revokeObjectURL(j),i.delete(C))});for(const[C,j]of c.entries())g.has(C)||(j.cleanup(),j.audio.pause(),j.audio.currentTime=j.startTime,c.delete(C));I(C=>C&&g.has(C)?C:null)},[y]),D.useEffect(()=>{const i=nl.current,c=Cn.current,g=new Set(b.map(C=>C.id));Array.from(i.entries()).forEach(([C,j])=>{g.has(C)||(URL.revokeObjectURL(j),i.delete(C))}),Array.from(da.current.keys()).forEach(C=>{g.has(C)||da.current.delete(C)});for(const[C,j]of c.entries())g.has(C)||(j.cleanup(),j.audio.pause(),j.audio.currentTime=j.startTime,c.delete(C));S(C=>C&&g.has(C)?C:null)},[b]),D.useEffect(()=>()=>{Ge.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Ge.current.clear(),el.current.forEach(i=>URL.revokeObjectURL(i)),el.current.clear()},[]),D.useEffect(()=>{Un||(Ge.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Ge.current.clear(),I(null),Cn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Cn.current.clear(),S(null))},[Un]),D.useEffect(()=>{Ge.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Ge.current.clear(),I(null),Cn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Cn.current.clear(),S(null)},[hn]),D.useEffect(()=>{const i=Zt.current;i&&(i.volume=_),Ge.current.forEach(c=>{c.audio.volume=_}),Cn.current.forEach(c=>{c.audio.volume=_})},[_]),D.useEffect(()=>{Se||(Ja(!1),Ul(!1),Pa(!1),ie(null),Bn("idle"),ln(null),Aa([]),Ia(null),Ca("tables"),Fa([]),pi(null),xs([]))},[Se]),D.useEffect(()=>()=>{ke.current&&(URL.revokeObjectURL(ke.current),ke.current=null)},[]);const B=D.useMemo(()=>m.find(i=>i.id===p)??null,[m,p]),re=D.useMemo(()=>{const i=b.map(C=>Ka(C)).filter(C=>C.length>0),c=b.filter(C=>!!C.transcriptionError).length,g=b.filter(C=>te(C)).length;return{text:i.join(" ").trim(),transcribedCount:i.length,errorCount:c,total:b.length,purgedCount:g,retryableCount:Math.max(0,b.length-g)}},[te,b]);D.useEffect(()=>{if(!B){As(null);return}As(B.durationMs)},[B]),D.useEffect(()=>{B?.id&&$l(B.id,b)},[B?.id,b,$l]),D.useEffect(()=>{if(!B?.id){Ds.current=null;return}if(!re.text||Ds.current===B.id)return;Ds.current=B.id;const i=window.setTimeout(()=>{const c=Si.current;c&&(c.focus(),c.select())},80);return()=>window.clearTimeout(i)},[B?.id,re.text]),D.useEffect(()=>{if(!(Se&&B&&(ra||Un&&hn==="snips"))){Bn("idle"),ie(null),ln(null);return}if(B.chunkCount===0){Bn("error"),ln("No audio chunks available yet. Capture a few seconds of audio and try again."),ie(null);return}const c=Ql.current??new id;Ql.current=c;let g=!1;return Bn("loading"),ln(null),ie(null),(async()=>{try{const C=await c.prepareAnalysisForSession({session:B,mimeTypeHint:B.mimeType??null});if(g)return;if(C.analysis){ie(C.analysis),Bn("ready"),ln(null);try{const j=await En.listSnips(B,B.mimeType??null);g||v(j)}catch(j){g||await nn("Failed to refresh snip segments",{sessionId:B.id,error:j instanceof Error?j.message:String(j)})}}else{ie(null),Bn("error");const j=C.verification.missingChunkIds.length;ln(j>0?`Waiting on verified audio durations for ${j} chunk${j===1?"":"s"}.`:"No volume profiles available yet. Capture additional audio and retry.")}}catch(C){if(g)return;const j=C instanceof Error?C.message:String(C);Bn("error"),ln(j),nn("Session analysis failed",{sessionId:B.id,error:j})}})(),()=>{g=!0}},[Se,Un,hn,ra,B?.id,B?.updatedAt,B?.chunkCount,B?.mimeType]);const _e=D.useCallback(i=>{const c=i.blob.type||B?.mimeType||"";if(!/mp4|m4a/i.test(c))return!1;const C=Math.max(0,i.endMs-i.startMs);return i.seq===0&&(C<=10||i.byteLength<4096)},[B?.mimeType]),aa=D.useMemo(()=>y.find(_e)??null,[y,_e]),Ci=D.useMemo(()=>y.filter(i=>!_e(i)&&!Ie(i)).length,[y,Ie,_e]),Jl=D.useCallback(i=>{const c=i.blob.type||B?.mimeType||"audio/mp4";return!aa||aa.id===i.id||!/mp4|m4a/i.test(c)?i.blob:new Blob([aa.blob,i.blob],{type:c})},[aa,B?.mimeType]),Da=D.useCallback(i=>{if(Ie(i))return null;const c=el.current,g=c.get(i.id);if(g)return g;const C=Jl(i),j=URL.createObjectURL(C);return c.set(i.id,j),j},[Jl,Ie]),Mu=D.useCallback(i=>{const c=Da(i);if(!c)return;const g=B?.startedAt??i.startMs??Date.now(),C=new Date(g).toISOString().replace(/[:.]/g,"-"),j=String(i.seq+1).padStart(2,"0"),q=i.blob.type||B?.mimeType||"application/octet-stream",V=/mpeg/i.test(q)?"mp3":/webm/i.test(q)?"webm":/mp4|m4a/i.test(q)?"mp4":"bin",K=document.createElement("a");K.href=c,K.download=`${C}_chunk-${j}.${V}`,K.rel="noopener",document.body.appendChild(K),K.click(),document.body.removeChild(K)},[Da,B?.mimeType,B?.startedAt]),Fe=D.useCallback(i=>{i.currentTarget.focus(),i.currentTarget.select()},[]),pa=D.useCallback(async()=>{const i=window.AudioContext||window.webkitAudioContext;if(typeof i!="function")return;const c=new i,g=c.createOscillator(),C=c.createGain();C.gain.value=.12,g.type="sine",g.frequency.value=880,g.connect(C),C.connect(c.destination);const j=c.currentTime+.35;g.start(),g.stop(j),g.onended=()=>{c.close().catch(()=>{})}},[]),il=D.useCallback(()=>{Ge.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Ge.current.clear(),I(null),Cn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Cn.current.clear(),S(null),Zt.current&&Zt.current.pause()},[]),ul=D.useCallback(()=>{ws(!0),window.setTimeout(()=>ws(!1),1200)},[]);D.useEffect(()=>{const i=()=>{document.visibilityState!=="visible"&&il()},c=()=>il();return document.addEventListener("visibilitychange",i),window.addEventListener("pagehide",c),()=>{document.removeEventListener("visibilitychange",i),window.removeEventListener("pagehide",c)}},[il]);const zs=D.useCallback(async i=>{if(!B||te(i))return null;const c=i.id,g=da.current.get(c);if(g)return g;const C=await En.getRangeAudio(B,i.startMs,i.endMs,B.mimeType??null);return da.current.set(c,C),C},[te,B]),cl=D.useCallback(async i=>{const c=i.id,g=nl.current.get(c),C=await zs(i);if(!C)return null;if(g)return{url:g,slice:C};const j=URL.createObjectURL(C.blob);return nl.current.set(c,j),{url:j,slice:C}},[zs]),wi=D.useCallback(async(i,c)=>{if(te(i))return;const g=await cl(i);if(!g)return;const{url:C,slice:j}=g,q=document.createElement("a");q.href=C,q.download=j.suggestedFilename||`snip-${String(c).padStart(2,"0")}.wav`,q.rel="noopener",document.body.appendChild(q),q.click(),document.body.removeChild(q)},[cl,te]),rl=D.useCallback(async(i,c)=>te(c)?null:B?.id===i.id?await zs(c):await En.getRangeAudio(i,c.startMs,c.endMs,i.mimeType??null),[zs,te,B?.id]),Na=D.useCallback(async i=>{const c=await vt.listSnips(i);$l(i,c)},[$l]),Il=D.useCallback(i=>{const c=i.filter(C=>!te(C)),g=c.filter(C=>!!C.transcriptionError);return g.length>0?g:c},[te]),Ln=D.useCallback(async({session:i,snip:c,updateUi:g,force:C,ignoreBusy:j=!1,reportError:q=!0})=>{if(!C&&Ka(c))return{ok:!0};if(te(c))return await mn("Snip transcription blocked (audio purged)",{sessionId:i.id,snipId:c.id}),{ok:!1,error:Wh};if(g&&Hl[c.id]&&!j)return{ok:!1};if(Ye)return{ok:!1,error:Ye};const V=o?.groqApiKey?.trim()??"";g&&Ts(K=>({...K,[c.id]:!0}));try{const K=await rl(i,c);if(!K)throw new Error("Unable to resolve snip audio for transcription.");if(K.durationMs<=0||K.blob.size===0)throw new Error(`Snip audio slice is empty (snip=${c.id} start=${c.startMs} end=${c.endMs} duration=${K.durationMs} bytes=${K.blob.size})`);await qt("Snip transcription started",{sessionId:i.id,snipId:c.id,model:Kh,startMs:c.startMs,endMs:c.endMs,sliceDurationMs:K.durationMs,sliceBytes:K.blob.size});const X=await Jy.transcribeAudio({apiKey:V,audio:K.blob,model:Kh,temperature:0}),nt={text:X.text,segments:X.segments,model:X.model,language:X.language??null,createdAt:Date.now()},st=await vt.updateSnipTranscription(c.id,{transcription:nt,transcriptionError:null});return g&&st&&v(pt=>pt.map(Dt=>Dt.id===st.id?st:Dt)),await qt("Snip transcription completed",{sessionId:i.id,snipId:c.id,model:X.model,textLength:X.text.length,segmentCount:X.segments.length}),{ok:!0}}catch(K){const X=K instanceof Error?K.message:String(K);if(q){await nn("Snip transcription failed",{sessionId:i.id,snipId:c.id,error:X,startMs:c.startMs,endMs:c.endMs,durationMs:c.durationMs});const nt=await vt.updateSnipTranscription(c.id,{transcriptionError:X});g&&nt&&v(st=>st.map(pt=>pt.id===nt.id?nt:pt))}return{ok:!1,error:X}}finally{g&&Ts(K=>{const X={...K};return delete X[c.id],X}),await Na(i.id)}},[Na,rl,Ye,o?.groqApiKey,te,Hl]),ol=D.useCallback(i=>{const c=xi.current;c.sessionId=i,c.active=!1,c.pending=[],c.pendingIds.clear(),c.retryCounts.clear(),c.lastSuccessAt=0},[]),xu=D.useCallback(async i=>{const c=xi.current;if(!(c.active||c.sessionId!==i.id)){c.active=!0;try{for(;c.pending.length>0;){if(!Yt){c.pending=[],c.pendingIds.clear(),c.retryCounts.clear();break}const g=c.pending.shift();if(!g)break;const C=g.snip;if(c.pendingIds.delete(C.id),c.sessionId!==i.id)break;if((await Ln({session:i,snip:C,updateUi:B?.id===i.id,force:!0,ignoreBusy:!0,reportError:!0})).ok){c.retryCounts.delete(C.id),c.lastSuccessAt=Date.now();continue}const q=(c.retryCounts.get(C.id)??0)+1;if(c.retryCounts.set(C.id,q),q<=Ih&&Date.now()-c.lastSuccessAt<Jh){const K=fi[Math.min(q-1,fi.length-1)];await Po(K),c.pendingIds.has(C.id)||(c.pending.push({snip:C,attempt:q}),c.pendingIds.add(C.id))}}}finally{c.active=!1}}},[Yt,B?.id,Ln]),Os=D.useCallback(async(i,c)=>{const g=xi.current;if(g.sessionId!==i.id&&ol(i.id),!Yt)return;const C=g.lastSuccessAt>0&&Date.now()-g.lastSuccessAt<Jh;[...c].sort((q,V)=>q.index-V.index).forEach(q=>{if(Ka(q)||te(q)||g.pendingIds.has(q.id))return;const V=g.retryCounts.get(q.id)??0;q.transcriptionError&&(!C||V>=Ih)||(g.pending.push({snip:q,attempt:V}),g.pendingIds.add(q.id))}),!g.active&&g.pending.length>0&&xu(i)},[Yt,te,ol,xu]);D.useEffect(()=>{H.state!=="recording"&&ol(null)},[H.state,ol]),D.useEffect(()=>{Yt||ol(null)},[Yt,ol]),D.useEffect(()=>{if(!H.sessionId||H.state!=="recording")return;const i=H.sessionId;let c=!1;const g=async()=>{if(!(c||sn.current)){sn.current=!0;try{const j=await vt.getSession(i);if(!j||j.status!=="recording")return;const q=await En.listSnips(j,j.mimeType??null);if(c)return;if(Ft(q),B?.id===i){const[V]=await Promise.all([vt.getChunkData(i)]);c||(T(V),v(q))}await Os(j,q),await me()}catch(j){if(!c){const q=j instanceof Error?j.message:String(j);mn("Live snip refresh failed",{sessionId:i,error:q})}}finally{sn.current=!1}}},C=window.setInterval(g,Fy);return g(),()=>{c=!0,window.clearInterval(C)}},[H.sessionId,H.state,Os,me,B?.id]);const qc=D.useCallback(async i=>{if(B&&!te(i)){if(!Yt){Ye&&J(Ye);return}await Ln({session:B,snip:i,updateUi:!0,force:!0})}},[Yt,te,B,Ye,Ln]),Lc=D.useCallback(async()=>{if(!B||Cs)return;if(!Yt){Ye&&J(Ye);return}const i=B.id;bi(!0),ot(c=>({...c,[i]:!0}));try{const c=await vt.listSnips(i),g=c.length>0?c:await En.listSnips(B,B.mimeType??null);if(g.length===0)return;v(g);const C=Il(g);if(C.length===0)return;for(const j of C)await Ln({session:B,snip:j,updateUi:!0,force:!0,ignoreBusy:!0})}finally{bi(!1),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}},[Yt,Cs,Il,B,Ye,Ln]),Hc=D.useCallback(async i=>{if(!Et[i]){if(!Yt){Ye&&J(Ye);return}ut(c=>({...c,[i]:!0})),ot(c=>({...c,[i]:!0}));try{const c=await vt.getSession(i);if(!c)return;const g=await vt.listSnips(i),C=g.length>0?g:await En.listSnips(c,c.mimeType??null);if(C.length===0)return;B?.id===i&&v(C);const j=Il(C);if(j.length===0)return;for(const q of j)await Ln({session:c,snip:q,updateUi:B?.id===i,force:!0,ignoreBusy:!0})}finally{ut(c=>{if(!c[i])return c;const g={...c};return delete g[i],g}),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}}},[Yt,Et,Il,B?.id,Ye,Ln]),Eu=D.useCallback(async i=>{if(!al.current.has(i)){al.current.add(i),ot(c=>({...c,[i]:!0}));try{await Po(1200);const c=await vt.getSession(i);if(!c||c.status!=="ready")return;const g=await En.listSnips(c,c.mimeType??null);if(g.length===0||!Yt)return;const C=fi.length+1;for(const j of g)if(!Ka(j)&&!te(j))for(let q=0;q<C;q+=1){if(q>0){const K=fi[Math.min(q-1,fi.length-1)];await Po(K)}if((await Ln({session:c,snip:j,updateUi:B?.id===i,force:q>0,ignoreBusy:q>0,reportError:q===C-1})).ok)break}}finally{al.current.delete(i),await Na(i),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}}},[Yt,te,Na,B?.id,Ln]),Gc=D.useCallback(async()=>{J(null),await me()},[me]),Au=D.useCallback(async()=>{if(H.state==="recording")return;let i="";Je.current=Date.now(),zc(!0,"recording-start-click");try{await qt("Recorder start requested",{previousState:H.state}),J(null);const c=await oi.get();i=window.crypto?.randomUUID?.()??`session-${Date.now()}`;const g=Date.now();await vt.createSession({id:i,title:`Recording ${new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1}).format(g)}`,startedAt:g,updatedAt:g,status:"recording",totalBytes:0,chunkCount:0,durationMs:0,mimeType:null,notes:Yt?"Transcription pending...":"Recording in progress.",timingStatus:"unverified"}),await ys.start({sessionId:i,targetBitrate:c.targetBitrate,chunkDurationMs:4e3}),await qt("Recorder started",{sessionId:i,targetBitrate:c.targetBitrate,chunkDurationMs:4e3}),await me()}catch(c){console.error("[UI] Failed to start recording",c),Je.current=null,zc(!1,"recording-start-failed"),await nn("Recorder failed to start",{sessionId:i,error:c instanceof Error?c.message:String(c)}),i&&await vt.updateSession(i,{status:"error",notes:"Recording failed to start.",updatedAt:Date.now()}),await me(),J(c instanceof Error?c.message:String(c))}},[Yt,H.state,me]),Di=D.useCallback(async()=>{if(H.state!=="recording")return;const i=H.sessionId;try{await qt("Recorder stop requested",{sessionId:i}),await ys.stop(),await qt("Recorder stopped",{sessionId:i})}catch(c){console.error("[UI] Failed to stop recording",c),J(c instanceof Error?c.message:String(c)),await nn("Recorder failed to stop",{sessionId:i,error:c instanceof Error?c.message:String(c)})}finally{zc(!1,"recording-stop-request"),await me(),i&&Eu(i)}},[Eu,H.sessionId,H.state,me]),Yc=async()=>{H.state==="recording"?await Di():await Au()};D.useEffect(()=>{if(H.state!=="recording"||!H.startedAt)return;const i=window.setTimeout(()=>{const c=ys.state;if(c.state!=="recording"||c.chunksRecorded>0)return;const g=typeof ys.getDiagnostics=="function"?ys.getDiagnostics():null;mn("No audio captured after timeout; stopping recording",{sessionId:c.sessionId,timeoutMs:15e3,error:c.error??null,diagnostics:g});const C=Je.current??c.startedAt??Date.now(),j=wn.current;py(C,{sessionId:c.sessionId,timeoutMs:15e3,captureState:{state:c.state,chunksRecorded:c.chunksRecorded,error:c.error??null},diagnostics:g,lastUserInteraction:j??null}),ul(),pa(),Di()},15e3);return()=>window.clearTimeout(i)},[H.startedAt,H.state,pa,Di,ul]);const ks=D.useCallback(async(i=!1)=>{if(!B)return!1;const c=B.mimeType??"audio/mp4",C=[...await vt.getChunkData(B.id)].sort((st,pt)=>st.seq-pt.seq);if(C.length===0)throw new Error("No audio available yet. Keep recording to capture chunks.");const j=C.find(st=>_e(st))??null,q=C.filter(st=>!_e(st)&&!Ie(st));if(q.length===0)throw new Error("Audio for this recording was purged.");const V=[];j&&/mp4|m4a/i.test(c)&&V.push(j.blob),q.forEach(st=>V.push(st.blob));const K=new Blob(V,{type:c});if(await qt("Playback source prepared",{sessionId:B.id,blobSize:K.size,blobType:K.type}),T(C),ke.current&&!i)return!0;ke.current&&URL.revokeObjectURL(ke.current);const X=URL.createObjectURL(K);ke.current=X;const nt=Zt.current;return nt&&(nt.src=X,nt.currentTime=0,Pn({playing:!1,duration:Number.isFinite(nt.duration)?nt.duration:0,position:0})),!0},[Ie,_e,B]);D.useEffect(()=>{!B||B.status==="recording"||B.chunkCount===0||ks(!0).catch(i=>{console.error("[UI] Failed to prepare playback on detail open",i),Fn(i instanceof Error?i.message:String(i))})},[ks,B,B?.id,B?.updatedAt,B?.chunkCount,B?.status]);const Vc=D.useCallback(async()=>{if(!B)return;if(!y.some(c=>!_e(c)&&!Ie(c))){const c="Audio was purged for this recording and is no longer available.";Fn(c),typeof window<"u"&&window.alert(c);return}Fn(null),vi(!0);try{ke.current||await ks();const c=Zt.current;if(!c)throw new Error("Audio element unavailable");c.paused?(await c.play(),await qt("Playback started",{sessionId:B.id})):(c.pause(),await qt("Playback paused",{sessionId:B.id}))}catch(c){console.error("[UI] Playback toggle failed",c),Fn(c instanceof Error?c.message:String(c)),await nn("Playback toggle failed",{sessionId:B.id,error:c instanceof Error?c.message:String(c)})}finally{vi(!1)}},[y,Ie,_e,ks,B]),ja=async()=>{Ge.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Ge.current.clear(),el.current.forEach(i=>URL.revokeObjectURL(i)),el.current.clear(),I(null),Cn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Cn.current.clear(),nl.current.forEach(i=>URL.revokeObjectURL(i)),nl.current.clear(),da.current.clear(),S(null),gi("chunks"),vu(!1),Tn(!1),He(null),yi(null),wa(null),yt(!1),M(null),T([]),As(null),Ul(!1),Pa(!1),ie(null),Bn("idle"),ln(null),Fn(null),Pn({playing:!1,duration:0,position:0}),p&&await qt("Detail view closed",{sessionId:p}),p&&En.clearSession(p),ke.current&&(URL.revokeObjectURL(ke.current),ke.current=null),Zt.current&&(Zt.current.pause(),Zt.current.currentTime=0),await Gc()},Fl=D.useCallback(()=>{const i=Date.now(),c=wn.current,g=c?{...c,msAgo:Math.max(0,i-c.timestamp)}:null,C=navigator,j=C.userActivation?{isActive:C.userActivation.isActive,hasBeenActive:C.userActivation.hasBeenActive}:null,q=typeof document<"u"&&document.activeElement instanceof HTMLElement?document.activeElement.tagName.toLowerCase():null,V=typeof document<"u"?document.visibilityState:null,K=typeof document<"u"&&typeof document.hasFocus=="function"?document.hasFocus():null;return{visibilityState:V,hasFocus:K,activeElement:q,userActivation:j,lastInteraction:g}},[]),Xc=async()=>{if(!B)return;const i=B.id;if(qt("Delete recording requested",{sessionId:i,source:"detail"}),B.id===H.sessionId&&H.state==="recording"){J("Stop the active recording before deleting it."),await mn("Delete blocked for active recording",{sessionId:i,source:"detail"});return}const c=Date.now(),g=Fl();qt("Delete confirmation opened",{sessionId:i,source:"detail",...g});const C=window.confirm("Delete this recording? This cannot be undone."),j=Math.max(0,Date.now()-c),q=Fl();if(qt("Delete confirmation resolved",{sessionId:i,source:"detail",confirmed:C,confirmDurationMs:j,before:g,after:q}),!C){qt("Delete recording cancelled",{sessionId:i,source:"detail"});return}qt("Delete recording confirmed",{sessionId:i,source:"detail"});try{await vt.init()}catch(V){console.error("[UI] Failed to init manifest for delete",V),await nn("Delete init failed",{sessionId:B.id,error:V instanceof Error?V.message:String(V)});return}try{await vt.deleteSession(i),await vt.getSession(i)&&await mn("Delete verification failed",{sessionId:i,source:"detail"}),await qt("Recording deleted",{sessionId:i,source:"detail"}),await ja(),await me()}catch(V){console.error("[UI] Failed to delete recording",V),J(V instanceof Error?V.message:String(V)),await nn("Recording delete failed",{sessionId:i,source:"detail",error:V instanceof Error?V.message:String(V)})}},Qc=D.useCallback(async i=>{const c=i.id;if(qt("Delete recording requested",{sessionId:c,source:"list"}),i.id===H.sessionId&&H.state==="recording"){J("Stop the active recording before deleting it."),await mn("Delete blocked for active recording",{sessionId:c,source:"list"});return}const g=Date.now(),C=Fl();qt("Delete confirmation opened",{sessionId:c,source:"list",...C});const j=window.confirm("Delete this recording? This cannot be undone."),q=Math.max(0,Date.now()-g),V=Fl();if(qt("Delete confirmation resolved",{sessionId:c,source:"list",confirmed:j,confirmDurationMs:q,before:C,after:V}),!j){qt("Delete recording cancelled",{sessionId:c,source:"list"});return}qt("Delete recording confirmed",{sessionId:c,source:"list"});try{await vt.init()}catch(K){console.error("[UI] Failed to init manifest for delete",K),await nn("Delete init failed",{sessionId:c,source:"list",error:K instanceof Error?K.message:String(K)});return}try{await vt.deleteSession(c),await vt.getSession(c)&&await mn("Delete verification failed",{sessionId:c,source:"list"}),await qt("Recording deleted",{sessionId:c,source:"list"}),B?.id===c&&await ja(),await me()}catch(K){console.error("[UI] Failed to delete recording",K),J(K instanceof Error?K.message:String(K)),await nn("Recording delete failed",{sessionId:c,source:"list",error:K instanceof Error?K.message:String(K)})}},[Fl,H.sessionId,H.state,ja,me,B?.id]),Ue=(i,c)=>c>0?`${Math.round(i/c*100)}%`:"0%",yn=i=>{const c=Math.max(0,i/1e3),g=Math.floor(c/60),C=c-g*60,j=C<10?`0${C.toFixed(1)}`:C.toFixed(1);return`${g}:${j}`},Wl=i=>{const c={ok:0,warn:0,error:0,total:i.length};return i.forEach(g=>{g.status==="ok"?c.ok+=1:g.status==="warn"?c.warn+=1:c.error+=1}),c},Pl=i=>{const c=new Map;return i.forEach(g=>{const C=g.reason??"(no reason)",j=`${g.status}:${C}`,q=c.get(j);q?(q.count+=1,q.examples.length<6&&q.examples.push(g)):c.set(j,{reason:C,status:g.status,count:1,examples:[g]})}),Array.from(c.values()).sort((g,C)=>{const j={error:0,warn:1,ok:2};return j[g.status]!==j[C.status]?j[g.status]-j[C.status]:C.count-g.count})},Zc=i=>{const{session:c,doctorReports:g,logs:C}=i,j=[];if(j.push("Web Whisper  Doctor Report (compact)"),j.push(`Session: ${c.id}`),j.push(`StartedAt: ${new Date(c.startedAt).toISOString()}`),j.push(`DurationMs: ${c.durationMs}  (=${(c.durationMs/1e3).toFixed(1)}s)`),j.push(`Mime: ${c.mimeType??"unknown"}  Chunks: ${c.chunkCount}  Timing: ${c.timingStatus??"unverified"}`),j.push(""),g?.sanity){const X=g.sanity.metrics;j.push("Sanity:"),j.push(`- chunkTimebase=${X.chunkTimebase} session=${((X.sessionDurationMs??0)/1e3).toFixed(1)}s chunkMax=${((X.chunkMaxOffsetMs??0)/1e3).toFixed(1)}s chunkSum=${((X.chunkSumDurationMs??0)/1e3).toFixed(1)}s snips=${X.snipCount??0} snipMax=${((X.snipMaxEndMs??0)/1e3).toFixed(1)}s`),g.sanity.findings.forEach(nt=>j.push(`- ${nt.level.toUpperCase()}: ${nt.message}`)),j.push("")}const q=(X,nt)=>{if(!nt)return;j.push(`${X}: OK=${nt.summary.ok} WARN=${nt.summary.warn} ERR=${nt.summary.error} TOTAL=${nt.summary.total}`),j.push(`- expected=${((nt.metrics.expectedDurationMs??0)/1e3).toFixed(1)}s observed=${((nt.metrics.observedDurationMs??0)/1e3).toFixed(1)}s items=${nt.metrics.observedItemCount??0}/${nt.metrics.expectedItemCount??0}`),Pl(nt.segments).filter(pt=>pt.status!=="ok").slice(0,5).forEach(pt=>{const Dt=pt.examples.slice(0,3).map(Lt=>`${yn(Lt.startMs)}${yn(Lt.endMs)}`).join(", ");j.push(`- ${pt.status.toUpperCase()}: ${pt.reason} (${pt.count}) e.g. ${Dt}`)}),j.push("")};q("Chunk coverage",g?.chunkCoverage),q("Range access",g?.rangeAccess),q("Per-chunk decode",g?.chunkDecode),q("Snip scan",g?.snipScan),C.length>0&&(j.push("Recent logs (last 30):"),C.slice(-30).forEach(X=>{const nt=typeof X.timestamp=="number"?new Date(X.timestamp).toISOString():"",st=X.level??"",pt=(X.message??"").replace(/\s+/g," ").slice(0,200);j.push(`- ${nt} ${st} ${pt}`.trim())}),j.push(""));let V=j.join(`
`);const K=45e3;return V.length>K&&(V=`${V.slice(0,K)}

[TRUNCATED: report exceeded ${K} chars]
`),V},ts=(i,c)=>{const g=JSON.stringify(c,null,2),C=new Blob([g],{type:"application/json"}),j=URL.createObjectURL(C),q=document.createElement("a");q.href=j,q.download=`${i.replace(/\s+/g,"-").toLowerCase()}-doctor-report.json`,q.rel="noopener",document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(j)},Kc=async i=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText){await navigator.clipboard.writeText(i);return}const c=document.createElement("textarea");c.value=i,c.style.position="fixed",c.style.left="-9999px",c.style.top="0",document.body.appendChild(c),c.focus(),c.select(),document.execCommand("copy"),document.body.removeChild(c)},$c=(i,c)=>{const g=i.find(C=>C.seq>=0)??null;return g?g.startMs>1e12&&c>1e12?"absolute":g.startMs>=0&&g.startMs<864e5?"offset":"unknown":"unknown"},Jc=(i,c,g)=>g==="absolute"?{startMs:i.startMs-c,endMs:i.endMs-c}:{startMs:i.startMs,endMs:i.endMs},Ic=D.useCallback(async()=>{if(!B)return;const i=Vl.current+1;Vl.current=i;const c=()=>Vl.current!==i;Tn(!0),yi(null),wa(null),await vt.init();try{await vt.verifySessionChunkTimings(B.id)}catch{}En.clearSession(B.id);const g=await vt.getSession(B.id)??B,C=await vt.getChunkData(B.id),j=C.filter(it=>!_e(it)),q=C.find(it=>it.seq===0)?.startMs??j[0]?.startMs??g.startedAt,V=Number.isFinite(q)?Math.round(q):g.startedAt,K=$c(j,V),X=j.map(it=>({...it,...Jc(it,V,K)})),nt=Wa??(X.length>0?Math.max(...X.map(it=>it.endMs)):g.durationMs??0),st=Math.max(0,nt),pt=100,Dt=st>0?Math.ceil(st/pt):0,Lt={},Vt=async()=>{await new Promise(it=>requestAnimationFrame(()=>it()))},dt=async()=>{const it=[];He({label:"Chunk coverage scan",completed:0,total:Dt});let oe=0;for(let ge=0;ge<Dt;ge+=1){if(c())return;const Ut=ge*pt,ye=Math.min(st,Ut+pt),gt=X.find(xt=>xt.startMs<=Ut&&xt.endMs>Ut)??null;gt?!Number.isFinite(gt.byteLength)||gt.byteLength<=0?it.push({index:ge,startMs:Ut,endMs:ye,status:"error",reason:"Chunk blob is empty",meta:{chunkId:gt.id,seq:gt.seq,byteLength:gt.byteLength}}):gt.endMs<=gt.startMs?it.push({index:ge,startMs:Ut,endMs:ye,status:"warn",reason:"Chunk timing metadata looks invalid",meta:{chunkId:gt.id,seq:gt.seq,chunkStartMs:gt.startMs,chunkEndMs:gt.endMs}}):(oe+=ye-Ut,it.push({index:ge,startMs:Ut,endMs:ye,status:"ok",meta:{chunkId:gt.id,seq:gt.seq}})):it.push({index:ge,startMs:Ut,endMs:ye,status:"error",reason:"No chunk covers this time range"}),ge%50===0&&(He({label:"Chunk coverage scan",completed:ge+1,total:Dt}),await Vt())}He({label:"Chunk coverage scan",completed:Dt,total:Dt}),Lt.chunkCoverage={stepMs:pt,totalDurationMs:st,segments:it,summary:Wl(it),metrics:{expectedDurationMs:st,observedDurationMs:oe,expectedItemCount:Dt,observedItemCount:Dt-Wl(it).error}}},jt=async()=>{const it=[];He({label:"Range access scan (0.1s)",completed:0,total:Dt});let oe=0,ge=0;for(let Ut=0;Ut<Dt;Ut+=1){if(c())return;const ye=Ut*pt,gt=Math.min(st,ye+pt);try{const xt=await En.inspectRange(g,ye,gt,g.mimeType??null);oe+=xt.durationMs,ge+=1;const Be=gt-ye,Rt=xt.durationMs<Math.min(Be*.5,Be-10),ve=xt.sampleCount>0&&xt.rms<=1e-5&&xt.peak<=5e-5,Me=Rt||ve?"warn":"ok",Mt=Rt?"Decoded slice shorter than expected":ve?"Slice appears silent":void 0;it.push({index:Ut,startMs:ye,endMs:gt,status:Me,reason:Mt,meta:{durationMs:xt.durationMs,sampleCount:xt.sampleCount,rms:xt.rms,peak:xt.peak}})}catch(xt){it.push({index:Ut,startMs:ye,endMs:gt,status:"error",reason:xt instanceof Error?xt.message:String(xt)})}Ut%20===0&&(He({label:"Range access scan (0.1s)",completed:Ut+1,total:Dt}),await Vt())}He({label:"Range access scan (0.1s)",completed:Dt,total:Dt}),Lt.rangeAccess={stepMs:pt,totalDurationMs:st,segments:it,summary:Wl(it),metrics:{expectedDurationMs:st,observedDurationMs:oe,expectedItemCount:Dt,observedItemCount:ge}}},dn=async()=>{He({label:"Per-chunk decode scan",completed:0,total:j.length});const it=[];if(typeof window>"u"||typeof window.AudioContext>"u"){Lt.chunkDecode={stepMs:1,totalDurationMs:st,segments:[{index:0,startMs:0,endMs:0,status:"error",reason:"AudioContext is not supported in this environment."}],summary:{ok:0,warn:0,error:1,total:1},metrics:{expectedDurationMs:null,observedDurationMs:null,expectedItemCount:null,observedItemCount:null}};return}const oe=new AudioContext;let ge=0,Ut=0,ye=0;try{for(let gt=0;gt<X.length;gt+=1){if(c())return;const xt=X[gt],Be=xt.seq;ge+=Math.max(0,xt.endMs-xt.startMs);try{const Rt=await En.getChunkAudio(g,Be);if(!Rt)it.push({index:gt,startMs:xt.startMs,endMs:xt.endMs,status:"error",reason:"Chunk not found",meta:{seq:Be}});else{const ve=await Rt.blob.arrayBuffer(),Me=await oe.decodeAudioData(ve.slice(0)),Mt=Math.max(0,Me.duration*1e3);Ut+=Mt,ye+=1;const $t=Math.max(0,xt.endMs-xt.startMs),be=Math.abs(Mt-$t),ga=be>250?"warn":"ok",Ra=be>250?"Decoded duration differs from expected chunk timing":void 0;it.push({index:gt,startMs:xt.startMs,endMs:xt.endMs,status:ga,reason:Ra,meta:{seq:Be,blobType:Rt.mimeType,blobBytes:Rt.blob.size,decodedMs:Mt,expectedMs:$t,driftMs:be,note:"Standalone chunk decoding can include timestamp offsets; compare against range scans."}})}}catch(Rt){it.push({index:gt,startMs:xt.startMs,endMs:xt.endMs,status:"error",reason:Rt instanceof Error?Rt.message:String(Rt),meta:{seq:Be}})}gt%5===0&&(He({label:"Per-chunk decode scan",completed:gt+1,total:j.length}),await Vt())}}finally{await oe.close().catch(()=>{})}He({label:"Per-chunk decode scan",completed:j.length,total:j.length}),Lt.chunkDecode={stepMs:1,totalDurationMs:st,segments:it,summary:Wl(it),metrics:{expectedDurationMs:ge,observedDurationMs:Ut,expectedItemCount:j.length,observedItemCount:ye}}},Hn=async()=>{const it=[],oe=Number.isFinite(B.durationMs)?Math.max(0,B.durationMs):null,ge=j.length>0?Math.max(...j.map(Mt=>Mt.endMs)):null,Ut=X.length>0?Math.max(...X.map(Mt=>Mt.endMs)):null,ye=X.reduce((Mt,$t)=>Mt+Math.max(0,$t.endMs-$t.startMs),0),gt=[...X].sort((Mt,$t)=>Mt.seq-$t.seq);let xt=0,Be=0;for(let Mt=1;Mt<gt.length;Mt+=1){const $t=gt[Mt-1],be=gt[Mt];be.startMs<$t.endMs-5&&(xt+=1),be.startMs>$t.endMs+50&&(Be+=1)}if(xt>0&&it.push({level:"warn",message:`Chunk timings overlap in ${xt} places.`,meta:{overlaps:xt}}),Be>0&&it.push({level:"warn",message:`Chunk timings have gaps in ${Be} places.`,meta:{gaps:Be}}),oe!==null&&Ut!==null){const Mt=Ut-oe;Math.abs(Mt)>1e3?it.push({level:(Mt>0,"warn"),message:"Session duration and chunk max end differ by >1s.",meta:{sessionDurationMs:oe,chunkMaxOffsetMs:Ut,driftMs:Mt,chunkTimebase:K}}):it.push({level:"info",message:"Session duration and chunk max end are close.",meta:{sessionDurationMs:oe,chunkMaxOffsetMs:Ut,driftMs:Mt,chunkTimebase:K}})}let Rt=null,ve=null,Me=null;try{const Mt=await En.listSnips(g,g.mimeType??null);Rt=Mt.length,ve=Mt.length>0?Math.max(...Mt.map(be=>be.endMs)):0,Me=Mt.reduce((be,ga)=>be+Math.max(0,ga.durationMs),0);const $t=Ut??oe??st;$t>0&&ve>$t+2e3?it.push({level:"error",message:"Snips extend beyond the expected session duration by >2s.",meta:{baselineDurationMs:$t,snipMaxEndMs:ve,driftMs:ve-$t}}):$t>0&&Mt.length>0&&ve<$t-2e3?it.push({level:"error",message:"Snips do not cover the full expected session duration (end too early).",meta:{baselineDurationMs:$t,snipMaxEndMs:ve,driftMs:ve-$t}}):it.push({level:"info",message:"Snip end times are within expected duration.",meta:{baselineDurationMs:$t,snipMaxEndMs:ve}})}catch(Mt){it.push({level:"error",message:"Failed to compute snips for sanity checks.",meta:{error:Mt instanceof Error?Mt.message:String(Mt)}})}try{const Mt=await vt.listChunkVolumeProfiles(B.id),$t=new Set(X.map(Ht=>Ht.seq)),be=Mt.filter(Ht=>$t.has(Ht.seq)).sort((Ht,Xe)=>Ht.seq-Xe.seq),ga=new Set(be.map(Ht=>Ht.seq)),Ra=[...$t].filter(Ht=>!ga.has(Ht)),ya=be.filter(Ht=>!(typeof Ht.durationMs=="number"&&Ht.durationMs>0)),Oi=be.filter(Ht=>!Array.isArray(Ht.frames)||Ht.frames.length===0),dl=be.filter(Ht=>{const Xe=Array.isArray(Ht.frames)?Ht.frames:[];return Xe.length===0?!1:Xe.every(fl=>!Number.isFinite(fl)||fl<=0)}),za=be.filter(Ht=>!(typeof Ht.sampleRate=="number"&&Ht.sampleRate>0)),Ou=be.filter(Ht=>!(typeof Ht.frameDurationMs=="number"&&Ht.frameDurationMs>0)),Ve=[];be.forEach(Ht=>{const Xe=X.find(ki=>ki.seq===Ht.seq)??null;if(!Xe)return;const fl=Math.max(0,Xe.endMs-Xe.startMs),ss=Math.max(0,Ht.durationMs??0),va=ss-fl;Math.abs(va)>250&&Ve.push({seq:Ht.seq,expectedMs:fl,profileMs:ss,driftMs:va})}),Ra.length>0?it.push({level:"warn",message:`Missing chunk volume profiles for ${Ra.length} chunk(s).`,meta:{examples:Ra.slice(0,10)}}):it.push({level:"info",message:"Chunk volume profiles exist for all chunks."}),ya.length>0||Oi.length>0||za.length>0||Ou.length>0?it.push({level:"warn",message:"Some chunk volume profiles have invalid metadata (duration/frames/sampleRate/frameDuration).",meta:{zeroDuration:ya.length,zeroFrames:Oi.length,invalidSampleRate:za.length,invalidFrameDuration:Ou.length}}):it.push({level:"info",message:"Chunk volume profile metadata looks well-formed."}),dl.length>0&&it.push({level:"warn",message:`Some chunk volume profiles are all zeros (silent/failed decode) (${dl.length}).`,meta:{examples:dl.slice(0,6).map(Ht=>Ht.seq)}}),Ve.length>0?it.push({level:"warn",message:`Chunk volume profile durations differ from chunk timings for ${Ve.length} chunk(s).`,meta:{examples:Ve.slice(0,6)}}):it.push({level:"info",message:"Chunk volume profile durations match chunk timings (within 250ms)."})}catch(Mt){it.push({level:"warn",message:"Unable to validate chunk volume profiles.",meta:{error:Mt instanceof Error?Mt.message:String(Mt)}})}Lt.sanity={findings:it,metrics:{sessionDurationMs:oe,chunkMaxEndMs:ge,chunkSumDurationMs:ye,snipCount:Rt,snipMaxEndMs:ve,snipSumDurationMs:Me,chunkTimebase:K,chunkMaxOffsetMs:Ut}}},zi=async()=>{He({label:"Snip scan (each snip)",completed:0,total:1});const it=await En.listSnips(g,g.mimeType??null),oe=[],ge=it.reduce((gt,xt)=>gt+Math.max(0,xt.durationMs),0);let Ut=0,ye=0;He({label:"Snip scan (each snip)",completed:0,total:it.length});for(let gt=0;gt<it.length;gt+=1){if(c())return;const xt=it[gt],Be=gt+1;try{const Rt=await En.inspectRange(g,xt.startMs,xt.endMs,g.mimeType??null);Ut+=Rt.durationMs,ye+=1;const ve=Math.abs(Rt.durationMs-Math.max(0,xt.durationMs)),Me=Rt.sampleCount>0&&Rt.rms<=1e-5&&Rt.peak<=5e-5,Mt=ve>500||Me?"warn":"ok",$t=ve>500?"Decoded snip duration differs from expected":Me?"Snip appears silent":void 0;oe.push({index:gt,startMs:xt.startMs,endMs:xt.endMs,status:Mt,reason:$t,meta:{snipNumber:Be,expectedMs:xt.durationMs,decodedMs:Rt.durationMs,driftMs:ve,rms:Rt.rms,peak:Rt.peak,sampleCount:Rt.sampleCount}})}catch(Rt){oe.push({index:gt,startMs:xt.startMs,endMs:xt.endMs,status:"error",reason:Rt instanceof Error?Rt.message:String(Rt),meta:{snipNumber:Be}})}gt%5===0&&(He({label:"Snip scan (each snip)",completed:gt+1,total:it.length}),await Vt())}He({label:"Snip scan (each snip)",completed:it.length,total:it.length}),Lt.snipScan={stepMs:0,totalDurationMs:it.length>0?it[it.length-1].endMs:0,segments:oe,summary:Wl(oe),metrics:{expectedDurationMs:ge,observedDurationMs:Ut,expectedItemCount:it.length,observedItemCount:ye}}};try{if($e.sanityChecks&&await Hn(),$e.chunkCoverageScan&&await dt(),$e.rangeAccessScan&&await jt(),$e.chunkDecodeScan&&await dn(),$e.snipScan&&await zi(),c())return;wa(Lt)}catch(it){if(c())return;yi(it instanceof Error?it.message:String(it))}finally{c()||(Tn(!1),He(null))}},[$e.chunkCoverageScan,$e.chunkDecodeScan,$e.rangeAccessScan,$e.sanityChecks,$e.snipScan,B,Wa]),_s=()=>{Ja(!1),Aa([]),Ia(null),Ca("tables"),Fa([]),pi(null),xs([])},es=async i=>{const c=Number(i);!Number.isFinite(c)||c<=0||await oi.set({storageLimitBytes:Math.round(c*cd)})},Fc=async i=>{await oi.set({developerMode:i})},Tu=async i=>{await oi.set({groqApiKey:i})},Cu=async()=>{await oi.set({transcriptionOnboardingDismissed:!0})},wu=D.useCallback(async i=>{const{id:c}=i,g=Ge.current,C=g.get(c),j=(Lt,Vt)=>{Vt.cleanup(),Vt.audio.pause(),Vt.audio.currentTime=Vt.startTime,g.delete(Lt)};if(W===c){C&&j(c,C),I(null);return}for(const[Lt,Vt]of g.entries())j(Lt,Vt);if(I(null),_e(i)||Ie(i))return;const q=new Audio,V=Da(i);if(!V){console.error("[UI] Missing chunk URL for playback",c);return}q.src=V,q.volume=_;const K=0,X=0;Zt.current?.pause();function nt(){q.removeEventListener("ended",pt),q.removeEventListener("error",pt)}function st(){nt(),q.pause(),q.currentTime=K,g.delete(c),I(Lt=>Lt===c?null:Lt)}function pt(){st()}q.addEventListener("ended",pt),q.addEventListener("error",pt);const Dt=()=>nt();g.set(c,{audio:q,cleanup:Dt,startTime:K,endTime:X});try{q.currentTime=K,await q.play(),I(c)}catch(Lt){console.error("[UI] Failed to play chunk",Lt),st()}},[W,Da,Ie,_e,_]),Du=D.useCallback(async i=>{if(!B||te(i))return;const c=i.id,g=Cn.current,C=g.get(c),j=(dt,jt)=>{jt.cleanup(),jt.audio.pause(),jt.audio.currentTime=jt.startTime,g.delete(dt)};if(lt===c){C&&j(c,C),S(null);return}Ge.current.forEach((dt,jt)=>{dt.cleanup(),dt.audio.pause(),dt.audio.currentTime=dt.startTime,Ge.current.delete(jt)}),I(null);for(const[dt,jt]of g.entries())j(dt,jt);S(null);const q=await cl(i);if(!q)return;const V=new Audio;V.src=q.url,V.volume=_;const K=Math.max(0,i.durationMs/1e3),X=0,nt=K;Zt.current?.pause();function st(){V.removeEventListener("timeupdate",Lt),V.removeEventListener("ended",Dt),V.removeEventListener("error",Dt)}function pt(){st(),V.pause(),V.currentTime=X,g.delete(c),S(dt=>dt===c?null:dt)}function Dt(){pt()}function Lt(){K>0&&V.currentTime>=nt-.05&&pt()}V.addEventListener("timeupdate",Lt),V.addEventListener("ended",Dt),V.addEventListener("error",Dt);const Vt=()=>st();g.set(c,{audio:V,cleanup:Vt,startTime:X,endTime:nt});try{await V.play(),S(c)}catch(dt){console.error("[UI] Failed to play snip",dt),pt()}},[cl,te,_,B,lt]),Us=D.useCallback(async()=>{try{const[i,c,g,C]=await Promise.all([vt.listSessions(),vt.getChunksForInspection(),vt.listChunkVolumeProfiles(),vt.listSnips()]);Aa([{name:"sessions",rows:i.map(j=>({...j}))},{name:"chunks",rows:c.map(j=>({...j}))},{name:"chunkVolumes",rows:g.map(j=>({...j,framesPreview:j.frames.slice(0,24),framesTotal:j.frames.length}))},{name:"snips",rows:C.map(j=>({...j,segmentsPreview:j.transcription?.segments?.slice(0,6)??[],segmentsCount:j.transcription?.segments?.length??0}))}]),Ia(j=>j??"sessions")}catch(i){console.error("[UI] Failed to load developer tables",i),Aa([]),Ia("sessions"),await nn("Developer table load failed",{error:i instanceof Error?i.message:String(i)})}},[]),jn=D.useCallback(async i=>{if(pi(i),i){const c=await vt.getLogEntries(i.id);xs(c)}else xs([])},[]),Ni=D.useCallback(async()=>{try{const i=await vt.listLogSessions();Fa(i);const g=kh()??i[0]??null;await jn(g)}catch(i){console.error("[UI] Failed to load log sessions",i),Fa([]),await jn(null),await nn("Log session load failed",{error:i instanceof Error?i.message:String(i)})}},[jn]),Nu=D.useCallback(async i=>{if(!$n)return;const c=An.findIndex(C=>C.id===$n.id);if(c===-1)return;const g=An[c+i];g&&await jn(g)},[jn,An,$n]),Wc=D.useCallback(async()=>{Ca("tables"),Ja(!0),Ea(!0);try{await Us(),await Ni()}catch(i){console.error("[UI] Failed to load developer data",i),Aa([]),Ia(null),await nn("Developer overlay failed to load",{error:i instanceof Error?i.message:String(i)})}finally{Ea(!1)}},[Us,Ni]),ju=`${vs(ct.totalBytes)} / ${vs(ct.limitBytes)}`,ns=H.state==="recording"&&H.capturedMs>0,la=Math.max(0,H.capturedMs),as=`${(la/1e3).toFixed(1)}s`,Pc=H.state==="recording"&&o?.targetBitrate?Math.round(la/1e3*(o.targetBitrate/8)):0,Bs=H.state==="recording"?Math.max(H.bytesBuffered,Pc):H.bytesBuffered,ji=B?.id===H.sessionId&&H.state==="recording",Ru=ze&&!p&&Yt,qs=ji?la:Wa??B?.durationMs??0,ls=Math.max(Wa!==null?Wa/1e3:qs/1e3,Wn.duration),un=D.useMemo(()=>{if(!B||y.length===0)return null;const i=1e12,c=y.map(dt=>dt.startMs).filter(dt=>Number.isFinite(dt)),g=c.length>0?Math.min(...c):0,C=Number.isFinite(g)?g:0,j=C>i,q=dt=>j?dt-C:dt,V=y.filter(dt=>!_e(dt)).map(dt=>{const jt=q(dt.startMs),dn=q(dt.endMs);return!Number.isFinite(jt)||!Number.isFinite(dn)?null:{startMs:jt,endMs:dn,hasAudio:!Ie(dt)}}).filter(dt=>!!dt).sort((dt,jt)=>dt.startMs-jt.startMs),K=Math.max(B.durationMs??0,V.reduce((dt,jt)=>Math.max(dt,jt.endMs),0)),X=[],nt=4;let st=0;const pt=dt=>{if(dt.endMs<=dt.startMs)return;const jt=X[X.length-1];if(jt&&jt.hasAudio===dt.hasAudio&&Math.abs(jt.endMs-dt.startMs)<=nt){jt.endMs=Math.max(jt.endMs,dt.endMs);return}X.push(dt)};V.forEach(dt=>{let jt=Math.max(0,dt.startMs),dn=Math.max(jt,dt.endMs);K>0&&(jt=Math.min(jt,K),dn=Math.min(dn,K)),!(dn<=st)&&(jt>st+nt&&pt({startMs:st,endMs:jt,hasAudio:!1}),pt({startMs:jt,endMs:dn,hasAudio:dt.hasAudio}),st=Math.max(st,dn))}),K>0&&st<K-nt&&pt({startMs:st,endMs:K,hasAudio:!1});const Dt=X.filter(dt=>dt.hasAudio),Lt=[];let Vt=0;return Dt.forEach(dt=>{const jt=Math.max(0,dt.endMs-dt.startMs);jt<=0||(Lt.push({startMs:dt.startMs,endMs:dt.endMs,playStartMs:Vt,playEndMs:Vt+jt}),Vt+=jt)}),{durationMs:K,segments:X,playableDurationMs:Vt,playbackMap:Lt}},[y,Ie,_e,B]),Ls=(un?.playableDurationMs??0)>0,Ri=D.useMemo(()=>{if(!un||un.playbackMap.length===0)return Wn.position;const i=Math.max(0,Wn.position*1e3),c=un.playbackMap.find(C=>i<=C.playEndMs)??un.playbackMap[un.playbackMap.length-1],g=Math.max(0,Math.min(i-c.playStartMs,c.endMs-c.startMs));return Math.max(0,(c.startMs+g)/1e3)},[Wn.position,un]),tr=ls>0?Ri/ls*100:0,er=D.useMemo(()=>{if(!un||un.durationMs<=0)return[];const i=c=>Math.max(0,Math.min(100,c));return un.segments.filter(c=>!c.hasAudio).map(c=>{const g=i(c.startMs/un.durationMs*100),C=i(c.endMs/un.durationMs*100);return{startPct:g,widthPct:Math.max(0,C-g)}}).filter(c=>c.widthPct>0)},[un]),zu=/mp4|m4a/i.test(H.mimeType??"")&&H.chunksRecorded>0,nr=Math.max(0,H.chunksRecorded-(zu?1:0));return f.jsxs("div",{className:"app-shell",children:[Gl?f.jsx("div",{className:"no-audio-flash","aria-hidden":"true"}):null,f.jsxs("header",{className:"app-header",children:[f.jsx("div",{className:"brand",children:f.jsx("h1",{children:"Web Whisper"})}),f.jsxs("div",{className:"header-controls",children:[f.jsxs("div",{className:"buffer-card",role:"status","aria-live":"polite",children:[f.jsx("p",{className:"buffer-label",children:"Data"}),f.jsx("p",{className:"buffer-value",children:ju})]}),Se?f.jsx("button",{className:"dev-trigger",type:"button",onClick:Wc,"aria-label":"Open developer console",children:""}):null,f.jsx("button",{className:"settings-button",type:"button",onClick:()=>At(!0),children:"Settings"})]})]}),mt?f.jsxs("div",{className:"alert-banner",role:"alert",children:[f.jsx("p",{children:mt}),f.jsx("button",{type:"button",onClick:()=>J(null),children:"Dismiss"})]}):null,Ke?f.jsx("div",{className:"groq-setup-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"groq-setup-title",onClick:i=>{i.target===i.currentTarget&&Pt(!1)},children:f.jsxs("div",{className:"groq-setup-dialog",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"groq-setup-header",children:[f.jsx("h2",{id:"groq-setup-title",children:"Groq setup (quick steps)"}),f.jsx("button",{type:"button",className:"groq-setup-close",onClick:()=>Pt(!1),children:"Close"})]}),f.jsxs("div",{className:"groq-setup-body",children:[f.jsx("p",{children:"Groq is a separate service from this app. You will create the API key in your Groq console and paste it here."}),f.jsxs("ol",{children:[f.jsx("li",{children:"Create a free Groq account (no credit card required)."}),f.jsx("li",{children:"Open the Groq console and go to the API Keys page."}),f.jsx("li",{children:"Create a new API key and copy it."}),f.jsx("li",{children:"Back in Settings, paste the key. We auto-check it and turn on transcription."})]})]}),f.jsxs("div",{className:"groq-setup-actions",children:[f.jsx("a",{href:Wo,target:"_blank",rel:"noreferrer",children:"Go to Groq"}),f.jsx("button",{type:"button",onClick:()=>Pt(!1),children:"OK"})]})]})}):null,f.jsxs("main",{className:"content-grid",children:[f.jsxs("aside",{className:"controls-panel","aria-label":"Capture controls",children:[Bc?f.jsxs("div",{className:"onboarding-card",role:"status",children:[f.jsxs("div",{className:"onboarding-header",children:[f.jsx("h3",{children:"Transcription setup is insanely easy."}),f.jsx("button",{type:"button",onClick:()=>void Cu(),children:"Dismiss"})]}),f.jsxs("p",{children:["Groq is a separate service (not this app), and their accounts are free with no credit card required. Recording works out of the box."," ",f.jsx("button",{type:"button",className:"link-button",onClick:()=>Pt(!0),children:"It's easy to set up."})]}),f.jsx("p",{className:"onboarding-highlight",children:"This uses one of the most amazing AI models. It is a crazy amount of value for free."}),f.jsxs("ol",{children:[f.jsx("li",{children:"Create a free Groq account and copy your API key."}),f.jsx("li",{children:"Open Settings and paste the key."}),f.jsx("li",{children:"We auto-check it and turn on transcription."})]}),f.jsx("p",{className:"onboarding-disclaimer",children:"Transcription is powered by Groq's servers (again: a separate service). Whisper on Groq is SO inexpensive. I used it all day intensely and I have never come close to being charged. Groq's pay-as-you-go free tier means you will likely never be charged."}),f.jsxs("div",{className:"onboarding-actions",children:[f.jsx("button",{type:"button",onClick:()=>At(!0),children:"Open Settings"}),f.jsx("a",{href:Wo,target:"_blank",rel:"noreferrer",children:"Get Groq API key"})]})]}):null,f.jsxs("div",{className:"controls-card",children:[f.jsx("h2",{children:"Capture"}),f.jsx("button",{className:`record-toggle ${H.state==="recording"?ns?"record-toggle-stop":"record-toggle-starting":"record-toggle-start"}`,type:"button",onClick:Yc,"aria-pressed":H.state==="recording",disabled:H.state==="recording"&&!ns,children:H.state==="recording"?ns?"Stop recording":"Starting":"Start recording"}),f.jsx("p",{className:"controls-copy",children:H.state==="recording"?ns?`Recording  ${di(Math.floor(la/1e3))} elapsed`:"Starting recorder":"Recorder idle  tap start to begin a durable session."})]})]}),Se&&H.state==="recording"?f.jsxs("div",{className:"dev-strip capture-strip",role:"status","aria-live":"polite",children:[f.jsxs("span",{children:["Audio: ",as," / ",nr," seg",zu?" + init":""]}),f.jsxs("span",{children:["Data: ",vs(Bs)]})]}):null,f.jsx("section",{className:"session-section","aria-label":"Recording sessions",children:f.jsx("ul",{className:"session-list",children:m.map(i=>{const c=i.id===H.sessionId&&H.state==="recording",g=c?di(Math.floor(la/1e3)):a0(i.durationMs),C=N[i.id]??"",j=L[i.id]??0,q=et[i.id],V=q?.transcribedCount??0,K=q?.total??0,X=q?.purgedCount??0,nt=q?.retryableCount??Math.max(0,K-X),st=V>0,pt=Yt&&j>0,Dt=K>0||pt,Lt=i.status==="error"?i.notes??"Recording error.":"",Vt=!!Et[i.id],dt=Yt&&!c&&!!(bt[i.id]||Vt),jt=Yt&&nt>0,dn=i.status==="error"?"error":c?"recording":dt?"transcribing":pt&&Dt?st?"partial":"untranscribed":i.status,Hn=Iy[dn],it=!(i.chunkCount>0&&i.totalBytes>0&&(i.durationMs??0)>0)||i.status==="error",oe=`${l0(i.startedAt)}  ${e0(i.totalBytes)}`,ge=i.id===Wt,Ut=["session-card"];ge&&Ut.push("is-new"),i.status==="error"&&Ut.push("has-error");const ye=c?"Recording in progress...":Lt||(dt?"Finishing transcription...":C||(X>0&&!pt?`Audio purged for ${X} snip${X===1?"":"s"}.`:pt?st?`Partially transcribed (${V}/${K})`:"Transcription failed for all snips.":Yt?"Transcription pending...":Nn?"Recording complete. Waiting for a valid Groq key.":"Recording complete."));return f.jsx("li",{children:f.jsxs("article",{className:Ut.join(" "),role:"button",tabIndex:0,onClick:()=>M(i.id),onKeyDown:gt=>{(gt.key==="Enter"||gt.key===" ")&&(gt.preventDefault(),M(i.id))},children:[f.jsxs("header",{className:"session-topline",children:[f.jsxs("div",{className:"session-topline-left",children:[f.jsx("span",{className:`session-pill ${Hn.pillClass}`,children:Hn.label}),f.jsx("span",{className:"session-duration-label",children:g})]}),f.jsx("div",{className:"session-topline-right",children:f.jsx("span",{className:"session-meta",children:oe})})]}),f.jsxs("div",{className:"session-preview-row",children:[f.jsx("p",{className:"session-preview",children:ye}),dt?f.jsx("span",{className:"session-spinner","aria-label":"Transcribing"}):null,!dt&&jt&&(pt||!C&&!Lt)&&i.status==="ready"?f.jsx("button",{type:"button",className:"session-retry",onClick:gt=>{gt.stopPropagation(),Hc(i.id)},disabled:Vt,"aria-label":`Retry transcription for ${i.title}`,children:Vt?"Retrying":"Retry TX"}):null,it?f.jsx("button",{type:"button",className:"session-delete",onClick:gt=>{gt.stopPropagation(),Qc(i)},disabled:i.id===H.sessionId&&H.state==="recording","aria-label":`Delete ${i.title}`,title:i.id===H.sessionId&&H.state==="recording"?"Stop the active recording before deleting it.":"Delete recording",children:""}):null]})]})},i.id)})})})]}),Ru?f.jsxs("section",{className:`transcription-panel${A?" is-visible":""}`,"aria-live":"polite","aria-label":"Live transcription preview",children:[f.jsx("header",{className:"transcription-header",children:f.jsx("h2",{children:"Live transcription"})}),f.jsxs("div",{className:"transcription-stream",ref:Yl,children:[ma.length===0?f.jsx("p",{className:"transcription-empty",children:"Pending - first words arrive in about 30 seconds."}):ma.map((i,c)=>f.jsx("p",{className:"transcription-line",children:i},`${c}-${i.slice(0,12)}`)),f.jsx("div",{className:"transcription-fade","aria-hidden":"true"})]})]}):null,f.jsx("audio",{ref:Zt,hidden:!0,preload:"none"}),B?f.jsx("div",{className:"detail-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"recording-detail-title",onClick:i=>{i.target===i.currentTarget&&ja()},children:f.jsxs("div",{className:"detail-panel",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"detail-header",children:[f.jsxs("div",{children:[f.jsx("p",{className:"detail-label",children:B.id===H.sessionId&&H.state==="recording"?"Recording in progress":"Recorded session"}),f.jsx("h2",{id:"recording-detail-title",children:t0(qs)})]}),f.jsxs("div",{className:"detail-actions",children:[Se?f.jsx("button",{className:`detail-graph-toggle ${ra?"is-active":""}`,type:"button",onClick:()=>Pa(i=>!i),"aria-pressed":ra,"aria-label":ra?"Hide audio chunking analysis":"Show audio chunking analysis",children:""}):null,Se?f.jsx("button",{className:`detail-doctor-toggle ${Bl?"is-active":""}`,type:"button",onClick:()=>vu(i=>!i),"aria-pressed":Bl,"aria-label":Bl?"Hide recording doctor diagnostics":"Show recording doctor diagnostics",children:""}):null,Se?f.jsx("button",{className:`detail-debug-toggle ${Un?"is-active":""}`,type:"button",onClick:()=>Ul(i=>!i),"aria-pressed":Un,"aria-label":Un?"Hide developer details":"Show developer details",children:""}):null,f.jsx("button",{className:"detail-delete",type:"button",onClick:()=>void Xc(),"aria-label":"Delete recording",disabled:B.id===H.sessionId&&H.state==="recording",title:B.id===H.sessionId&&H.state==="recording"?"Stop the active recording before deleting it.":"Delete recording",children:""}),f.jsx("button",{className:"detail-close",type:"button",onClick:ja,children:"Close"})]})]}),f.jsxs("div",{className:"detail-body",children:[f.jsxs("div",{className:"detail-summary",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Captured:"})," ",sp(B.startedAt)," ",rd(B.startedAt)," "," ",n0(B.startedAt,B.durationMs)]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Size:"})," ",vs(B.totalBytes)]}),Se&&Un?f.jsxs("p",{children:[f.jsx("strong",{children:"Format:"})," ",B.mimeType??"pending"," "," ",f.jsx("strong",{children:"Chunks:"})," ",Ci,aa?" + init":""]}):null]}),f.jsxs("div",{className:"playback-controls",children:[f.jsx("button",{className:`playback-button${Ls?"":" is-disabled"}`,type:"button",onClick:Vc,disabled:Su,"aria-disabled":!Ls,"aria-pressed":Wn.playing,children:Su?"":Wn.playing?"":""}),f.jsxs("div",{className:"playback-progress","aria-hidden":"true",children:[er.map((i,c)=>f.jsx("span",{className:"playback-gap",style:{left:`${i.startPct}%`,width:`${i.widthPct}%`}},`gap-${c}-${i.startPct}`)),f.jsx("div",{className:"playback-progress-bar",style:{width:`${tr}%`}})]}),f.jsxs("span",{className:"playback-timestamps",children:[di(Ri)," / ",di(ls)]}),f.jsxs("div",{className:`volume-control ${at?"is-open":""}`,children:[f.jsx("button",{type:"button",className:"volume-button","aria-pressed":at,"aria-label":at?"Hide volume slider":"Show volume slider",onClick:()=>yt(i=>!i),children:_===0?"":_<.5?"":""}),at?f.jsx("input",{className:"volume-slider",type:"range",min:0,max:100,value:Math.round(_*100),onChange:i=>tt(Number(i.target.value)/100),"aria-label":"Playback volume"}):null]})]}),Es?f.jsx("p",{className:"detail-notes",role:"alert",children:Es}):null,Ls?null:f.jsx("p",{className:"detail-notes",role:"status",children:"Audio was purged for this recording. Playback is unavailable."}),Se&&ra?f.jsx("div",{className:"detail-analysis",children:tl==="loading"?f.jsx("p",{className:"detail-analysis-status",children:"Analyzing audio for pauses"}):tl==="error"?f.jsx("p",{className:"detail-analysis-status",role:"alert",children:Oe??"Unable to analyze audio."}):ta?f.jsx(Oy,{analysis:ta,targetRange:{minMs:5e3,idealMs:1e4,maxMs:6e4},playback:{positionMs:Math.max(0,Wn.position*1e3),isPlaying:Wn.playing}}):f.jsx("p",{className:"detail-analysis-status",children:"Preparing analysis"})}):null,f.jsxs("div",{className:"detail-transcription",children:[f.jsx("h3",{children:"Transcription"}),Yt?f.jsx("div",{className:"detail-transcription-actions",children:f.jsx("button",{type:"button",className:"detail-transcription-retry",onClick:()=>void Lc(),disabled:Cs||b.length===0||re.retryableCount===0,children:Cs?"Retrying":"Retry TX"})}):null,Yt?null:f.jsxs("div",{className:"detail-transcription-blocked",role:"status",children:[f.jsx("p",{children:Ye??"Transcription is unavailable right now."}),f.jsx("button",{type:"button",onClick:()=>At(!0),children:"Open Settings"})]}),b.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No snips recorded yet."}):Yt&&re.transcribedCount===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No snip transcriptions yet. Open the snip list to retry each segment."}):re.transcribedCount>0?f.jsx("textarea",{ref:Si,className:"detail-transcription-text",readOnly:!0,value:re.text,onClick:Fe,"aria-label":"Session transcription text",rows:Math.min(8,Math.max(3,Math.ceil(re.text.length/90)))}):null,b.length>0&&(Yt||re.transcribedCount>0)?f.jsxs("p",{className:"detail-transcription-meta",children:["Transcribed ",re.transcribedCount," of ",re.total," snips."]}):null,Yt&&re.errorCount>0?f.jsxs("p",{className:"detail-transcription-error",role:"alert",children:[re.errorCount," snip transcription error",re.errorCount===1?"":"s"," recorded. See the snip list for details."]}):null,re.purgedCount>0?f.jsxs("p",{className:"detail-transcription-note",children:["Audio purged for ",re.purgedCount," snip",re.purgedCount===1?"":"s"," to stay under the storage cap. Retries are disabled for purged audio."]}):null]}),Se&&Bl?f.jsxs("div",{className:"detail-doctor",children:[f.jsxs("div",{className:"detail-doctor-header",children:[f.jsx("h3",{children:"Doctor diagnostics"}),f.jsxs("div",{className:"detail-doctor-actions",children:[f.jsx("button",{type:"button",onClick:async()=>{if(B){ca(null),In(null);try{await vt.init();const c=kh()?.id??null,g=c?await vt.getLogEntries(c,400):[],C=Zc({session:B,doctorReports:Ae,logs:g.map(j=>({level:j.level,message:j.message,timestamp:j.timestamp}))});In(C);try{await Kc(C),ca("Copied compact report to clipboard."),window.setTimeout(()=>ca(null),2500)}catch{ca("Clipboard copy blocked; compact report shown below (tap Select all).")}}catch(i){ca(`Copy failed: ${i instanceof Error?i.message:String(i)}`)}}},disabled:pe,children:"Copy compact report"}),f.jsx("button",{type:"button",onClick:()=>{Vl.current+=1,Tn(!1),He(null)},disabled:!pe,children:"Cancel"}),f.jsx("button",{type:"button",onClick:()=>void Ic(),disabled:pe,children:pe?"Running":"Run selected tests"})]})]}),ql?f.jsx("p",{className:"detail-transcription-placeholder",children:ql}):null,Ll?f.jsxs("div",{className:"doctor-export",children:[f.jsxs("div",{className:"doctor-export-actions",children:[f.jsx("button",{type:"button",onClick:()=>{const i=document.getElementById("doctor-export-textarea");i&&(i.focus(),i.select())},children:"Select all"}),f.jsx("button",{type:"button",onClick:()=>In(null),children:"Hide"})]}),f.jsx("textarea",{id:"doctor-export-textarea",className:"doctor-export-textarea",readOnly:!0,value:Ll,rows:10})]}):null,f.jsx("p",{className:"detail-transcription-placeholder",children:"Runs quick integrity checks to help identify whether corruption is in stored chunks or in range access/decoding."}),f.jsxs("div",{className:"doctor-test-list",children:[f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:$e.sanityChecks,disabled:pe,onChange:i=>Jn(c=>({...c,sanityChecks:i.target.checked}))}),f.jsx("span",{children:"Sanity checks (durations, snip bounds, chunk timing)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:$e.chunkCoverageScan,disabled:pe,onChange:i=>Jn(c=>({...c,chunkCoverageScan:i.target.checked}))}),f.jsx("span",{children:"Chunk coverage scan (IndexedDB timings/coverage, 0.1s)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:$e.rangeAccessScan,disabled:pe,onChange:i=>Jn(c=>({...c,rangeAccessScan:i.target.checked}))}),f.jsx("span",{children:"Range access scan via slice API (decode+inspect, 0.1s)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:$e.chunkDecodeScan,disabled:pe,onChange:i=>Jn(c=>({...c,chunkDecodeScan:i.target.checked}))}),f.jsx("span",{children:"Per-chunk decode scan (decode each chunk blob)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:$e.snipScan,disabled:pe,onChange:i=>Jn(c=>({...c,snipScan:i.target.checked}))}),f.jsx("span",{children:"Snip scan (inspect each snip range)"})]})]}),Le?f.jsxs("p",{className:"detail-transcription-placeholder",children:[Le.label,": ",Le.completed,"/",Le.total]}):null,bu?f.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:bu}):null,Ae?.sanity?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Sanity checks"}),f.jsxs("p",{className:"doctor-summary",children:["Session duration: ",((Ae.sanity.metrics.sessionDurationMs??0)/1e3).toFixed(1),"s  Chunk timebase: ",Ae.sanity.metrics.chunkTimebase,"  Chunk max end:"," ",((Ae.sanity.metrics.chunkMaxOffsetMs??0)/1e3).toFixed(1),"s  Chunk sum:"," ",((Ae.sanity.metrics.chunkSumDurationMs??0)/1e3).toFixed(1),"s  Snips:"," ",Ae.sanity.metrics.snipCount??0,"  Snip max end:"," ",((Ae.sanity.metrics.snipMaxEndMs??0)/1e3).toFixed(1),"s  Snip sum:"," ",((Ae.sanity.metrics.snipSumDurationMs??0)/1e3).toFixed(1),"s"]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ts(`sanity-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:Ae.sanity}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Ae.sanity.findings.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No findings."}):Ae.sanity.findings.map((i,c)=>f.jsx("div",{className:`doctor-detail-row is-${i.level==="info"?"ok":i.level}`,children:f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:i.level.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:i.message})]})},c))})]}):null,(()=>{const i=Ae?.chunkCoverage;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Chunk coverage scan"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Chunk coverage results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`${yn(c.startMs)}${yn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ue(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ue(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ue(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected segments:"," ",i.metrics.expectedItemCount??0,"  Observed segments: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ts(`chunk-coverage-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Pl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ue(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:[yn(g.startMs),"",yn(g.endMs)]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=Ae?.rangeAccess;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Range access scan (0.1s)"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Range access results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`${yn(c.startMs)}${yn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ue(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ue(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ue(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected windows:"," ",i.metrics.expectedItemCount??0,"  Decoded windows: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ts(`range-access-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Pl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ue(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:[yn(g.startMs),"",yn(g.endMs)]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=Ae?.chunkDecode;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Per-chunk decode scan"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Per-chunk decode results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`Chunk #${c.index+1}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ue(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ue(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ue(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Decoded audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected chunks:"," ",i.metrics.expectedItemCount??0,"  Decoded chunks: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ts(`chunk-decode-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Pl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ue(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=Ae?.snipScan;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Snip scan (each snip)"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Snip scan results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`Snip #${c.index+1}  ${yn(c.startMs)}${yn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ue(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ue(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ue(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected snips:"," ",i.metrics.expectedItemCount??0,"  Decoded snips: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ts(`snip-scan-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Pl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ue(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})()]}):null,Se&&Un?f.jsxs("div",{className:"detail-chunks",children:[f.jsxs("div",{className:"detail-slices-header",children:[f.jsxs("h3",{children:[hn==="chunks"?`Chunks (${Ci}${aa?" + init":""})`:`Snips (${b.length})`," "," ",B.mimeType??"pending"]}),f.jsxs("div",{className:"detail-slice-toggle",role:"tablist","aria-label":"Slice mode",children:[f.jsx("button",{type:"button",role:"tab","aria-selected":hn==="chunks",className:hn==="chunks"?"is-selected":"",onClick:()=>gi("chunks"),children:"Chunks"}),f.jsx("button",{type:"button",role:"tab","aria-selected":hn==="snips",className:hn==="snips"?"is-selected":"",onClick:()=>gi("snips"),children:"Snips"})]})]}),hn==="chunks"?y.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No chunks persisted yet."}):f.jsx("ul",{className:"chunk-list",children:y.map(i=>{const c=Math.max(0,(i.endMs-i.startMs)/1e3),g=c<10?2:1,C=`${c.toFixed(g)} s`,j=_e(i),q=W===i.id,V=i.seq+1,K=Ie(i),X=j?`Chunk ${V} is an init segment without audio`:K?`Chunk ${V} audio purged`:q?`Pause chunk ${V}`:`Play chunk ${V}`;return f.jsxs("li",{className:`chunk-item ${j?"header-chunk":""}`,children:[f.jsx("button",{type:"button",className:`chunk-play ${q?"is-playing":""}`,onClick:()=>void wu(i),"aria-pressed":q,"aria-label":X,disabled:j||K,title:j?"Init segment (no audio payload)":K?"Audio purged to stay under the storage cap":void 0,children:j?"NA":q?"":""}),f.jsxs("span",{children:["#",V]}),f.jsx("span",{children:C}),f.jsx("span",{children:vs(i.byteLength)}),f.jsx("button",{type:"button",className:"chunk-download",onClick:()=>Mu(i),"aria-label":`Download chunk ${V}`,disabled:j||K,title:j?"Init segment (typically no downloadable audio)":K?"Audio purged to stay under the storage cap":void 0,children:""}),j?f.jsx("span",{className:"chunk-flag",children:"init segment"}):null,K?f.jsx("span",{className:"chunk-flag is-purged",children:"purged"}):null]},i.id)})}):tl==="loading"&&b.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"Analyzing audio for snips"}):tl==="error"&&b.length===0?f.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:Oe??"Unable to analyze audio."}):b.length?f.jsxs(f.Fragment,{children:[tl==="error"&&Oe?f.jsxs("p",{className:"detail-transcription-placeholder",role:"alert",children:["Snip refresh failed: ",Oe]}):null,f.jsx("ul",{className:"chunk-list",children:b.map(i=>{const c=i.index+1,g=Math.max(0,i.durationMs/1e3),C=g<10?2:1,j=`${g.toFixed(C)} s`,q=i.id,V=lt===q,K=!!Hl[i.id],X=Ka(i),nt=X.length>0,st=te(i),pt=st?`Snip ${c} audio purged`:V?`Pause snip ${c}`:`Play snip ${c}`,Dt=st?`Snip ${c} audio purged`:Yt?K?`Transcribing snip ${c}`:nt?`Retry transcription for snip ${c}`:`Transcribe snip ${c}`:`Transcription paused. Open Settings to enable snip ${c}.`,Lt=st?"Audio purged":Yt?K&&!ji?"Transcribing":nt?"Transcribed":"Pending":"Paused",Vt=st?"is-purged":nt?"is-ready":Yt?"is-pending":"is-paused";return f.jsxs("li",{className:"chunk-item",children:[f.jsx("button",{type:"button",className:`chunk-play ${V?"is-playing":""}`,onClick:()=>void Du(i),"aria-pressed":V,"aria-label":pt,disabled:st,children:V?"":""}),f.jsxs("span",{children:["#",c]}),f.jsx("span",{children:j}),f.jsxs("span",{children:[di(Math.round(i.startMs/1e3)),"  ",di(Math.round(i.endMs/1e3))]}),f.jsx("span",{className:`snip-transcription-status ${Vt}`,children:Lt}),f.jsx("button",{type:"button",className:"chunk-download",onClick:()=>void wi(i,c),"aria-label":`Download snip ${c}`,disabled:st,children:""}),f.jsx("button",{type:"button",className:"snip-transcribe",onClick:()=>void qc(i),"aria-label":Dt,disabled:K||st||!Yt,children:Yt?nt?"Retry":"Tx":"Off"}),X?f.jsx("textarea",{className:"snip-transcription-text",readOnly:!0,value:X,onClick:Fe,"aria-label":`Snip ${c} transcription`,rows:Math.min(6,Math.max(2,Math.ceil(X.length/80)))}):null,i.transcriptionError?f.jsx("span",{className:"snip-transcription-error",role:"alert",children:i.transcriptionError}):null,st?f.jsx("span",{className:"snip-retention-note",children:Wh}):null]},q)})})]}):f.jsx("p",{className:"detail-transcription-placeholder",children:"No snips available yet."})]}):null,B.status==="error"&&B.notes?f.jsx("p",{className:"detail-notes",children:B.notes}):null]})]})}):null,wt?f.jsx("div",{className:"settings-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",onClick:i=>{i.target===i.currentTarget&&At(!1)},children:f.jsxs("div",{className:"settings-dialog",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"settings-header",children:[f.jsx("h2",{id:"settings-title",children:"Settings"}),f.jsx("button",{type:"button",className:"settings-close",onClick:()=>At(!1),children:"Close"})]}),f.jsxs("div",{className:"settings-body",children:[f.jsxs("section",{className:"settings-section","aria-labelledby":"settings-transcription-title",children:[f.jsxs("div",{className:"settings-section-header",children:[f.jsx("h3",{id:"settings-transcription-title",children:"Transcription"}),f.jsxs("div",{className:"settings-status",children:[f.jsx("span",{className:`settings-pill ${na}`,children:Rs}),js?null:f.jsx("button",{type:"button",className:"settings-inline",onClick:()=>Pt(!0),children:"Enable"})]})]}),f.jsxs("p",{className:"settings-hint",children:["Groq is a separate service (not this app). Their free account takes about a minute to set up, and this app auto-checks your key after you paste it."," ",f.jsx("button",{type:"button",className:"link-button",onClick:()=>Pt(!0),children:"It's easy to set up."})]}),f.jsxs("ol",{className:"settings-cheatsheet",children:[f.jsx("li",{children:"Create a free Groq account and copy the API key."}),f.jsx("li",{children:"Paste the key here (we auto-check it)."}),f.jsx("li",{children:"Transcription turns on as soon as the key validates."})]}),f.jsxs("label",{className:"settings-field",children:[f.jsx("span",{children:"Groq API key"}),f.jsx("input",{type:"text",value:o?.groqApiKey??"",onChange:i=>void Tu(i.target.value),placeholder:"sk-",autoComplete:"off"})]}),f.jsxs("div",{className:"settings-validation",children:[f.jsxs("span",{className:`settings-validation-status ${Ti}`,children:["Key status: ",Ai]}),f.jsx("button",{type:"button",onClick:()=>void fa(),disabled:!Nn||ue==="validating",children:ue==="validating"?"Checking...":"Recheck key"})]}),oa?f.jsx("p",{className:"settings-error",role:"alert",children:oa}):null,f.jsxs("p",{className:"settings-disclaimer",children:["Need a key?"," ",f.jsx("a",{href:Wo,target:"_blank",rel:"noreferrer",children:"Create one in Groq Console"}),". Groq is a separate service and handles billing directly. Whisper on Groq is SO inexpensive. I used it all day intensely and I have never come close to being charged. Groq's pay-as-you-go free tier means you will likely never be charged. See"," ",f.jsx("a",{href:Py,target:"_blank",rel:"noreferrer",children:"Groq pricing"}),"."]})]}),f.jsxs("section",{className:"settings-section","aria-labelledby":"settings-app-title",children:[f.jsx("h3",{id:"settings-app-title",children:"App"}),f.jsxs("label",{className:"settings-field settings-checkbox",children:[f.jsx("input",{type:"checkbox",checked:Se,onChange:i=>void Fc(i.target.checked)}),f.jsx("span",{children:"Enable developer mode"})]}),f.jsxs("label",{className:"settings-field",children:[f.jsx("span",{children:"Storage cap (MB)"}),f.jsx("input",{type:"number",min:1,value:Math.round(ll/cd),onChange:i=>void es(i.target.value)})]})]})]})]})}):null,Se&&_l?f.jsx("div",{className:"dev-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"dev-console-title",onClick:i=>{i.target===i.currentTarget&&_s()},children:f.jsxs("div",{className:"dev-panel",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"dev-panel-header",children:[f.jsx("h2",{id:"dev-console-title",children:"Developer Console"}),f.jsx("button",{type:"button",className:"dev-close",onClick:_s,children:"Close"})]}),f.jsxs("div",{className:"dev-panel-toolbar",children:[f.jsx("button",{type:"button",className:Ms==="tables"?"is-selected":"",onClick:()=>{Ca("tables"),Ea(!0),Us().finally(()=>Ea(!1))},children:"IndexedDB"}),f.jsx("button",{type:"button",className:Ms==="logs"?"is-selected":"",onClick:()=>{Ca("logs"),Ea(!0),Ni().finally(()=>Ea(!1))},children:"Logs"})]}),Ms==="tables"?f.jsxs("div",{className:"dev-panel-body",children:[f.jsx("div",{className:"dev-table-buttons",children:ua.map(i=>f.jsxs("button",{type:"button",className:Ta===i.name?"is-selected":"",onClick:()=>Ia(i.name),children:[i.name,f.jsx("span",{className:"dev-table-count",children:i.rows.length})]},i.name))}),f.jsx("div",{className:"dev-table-rows",children:Ss?f.jsx("p",{children:"Loading"}):Ta?(()=>{const i=ua.find(c=>c.name===Ta);return i?i.rows.length===0?f.jsx("p",{children:"No rows."}):Ta==="chunks"?i.rows.map((g,C)=>{const j=typeof g.id=="string"?g.id:`${g.sessionId??"chunk"}-${g.seq??C}`,q=typeof g.blobSize=="number"?g.blobSize:null,V=typeof g.verifiedByteLength=="number"?g.verifiedByteLength:null,K=q!==null?`${q} B (${vs(q)})`:"unknown",X=V!==null?`${V} B (${vs(V)})`:"unverified",nt=!!(g.sizeMismatch??(V!==null&&q!==null&&V!==q));return f.jsxs("div",{className:`dev-table-chunk ${nt?"has-mismatch":""}`,children:[f.jsx("pre",{children:JSON.stringify(g,null,2)}),f.jsxs("p",{className:"dev-chunk-extra",children:[f.jsxs("span",{children:["blob.size: ",K]}),f.jsxs("span",{children:["verified: ",X]}),f.jsx("span",{className:nt?"dev-chunk-warning":"dev-chunk-ok",children:nt?" size mismatch":" sizes match"})]})]},j)}):Ta==="chunkVolumes"?i.rows.map((g,C)=>{const j=`${g.sessionId}-${g.chunkId}-${C}`,q=g.framesTotal??g.frames.length,V=typeof g.averageNormalized=="number"?g.averageNormalized:0,K=typeof g.maxNormalized=="number"?g.maxNormalized:0,X=typeof g.durationMs=="number"?(g.durationMs/1e3).toFixed(2):"0.00";return f.jsxs("div",{className:"dev-table-chunk",children:[f.jsx("pre",{children:JSON.stringify(g,null,2)}),f.jsxs("p",{className:"dev-chunk-extra",children:[f.jsxs("span",{children:["frames: ",q]}),f.jsxs("span",{children:["duration: ",X,"s"]}),f.jsxs("span",{children:["avg volume: ",V.toFixed(4)]}),f.jsxs("span",{children:["peak volume: ",K.toFixed(4)]})]})]},j)}):i.rows.map((c,g)=>f.jsx("pre",{children:JSON.stringify(c,null,2)},g)):f.jsx("p",{children:"No rows."})})():f.jsx("p",{children:"Select a table to inspect rows."})})]}):f.jsxs("div",{className:"dev-log-body",children:[f.jsxs("div",{className:"dev-log-header",children:[f.jsx("button",{type:"button",onClick:()=>void Nu(-1),disabled:!$n||An.findIndex(i=>i.id===$n.id)===An.length-1,children:""}),f.jsxs("select",{value:$n?.id??"",onChange:i=>{const c=An.find(g=>g.id===i.target.value)??null;jn(c)},children:[An.length===0?f.jsx("option",{value:"",children:"No sessions"}):null,An.map(i=>f.jsx("option",{value:i.id,children:new Date(i.startedAt).toLocaleString()},i.id))]}),f.jsx("button",{type:"button",onClick:()=>void Nu(1),disabled:!$n||An.findIndex(i=>i.id===$n.id)<=0,children:""})]}),f.jsx("div",{className:"dev-log-entries",children:Ss?f.jsx("p",{children:"Loading"}):$n?an.length===0?f.jsx("p",{children:"No entries for this session."}):an.map(i=>f.jsxs("article",{className:`dev-log-entry level-${i.level}`,children:[f.jsxs("header",{children:[f.jsx("span",{className:"dev-log-message",children:i.message}),f.jsxs("span",{className:"dev-log-meta",children:[f.jsx("span",{className:"dev-log-level",children:i.level.toUpperCase()}),f.jsx("time",{dateTime:new Date(i.timestamp).toISOString(),children:c0(i.timestamp)})]})]}),i.details?f.jsx("code",{className:"dev-log-details",children:typeof i.details=="string"?i.details:JSON.stringify(i.details)}):null]},i.id??`${i.timestamp}`)):f.jsx("p",{children:"No log sessions found."})})]})]})}):null]})}document.title="Web Whisper";Ug({immediate:!0});zg.createRoot(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(r0,{})}));
