(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))o(p);new MutationObserver(p=>{for(const M of p)if(M.type==="childList")for(const y of M.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&o(y)}).observe(document,{childList:!0,subtree:!0});function f(p){const M={};return p.integrity&&(M.integrity=p.integrity),p.referrerPolicy&&(M.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?M.credentials="include":p.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function o(p){if(p.ep)return;p.ep=!0;const M=f(p);fetch(p.href,M)}})();var Bo={exports:{}},uu={};var oh;function xg(){if(oh)return uu;oh=1;var d=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function f(o,p,M){var y=null;if(M!==void 0&&(y=""+M),p.key!==void 0&&(y=""+p.key),"key"in p){M={};for(var T in p)T!=="key"&&(M[T]=p[T])}else M=p;return p=M.ref,{$$typeof:d,type:o,key:y,ref:p!==void 0?p:null,props:M}}return uu.Fragment=r,uu.jsx=f,uu.jsxs=f,uu}var dh;function Eg(){return dh||(dh=1,Bo.exports=xg()),Bo.exports}var h=Eg(),Lo={exports:{}},At={};var fh;function Ag(){if(fh)return At;fh=1;var d=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),y=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),q=Symbol.iterator;function J(S){return S===null||typeof S!="object"?null:(S=q&&S[q]||S["@@iterator"],typeof S=="function"?S:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Et={};function it(S,U,tt){this.props=S,this.context=U,this.refs=Et,this.updater=tt||et}it.prototype.isReactComponent={},it.prototype.setState=function(S,U){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,U,"setState")},it.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function bt(){}bt.prototype=it.prototype;function ot(S,U,tt){this.props=S,this.context=U,this.refs=Et,this.updater=tt||et}var H=ot.prototype=new bt;H.constructor=ot,F(H,it.prototype),H.isPureReactComponent=!0;var P=Array.isArray;function mt(){}var I={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function Ht(S,U,tt){var at=tt.ref;return{$$typeof:d,type:S,key:U,ref:at!==void 0?at:null,props:tt}}function ee(S,U){return Ht(S.type,U,S.props)}function It(S){return typeof S=="object"&&S!==null&&S.$$typeof===d}function Ft(S){var U={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(tt){return U[tt]})}var an=/\/+/g;function Ne(S,U){return typeof S=="object"&&S!==null&&S.key!=null?Ft(""+S.key):U.toString(36)}function Ee(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(mt,mt):(S.status="pending",S.then(function(U){S.status==="pending"&&(S.status="fulfilled",S.value=U)},function(U){S.status==="pending"&&(S.status="rejected",S.reason=U)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function A(S,U,tt,at,yt){var Ct=typeof S;(Ct==="undefined"||Ct==="boolean")&&(S=null);var Tt=!1;if(S===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(S.$$typeof){case d:case r:Tt=!0;break;case D:return Tt=S._init,A(Tt(S._payload),U,tt,at,yt)}}if(Tt)return yt=yt(S),Tt=at===""?"."+Ne(S,0):at,P(yt)?(tt="",Tt!=null&&(tt=Tt.replace(an,"$&/")+"/"),A(yt,U,tt,"",function(Qa){return Qa})):yt!=null&&(It(yt)&&(yt=ee(yt,tt+(yt.key==null||S&&S.key===yt.key?"":(""+yt.key).replace(an,"$&/")+"/")+Tt)),U.push(yt)),1;Tt=0;var Ye=at===""?".":at+":";if(P(S))for(var ue=0;ue<S.length;ue++)at=S[ue],Ct=Ye+Ne(at,ue),Tt+=A(at,U,tt,Ct,yt);else if(ue=J(S),typeof ue=="function")for(S=ue.call(S),ue=0;!(at=S.next()).done;)at=at.value,Ct=Ye+Ne(at,ue++),Tt+=A(at,U,tt,Ct,yt);else if(Ct==="object"){if(typeof S.then=="function")return A(Ee(S),U,tt,at,yt);throw U=String(S),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function X(S,U,tt){if(S==null)return S;var at=[],yt=0;return A(S,at,"","",function(Ct){return U.call(tt,Ct,yt++)}),at}function W(S){if(S._status===-1){var U=S._result;U=U(),U.then(function(tt){(S._status===0||S._status===-1)&&(S._status=1,S._result=tt)},function(tt){(S._status===0||S._status===-1)&&(S._status=2,S._result=tt)}),S._status===-1&&(S._status=0,S._result=U)}if(S._status===1)return S._result.default;throw S._result}var $=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},st={map:X,forEach:function(S,U,tt){X(S,function(){U.apply(this,arguments)},tt)},count:function(S){var U=0;return X(S,function(){U++}),U},toArray:function(S){return X(S,function(U){return U})||[]},only:function(S){if(!It(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return At.Activity=E,At.Children=st,At.Component=it,At.Fragment=f,At.Profiler=p,At.PureComponent=ot,At.StrictMode=o,At.Suspense=b,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,At.__COMPILER_RUNTIME={__proto__:null,c:function(S){return I.H.useMemoCache(S)}},At.cache=function(S){return function(){return S.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(S,U,tt){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var at=F({},S.props),yt=S.key;if(U!=null)for(Ct in U.key!==void 0&&(yt=""+U.key),U)!ct.call(U,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&U.ref===void 0||(at[Ct]=U[Ct]);var Ct=arguments.length-2;if(Ct===1)at.children=tt;else if(1<Ct){for(var Tt=Array(Ct),Ye=0;Ye<Ct;Ye++)Tt[Ye]=arguments[Ye+2];at.children=Tt}return Ht(S.type,yt,at)},At.createContext=function(S){return S={$$typeof:y,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:M,_context:S},S},At.createElement=function(S,U,tt){var at,yt={},Ct=null;if(U!=null)for(at in U.key!==void 0&&(Ct=""+U.key),U)ct.call(U,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=U[at]);var Tt=arguments.length-2;if(Tt===1)yt.children=tt;else if(1<Tt){for(var Ye=Array(Tt),ue=0;ue<Tt;ue++)Ye[ue]=arguments[ue+2];yt.children=Ye}if(S&&S.defaultProps)for(at in Tt=S.defaultProps,Tt)yt[at]===void 0&&(yt[at]=Tt[at]);return Ht(S,Ct,yt)},At.createRef=function(){return{current:null}},At.forwardRef=function(S){return{$$typeof:T,render:S}},At.isValidElement=It,At.lazy=function(S){return{$$typeof:D,_payload:{_status:-1,_result:S},_init:W}},At.memo=function(S,U){return{$$typeof:v,type:S,compare:U===void 0?null:U}},At.startTransition=function(S){var U=I.T,tt={};I.T=tt;try{var at=S(),yt=I.S;yt!==null&&yt(tt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(mt,$)}catch(Ct){$(Ct)}finally{U!==null&&tt.types!==null&&(U.types=tt.types),I.T=U}},At.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},At.use=function(S){return I.H.use(S)},At.useActionState=function(S,U,tt){return I.H.useActionState(S,U,tt)},At.useCallback=function(S,U){return I.H.useCallback(S,U)},At.useContext=function(S){return I.H.useContext(S)},At.useDebugValue=function(){},At.useDeferredValue=function(S,U){return I.H.useDeferredValue(S,U)},At.useEffect=function(S,U){return I.H.useEffect(S,U)},At.useEffectEvent=function(S){return I.H.useEffectEvent(S)},At.useId=function(){return I.H.useId()},At.useImperativeHandle=function(S,U,tt){return I.H.useImperativeHandle(S,U,tt)},At.useInsertionEffect=function(S,U){return I.H.useInsertionEffect(S,U)},At.useLayoutEffect=function(S,U){return I.H.useLayoutEffect(S,U)},At.useMemo=function(S,U){return I.H.useMemo(S,U)},At.useOptimistic=function(S,U){return I.H.useOptimistic(S,U)},At.useReducer=function(S,U,tt){return I.H.useReducer(S,U,tt)},At.useRef=function(S){return I.H.useRef(S)},At.useState=function(S){return I.H.useState(S)},At.useSyncExternalStore=function(S,U,tt){return I.H.useSyncExternalStore(S,U,tt)},At.useTransition=function(){return I.H.useTransition()},At.version="19.2.0",At}var mh;function sd(){return mh||(mh=1,Lo.exports=Ag()),Lo.exports}var N=sd(),qo={exports:{}},cu={},Ho={exports:{}},Go={};var hh;function Tg(){return hh||(hh=1,(function(d){function r(A,X){var W=A.length;A.push(X);t:for(;0<W;){var $=W-1>>>1,st=A[$];if(0<p(st,X))A[$]=X,A[W]=st,W=$;else break t}}function f(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var X=A[0],W=A.pop();if(W!==X){A[0]=W;t:for(var $=0,st=A.length,S=st>>>1;$<S;){var U=2*($+1)-1,tt=A[U],at=U+1,yt=A[at];if(0>p(tt,W))at<st&&0>p(yt,tt)?(A[$]=yt,A[at]=W,$=at):(A[$]=tt,A[U]=W,$=U);else if(at<st&&0>p(yt,W))A[$]=yt,A[at]=W,$=at;else break t}}return X}function p(A,X){var W=A.sortIndex-X.sortIndex;return W!==0?W:A.id-X.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var M=performance;d.unstable_now=function(){return M.now()}}else{var y=Date,T=y.now();d.unstable_now=function(){return y.now()-T}}var b=[],v=[],D=1,E=null,q=3,J=!1,et=!1,F=!1,Et=!1,it=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function H(A){for(var X=f(v);X!==null;){if(X.callback===null)o(v);else if(X.startTime<=A)o(v),X.sortIndex=X.expirationTime,r(b,X);else break;X=f(v)}}function P(A){if(F=!1,H(A),!et)if(f(b)!==null)et=!0,mt||(mt=!0,Ft());else{var X=f(v);X!==null&&Ee(P,X.startTime-A)}}var mt=!1,I=-1,ct=5,Ht=-1;function ee(){return Et?!0:!(d.unstable_now()-Ht<ct)}function It(){if(Et=!1,mt){var A=d.unstable_now();Ht=A;var X=!0;try{t:{et=!1,F&&(F=!1,bt(I),I=-1),J=!0;var W=q;try{e:{for(H(A),E=f(b);E!==null&&!(E.expirationTime>A&&ee());){var $=E.callback;if(typeof $=="function"){E.callback=null,q=E.priorityLevel;var st=$(E.expirationTime<=A);if(A=d.unstable_now(),typeof st=="function"){E.callback=st,H(A),X=!0;break e}E===f(b)&&o(b),H(A)}else o(b);E=f(b)}if(E!==null)X=!0;else{var S=f(v);S!==null&&Ee(P,S.startTime-A),X=!1}}break t}finally{E=null,q=W,J=!1}X=void 0}}finally{X?Ft():mt=!1}}}var Ft;if(typeof ot=="function")Ft=function(){ot(It)};else if(typeof MessageChannel<"u"){var an=new MessageChannel,Ne=an.port2;an.port1.onmessage=It,Ft=function(){Ne.postMessage(null)}}else Ft=function(){it(It,0)};function Ee(A,X){I=it(function(){A(d.unstable_now())},X)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(A){A.callback=null},d.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<A?Math.floor(1e3/A):5},d.unstable_getCurrentPriorityLevel=function(){return q},d.unstable_next=function(A){switch(q){case 1:case 2:case 3:var X=3;break;default:X=q}var W=q;q=X;try{return A()}finally{q=W}},d.unstable_requestPaint=function(){Et=!0},d.unstable_runWithPriority=function(A,X){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=q;q=A;try{return X()}finally{q=W}},d.unstable_scheduleCallback=function(A,X,W){var $=d.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,A){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=W+st,A={id:D++,callback:X,priorityLevel:A,startTime:W,expirationTime:st,sortIndex:-1},W>$?(A.sortIndex=W,r(v,A),f(b)===null&&A===f(v)&&(F?(bt(I),I=-1):F=!0,Ee(P,W-$))):(A.sortIndex=st,r(b,A),et||J||(et=!0,mt||(mt=!0,Ft()))),A},d.unstable_shouldYield=ee,d.unstable_wrapCallback=function(A){var X=q;return function(){var W=q;q=X;try{return A.apply(this,arguments)}finally{q=W}}}})(Go)),Go}var ph;function wg(){return ph||(ph=1,Ho.exports=Tg()),Ho.exports}var Yo={exports:{}},en={};var gh;function Cg(){if(gh)return en;gh=1;var d=sd();function r(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)v+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var o={d:{f,r:function(){throw Error(r(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},p=Symbol.for("react.portal");function M(b,v,D){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:E==null?null:""+E,children:b,containerInfo:v,implementation:D}}var y=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,en.createPortal=function(b,v){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(r(299));return M(b,v,null,D)},en.flushSync=function(b){var v=y.T,D=o.p;try{if(y.T=null,o.p=2,b)return b()}finally{y.T=v,o.p=D,o.d.f()}},en.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,o.d.C(b,v))},en.prefetchDNS=function(b){typeof b=="string"&&o.d.D(b)},en.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var D=v.as,E=T(D,v.crossOrigin),q=typeof v.integrity=="string"?v.integrity:void 0,J=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;D==="style"?o.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:q,fetchPriority:J}):D==="script"&&o.d.X(b,{crossOrigin:E,integrity:q,fetchPriority:J,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},en.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var D=T(v.as,v.crossOrigin);o.d.M(b,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&o.d.M(b)},en.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var D=v.as,E=T(D,v.crossOrigin);o.d.L(b,D,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},en.preloadModule=function(b,v){if(typeof b=="string")if(v){var D=T(v.as,v.crossOrigin);o.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else o.d.m(b)},en.requestFormReset=function(b){o.d.r(b)},en.unstable_batchedUpdates=function(b,v){return b(v)},en.useFormState=function(b,v,D){return y.H.useFormState(b,v,D)},en.useFormStatus=function(){return y.H.useHostTransitionStatus()},en.version="19.2.0",en}var yh;function Dg(){if(yh)return Yo.exports;yh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(r){console.error(r)}}return d(),Yo.exports=Cg(),Yo.exports}var vh;function Ng(){if(vh)return cu;vh=1;var d=wg(),r=sd(),f=Dg();function o(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function M(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function y(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(M(t)!==t)throw Error(o(188))}function v(t){var e=t.alternate;if(!e){if(e=M(t),e===null)throw Error(o(188));return e!==t?null:t}for(var n=t,a=e;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return b(l),t;if(s===a)return b(l),e;s=s.sibling}throw Error(o(188))}if(n.return!==a.return)n=l,a=s;else{for(var u=!1,m=l.child;m;){if(m===n){u=!0,n=l,a=s;break}if(m===a){u=!0,a=l,n=s;break}m=m.sibling}if(!u){for(m=s.child;m;){if(m===n){u=!0,n=s,a=l;break}if(m===a){u=!0,a=s,n=l;break}m=m.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?t:e}function D(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=D(t),e!==null)return e;t=t.sibling}return null}var E=Object.assign,q=Symbol.for("react.element"),J=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Et=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),Ht=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),It=Symbol.iterator;function Ft(t){return t===null||typeof t!="object"?null:(t=It&&t[It]||t["@@iterator"],typeof t=="function"?t:null)}var an=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===an?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case it:return"Profiler";case Et:return"StrictMode";case P:return"Suspense";case mt:return"SuspenseList";case Ht:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case et:return"Portal";case ot:return t.displayName||"Context";case bt:return(t._context.displayName||"Context")+".Consumer";case H:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return e=t.displayName||null,e!==null?e:Ne(t.type)||"Memo";case ct:e=t._payload,t=t._init;try{return Ne(t(e))}catch{}}return null}var Ee=Array.isArray,A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},$=[],st=-1;function S(t){return{current:t}}function U(t){0>st||(t.current=$[st],$[st]=null,st--)}function tt(t,e){st++,$[st]=t.current,t.current=e}var at=S(null),yt=S(null),Ct=S(null),Tt=S(null);function Ye(t,e){switch(tt(Ct,e),tt(yt,t),tt(at,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Om(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Om(e),t=_m(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}U(at),tt(at,t)}function ue(){U(at),U(yt),U(Ct)}function Qa(t){t.memoizedState!==null&&tt(Tt,t);var e=at.current,n=_m(e,t.type);e!==n&&(tt(yt,t),tt(at,n))}function Zn(t){yt.current===t&&(U(at),U(yt)),Tt.current===t&&(U(Tt),au._currentValue=W)}var os,Za;function vn(t){if(os===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);os=e&&e[1]||"",Za=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+t+Za}var la=!1;function wl(t,e){if(!t||la)return"";la=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var _=B}Reflect.construct(t,[],K)}else{try{K.call()}catch(B){_=B}t.call(K.prototype)}}else{try{throw Error()}catch(B){_=B}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&_&&typeof B.stack=="string")return[B.stack,_.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),u=s[0],m=s[1];if(u&&m){var x=u.split(`
`),O=m.split(`
`);for(l=a=0;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;for(;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;if(a===x.length||l===O.length)for(a=x.length-1,l=O.length-1;1<=a&&0<=l&&x[a]!==O[l];)l--;for(;1<=a&&0<=l;a--,l--)if(x[a]!==O[l]){if(a!==1||l!==1)do if(a--,l--,0>l||x[a]!==O[l]){var G=`
`+x[a].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=a&&0<=l);break}}}finally{la=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?vn(n):""}function Cl(t,e){switch(t.tag){case 26:case 27:case 5:return vn(t.type);case 16:return vn("Lazy");case 13:return t.child!==e&&e!==null?vn("Suspense Fallback"):vn("Suspense");case 19:return vn("SuspenseList");case 0:case 15:return wl(t.type,!1);case 11:return wl(t.type.render,!1);case 1:return wl(t.type,!0);case 31:return vn("Activity");default:return""}}function On(t){try{var e="",n=null;do e+=Cl(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ka=Object.prototype.hasOwnProperty,bn=d.unstable_scheduleCallback,Dl=d.unstable_cancelCallback,mu=d.unstable_shouldYield,ds=d.unstable_requestPaint,pe=d.unstable_now,fs=d.unstable_getCurrentPriorityLevel,_n=d.unstable_ImmediatePriority,ms=d.unstable_UserBlockingPriority,va=d.unstable_NormalPriority,hu=d.unstable_LowPriority,Oe=d.unstable_IdlePriority,Nl=d.log,Kn=d.unstable_setDisableYieldValue,sa=null,_e=null;function ce(t){if(typeof Nl=="function"&&Kn(t),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(sa,t)}catch{}}var $e=Math.clz32?Math.clz32:Rl,ri=Math.log,pu=Math.LN2;function Rl(t){return t>>>=0,t===0?32:31-(ri(t)/pu|0)|0}var jl=256,Ja=262144,be=4194304;function Jn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zl(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,s=t.suspendedLanes,u=t.pingedLanes;t=t.warmLanes;var m=a&134217727;return m!==0?(a=m&~s,a!==0?l=Jn(a):(u&=m,u!==0?l=Jn(u):n||(n=m&~t,n!==0&&(l=Jn(n))))):(m=a&~s,m!==0?l=Jn(m):u!==0?l=Jn(u):n||(n=a&~t,n!==0&&(l=Jn(n)))),l===0?0:e!==0&&e!==l&&(e&s)===0&&(s=l&-l,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:l}function $a(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function gu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ia(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function Sn(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ol(t,e,n,a,l,s){var u=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var m=t.entanglements,x=t.expirationTimes,O=t.hiddenUpdates;for(n=u&~n;0<n;){var G=31-$e(n),K=1<<G;m[G]=0,x[G]=-1;var _=O[G];if(_!==null)for(O[G]=null,G=0;G<_.length;G++){var B=_[G];B!==null&&(B.lane&=-536870913)}n&=~K}a!==0&&hs(t,a,0),s!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=s&~(u&~e))}function hs(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-$e(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function ba(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-$e(n),l=1<<a;l&e|t[a]&e&&(t[a]|=e),n&=~l}}function _l(t,e){var n=e&-e;return n=(n&42)!==0?1:Sa(n),(n&(t.suspendedLanes|e))!==0?0:n}function Sa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function oi(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:ah(t.type))}function $n(t,e){var n=X.p;try{return X.p=t,e()}finally{X.p=n}}var En=Math.random().toString(36).slice(2),ne="__reactFiber$"+En,ke="__reactProps$"+En,In="__reactContainer$"+En,Fa="__reactEvents$"+En,yu="__reactListeners$"+En,_c="__reactHandles$"+En,di="__reactResources$"+En,Ue="__reactMarker$"+En;function ps(t){delete t[ne],delete t[ke],delete t[Fa],delete t[yu],delete t[_c]}function ia(t){var e=t[ne];if(e)return e;for(var n=t.parentNode;n;){if(e=n[In]||n[ne]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gm(t);t!==null;){if(n=t[ne])return n;t=Gm(t)}return e}t=n,n=t.parentNode}return null}function Be(t){if(t=t[ne]||t[In]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function kn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(o(33))}function ge(t){var e=t[di];return e||(e=t[di]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function fe(t){t[Ue]=!0}var un=new Set,Wa={};function ua(t,e){ca(t,e),ca(t+"Capture",e)}function ca(t,e){for(Wa[t]=e,t=0;t<e.length;t++)un.add(e[t])}var gs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},ys={};function fi(t){return Ka.call(ys,t)?!0:Ka.call(kl,t)?!1:gs.test(t)?ys[t]=!0:(kl[t]=!0,!1)}function Ma(t,e,n){if(fi(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Pa(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function An(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function Ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vs(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vu(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,s=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(u){n=""+u,s.call(this,u)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ul(t){if(!t._valueTracker){var e=vs(t)?"checked":"value";t._valueTracker=vu(t,e,""+t[e])}}function Bl(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=vs(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function Ae(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var tl=/[\n"\\]/g;function Fe(t){return t.replace(tl,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Qt(t,e,n,a,l,s,u,m){t.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.type=u:t.removeAttribute("type"),e!=null?u==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ie(e)):t.value!==""+Ie(e)&&(t.value=""+Ie(e)):u!=="submit"&&u!=="reset"||t.removeAttribute("value"),e!=null?el(t,u,Ie(e)):n!=null?el(t,u,Ie(n)):a!=null&&t.removeAttribute("value"),l==null&&s!=null&&(t.defaultChecked=!!s),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.name=""+Ie(m):t.removeAttribute("name")}function We(t,e,n,a,l,s,u,m){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Ul(t);return}n=n!=null?""+Ie(n):"",e=e!=null?""+Ie(e):n,m||e===t.value||(t.value=e),t.defaultValue=e}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=m?t.checked:!!a,t.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.name=u),Ul(t)}function el(t,e,n){e==="number"&&Ae(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function xa(t,e,n,a){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&a&&(t[n].defaultSelected=!0)}else{for(n=""+Ie(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,a&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function Xe(t,e,n){if(e!=null&&(e=""+Ie(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ie(n):""}function Ea(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(o(92));if(Ee(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=Ie(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),Ul(t)}function L(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Le(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||Pe.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Aa(t,e,n){if(e!=null&&typeof e!="object")throw Error(o(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var l in e)a=e[l],e.hasOwnProperty(l)&&n[l]!==a&&Le(t,l,a)}else for(var s in e)e.hasOwnProperty(s)&&Le(t,s,e[s])}function bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(t){return Ss.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var xs=null;function Ll(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ta=null,Fn=null;function ql(t){var e=Be(t);if(e&&(t=e.stateNode)){var n=t[ke]||null;t:switch(t=e.stateNode,e.type){case"input":if(Qt(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Fe(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var l=a[ke]||null;if(!l)throw Error(o(90));Qt(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&Bl(a)}break t;case"textarea":Xe(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&xa(t,!!n.multiple,e,!1)}}}var mi=!1;function hi(t,e,n){if(mi)return t(e,n);mi=!0;try{var a=t(e);return a}finally{if(mi=!1,(Ta!==null||Fn!==null)&&(ic(),Ta&&(e=Ta,t=Fn,Fn=Ta=null,ql(e),t)))for(e=0;e<t.length;e++)ql(t[e])}}function ra(t,e){var n=t.stateNode;if(n===null)return null;var a=n[ke]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(o(231,e,typeof n));return n}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rn=!1;if(cn)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){rn=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{rn=!1}var Wn=null,Es=null,As=null;function Su(){if(As)return As;var t,e=Es,n=e.length,a,l="value"in Wn?Wn.value:Wn.textContent,s=l.length;for(t=0;t<n&&e[t]===l[t];t++);var u=n-t;for(a=1;a<=u&&e[n-a]===l[s-a];a++);return As=l.slice(t,1<a?1-a:void 0)}function Ts(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hl(){return!0}function Mu(){return!1}function tn(t){function e(n,a,l,s,u){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var m in t)t.hasOwnProperty(m)&&(n=t[m],this[m]=n?n(s):s[m]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Hl:Mu,this.isPropagationStopped=Mu,this}return E(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),e}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=tn(Pn),da=E({},Pn,{view:0,detail:0}),kc=tn(da),wa,Ca,Gl,Cs=E({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gl&&(Gl&&t.type==="mousemove"?(wa=t.screenX-Gl.screenX,Ca=t.screenY-Gl.screenY):Ca=wa=0,Gl=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Re=tn(Cs),on=E({},Cs,{dataTransfer:0}),Yl=tn(on),Xl=E({},da,{relatedTarget:0}),pi=tn(Xl),Vl=E({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Uc=tn(Vl),Bc=E({},Pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lc=tn(Bc),qc=E({},Pn,{data:0}),gi=tn(qc),Hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xc(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Yc[t])?!!e[t]:!1}function yi(){return Xc}var vi=E({},da,{key:function(t){if(t.key){var e=Hc[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ts(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yi,charCode:function(t){return t.type==="keypress"?Ts(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ts(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nl=tn(vi),bi=E({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=tn(bi),Vc=E({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yi}),Qc=tn(Vc),Ds=E({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ql=tn(Ds),Zc=E({},Cs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kc=tn(Zc),Jc=E({},Pn,{newState:0,oldState:0}),xu=tn(Jc),$c=[9,13,27,32],Ns=cn&&"CompositionEvent"in window,Da=null;cn&&"documentMode"in document&&(Da=document.documentMode);var ln=cn&&"TextEvent"in window&&!Da,Rs=cn&&(!Ns||Da&&8<Da&&11>=Da),Mi=" ",Eu=!1;function Au(t,e){switch(t){case"keyup":return $c.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xi(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var al=!1;function i(t,e){switch(t){case"compositionend":return xi(e);case"keypress":return e.which!==32?null:(Eu=!0,Mi);case"textInput":return t=e.data,t===Mi&&Eu?null:t;default:return null}}function c(t,e){if(al)return t==="compositionend"||!Ns&&Au(t,e)?(t=Su(),As=Es=Wn=null,al=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rs&&e.locale!=="ko"?null:e.data;default:return null}}var g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g[t.type]:e==="textarea"}function R(t,e,n,a){Ta?Fn?Fn.push(a):Fn=[a]:Ta=a,e=mc(e,"onChange"),0<e.length&&(n=new ws("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var V=null,k=null;function Q(t){Cm(t,0)}function Y(t){var e=kn(t);if(Bl(e))return t}function nt(t,e){if(t==="change")return e}var lt=!1;if(cn){var vt;if(cn){var Dt="oninput"in document;if(!Dt){var qt=document.createElement("div");qt.setAttribute("oninput","return;"),Dt=typeof qt.oninput=="function"}vt=Dt}else vt=!1;lt=vt&&(!document.documentMode||9<document.documentMode)}function ae(){V&&(V.detachEvent("onpropertychange",ft),k=V=null)}function ft(t){if(t.propertyName==="value"&&Y(k)){var e=[];R(e,k,t,Ll(t)),hi(Q,e)}}function Rt(t,e,n){t==="focusin"?(ae(),V=e,k=n,V.attachEvent("onpropertychange",ft)):t==="focusout"&&ae()}function dn(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Y(k)}function js(t,e){if(t==="click")return Y(e)}function Tu(t,e){if(t==="input"||t==="change")return Y(e)}function ut(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ot=typeof Object.is=="function"?Object.is:ut;function le(t,e){if(Ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!Ka.call(e,l)||!Ot(t[l],e[l]))return!1}return!0}function _t(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function me(t,e){var n=_t(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=_t(n)}}function pt(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pt(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mt(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ae(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ae(t.document)}return e}function je(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Zt=cn&&"documentMode"in document&&11>=document.documentMode,re=null,Tn=null,xt=null,Kt=!1;function Se(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kt||re==null||re!==Ae(a)||(a=re,"selectionStart"in a&&je(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),xt&&le(xt,a)||(xt=a,a=mc(Tn,"onSelect"),0<a.length&&(e=new ws("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=re)))}function wn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionrun:wn("Transition","TransitionRun"),transitionstart:wn("Transition","TransitionStart"),transitioncancel:wn("Transition","TransitionCancel"),transitionend:wn("Transition","TransitionEnd")},zs={},Ei={};cn&&(Ei=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function ta(t){if(zs[t])return zs[t];if(!Bn[t])return t;var e=Bn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ei)return zs[t]=e[n];return t}var Ai=ta("animationend"),Ti=ta("animationiteration"),Zl=ta("animationstart"),Gt=ta("transitionrun"),fa=ta("transitionstart"),Kl=ta("transitioncancel"),wi=ta("transitionend"),Ci=new Map,Di="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Di.push("scrollEnd");function ea(t,e){Ci.set(t,e),ua(e,[t])}var wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],Os=0,Ic=0;function Cu(){for(var t=Os,e=Ic=Os=0;e<t;){var n=Ln[e];Ln[e++]=null;var a=Ln[e];Ln[e++]=null;var l=Ln[e];Ln[e++]=null;var s=Ln[e];if(Ln[e++]=null,a!==null&&l!==null){var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}s!==0&&ud(n,l,s)}}function Du(t,e,n,a){Ln[Os++]=t,Ln[Os++]=e,Ln[Os++]=n,Ln[Os++]=a,Ic|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Fc(t,e,n,a){return Du(t,e,n,a),Nu(t)}function Jl(t,e){return Du(t,null,null,e),Nu(t)}function ud(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var l=!1,s=t.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(l=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,l&&e!==null&&(l=31-$e(n),t=s.hiddenUpdates,a=t[l],a===null?t[l]=[e]:a.push(e),e.lane=n|536870912),s):null}function Nu(t){if(50<Ii)throw Ii=0,io=null,Error(o(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var _s={};function sp(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,a){return new sp(t,e,n,a)}function Wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Na(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function cd(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ru(t,e,n,a,l,s){var u=0;if(a=t,typeof t=="function")Wc(t)&&(u=1);else if(typeof t=="string")u=og(t,n,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Ht:return t=Cn(31,n,e,l),t.elementType=Ht,t.lanes=s,t;case F:return $l(n.children,l,s,e);case Et:u=8,l|=24;break;case it:return t=Cn(12,n,e,l|2),t.elementType=it,t.lanes=s,t;case P:return t=Cn(13,n,e,l),t.elementType=P,t.lanes=s,t;case mt:return t=Cn(19,n,e,l),t.elementType=mt,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:u=10;break t;case bt:u=9;break t;case H:u=11;break t;case I:u=14;break t;case ct:u=16,a=null;break t}u=29,n=Error(o(130,t===null?"null":typeof t,"")),a=null}return e=Cn(u,n,e,l),e.elementType=t,e.type=a,e.lanes=s,e}function $l(t,e,n,a){return t=Cn(7,t,a,e),t.lanes=n,t}function Pc(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function rd(t){var e=Cn(18,null,null,0);return e.stateNode=t,e}function tr(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var od=new WeakMap;function qn(t,e){if(typeof t=="object"&&t!==null){var n=od.get(t);return n!==void 0?n:(e={value:t,source:e,stack:On(e)},od.set(t,e),e)}return{value:t,source:e,stack:On(e)}}var ks=[],Us=0,ju=null,Ni=0,Hn=[],Gn=0,ll=null,ma=1,ha="";function Ra(t,e){ks[Us++]=Ni,ks[Us++]=ju,ju=t,Ni=e}function dd(t,e,n){Hn[Gn++]=ma,Hn[Gn++]=ha,Hn[Gn++]=ll,ll=t;var a=ma;t=ha;var l=32-$e(a)-1;a&=~(1<<l),n+=1;var s=32-$e(e)+l;if(30<s){var u=l-l%5;s=(a&(1<<u)-1).toString(32),a>>=u,l-=u,ma=1<<32-$e(e)+l|n<<l|a,ha=s+t}else ma=1<<s|n<<l|a,ha=t}function er(t){t.return!==null&&(Ra(t,1),dd(t,1,0))}function nr(t){for(;t===ju;)ju=ks[--Us],ks[Us]=null,Ni=ks[--Us],ks[Us]=null;for(;t===ll;)ll=Hn[--Gn],Hn[Gn]=null,ha=Hn[--Gn],Hn[Gn]=null,ma=Hn[--Gn],Hn[Gn]=null}function fd(t,e){Hn[Gn++]=ma,Hn[Gn++]=ha,Hn[Gn++]=ll,ma=e.id,ha=e.overflow,ll=t}var Ve=null,oe=null,Bt=!1,sl=null,Yn=!1,ar=Error(o(519));function il(t){var e=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ri(qn(e,t)),ar}function md(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[ne]=t,e[ke]=a,n){case"dialog":zt("cancel",e),zt("close",e);break;case"iframe":case"object":case"embed":zt("load",e);break;case"video":case"audio":for(n=0;n<Wi.length;n++)zt(Wi[n],e);break;case"source":zt("error",e);break;case"img":case"image":case"link":zt("error",e),zt("load",e);break;case"details":zt("toggle",e);break;case"input":zt("invalid",e),We(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":zt("invalid",e);break;case"textarea":zt("invalid",e),Ea(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||jm(e.textContent,n)?(a.popover!=null&&(zt("beforetoggle",e),zt("toggle",e)),a.onScroll!=null&&zt("scroll",e),a.onScrollEnd!=null&&zt("scrollend",e),a.onClick!=null&&(e.onclick=Un),e=!0):e=!1,e||il(t,!0)}function hd(t){for(Ve=t.return;Ve;)switch(Ve.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Ve=Ve.return}}function Bs(t){if(t!==Ve)return!1;if(!Bt)return hd(t),Bt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||xo(t.type,t.memoizedProps)),n=!n),n&&oe&&il(t),hd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));oe=Hm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));oe=Hm(t)}else e===27?(e=oe,Sl(t.type)?(t=Co,Co=null,oe=t):oe=e):oe=Ve?Vn(t.stateNode.nextSibling):null;return!0}function Il(){oe=Ve=null,Bt=!1}function lr(){var t=sl;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),sl=null),t}function Ri(t){sl===null?sl=[t]:sl.push(t)}var sr=S(null),Fl=null,ja=null;function ul(t,e,n){tt(sr,e._currentValue),e._currentValue=n}function za(t){t._currentValue=sr.current,U(sr)}function ir(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function ur(t,e,n,a){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){var u=l.child;s=s.firstContext;t:for(;s!==null;){var m=s;s=l;for(var x=0;x<e.length;x++)if(m.context===e[x]){s.lanes|=n,m=s.alternate,m!==null&&(m.lanes|=n),ir(s.return,n,t),a||(u=null);break t}s=m.next}}else if(l.tag===18){if(u=l.return,u===null)throw Error(o(341));u.lanes|=n,s=u.alternate,s!==null&&(s.lanes|=n),ir(u,n,t),u=null}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}}function Ls(t,e,n,a){t=null;for(var l=e,s=!1;l!==null;){if(!s){if((l.flags&524288)!==0)s=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var u=l.alternate;if(u===null)throw Error(o(387));if(u=u.memoizedProps,u!==null){var m=l.type;Ot(l.pendingProps.value,u.value)||(t!==null?t.push(m):t=[m])}}else if(l===Tt.current){if(u=l.alternate,u===null)throw Error(o(387));u.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(au):t=[au])}l=l.return}t!==null&&ur(e,t,n,a),e.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!Ot(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wl(t){Fl=t,ja=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qe(t){return pd(Fl,t)}function Ou(t,e){return Fl===null&&Wl(t),pd(t,e)}function pd(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ja===null){if(t===null)throw Error(o(308));ja=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ja=ja.next=e;return n}var ip=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},up=d.unstable_scheduleCallback,cp=d.unstable_NormalPriority,Te={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cr(){return{controller:new ip,data:new Map,refCount:0}}function ji(t){t.refCount--,t.refCount===0&&up(cp,function(){t.controller.abort()})}var zi=null,rr=0,qs=0,Hs=null;function rp(t,e){if(zi===null){var n=zi=[];rr=0,qs=mo(),Hs={status:"pending",value:void 0,then:function(a){n.push(a)}}}return rr++,e.then(gd,gd),e}function gd(){if(--rr===0&&zi!==null){Hs!==null&&(Hs.status="fulfilled");var t=zi;zi=null,qs=0,Hs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function op(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var yd=A.S;A.S=function(t,e){em=pe(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&rp(t,e),yd!==null&&yd(t,e)};var Pl=S(null);function or(){var t=Pl.current;return t!==null?t:se.pooledCache}function _u(t,e){e===null?tt(Pl,Pl.current):tt(Pl,e.pool)}function vd(){var t=or();return t===null?null:{parent:Te._currentValue,pool:t}}var Gs=Error(o(460)),dr=Error(o(474)),ku=Error(o(542)),Uu={then:function(){}};function bd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sd(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Un,Un),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,xd(t),t;default:if(typeof e.status=="string")e.then(Un,Un);else{if(t=se,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=a}},function(a){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,xd(t),t}throw es=e,Gs}}function ts(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(es=n,Gs):n}}var es=null;function Md(){if(es===null)throw Error(o(459));var t=es;return es=null,t}function xd(t){if(t===Gs||t===ku)throw Error(o(483))}var Ys=null,Oi=0;function Bu(t){var e=Oi;return Oi+=1,Ys===null&&(Ys=[]),Sd(Ys,t,e)}function _i(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Lu(t,e){throw e.$$typeof===q?Error(o(525)):(t=Object.prototype.toString.call(e),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Ed(t){function e(j,w){if(t){var z=j.deletions;z===null?(j.deletions=[w],j.flags|=16):z.push(w)}}function n(j,w){if(!t)return null;for(;w!==null;)e(j,w),w=w.sibling;return null}function a(j){for(var w=new Map;j!==null;)j.key!==null?w.set(j.key,j):w.set(j.index,j),j=j.sibling;return w}function l(j,w){return j=Na(j,w),j.index=0,j.sibling=null,j}function s(j,w,z){return j.index=z,t?(z=j.alternate,z!==null?(z=z.index,z<w?(j.flags|=67108866,w):z):(j.flags|=67108866,w)):(j.flags|=1048576,w)}function u(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function m(j,w,z,Z){return w===null||w.tag!==6?(w=Pc(z,j.mode,Z),w.return=j,w):(w=l(w,z),w.return=j,w)}function x(j,w,z,Z){var ht=z.type;return ht===F?G(j,w,z.props.children,Z,z.key):w!==null&&(w.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ct&&ts(ht)===w.type)?(w=l(w,z.props),_i(w,z),w.return=j,w):(w=Ru(z.type,z.key,z.props,null,j.mode,Z),_i(w,z),w.return=j,w)}function O(j,w,z,Z){return w===null||w.tag!==4||w.stateNode.containerInfo!==z.containerInfo||w.stateNode.implementation!==z.implementation?(w=tr(z,j.mode,Z),w.return=j,w):(w=l(w,z.children||[]),w.return=j,w)}function G(j,w,z,Z,ht){return w===null||w.tag!==7?(w=$l(z,j.mode,Z,ht),w.return=j,w):(w=l(w,z),w.return=j,w)}function K(j,w,z){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Pc(""+w,j.mode,z),w.return=j,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case J:return z=Ru(w.type,w.key,w.props,null,j.mode,z),_i(z,w),z.return=j,z;case et:return w=tr(w,j.mode,z),w.return=j,w;case ct:return w=ts(w),K(j,w,z)}if(Ee(w)||Ft(w))return w=$l(w,j.mode,z,null),w.return=j,w;if(typeof w.then=="function")return K(j,Bu(w),z);if(w.$$typeof===ot)return K(j,Ou(j,w),z);Lu(j,w)}return null}function _(j,w,z,Z){var ht=w!==null?w.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ht!==null?null:m(j,w,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case J:return z.key===ht?x(j,w,z,Z):null;case et:return z.key===ht?O(j,w,z,Z):null;case ct:return z=ts(z),_(j,w,z,Z)}if(Ee(z)||Ft(z))return ht!==null?null:G(j,w,z,Z,null);if(typeof z.then=="function")return _(j,w,Bu(z),Z);if(z.$$typeof===ot)return _(j,w,Ou(j,z),Z);Lu(j,z)}return null}function B(j,w,z,Z,ht){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(z)||null,m(w,j,""+Z,ht);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case J:return j=j.get(Z.key===null?z:Z.key)||null,x(w,j,Z,ht);case et:return j=j.get(Z.key===null?z:Z.key)||null,O(w,j,Z,ht);case ct:return Z=ts(Z),B(j,w,z,Z,ht)}if(Ee(Z)||Ft(Z))return j=j.get(z)||null,G(w,j,Z,ht,null);if(typeof Z.then=="function")return B(j,w,z,Bu(Z),ht);if(Z.$$typeof===ot)return B(j,w,z,Ou(w,Z),ht);Lu(w,Z)}return null}function rt(j,w,z,Z){for(var ht=null,Yt=null,dt=w,Nt=w=0,Ut=null;dt!==null&&Nt<z.length;Nt++){dt.index>Nt?(Ut=dt,dt=null):Ut=dt.sibling;var Xt=_(j,dt,z[Nt],Z);if(Xt===null){dt===null&&(dt=Ut);break}t&&dt&&Xt.alternate===null&&e(j,dt),w=s(Xt,w,Nt),Yt===null?ht=Xt:Yt.sibling=Xt,Yt=Xt,dt=Ut}if(Nt===z.length)return n(j,dt),Bt&&Ra(j,Nt),ht;if(dt===null){for(;Nt<z.length;Nt++)dt=K(j,z[Nt],Z),dt!==null&&(w=s(dt,w,Nt),Yt===null?ht=dt:Yt.sibling=dt,Yt=dt);return Bt&&Ra(j,Nt),ht}for(dt=a(dt);Nt<z.length;Nt++)Ut=B(dt,j,Nt,z[Nt],Z),Ut!==null&&(t&&Ut.alternate!==null&&dt.delete(Ut.key===null?Nt:Ut.key),w=s(Ut,w,Nt),Yt===null?ht=Ut:Yt.sibling=Ut,Yt=Ut);return t&&dt.forEach(function(Tl){return e(j,Tl)}),Bt&&Ra(j,Nt),ht}function St(j,w,z,Z){if(z==null)throw Error(o(151));for(var ht=null,Yt=null,dt=w,Nt=w=0,Ut=null,Xt=z.next();dt!==null&&!Xt.done;Nt++,Xt=z.next()){dt.index>Nt?(Ut=dt,dt=null):Ut=dt.sibling;var Tl=_(j,dt,Xt.value,Z);if(Tl===null){dt===null&&(dt=Ut);break}t&&dt&&Tl.alternate===null&&e(j,dt),w=s(Tl,w,Nt),Yt===null?ht=Tl:Yt.sibling=Tl,Yt=Tl,dt=Ut}if(Xt.done)return n(j,dt),Bt&&Ra(j,Nt),ht;if(dt===null){for(;!Xt.done;Nt++,Xt=z.next())Xt=K(j,Xt.value,Z),Xt!==null&&(w=s(Xt,w,Nt),Yt===null?ht=Xt:Yt.sibling=Xt,Yt=Xt);return Bt&&Ra(j,Nt),ht}for(dt=a(dt);!Xt.done;Nt++,Xt=z.next())Xt=B(dt,j,Nt,Xt.value,Z),Xt!==null&&(t&&Xt.alternate!==null&&dt.delete(Xt.key===null?Nt:Xt.key),w=s(Xt,w,Nt),Yt===null?ht=Xt:Yt.sibling=Xt,Yt=Xt);return t&&dt.forEach(function(Mg){return e(j,Mg)}),Bt&&Ra(j,Nt),ht}function te(j,w,z,Z){if(typeof z=="object"&&z!==null&&z.type===F&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case J:t:{for(var ht=z.key;w!==null;){if(w.key===ht){if(ht=z.type,ht===F){if(w.tag===7){n(j,w.sibling),Z=l(w,z.props.children),Z.return=j,j=Z;break t}}else if(w.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ct&&ts(ht)===w.type){n(j,w.sibling),Z=l(w,z.props),_i(Z,z),Z.return=j,j=Z;break t}n(j,w);break}else e(j,w);w=w.sibling}z.type===F?(Z=$l(z.props.children,j.mode,Z,z.key),Z.return=j,j=Z):(Z=Ru(z.type,z.key,z.props,null,j.mode,Z),_i(Z,z),Z.return=j,j=Z)}return u(j);case et:t:{for(ht=z.key;w!==null;){if(w.key===ht)if(w.tag===4&&w.stateNode.containerInfo===z.containerInfo&&w.stateNode.implementation===z.implementation){n(j,w.sibling),Z=l(w,z.children||[]),Z.return=j,j=Z;break t}else{n(j,w);break}else e(j,w);w=w.sibling}Z=tr(z,j.mode,Z),Z.return=j,j=Z}return u(j);case ct:return z=ts(z),te(j,w,z,Z)}if(Ee(z))return rt(j,w,z,Z);if(Ft(z)){if(ht=Ft(z),typeof ht!="function")throw Error(o(150));return z=ht.call(z),St(j,w,z,Z)}if(typeof z.then=="function")return te(j,w,Bu(z),Z);if(z.$$typeof===ot)return te(j,w,Ou(j,z),Z);Lu(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,w!==null&&w.tag===6?(n(j,w.sibling),Z=l(w,z),Z.return=j,j=Z):(n(j,w),Z=Pc(z,j.mode,Z),Z.return=j,j=Z),u(j)):n(j,w)}return function(j,w,z,Z){try{Oi=0;var ht=te(j,w,z,Z);return Ys=null,ht}catch(dt){if(dt===Gs||dt===ku)throw dt;var Yt=Cn(29,dt,null,j.mode);return Yt.lanes=Z,Yt.return=j,Yt}finally{}}}var ns=Ed(!0),Ad=Ed(!1),cl=!1;function fr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function rl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ol(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Vt&2)!==0){var l=a.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),a.pending=e,e=Nu(t),ud(t,null,n),e}return Du(t,a,e,n),Nu(t)}function ki(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,ba(t,n)}}function hr(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?l=s=e:s=s.next=e}else l=s=e;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var pr=!1;function Ui(){if(pr){var t=Hs;if(t!==null)throw t}}function Bi(t,e,n,a){pr=!1;var l=t.updateQueue;cl=!1;var s=l.firstBaseUpdate,u=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var x=m,O=x.next;x.next=null,u===null?s=O:u.next=O,u=x;var G=t.alternate;G!==null&&(G=G.updateQueue,m=G.lastBaseUpdate,m!==u&&(m===null?G.firstBaseUpdate=O:m.next=O,G.lastBaseUpdate=x))}if(s!==null){var K=l.baseState;u=0,G=O=x=null,m=s;do{var _=m.lane&-536870913,B=_!==m.lane;if(B?(kt&_)===_:(a&_)===_){_!==0&&_===qs&&(pr=!0),G!==null&&(G=G.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});t:{var rt=t,St=m;_=e;var te=n;switch(St.tag){case 1:if(rt=St.payload,typeof rt=="function"){K=rt.call(te,K,_);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=St.payload,_=typeof rt=="function"?rt.call(te,K,_):rt,_==null)break t;K=E({},K,_);break t;case 2:cl=!0}}_=m.callback,_!==null&&(t.flags|=64,B&&(t.flags|=8192),B=l.callbacks,B===null?l.callbacks=[_]:B.push(_))}else B={lane:_,tag:m.tag,payload:m.payload,callback:m.callback,next:null},G===null?(O=G=B,x=K):G=G.next=B,u|=_;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;B=m,m=B.next,B.next=null,l.lastBaseUpdate=B,l.shared.pending=null}}while(!0);G===null&&(x=K),l.baseState=x,l.firstBaseUpdate=O,l.lastBaseUpdate=G,s===null&&(l.shared.lanes=0),pl|=u,t.lanes=u,t.memoizedState=K}}function Td(t,e){if(typeof t!="function")throw Error(o(191,t));t.call(e)}function wd(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Td(n[t],e)}var Xs=S(null),qu=S(0);function Cd(t,e){t=Ga,tt(qu,t),tt(Xs,e),Ga=t|e.baseLanes}function gr(){tt(qu,Ga),tt(Xs,Xs.current)}function yr(){Ga=qu.current,U(Xs),U(qu)}var Dn=S(null),Xn=null;function dl(t){var e=t.alternate;tt(Me,Me.current&1),tt(Dn,t),Xn===null&&(e===null||Xs.current!==null||e.memoizedState!==null)&&(Xn=t)}function vr(t){tt(Me,Me.current),tt(Dn,t),Xn===null&&(Xn=t)}function Dd(t){t.tag===22?(tt(Me,Me.current),tt(Dn,t),Xn===null&&(Xn=t)):fl()}function fl(){tt(Me,Me.current),tt(Dn,Dn.current)}function Nn(t){U(Dn),Xn===t&&(Xn=null),U(Me)}var Me=S(0);function Hu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||To(n)||wo(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oa=0,wt=null,Wt=null,we=null,Gu=!1,Vs=!1,as=!1,Yu=0,Li=0,Qs=null,dp=0;function ye(){throw Error(o(321))}function br(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ot(t[n],e[n]))return!1;return!0}function Sr(t,e,n,a,l,s){return Oa=s,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,A.H=t===null||t.memoizedState===null?ff:kr,as=!1,s=n(a,l),as=!1,Vs&&(s=Rd(e,n,a,l)),Nd(t),s}function Nd(t){A.H=Gi;var e=Wt!==null&&Wt.next!==null;if(Oa=0,we=Wt=wt=null,Gu=!1,Li=0,Qs=null,e)throw Error(o(300));t===null||Ce||(t=t.dependencies,t!==null&&zu(t)&&(Ce=!0))}function Rd(t,e,n,a){wt=t;var l=0;do{if(Vs&&(Qs=null),Li=0,Vs=!1,25<=l)throw Error(o(301));if(l+=1,we=Wt=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}A.H=mf,s=e(n,a)}while(Vs);return s}function fp(){var t=A.H,e=t.useState()[0];return e=typeof e.then=="function"?qi(e):e,t=t.useState()[0],(Wt!==null?Wt.memoizedState:null)!==t&&(wt.flags|=1024),e}function Mr(){var t=Yu!==0;return Yu=0,t}function xr(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Er(t){if(Gu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Gu=!1}Oa=0,we=Wt=wt=null,Vs=!1,Li=Yu=0,Qs=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?wt.memoizedState=we=t:we=we.next=t,we}function xe(){if(Wt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=we===null?wt.memoizedState:we.next;if(e!==null)we=e,Wt=t;else{if(t===null)throw wt.alternate===null?Error(o(467)):Error(o(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},we===null?wt.memoizedState=we=t:we=we.next=t}return we}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qi(t){var e=Li;return Li+=1,Qs===null&&(Qs=[]),t=Sd(Qs,t,e),e=wt,(we===null?e.memoizedState:we.next)===null&&(e=e.alternate,A.H=e===null||e.memoizedState===null?ff:kr),t}function Vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return qi(t);if(t.$$typeof===ot)return Qe(t)}throw Error(o(438,String(t)))}function Ar(t){var e=null,n=wt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=wt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Xu(),wt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=ee;return e.index++,n}function _a(t,e){return typeof e=="function"?e(t):e}function Qu(t){var e=xe();return Tr(e,Wt,t)}function Tr(t,e,n){var a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var l=t.baseQueue,s=a.pending;if(s!==null){if(l!==null){var u=l.next;l.next=s.next,s.next=u}e.baseQueue=l=s,a.pending=null}if(s=t.baseState,l===null)t.memoizedState=s;else{e=l.next;var m=u=null,x=null,O=e,G=!1;do{var K=O.lane&-536870913;if(K!==O.lane?(kt&K)===K:(Oa&K)===K){var _=O.revertLane;if(_===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),K===qs&&(G=!0);else if((Oa&_)===_){O=O.next,_===qs&&(G=!0);continue}else K={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(m=x=K,u=s):x=x.next=K,wt.lanes|=_,pl|=_;K=O.action,as&&n(s,K),s=O.hasEagerState?O.eagerState:n(s,K)}else _={lane:K,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(m=x=_,u=s):x=x.next=_,wt.lanes|=K,pl|=K;O=O.next}while(O!==null&&O!==e);if(x===null?u=s:x.next=m,!Ot(s,t.memoizedState)&&(Ce=!0,G&&(n=Hs,n!==null)))throw n;t.memoizedState=s,t.baseState=u,t.baseQueue=x,a.lastRenderedState=s}return l===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function wr(t){var e=xe(),n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=t;var a=n.dispatch,l=n.pending,s=e.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do s=t(s,u.action),u=u.next;while(u!==l);Ot(s,e.memoizedState)||(Ce=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,a]}function jd(t,e,n){var a=wt,l=xe(),s=Bt;if(s){if(n===void 0)throw Error(o(407));n=n()}else n=e();var u=!Ot((Wt||l).memoizedState,n);if(u&&(l.memoizedState=n,Ce=!0),l=l.queue,Nr(_d.bind(null,a,l,t),[t]),l.getSnapshot!==e||u||we!==null&&we.memoizedState.tag&1){if(a.flags|=2048,Zs(9,{destroy:void 0},Od.bind(null,a,l,n,e),null),se===null)throw Error(o(349));s||(Oa&127)!==0||zd(a,e,n)}return n}function zd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e=Xu(),wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Od(t,e,n,a){e.value=n,e.getSnapshot=a,kd(e)&&Ud(t)}function _d(t,e,n){return n(function(){kd(e)&&Ud(t)})}function kd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ot(t,n)}catch{return!0}}function Ud(t){var e=Jl(t,2);e!==null&&gn(e,t,2)}function Cr(t){var e=sn();if(typeof t=="function"){var n=t;if(t=n(),as){ce(!0);try{n()}finally{ce(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:t},e}function Bd(t,e,n,a){return t.baseState=n,Tr(t,Wt,typeof a=="function"?a:_a)}function mp(t,e,n,a,l){if(Ju(t))throw Error(o(485));if(t=e.action,t!==null){var s={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){s.listeners.push(u)}};A.T!==null?n(!0):s.isTransition=!1,a(s),n=e.pending,n===null?(s.next=e.pending=s,Ld(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Ld(t,e){var n=e.action,a=e.payload,l=t.state;if(e.isTransition){var s=A.T,u={};A.T=u;try{var m=n(l,a),x=A.S;x!==null&&x(u,m),qd(t,e,m)}catch(O){Dr(t,e,O)}finally{s!==null&&u.types!==null&&(s.types=u.types),A.T=s}}else try{s=n(l,a),qd(t,e,s)}catch(O){Dr(t,e,O)}}function qd(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Hd(t,e,a)},function(a){return Dr(t,e,a)}):Hd(t,e,n)}function Hd(t,e,n){e.status="fulfilled",e.value=n,Gd(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Ld(t,n)))}function Dr(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,Gd(e),e=e.next;while(e!==a)}t.action=null}function Gd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Yd(t,e){return e}function Xd(t,e){if(Bt){var n=se.formState;if(n!==null){t:{var a=wt;if(Bt){if(oe){e:{for(var l=oe,s=Yn;l.nodeType!==8;){if(!s){l=null;break e}if(l=Vn(l.nextSibling),l===null){l=null;break e}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){oe=Vn(l.nextSibling),a=l.data==="F!";break t}}il(a)}a=!1}a&&(e=n[0])}}return n=sn(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:e},n.queue=a,n=rf.bind(null,wt,a),a.dispatch=n,a=Cr(!1),s=_r.bind(null,wt,!1,a.queue),a=sn(),l={state:e,dispatch:null,action:t,pending:null},a.queue=l,n=mp.bind(null,wt,l,s,n),l.dispatch=n,a.memoizedState=t,[e,n,!1]}function Vd(t){var e=xe();return Qd(e,Wt,t)}function Qd(t,e,n){if(e=Tr(t,e,Yd)[0],t=Qu(_a)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=qi(e)}catch(u){throw u===Gs?ku:u}else a=e;e=xe();var l=e.queue,s=l.dispatch;return n!==e.memoizedState&&(wt.flags|=2048,Zs(9,{destroy:void 0},hp.bind(null,l,n),null)),[a,s,t]}function hp(t,e){t.action=e}function Zd(t){var e=xe(),n=Wt;if(n!==null)return Qd(e,n,t);xe(),e=e.memoizedState,n=xe();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function Zs(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=wt.updateQueue,e===null&&(e=Xu(),wt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function Kd(){return xe().memoizedState}function Zu(t,e,n,a){var l=sn();wt.flags|=t,l.memoizedState=Zs(1|e,{destroy:void 0},n,a===void 0?null:a)}function Ku(t,e,n,a){var l=xe();a=a===void 0?null:a;var s=l.memoizedState.inst;Wt!==null&&a!==null&&br(a,Wt.memoizedState.deps)?l.memoizedState=Zs(e,s,n,a):(wt.flags|=t,l.memoizedState=Zs(1|e,s,n,a))}function Jd(t,e){Zu(8390656,8,t,e)}function Nr(t,e){Ku(2048,8,t,e)}function pp(t){wt.flags|=4;var e=wt.updateQueue;if(e===null)e=Xu(),wt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function $d(t){var e=xe().memoizedState;return pp({ref:e,nextImpl:t}),function(){if((Vt&2)!==0)throw Error(o(440));return e.impl.apply(void 0,arguments)}}function Id(t,e){return Ku(4,2,t,e)}function Fd(t,e){return Ku(4,4,t,e)}function Wd(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pd(t,e,n){n=n!=null?n.concat([t]):null,Ku(4,4,Wd.bind(null,e,t),n)}function Rr(){}function tf(t,e){var n=xe();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&br(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function ef(t,e){var n=xe();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&br(e,a[1]))return a[0];if(a=t(),as){ce(!0);try{t()}finally{ce(!1)}}return n.memoizedState=[a,e],a}function jr(t,e,n){return n===void 0||(Oa&1073741824)!==0&&(kt&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=am(),wt.lanes|=t,pl|=t,n)}function nf(t,e,n,a){return Ot(n,e)?n:Xs.current!==null?(t=jr(t,n,a),Ot(t,e)||(Ce=!0),t):(Oa&42)===0||(Oa&1073741824)!==0&&(kt&261930)===0?(Ce=!0,t.memoizedState=n):(t=am(),wt.lanes|=t,pl|=t,e)}function af(t,e,n,a,l){var s=X.p;X.p=s!==0&&8>s?s:8;var u=A.T,m={};A.T=m,_r(t,!1,e,n);try{var x=l(),O=A.S;if(O!==null&&O(m,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=op(x,a);Hi(t,e,G,zn(t))}else Hi(t,e,a,zn(t))}catch(K){Hi(t,e,{then:function(){},status:"rejected",reason:K},zn())}finally{X.p=s,u!==null&&m.types!==null&&(u.types=m.types),A.T=u}}function gp(){}function zr(t,e,n,a){if(t.tag!==5)throw Error(o(476));var l=lf(t).queue;af(t,l,e,W,n===null?gp:function(){return sf(t),n(a)})}function lf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:W},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function sf(t){var e=lf(t);e.next===null&&(e=t.alternate.memoizedState),Hi(t,e.next.queue,{},zn())}function Or(){return Qe(au)}function uf(){return xe().memoizedState}function cf(){return xe().memoizedState}function yp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=zn();t=rl(n);var a=ol(e,t,n);a!==null&&(gn(a,e,n),ki(a,e,n)),e={cache:cr()},t.payload=e;return}e=e.return}}function vp(t,e,n){var a=zn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ju(t)?of(e,n):(n=Fc(t,e,n,a),n!==null&&(gn(n,t,a),df(n,e,a)))}function rf(t,e,n){var a=zn();Hi(t,e,n,a)}function Hi(t,e,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))of(e,l);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var u=e.lastRenderedState,m=s(u,n);if(l.hasEagerState=!0,l.eagerState=m,Ot(m,u))return Du(t,e,l,0),se===null&&Cu(),!1}catch{}finally{}if(n=Fc(t,e,l,a),n!==null)return gn(n,t,a),df(n,e,a),!0}return!1}function _r(t,e,n,a){if(a={lane:2,revertLane:mo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(e)throw Error(o(479))}else e=Fc(t,n,a,2),e!==null&&gn(e,t,2)}function Ju(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function of(t,e){Vs=Gu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function df(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,ba(t,n)}}var Gi={readContext:Qe,use:Vu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Gi.useEffectEvent=ye;var ff={readContext:Qe,use:Vu,useCallback:function(t,e){return sn().memoizedState=[t,e===void 0?null:e],t},useContext:Qe,useEffect:Jd,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Zu(4194308,4,Wd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zu(4194308,4,t,e)},useInsertionEffect:function(t,e){Zu(4,2,t,e)},useMemo:function(t,e){var n=sn();e=e===void 0?null:e;var a=t();if(as){ce(!0);try{t()}finally{ce(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=sn();if(n!==void 0){var l=n(e);if(as){ce(!0);try{n(e)}finally{ce(!1)}}}else l=e;return a.memoizedState=a.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},a.queue=t,t=t.dispatch=vp.bind(null,wt,t),[a.memoizedState,t]},useRef:function(t){var e=sn();return t={current:t},e.memoizedState=t},useState:function(t){t=Cr(t);var e=t.queue,n=rf.bind(null,wt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Rr,useDeferredValue:function(t,e){var n=sn();return jr(n,t,e)},useTransition:function(){var t=Cr(!1);return t=af.bind(null,wt,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=wt,l=sn();if(Bt){if(n===void 0)throw Error(o(407));n=n()}else{if(n=e(),se===null)throw Error(o(349));(kt&127)!==0||zd(a,e,n)}l.memoizedState=n;var s={value:n,getSnapshot:e};return l.queue=s,Jd(_d.bind(null,a,s,t),[t]),a.flags|=2048,Zs(9,{destroy:void 0},Od.bind(null,a,s,n,e),null),n},useId:function(){var t=sn(),e=se.identifierPrefix;if(Bt){var n=ha,a=ma;n=(a&~(1<<32-$e(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Yu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=dp++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Or,useFormState:Xd,useActionState:Xd,useOptimistic:function(t){var e=sn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=_r.bind(null,wt,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ar,useCacheRefresh:function(){return sn().memoizedState=yp.bind(null,wt)},useEffectEvent:function(t){var e=sn(),n={impl:t};return e.memoizedState=n,function(){if((Vt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},kr={readContext:Qe,use:Vu,useCallback:tf,useContext:Qe,useEffect:Nr,useImperativeHandle:Pd,useInsertionEffect:Id,useLayoutEffect:Fd,useMemo:ef,useReducer:Qu,useRef:Kd,useState:function(){return Qu(_a)},useDebugValue:Rr,useDeferredValue:function(t,e){var n=xe();return nf(n,Wt.memoizedState,t,e)},useTransition:function(){var t=Qu(_a)[0],e=xe().memoizedState;return[typeof t=="boolean"?t:qi(t),e]},useSyncExternalStore:jd,useId:uf,useHostTransitionStatus:Or,useFormState:Vd,useActionState:Vd,useOptimistic:function(t,e){var n=xe();return Bd(n,Wt,t,e)},useMemoCache:Ar,useCacheRefresh:cf};kr.useEffectEvent=$d;var mf={readContext:Qe,use:Vu,useCallback:tf,useContext:Qe,useEffect:Nr,useImperativeHandle:Pd,useInsertionEffect:Id,useLayoutEffect:Fd,useMemo:ef,useReducer:wr,useRef:Kd,useState:function(){return wr(_a)},useDebugValue:Rr,useDeferredValue:function(t,e){var n=xe();return Wt===null?jr(n,t,e):nf(n,Wt.memoizedState,t,e)},useTransition:function(){var t=wr(_a)[0],e=xe().memoizedState;return[typeof t=="boolean"?t:qi(t),e]},useSyncExternalStore:jd,useId:uf,useHostTransitionStatus:Or,useFormState:Zd,useActionState:Zd,useOptimistic:function(t,e){var n=xe();return Wt!==null?Bd(n,Wt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ar,useCacheRefresh:cf};mf.useEffectEvent=$d;function Ur(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:E({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Br={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=zn(),l=rl(a);l.payload=e,n!=null&&(l.callback=n),e=ol(t,l,a),e!==null&&(gn(e,t,a),ki(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=zn(),l=rl(a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=ol(t,l,a),e!==null&&(gn(e,t,a),ki(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zn(),a=rl(n);a.tag=2,e!=null&&(a.callback=e),e=ol(t,a,n),e!==null&&(gn(e,t,n),ki(e,t,n))}};function hf(t,e,n,a,l,s,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,s,u):e.prototype&&e.prototype.isPureReactComponent?!le(n,a)||!le(l,s):!0}function pf(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&Br.enqueueReplaceState(e,e.state,null)}function ls(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=E({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function gf(t){wu(t)}function yf(t){console.error(t)}function vf(t){wu(t)}function $u(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function bf(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Lr(t,e,n){return n=rl(n),n.tag=3,n.payload={element:null},n.callback=function(){$u(t,e)},n}function Sf(t){return t=rl(t),t.tag=3,t}function Mf(t,e,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=a.value;t.payload=function(){return l(s)},t.callback=function(){bf(e,n,a)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){bf(e,n,a),typeof l!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var m=a.stack;this.componentDidCatch(a.value,{componentStack:m!==null?m:""})})}function bp(t,e,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&Ls(e,n,l,!0),n=Dn.current,n!==null){switch(n.tag){case 31:case 13:return Xn===null?uc():n.alternate===null&&ve===0&&(ve=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Uu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),ro(t,a,l)),!1;case 22:return n.flags|=65536,a===Uu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),ro(t,a,l)),!1}throw Error(o(435,n.tag))}return ro(t,a,l),uc(),!1}if(Bt)return e=Dn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,a!==ar&&(t=Error(o(422),{cause:a}),Ri(qn(t,n)))):(a!==ar&&(e=Error(o(423),{cause:a}),Ri(qn(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,a=qn(a,n),l=Lr(t.stateNode,a,l),hr(t,l),ve!==4&&(ve=2)),!1;var s=Error(o(520),{cause:a});if(s=qn(s,n),$i===null?$i=[s]:$i.push(s),ve!==4&&(ve=2),e===null)return!0;a=qn(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=Lr(n.stateNode,a,t),hr(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(gl===null||!gl.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Sf(l),Mf(l,t,n,a),hr(n,l),!1}n=n.return}while(n!==null);return!1}var qr=Error(o(461)),Ce=!1;function Ze(t,e,n,a){e.child=t===null?Ad(e,null,n,a):ns(e,t.child,n,a)}function xf(t,e,n,a,l){n=n.render;var s=e.ref;if("ref"in a){var u={};for(var m in a)m!=="ref"&&(u[m]=a[m])}else u=a;return Wl(e),a=Sr(t,e,n,u,s,l),m=Mr(),t!==null&&!Ce?(xr(t,e,l),ka(t,e,l)):(Bt&&m&&er(e),e.flags|=1,Ze(t,e,a,l),e.child)}function Ef(t,e,n,a,l){if(t===null){var s=n.type;return typeof s=="function"&&!Wc(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,Af(t,e,s,a,l)):(t=Ru(n.type,null,a,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Kr(t,l)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:le,n(u,a)&&t.ref===e.ref)return ka(t,e,l)}return e.flags|=1,t=Na(s,a),t.ref=e.ref,t.return=e,e.child=t}function Af(t,e,n,a,l){if(t!==null){var s=t.memoizedProps;if(le(s,a)&&t.ref===e.ref)if(Ce=!1,e.pendingProps=a=s,Kr(t,l))(t.flags&131072)!==0&&(Ce=!0);else return e.lanes=t.lanes,ka(t,e,l)}return Hr(t,e,n,a,l)}function Tf(t,e,n,a){var l=a.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,t!==null){for(a=e.child=t.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~s}else a=0,e.child=null;return wf(t,e,s,n,a)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(e,s!==null?s.cachePool:null),s!==null?Cd(e,s):gr(),Dd(e);else return a=e.lanes=536870912,wf(t,e,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(_u(e,s.cachePool),Cd(e,s),fl(),e.memoizedState=null):(t!==null&&_u(e,null),gr(),fl());return Ze(t,e,l,n),e.child}function Yi(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function wf(t,e,n,a,l){var s=or();return s=s===null?null:{parent:Te._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&_u(e,null),gr(),Dd(e),t!==null&&Ls(t,e,a,!0),e.childLanes=l,null}function Iu(t,e){return e=Wu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Cf(t,e,n){return ns(e,t.child,null,n),t=Iu(e,e.pendingProps),t.flags|=2,Nn(e),e.memoizedState=null,t}function Sp(t,e,n){var a=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Bt){if(a.mode==="hidden")return t=Iu(e,a),e.lanes=536870912,Yi(null,t);if(vr(e),(t=oe)?(t=qm(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ll!==null?{id:ma,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},n=rd(t),n.return=e,e.child=n,Ve=e,oe=null)):t=null,t===null)throw il(e);return e.lanes=536870912,null}return Iu(e,a)}var s=t.memoizedState;if(s!==null){var u=s.dehydrated;if(vr(e),l)if(e.flags&256)e.flags&=-257,e=Cf(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(o(558));else if(Ce||Ls(t,e,n,!1),l=(n&t.childLanes)!==0,Ce||l){if(a=se,a!==null&&(u=_l(a,n),u!==0&&u!==s.retryLane))throw s.retryLane=u,Jl(t,u),gn(a,t,u),qr;uc(),e=Cf(t,e,n)}else t=s.treeContext,oe=Vn(u.nextSibling),Ve=e,Bt=!0,sl=null,Yn=!1,t!==null&&fd(e,t),e=Iu(e,a),e.flags|=4096;return e}return t=Na(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Fu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Hr(t,e,n,a,l){return Wl(e),n=Sr(t,e,n,a,void 0,l),a=Mr(),t!==null&&!Ce?(xr(t,e,l),ka(t,e,l)):(Bt&&a&&er(e),e.flags|=1,Ze(t,e,n,l),e.child)}function Df(t,e,n,a,l,s){return Wl(e),e.updateQueue=null,n=Rd(e,a,n,l),Nd(t),a=Mr(),t!==null&&!Ce?(xr(t,e,s),ka(t,e,s)):(Bt&&a&&er(e),e.flags|=1,Ze(t,e,n,s),e.child)}function Nf(t,e,n,a,l){if(Wl(e),e.stateNode===null){var s=_s,u=n.contextType;typeof u=="object"&&u!==null&&(s=Qe(u)),s=new n(a,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Br,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=a,s.state=e.memoizedState,s.refs={},fr(e),u=n.contextType,s.context=typeof u=="object"&&u!==null?Qe(u):_s,s.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(Ur(e,n,u,a),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(u=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),u!==s.state&&Br.enqueueReplaceState(s,s.state,null),Bi(e,a,s,l),Ui(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){s=e.stateNode;var m=e.memoizedProps,x=ls(n,m);s.props=x;var O=s.context,G=n.contextType;u=_s,typeof G=="object"&&G!==null&&(u=Qe(G));var K=n.getDerivedStateFromProps;G=typeof K=="function"||typeof s.getSnapshotBeforeUpdate=="function",m=e.pendingProps!==m,G||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(m||O!==u)&&pf(e,s,a,u),cl=!1;var _=e.memoizedState;s.state=_,Bi(e,a,s,l),Ui(),O=e.memoizedState,m||_!==O||cl?(typeof K=="function"&&(Ur(e,n,K,a),O=e.memoizedState),(x=cl||hf(e,n,x,a,_,O,u))?(G||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=O),s.props=a,s.state=O,s.context=u,a=x):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{s=e.stateNode,mr(t,e),u=e.memoizedProps,G=ls(n,u),s.props=G,K=e.pendingProps,_=s.context,O=n.contextType,x=_s,typeof O=="object"&&O!==null&&(x=Qe(O)),m=n.getDerivedStateFromProps,(O=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==K||_!==x)&&pf(e,s,a,x),cl=!1,_=e.memoizedState,s.state=_,Bi(e,a,s,l),Ui();var B=e.memoizedState;u!==K||_!==B||cl||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof m=="function"&&(Ur(e,n,m,a),B=e.memoizedState),(G=cl||hf(e,n,G,a,_,B,x)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(O||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,B,x),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,B,x)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=B),s.props=a,s.state=B,s.context=x,a=G):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),a=!1)}return s=a,Fu(t,e),a=(e.flags&128)!==0,s||a?(s=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&a?(e.child=ns(e,t.child,null,l),e.child=ns(e,null,n,l)):Ze(t,e,n,l),e.memoizedState=s.state,t=e.child):t=ka(t,e,l),t}function Rf(t,e,n,a){return Il(),e.flags|=256,Ze(t,e,n,a),e.child}var Gr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yr(t){return{baseLanes:t,cachePool:vd()}}function Xr(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=jn),t}function jf(t,e,n){var a=e.pendingProps,l=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(Me.current&2)!==0),u&&(l=!0,e.flags&=-129),u=(e.flags&32)!==0,e.flags&=-33,t===null){if(Bt){if(l?dl(e):fl(),(t=oe)?(t=qm(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ll!==null?{id:ma,overflow:ha}:null,retryLane:536870912,hydrationErrors:null},n=rd(t),n.return=e,e.child=n,Ve=e,oe=null)):t=null,t===null)throw il(e);return wo(t)?e.lanes=32:e.lanes=536870912,null}var m=a.children;return a=a.fallback,l?(fl(),l=e.mode,m=Wu({mode:"hidden",children:m},l),a=$l(a,l,n,null),m.return=e,a.return=e,m.sibling=a,e.child=m,a=e.child,a.memoizedState=Yr(n),a.childLanes=Xr(t,u,n),e.memoizedState=Gr,Yi(null,a)):(dl(e),Vr(e,m))}var x=t.memoizedState;if(x!==null&&(m=x.dehydrated,m!==null)){if(s)e.flags&256?(dl(e),e.flags&=-257,e=Qr(t,e,n)):e.memoizedState!==null?(fl(),e.child=t.child,e.flags|=128,e=null):(fl(),m=a.fallback,l=e.mode,a=Wu({mode:"visible",children:a.children},l),m=$l(m,l,n,null),m.flags|=2,a.return=e,m.return=e,a.sibling=m,e.child=a,ns(e,t.child,null,n),a=e.child,a.memoizedState=Yr(n),a.childLanes=Xr(t,u,n),e.memoizedState=Gr,e=Yi(null,a));else if(dl(e),wo(m)){if(u=m.nextSibling&&m.nextSibling.dataset,u)var O=u.dgst;u=O,a=Error(o(419)),a.stack="",a.digest=u,Ri({value:a,source:null,stack:null}),e=Qr(t,e,n)}else if(Ce||Ls(t,e,n,!1),u=(n&t.childLanes)!==0,Ce||u){if(u=se,u!==null&&(a=_l(u,n),a!==0&&a!==x.retryLane))throw x.retryLane=a,Jl(t,a),gn(u,t,a),qr;To(m)||uc(),e=Qr(t,e,n)}else To(m)?(e.flags|=192,e.child=t.child,e=null):(t=x.treeContext,oe=Vn(m.nextSibling),Ve=e,Bt=!0,sl=null,Yn=!1,t!==null&&fd(e,t),e=Vr(e,a.children),e.flags|=4096);return e}return l?(fl(),m=a.fallback,l=e.mode,x=t.child,O=x.sibling,a=Na(x,{mode:"hidden",children:a.children}),a.subtreeFlags=x.subtreeFlags&65011712,O!==null?m=Na(O,m):(m=$l(m,l,n,null),m.flags|=2),m.return=e,a.return=e,a.sibling=m,e.child=a,Yi(null,a),a=e.child,m=t.child.memoizedState,m===null?m=Yr(n):(l=m.cachePool,l!==null?(x=Te._currentValue,l=l.parent!==x?{parent:x,pool:x}:l):l=vd(),m={baseLanes:m.baseLanes|n,cachePool:l}),a.memoizedState=m,a.childLanes=Xr(t,u,n),e.memoizedState=Gr,Yi(t.child,a)):(dl(e),n=t.child,t=n.sibling,n=Na(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(u=e.deletions,u===null?(e.deletions=[t],e.flags|=16):u.push(t)),e.child=n,e.memoizedState=null,n)}function Vr(t,e){return e=Wu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Wu(t,e){return t=Cn(22,t,null,e),t.lanes=0,t}function Qr(t,e,n){return ns(e,t.child,null,n),t=Vr(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zf(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),ir(t.return,e,n)}function Zr(t,e,n,a,l,s){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:s}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=n,u.tailMode=l,u.treeForkCount=s)}function Of(t,e,n){var a=e.pendingProps,l=a.revealOrder,s=a.tail;a=a.children;var u=Me.current,m=(u&2)!==0;if(m?(u=u&1|2,e.flags|=128):u&=1,tt(Me,u),Ze(t,e,a,n),a=Bt?Ni:0,!m&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zf(t,n,e);else if(t.tag===19)zf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&Hu(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Zr(e,!1,l,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Hu(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Zr(e,!0,n,null,s,a);break;case"together":Zr(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function ka(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),pl|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Ls(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(o(153));if(e.child!==null){for(t=e.child,n=Na(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Na(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kr(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function Mp(t,e,n){switch(e.tag){case 3:Ye(e,e.stateNode.containerInfo),ul(e,Te,t.memoizedState.cache),Il();break;case 27:case 5:Qa(e);break;case 4:Ye(e,e.stateNode.containerInfo);break;case 10:ul(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,vr(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(dl(e),e.flags|=128,null):(n&e.child.childLanes)!==0?jf(t,e,n):(dl(e),t=ka(t,e,n),t!==null?t.sibling:null);dl(e);break;case 19:var l=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(Ls(t,e,n,!1),a=(n&e.childLanes)!==0),l){if(a)return Of(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),tt(Me,Me.current),a)break;return null;case 22:return e.lanes=0,Tf(t,e,n,e.pendingProps);case 24:ul(e,Te,t.memoizedState.cache)}return ka(t,e,n)}function _f(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ce=!0;else{if(!Kr(t,n)&&(e.flags&128)===0)return Ce=!1,Mp(t,e,n);Ce=(t.flags&131072)!==0}else Ce=!1,Bt&&(e.flags&1048576)!==0&&dd(e,Ni,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=ts(e.elementType),e.type=t,typeof t=="function")Wc(t)?(a=ls(t,a),e.tag=1,e=Nf(null,e,t,a,n)):(e.tag=0,e=Hr(null,e,t,a,n));else{if(t!=null){var l=t.$$typeof;if(l===H){e.tag=11,e=xf(null,e,t,a,n);break t}else if(l===I){e.tag=14,e=Ef(null,e,t,a,n);break t}}throw e=Ne(t)||t,Error(o(306,e,""))}}return e;case 0:return Hr(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,l=ls(a,e.pendingProps),Nf(t,e,a,l,n);case 3:t:{if(Ye(e,e.stateNode.containerInfo),t===null)throw Error(o(387));a=e.pendingProps;var s=e.memoizedState;l=s.element,mr(t,e),Bi(e,a,null,n);var u=e.memoizedState;if(a=u.cache,ul(e,Te,a),a!==s.cache&&ur(e,[Te],n,!0),Ui(),a=u.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:u.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Rf(t,e,a,n);break t}else if(a!==l){l=qn(Error(o(424)),e),Ri(l),e=Rf(t,e,a,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=Vn(t.firstChild),Ve=e,Bt=!0,sl=null,Yn=!0,n=Ad(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Il(),a===l){e=ka(t,e,n);break t}Ze(t,e,a,n)}e=e.child}return e;case 26:return Fu(t,e),t===null?(n=Qm(e.type,null,e.pendingProps,null))?e.memoizedState=n:Bt||(n=e.type,t=e.pendingProps,a=hc(Ct.current).createElement(n),a[ne]=e,a[ke]=t,Ke(a,n,t),fe(a),e.stateNode=a):e.memoizedState=Qm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Qa(e),t===null&&Bt&&(a=e.stateNode=Ym(e.type,e.pendingProps,Ct.current),Ve=e,Yn=!0,l=oe,Sl(e.type)?(Co=l,oe=Vn(a.firstChild)):oe=l),Ze(t,e,e.pendingProps.children,n),Fu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Bt&&((l=a=oe)&&(a=Fp(a,e.type,e.pendingProps,Yn),a!==null?(e.stateNode=a,Ve=e,oe=Vn(a.firstChild),Yn=!1,l=!0):l=!1),l||il(e)),Qa(e),l=e.type,s=e.pendingProps,u=t!==null?t.memoizedProps:null,a=s.children,xo(l,s)?a=null:u!==null&&xo(l,u)&&(e.flags|=32),e.memoizedState!==null&&(l=Sr(t,e,fp,null,null,n),au._currentValue=l),Fu(t,e),Ze(t,e,a,n),e.child;case 6:return t===null&&Bt&&((t=n=oe)&&(n=Wp(n,e.pendingProps,Yn),n!==null?(e.stateNode=n,Ve=e,oe=null,t=!0):t=!1),t||il(e)),null;case 13:return jf(t,e,n);case 4:return Ye(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=ns(e,null,a,n):Ze(t,e,a,n),e.child;case 11:return xf(t,e,e.type,e.pendingProps,n);case 7:return Ze(t,e,e.pendingProps,n),e.child;case 8:return Ze(t,e,e.pendingProps.children,n),e.child;case 12:return Ze(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,ul(e,e.type,a.value),Ze(t,e,a.children,n),e.child;case 9:return l=e.type._context,a=e.pendingProps.children,Wl(e),l=Qe(l),a=a(l),e.flags|=1,Ze(t,e,a,n),e.child;case 14:return Ef(t,e,e.type,e.pendingProps,n);case 15:return Af(t,e,e.type,e.pendingProps,n);case 19:return Of(t,e,n);case 31:return Sp(t,e,n);case 22:return Tf(t,e,n,e.pendingProps);case 24:return Wl(e),a=Qe(Te),t===null?(l=or(),l===null&&(l=se,s=cr(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),e.memoizedState={parent:a,cache:l},fr(e),ul(e,Te,l)):((t.lanes&n)!==0&&(mr(t,e),Bi(e,null,null,n),Ui()),l=t.memoizedState,s=e.memoizedState,l.parent!==a?(l={parent:a,cache:a},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),ul(e,Te,a)):(a=s.cache,ul(e,Te,a),a!==l.cache&&ur(e,[Te],n,!0))),Ze(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(o(156,e.tag))}function Ua(t){t.flags|=4}function Jr(t,e,n,a,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(um())t.flags|=8192;else throw es=Uu,dr}else t.flags&=-16777217}function kf(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Im(e))if(um())t.flags|=8192;else throw es=Uu,dr}function Pu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Ia():536870912,t.lanes|=e,Is|=e)}function Xi(t,e){if(!Bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function de(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function xp(t,e,n){var a=e.pendingProps;switch(nr(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(e),null;case 1:return de(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),za(Te),ue(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Bs(e)?Ua(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,lr())),de(e),null;case 26:var l=e.type,s=e.memoizedState;return t===null?(Ua(e),s!==null?(de(e),kf(e,s)):(de(e),Jr(e,l,null,a,n))):s?s!==t.memoizedState?(Ua(e),de(e),kf(e,s)):(de(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&Ua(e),de(e),Jr(e,l,t,a,n)),null;case 27:if(Zn(e),n=Ct.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ua(e);else{if(!a){if(e.stateNode===null)throw Error(o(166));return de(e),null}t=at.current,Bs(e)?md(e):(t=Ym(l,a,n),e.stateNode=t,Ua(e))}return de(e),null;case 5:if(Zn(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ua(e);else{if(!a){if(e.stateNode===null)throw Error(o(166));return de(e),null}if(s=at.current,Bs(e))md(e);else{var u=hc(Ct.current);switch(s){case 1:s=u.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=u.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=u.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?u.createElement(l,{is:a.is}):u.createElement(l)}}s[ne]=e,s[ke]=a;t:for(u=e.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break t;for(;u.sibling===null;){if(u.return===null||u.return===e)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}e.stateNode=s;t:switch(Ke(s,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Ua(e)}}return de(e),Jr(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Ua(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(o(166));if(t=Ct.current,Bs(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,l=Ve,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}t[ne]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||jm(t.nodeValue,n)),t||il(e,!0)}else t=hc(t).createTextNode(a),t[ne]=e,e.stateNode=t}return de(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=Bs(e),n!==null){if(t===null){if(!a)throw Error(o(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[ne]=e}else Il(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;de(e),t=!1}else n=lr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Nn(e),e):(Nn(e),null);if((e.flags&128)!==0)throw Error(o(558))}return de(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Bs(e),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(o(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));l[ne]=e}else Il(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;de(e),l=!1}else l=lr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Nn(e),e):(Nn(e),null)}return Nn(e),(e.flags&128)!==0?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Pu(e,e.updateQueue),de(e),null);case 4:return ue(),t===null&&yo(e.stateNode.containerInfo),de(e),null;case 10:return za(e.type),de(e),null;case 19:if(U(Me),a=e.memoizedState,a===null)return de(e),null;if(l=(e.flags&128)!==0,s=a.rendering,s===null)if(l)Xi(a,!1);else{if(ve!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=Hu(t),s!==null){for(e.flags|=128,Xi(a,!1),t=s.updateQueue,e.updateQueue=t,Pu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)cd(n,t),n=n.sibling;return tt(Me,Me.current&1|2),Bt&&Ra(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&pe()>lc&&(e.flags|=128,l=!0,Xi(a,!1),e.lanes=4194304)}else{if(!l)if(t=Hu(s),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,Pu(e,t),Xi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Bt)return de(e),null}else 2*pe()-a.renderingStartTime>lc&&n!==536870912&&(e.flags|=128,l=!0,Xi(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(t=a.last,t!==null?t.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=pe(),t.sibling=null,n=Me.current,tt(Me,l?n&1|2:n&1),Bt&&Ra(e,a.treeForkCount),t):(de(e),null);case 22:case 23:return Nn(e),yr(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(de(e),e.subtreeFlags&6&&(e.flags|=8192)):de(e),n=e.updateQueue,n!==null&&Pu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&U(Pl),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),za(Te),de(e),null;case 25:return null;case 30:return null}throw Error(o(156,e.tag))}function Ep(t,e){switch(nr(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return za(Te),ue(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Zn(e),null;case 31:if(e.memoizedState!==null){if(Nn(e),e.alternate===null)throw Error(o(340));Il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Nn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(o(340));Il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return U(Me),null;case 4:return ue(),null;case 10:return za(e.type),null;case 22:case 23:return Nn(e),yr(),t!==null&&U(Pl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return za(Te),null;case 25:return null;default:return null}}function Uf(t,e){switch(nr(e),e.tag){case 3:za(Te),ue();break;case 26:case 27:case 5:Zn(e);break;case 4:ue();break;case 31:e.memoizedState!==null&&Nn(e);break;case 13:Nn(e);break;case 19:U(Me);break;case 10:za(e.type);break;case 22:case 23:Nn(e),yr(),t!==null&&U(Pl);break;case 24:za(Te)}}function Vi(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&t)===t){a=void 0;var s=n.create,u=n.inst;a=s(),u.destroy=a}n=n.next}while(n!==l)}}catch(m){$t(e,e.return,m)}}function ml(t,e,n){try{var a=e.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&t)===t){var u=a.inst,m=u.destroy;if(m!==void 0){u.destroy=void 0,l=e;var x=n,O=m;try{O()}catch(G){$t(l,x,G)}}}a=a.next}while(a!==s)}}catch(G){$t(e,e.return,G)}}function Bf(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{wd(e,n)}catch(a){$t(t,t.return,a)}}}function Lf(t,e,n){n.props=ls(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){$t(t,e,a)}}function Qi(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(l){$t(t,e,l)}}function pa(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){$t(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){$t(t,e,l)}else n.current=null}function qf(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){$t(t,t.return,l)}}function $r(t,e,n){try{var a=t.stateNode;Qp(a,t.type,n,e),a[ke]=e}catch(l){$t(t,t.return,l)}}function Hf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sl(t.type)||t.tag===4}function Ir(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Hf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sl(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fr(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Un));else if(a!==4&&(a===27&&Sl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Fr(t,e,n),t=t.sibling;t!==null;)Fr(t,e,n),t=t.sibling}function tc(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&Sl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(tc(t,e,n),t=t.sibling;t!==null;)tc(t,e,n),t=t.sibling}function Gf(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);Ke(e,a,n),e[ne]=t,e[ke]=n}catch(s){$t(t,t.return,s)}}var Ba=!1,De=!1,Wr=!1,Yf=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Ap(t,e){if(t=t.containerInfo,So=Mc,t=Mt(t),je(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var u=0,m=-1,x=-1,O=0,G=0,K=t,_=null;e:for(;;){for(var B;K!==n||l!==0&&K.nodeType!==3||(m=u+l),K!==s||a!==0&&K.nodeType!==3||(x=u+a),K.nodeType===3&&(u+=K.nodeValue.length),(B=K.firstChild)!==null;)_=K,K=B;for(;;){if(K===t)break e;if(_===n&&++O===l&&(m=u),_===s&&++G===a&&(x=u),(B=K.nextSibling)!==null)break;K=_,_=K.parentNode}K=B}n=m===-1||x===-1?null:{start:m,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mo={focusedElem:t,selectionRange:n},Mc=!1,qe=e;qe!==null;)if(e=qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qe=t;else for(;qe!==null;){switch(e=qe,s=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)l=t[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&s!==null){t=void 0,n=e,l=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var rt=ls(n.type,l);t=a.getSnapshotBeforeUpdate(rt,s),a.__reactInternalSnapshotBeforeUpdate=t}catch(St){$t(n,n.return,St)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Ao(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ao(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}}function Xf(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:qa(t,n),a&4&&Vi(5,n);break;case 1:if(qa(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(u){$t(n,n.return,u)}else{var l=ls(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(u){$t(n,n.return,u)}}a&64&&Bf(n),a&512&&Qi(n,n.return);break;case 3:if(qa(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{wd(t,e)}catch(u){$t(n,n.return,u)}}break;case 27:e===null&&a&4&&Gf(n);case 26:case 5:qa(t,n),e===null&&a&4&&qf(n),a&512&&Qi(n,n.return);break;case 12:qa(t,n);break;case 31:qa(t,n),a&4&&Zf(t,n);break;case 13:qa(t,n),a&4&&Kf(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Op.bind(null,n),Pp(t,n))));break;case 22:if(a=n.memoizedState!==null||Ba,!a){e=e!==null&&e.memoizedState!==null||De,l=Ba;var s=De;Ba=a,(De=e)&&!s?Ha(t,n,(n.subtreeFlags&8772)!==0):qa(t,n),Ba=l,De=s}break;case 30:break;default:qa(t,n)}}function Vf(t){var e=t.alternate;e!==null&&(t.alternate=null,Vf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ps(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var he=null,fn=!1;function La(t,e,n){for(n=n.child;n!==null;)Qf(t,e,n),n=n.sibling}function Qf(t,e,n){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(sa,n)}catch{}switch(n.tag){case 26:De||pa(n,e),La(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:De||pa(n,e);var a=he,l=fn;Sl(n.type)&&(he=n.stateNode,fn=!1),La(t,e,n),tu(n.stateNode),he=a,fn=l;break;case 5:De||pa(n,e);case 6:if(a=he,l=fn,he=null,La(t,e,n),he=a,fn=l,he!==null)if(fn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(n.stateNode)}catch(s){$t(n,e,s)}else try{he.removeChild(n.stateNode)}catch(s){$t(n,e,s)}break;case 18:he!==null&&(fn?(t=he,Bm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),li(t)):Bm(he,n.stateNode));break;case 4:a=he,l=fn,he=n.stateNode.containerInfo,fn=!0,La(t,e,n),he=a,fn=l;break;case 0:case 11:case 14:case 15:ml(2,n,e),De||ml(4,n,e),La(t,e,n);break;case 1:De||(pa(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Lf(n,e,a)),La(t,e,n);break;case 21:La(t,e,n);break;case 22:De=(a=De)||n.memoizedState!==null,La(t,e,n),De=a;break;default:La(t,e,n)}}function Zf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{li(t)}catch(n){$t(e,e.return,n)}}}function Kf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{li(t)}catch(n){$t(e,e.return,n)}}function Tp(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Yf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Yf),e;default:throw Error(o(435,t.tag))}}function ec(t,e){var n=Tp(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var l=_p.bind(null,t,a);a.then(l,l)}})}function mn(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],s=t,u=e,m=u;t:for(;m!==null;){switch(m.tag){case 27:if(Sl(m.type)){he=m.stateNode,fn=!1;break t}break;case 5:he=m.stateNode,fn=!1;break t;case 3:case 4:he=m.stateNode.containerInfo,fn=!0;break t}m=m.return}if(he===null)throw Error(o(160));Qf(s,u,l),he=null,fn=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Jf(e,t),e=e.sibling}var na=null;function Jf(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(e,t),hn(t),a&4&&(ml(3,t,t.return),Vi(3,t),ml(5,t,t.return));break;case 1:mn(e,t),hn(t),a&512&&(De||n===null||pa(n,n.return)),a&64&&Ba&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=na;if(mn(e,t),hn(t),a&512&&(De||n===null||pa(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,l=l.ownerDocument||l;e:switch(a){case"title":s=l.getElementsByTagName("title")[0],(!s||s[Ue]||s[ne]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(a),l.head.insertBefore(s,l.querySelector("head > title"))),Ke(s,a,n),s[ne]=t,fe(s),a=s;break t;case"link":var u=Jm("link","href",l).get(a+(n.href||""));if(u){for(var m=0;m<u.length;m++)if(s=u[m],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(m,1);break e}}s=l.createElement(a),Ke(s,a,n),l.head.appendChild(s);break;case"meta":if(u=Jm("meta","content",l).get(a+(n.content||""))){for(m=0;m<u.length;m++)if(s=u[m],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(m,1);break e}}s=l.createElement(a),Ke(s,a,n),l.head.appendChild(s);break;default:throw Error(o(468,a))}s[ne]=t,fe(s),a=s}t.stateNode=a}else $m(l,t.type,t.stateNode);else t.stateNode=Km(l,a,t.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?$m(l,t.type,t.stateNode):Km(l,a,t.memoizedProps)):a===null&&t.stateNode!==null&&$r(t,t.memoizedProps,n.memoizedProps)}break;case 27:mn(e,t),hn(t),a&512&&(De||n===null||pa(n,n.return)),n!==null&&a&4&&$r(t,t.memoizedProps,n.memoizedProps);break;case 5:if(mn(e,t),hn(t),a&512&&(De||n===null||pa(n,n.return)),t.flags&32){l=t.stateNode;try{L(l,"")}catch(rt){$t(t,t.return,rt)}}a&4&&t.stateNode!=null&&(l=t.memoizedProps,$r(t,l,n!==null?n.memoizedProps:l)),a&1024&&(Wr=!0);break;case 6:if(mn(e,t),hn(t),a&4){if(t.stateNode===null)throw Error(o(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(rt){$t(t,t.return,rt)}}break;case 3:if(yc=null,l=na,na=pc(e.containerInfo),mn(e,t),na=l,hn(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{li(e.containerInfo)}catch(rt){$t(t,t.return,rt)}Wr&&(Wr=!1,$f(t));break;case 4:a=na,na=pc(t.stateNode.containerInfo),mn(e,t),hn(t),na=a;break;case 12:mn(e,t),hn(t);break;case 31:mn(e,t),hn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ec(t,a)));break;case 13:mn(e,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ac=pe()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ec(t,a)));break;case 22:l=t.memoizedState!==null;var x=n!==null&&n.memoizedState!==null,O=Ba,G=De;if(Ba=O||l,De=G||x,mn(e,t),De=G,Ba=O,hn(t),a&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||x||Ba||De||ss(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){x=n=e;try{if(s=x.stateNode,l)u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{m=x.stateNode;var K=x.memoizedProps.style,_=K!=null&&K.hasOwnProperty("display")?K.display:null;m.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(rt){$t(x,x.return,rt)}}}else if(e.tag===6){if(n===null){x=e;try{x.stateNode.nodeValue=l?"":x.memoizedProps}catch(rt){$t(x,x.return,rt)}}}else if(e.tag===18){if(n===null){x=e;try{var B=x.stateNode;l?Lm(B,!0):Lm(x.stateNode,!1)}catch(rt){$t(x,x.return,rt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,ec(t,n))));break;case 19:mn(e,t),hn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ec(t,a)));break;case 30:break;case 21:break;default:mn(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(Hf(a)){n=a;break}a=a.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var l=n.stateNode,s=Ir(t);tc(t,s,l);break;case 5:var u=n.stateNode;n.flags&32&&(L(u,""),n.flags&=-33);var m=Ir(t);tc(t,m,u);break;case 3:case 4:var x=n.stateNode.containerInfo,O=Ir(t);Fr(t,O,x);break;default:throw Error(o(161))}}catch(G){$t(t,t.return,G)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $f(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;$f(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function qa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Xf(t,e.alternate,e),e=e.sibling}function ss(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ml(4,e,e.return),ss(e);break;case 1:pa(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Lf(e,e.return,n),ss(e);break;case 27:tu(e.stateNode);case 26:case 5:pa(e,e.return),ss(e);break;case 22:e.memoizedState===null&&ss(e);break;case 30:ss(e);break;default:ss(e)}t=t.sibling}}function Ha(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,l=t,s=e,u=s.flags;switch(s.tag){case 0:case 11:case 15:Ha(l,s,n),Vi(4,s);break;case 1:if(Ha(l,s,n),a=s,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(O){$t(a,a.return,O)}if(a=s,l=a.updateQueue,l!==null){var m=a.stateNode;try{var x=l.shared.hiddenCallbacks;if(x!==null)for(l.shared.hiddenCallbacks=null,l=0;l<x.length;l++)Td(x[l],m)}catch(O){$t(a,a.return,O)}}n&&u&64&&Bf(s),Qi(s,s.return);break;case 27:Gf(s);case 26:case 5:Ha(l,s,n),n&&a===null&&u&4&&qf(s),Qi(s,s.return);break;case 12:Ha(l,s,n);break;case 31:Ha(l,s,n),n&&u&4&&Zf(l,s);break;case 13:Ha(l,s,n),n&&u&4&&Kf(l,s);break;case 22:s.memoizedState===null&&Ha(l,s,n),Qi(s,s.return);break;case 30:break;default:Ha(l,s,n)}e=e.sibling}}function Pr(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ji(n))}function to(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ji(t))}function aa(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)If(t,e,n,a),e=e.sibling}function If(t,e,n,a){var l=e.flags;switch(e.tag){case 0:case 11:case 15:aa(t,e,n,a),l&2048&&Vi(9,e);break;case 1:aa(t,e,n,a);break;case 3:aa(t,e,n,a),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ji(t)));break;case 12:if(l&2048){aa(t,e,n,a),t=e.stateNode;try{var s=e.memoizedProps,u=s.id,m=s.onPostCommit;typeof m=="function"&&m(u,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){$t(e,e.return,x)}}else aa(t,e,n,a);break;case 31:aa(t,e,n,a);break;case 13:aa(t,e,n,a);break;case 23:break;case 22:s=e.stateNode,u=e.alternate,e.memoizedState!==null?s._visibility&2?aa(t,e,n,a):Zi(t,e):s._visibility&2?aa(t,e,n,a):(s._visibility|=2,Ks(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),l&2048&&Pr(u,e);break;case 24:aa(t,e,n,a),l&2048&&to(e.alternate,e);break;default:aa(t,e,n,a)}}function Ks(t,e,n,a,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,u=e,m=n,x=a,O=u.flags;switch(u.tag){case 0:case 11:case 15:Ks(s,u,m,x,l),Vi(8,u);break;case 23:break;case 22:var G=u.stateNode;u.memoizedState!==null?G._visibility&2?Ks(s,u,m,x,l):Zi(s,u):(G._visibility|=2,Ks(s,u,m,x,l)),l&&O&2048&&Pr(u.alternate,u);break;case 24:Ks(s,u,m,x,l),l&&O&2048&&to(u.alternate,u);break;default:Ks(s,u,m,x,l)}e=e.sibling}}function Zi(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,l=a.flags;switch(a.tag){case 22:Zi(n,a),l&2048&&Pr(a.alternate,a);break;case 24:Zi(n,a),l&2048&&to(a.alternate,a);break;default:Zi(n,a)}e=e.sibling}}var Ki=8192;function Js(t,e,n){if(t.subtreeFlags&Ki)for(t=t.child;t!==null;)Ff(t,e,n),t=t.sibling}function Ff(t,e,n){switch(t.tag){case 26:Js(t,e,n),t.flags&Ki&&t.memoizedState!==null&&dg(n,na,t.memoizedState,t.memoizedProps);break;case 5:Js(t,e,n);break;case 3:case 4:var a=na;na=pc(t.stateNode.containerInfo),Js(t,e,n),na=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Ki,Ki=16777216,Js(t,e,n),Ki=a):Js(t,e,n));break;default:Js(t,e,n)}}function Wf(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ji(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];qe=a,tm(a,t)}Wf(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pf(t),t=t.sibling}function Pf(t){switch(t.tag){case 0:case 11:case 15:Ji(t),t.flags&2048&&ml(9,t,t.return);break;case 3:Ji(t);break;case 12:Ji(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,nc(t)):Ji(t);break;default:Ji(t)}}function nc(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];qe=a,tm(a,t)}Wf(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ml(8,e,e.return),nc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,nc(e));break;default:nc(e)}t=t.sibling}}function tm(t,e){for(;qe!==null;){var n=qe;switch(n.tag){case 0:case 11:case 15:ml(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ji(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,qe=a;else t:for(n=t;qe!==null;){a=qe;var l=a.sibling,s=a.return;if(Vf(a),a===n){qe=null;break t}if(l!==null){l.return=s,qe=l;break t}qe=s}}}var wp={getCacheForType:function(t){var e=Qe(Te),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Qe(Te).controller.signal}},Cp=typeof WeakMap=="function"?WeakMap:Map,Vt=0,se=null,jt=null,kt=0,Jt=0,Rn=null,hl=!1,$s=!1,eo=!1,Ga=0,ve=0,pl=0,is=0,no=0,jn=0,Is=0,$i=null,pn=null,ao=!1,ac=0,em=0,lc=1/0,sc=null,gl=null,ze=0,yl=null,Fs=null,Ya=0,lo=0,so=null,nm=null,Ii=0,io=null;function zn(){return(Vt&2)!==0&&kt!==0?kt&-kt:A.T!==null?mo():oi()}function am(){if(jn===0)if((kt&536870912)===0||Bt){var t=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),jn=t}else jn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),jn}function gn(t,e,n){(t===se&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)&&(Ws(t,0),vl(t,kt,jn,!1)),Mn(t,n),((Vt&2)===0||t!==se)&&(t===se&&((Vt&2)===0&&(is|=n),ve===4&&vl(t,kt,jn,!1)),ga(t))}function lm(t,e,n){if((Vt&6)!==0)throw Error(o(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||$a(t,e),l=a?Rp(t,e):co(t,e,!0),s=a;do{if(l===0){$s&&!a&&vl(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!Dp(n)){l=co(t,e,!1),s=!1;continue}if(l===2){if(s=e,t.errorRecoveryDisabledLanes&s)var u=0;else u=t.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){e=u;t:{var m=t;l=$i;var x=m.current.memoizedState.isDehydrated;if(x&&(Ws(m,u).flags|=256),u=co(m,u,!1),u!==2){if(eo&&!x){m.errorRecoveryDisabledLanes|=s,is|=s,l=4;break t}s=pn,pn=l,s!==null&&(pn===null?pn=s:pn.push.apply(pn,s))}l=u}if(s=!1,l!==2)continue}}if(l===1){Ws(t,0),vl(t,e,0,!0);break}t:{switch(a=t,s=l,s){case 0:case 1:throw Error(o(345));case 4:if((e&4194048)!==e)break;case 6:vl(a,e,jn,!hl);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((e&62914560)===e&&(l=ac+300-pe(),10<l)){if(vl(a,e,jn,!hl),zl(a,0,!0)!==0)break t;Ya=e,a.timeoutHandle=km(sm.bind(null,a,n,pn,sc,ao,e,jn,is,Is,hl,s,"Throttled",-0,0),l);break t}sm(a,n,pn,sc,ao,e,jn,is,Is,hl,s,null,-0,0)}}break}while(!0);ga(t)}function sm(t,e,n,a,l,s,u,m,x,O,G,K,_,B){if(t.timeoutHandle=-1,K=e.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},Ff(e,s,K);var rt=(s&62914560)===s?ac-pe():(s&4194048)===s?em-pe():0;if(rt=fg(K,rt),rt!==null){Ya=s,t.cancelPendingCommit=rt(mm.bind(null,t,e,s,n,a,l,u,m,x,G,K,null,_,B)),vl(t,s,u,!O);return}}mm(t,e,s,n,a,l,u,m,x)}function Dp(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],s=l.getSnapshot;l=l.value;try{if(!Ot(s(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vl(t,e,n,a){e&=~no,e&=~is,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var l=e;0<l;){var s=31-$e(l),u=1<<s;a[s]=-1,l&=~u}n!==0&&hs(t,n,e)}function ic(){return(Vt&6)===0?(Fi(0),!1):!0}function uo(){if(jt!==null){if(Jt===0)var t=jt.return;else t=jt,ja=Fl=null,Er(t),Ys=null,Oi=0,t=jt;for(;t!==null;)Uf(t.alternate,t),t=t.return;jt=null}}function Ws(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Jp(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ya=0,uo(),se=t,jt=n=Na(t.current,null),kt=e,Jt=0,Rn=null,hl=!1,$s=$a(t,e),eo=!1,Is=jn=no=is=pl=ve=0,pn=$i=null,ao=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var l=31-$e(a),s=1<<l;e|=t[l],a&=~s}return Ga=e,Cu(),n}function im(t,e){wt=null,A.H=Gi,e===Gs||e===ku?(e=Md(),Jt=3):e===dr?(e=Md(),Jt=4):Jt=e===qr?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Rn=e,jt===null&&(ve=1,$u(t,qn(e,t.current)))}function um(){var t=Dn.current;return t===null?!0:(kt&4194048)===kt?Xn===null:(kt&62914560)===kt||(kt&536870912)!==0?t===Xn:!1}function cm(){var t=A.H;return A.H=Gi,t===null?Gi:t}function rm(){var t=A.A;return A.A=wp,t}function uc(){ve=4,hl||(kt&4194048)!==kt&&Dn.current!==null||($s=!0),(pl&134217727)===0&&(is&134217727)===0||se===null||vl(se,kt,jn,!1)}function co(t,e,n){var a=Vt;Vt|=2;var l=cm(),s=rm();(se!==t||kt!==e)&&(sc=null,Ws(t,e)),e=!1;var u=ve;t:do try{if(Jt!==0&&jt!==null){var m=jt,x=Rn;switch(Jt){case 8:uo(),u=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(e=!0);var O=Jt;if(Jt=0,Rn=null,Ps(t,m,x,O),n&&$s){u=0;break t}break;default:O=Jt,Jt=0,Rn=null,Ps(t,m,x,O)}}Np(),u=ve;break}catch(G){im(t,G)}while(!0);return e&&t.shellSuspendCounter++,ja=Fl=null,Vt=a,A.H=l,A.A=s,jt===null&&(se=null,kt=0,Cu()),u}function Np(){for(;jt!==null;)om(jt)}function Rp(t,e){var n=Vt;Vt|=2;var a=cm(),l=rm();se!==t||kt!==e?(sc=null,lc=pe()+500,Ws(t,e)):$s=$a(t,e);t:do try{if(Jt!==0&&jt!==null){e=jt;var s=Rn;e:switch(Jt){case 1:Jt=0,Rn=null,Ps(t,e,s,1);break;case 2:case 9:if(bd(s)){Jt=0,Rn=null,dm(e);break}e=function(){Jt!==2&&Jt!==9||se!==t||(Jt=7),ga(t)},s.then(e,e);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:bd(s)?(Jt=0,Rn=null,dm(e)):(Jt=0,Rn=null,Ps(t,e,s,7));break;case 5:var u=null;switch(jt.tag){case 26:u=jt.memoizedState;case 5:case 27:var m=jt;if(u?Im(u):m.stateNode.complete){Jt=0,Rn=null;var x=m.sibling;if(x!==null)jt=x;else{var O=m.return;O!==null?(jt=O,cc(O)):jt=null}break e}}Jt=0,Rn=null,Ps(t,e,s,5);break;case 6:Jt=0,Rn=null,Ps(t,e,s,6);break;case 8:uo(),ve=6;break t;default:throw Error(o(462))}}jp();break}catch(G){im(t,G)}while(!0);return ja=Fl=null,A.H=a,A.A=l,Vt=n,jt!==null?0:(se=null,kt=0,Cu(),ve)}function jp(){for(;jt!==null&&!mu();)om(jt)}function om(t){var e=_f(t.alternate,t,Ga);t.memoizedProps=t.pendingProps,e===null?cc(t):jt=e}function dm(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Df(n,e,e.pendingProps,e.type,void 0,kt);break;case 11:e=Df(n,e,e.pendingProps,e.type.render,e.ref,kt);break;case 5:Er(e);default:Uf(n,e),e=jt=cd(e,Ga),e=_f(n,e,Ga)}t.memoizedProps=t.pendingProps,e===null?cc(t):jt=e}function Ps(t,e,n,a){ja=Fl=null,Er(e),Ys=null,Oi=0;var l=e.return;try{if(bp(t,l,e,n,kt)){ve=1,$u(t,qn(n,t.current)),jt=null;return}}catch(s){if(l!==null)throw jt=l,s;ve=1,$u(t,qn(n,t.current)),jt=null;return}e.flags&32768?(Bt||a===1?t=!0:$s||(kt&536870912)!==0?t=!1:(hl=t=!0,(a===2||a===9||a===3||a===6)&&(a=Dn.current,a!==null&&a.tag===13&&(a.flags|=16384))),fm(e,t)):cc(e)}function cc(t){var e=t;do{if((e.flags&32768)!==0){fm(e,hl);return}t=e.return;var n=xp(e.alternate,e,Ga);if(n!==null){jt=n;return}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);ve===0&&(ve=5)}function fm(t,e){do{var n=Ep(t.alternate,t);if(n!==null){n.flags&=32767,jt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){jt=t;return}jt=t=n}while(t!==null);ve=6,jt=null}function mm(t,e,n,a,l,s,u,m,x){t.cancelPendingCommit=null;do rc();while(ze!==0);if((Vt&6)!==0)throw Error(o(327));if(e!==null){if(e===t.current)throw Error(o(177));if(s=e.lanes|e.childLanes,s|=Ic,Ol(t,n,s,u,m,x),t===se&&(jt=se=null,kt=0),Fs=e,yl=t,Ya=n,lo=s,so=l,nm=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kp(va,function(){return vm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=A.T,A.T=null,l=X.p,X.p=2,u=Vt,Vt|=4;try{Ap(t,e,n)}finally{Vt=u,X.p=l,A.T=a}}ze=1,hm(),pm(),gm()}}function hm(){if(ze===1){ze=0;var t=yl,e=Fs,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=A.T,A.T=null;var a=X.p;X.p=2;var l=Vt;Vt|=4;try{Jf(e,t);var s=Mo,u=Mt(t.containerInfo),m=s.focusedElem,x=s.selectionRange;if(u!==m&&m&&m.ownerDocument&&pt(m.ownerDocument.documentElement,m)){if(x!==null&&je(m)){var O=x.start,G=x.end;if(G===void 0&&(G=O),"selectionStart"in m)m.selectionStart=O,m.selectionEnd=Math.min(G,m.value.length);else{var K=m.ownerDocument||document,_=K&&K.defaultView||window;if(_.getSelection){var B=_.getSelection(),rt=m.textContent.length,St=Math.min(x.start,rt),te=x.end===void 0?St:Math.min(x.end,rt);!B.extend&&St>te&&(u=te,te=St,St=u);var j=me(m,St),w=me(m,te);if(j&&w&&(B.rangeCount!==1||B.anchorNode!==j.node||B.anchorOffset!==j.offset||B.focusNode!==w.node||B.focusOffset!==w.offset)){var z=K.createRange();z.setStart(j.node,j.offset),B.removeAllRanges(),St>te?(B.addRange(z),B.extend(w.node,w.offset)):(z.setEnd(w.node,w.offset),B.addRange(z))}}}}for(K=[],B=m;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<K.length;m++){var Z=K[m];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Mc=!!So,Mo=So=null}finally{Vt=l,X.p=a,A.T=n}}t.current=e,ze=2}}function pm(){if(ze===2){ze=0;var t=yl,e=Fs,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=A.T,A.T=null;var a=X.p;X.p=2;var l=Vt;Vt|=4;try{Xf(t,e.alternate,e)}finally{Vt=l,X.p=a,A.T=n}}ze=3}}function gm(){if(ze===4||ze===3){ze=0,ds();var t=yl,e=Fs,n=Ya,a=nm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ze=5:(ze=0,Fs=yl=null,ym(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(gl=null),xn(n),e=e.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(sa,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=A.T,l=X.p,X.p=2,A.T=null;try{for(var s=t.onRecoverableError,u=0;u<a.length;u++){var m=a[u];s(m.value,{componentStack:m.stack})}}finally{A.T=e,X.p=l}}(Ya&3)!==0&&rc(),ga(t),l=t.pendingLanes,(n&261930)!==0&&(l&42)!==0?t===io?Ii++:(Ii=0,io=t):Ii=0,Fi(0)}}function ym(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ji(e)))}function rc(){return hm(),pm(),gm(),vm()}function vm(){if(ze!==5)return!1;var t=yl,e=lo;lo=0;var n=xn(Ya),a=A.T,l=X.p;try{X.p=32>n?32:n,A.T=null,n=so,so=null;var s=yl,u=Ya;if(ze=0,Fs=yl=null,Ya=0,(Vt&6)!==0)throw Error(o(331));var m=Vt;if(Vt|=4,Pf(s.current),If(s,s.current,u,n),Vt=m,Fi(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(sa,s)}catch{}return!0}finally{X.p=l,A.T=a,ym(t,e)}}function bm(t,e,n){e=qn(n,e),e=Lr(t.stateNode,e,2),t=ol(t,e,2),t!==null&&(Mn(t,2),ga(t))}function $t(t,e,n){if(t.tag===3)bm(t,t,n);else for(;e!==null;){if(e.tag===3){bm(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(gl===null||!gl.has(a))){t=qn(n,t),n=Sf(2),a=ol(e,n,2),a!==null&&(Mf(n,a,e,t),Mn(a,2),ga(a));break}}e=e.return}}function ro(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new Cp;var l=new Set;a.set(e,l)}else l=a.get(e),l===void 0&&(l=new Set,a.set(e,l));l.has(n)||(eo=!0,l.add(n),t=zp.bind(null,t,e,n),e.then(t,t))}function zp(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,se===t&&(kt&n)===n&&(ve===4||ve===3&&(kt&62914560)===kt&&300>pe()-ac?(Vt&2)===0&&Ws(t,0):no|=n,Is===kt&&(Is=0)),ga(t)}function Sm(t,e){e===0&&(e=Ia()),t=Jl(t,e),t!==null&&(Mn(t,e),ga(t))}function Op(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sm(t,n)}function _p(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(e),Sm(t,n)}function kp(t,e){return bn(t,e)}var oc=null,ti=null,oo=!1,dc=!1,fo=!1,bl=0;function ga(t){t!==ti&&t.next===null&&(ti===null?oc=ti=t:ti=ti.next=t),dc=!0,oo||(oo=!0,Bp())}function Fi(t,e){if(!fo&&dc){fo=!0;do for(var n=!1,a=oc;a!==null;){if(t!==0){var l=a.pendingLanes;if(l===0)var s=0;else{var u=a.suspendedLanes,m=a.pingedLanes;s=(1<<31-$e(42|t)+1)-1,s&=l&~(u&~m),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Am(a,s))}else s=kt,s=zl(a,a===se?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||$a(a,s)||(n=!0,Am(a,s));a=a.next}while(n);fo=!1}}function Up(){Mm()}function Mm(){dc=oo=!1;var t=0;bl!==0&&Kp()&&(t=bl);for(var e=pe(),n=null,a=oc;a!==null;){var l=a.next,s=xm(a,e);s===0?(a.next=null,n===null?oc=l:n.next=l,l===null&&(ti=n)):(n=a,(t!==0||(s&3)!==0)&&(dc=!0)),a=l}ze!==0&&ze!==5||Fi(t),bl!==0&&(bl=0)}function xm(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,l=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var u=31-$e(s),m=1<<u,x=l[u];x===-1?((m&n)===0||(m&a)!==0)&&(l[u]=gu(m,e)):x<=e&&(t.expiredLanes|=m),s&=~m}if(e=se,n=kt,n=zl(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(Jt===2||Jt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Dl(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||$a(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&Dl(a),xn(n)){case 2:case 8:n=ms;break;case 32:n=va;break;case 268435456:n=Oe;break;default:n=va}return a=Em.bind(null,t),n=bn(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&Dl(a),t.callbackPriority=2,t.callbackNode=null,2}function Em(t,e){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(rc()&&t.callbackNode!==n)return null;var a=kt;return a=zl(t,t===se?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(lm(t,a,e),xm(t,pe()),t.callbackNode!=null&&t.callbackNode===n?Em.bind(null,t):null)}function Am(t,e){if(rc())return null;lm(t,e,!0)}function Bp(){$p(function(){(Vt&6)!==0?bn(_n,Up):Mm()})}function mo(){if(bl===0){var t=qs;t===0&&(t=jl,jl<<=1,(jl&261888)===0&&(jl=256)),bl=t}return bl}function Tm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ms(""+t)}function wm(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Lp(t,e,n,a,l){if(e==="submit"&&n&&n.stateNode===l){var s=Tm((l[ke]||null).action),u=a.submitter;u&&(e=(e=u[ke]||null)?Tm(e.formAction):u.getAttribute("formAction"),e!==null&&(s=e,u=null));var m=new ws("action","action",null,a,l);t.push({event:m,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(bl!==0){var x=u?wm(l,u):new FormData(l);zr(n,{pending:!0,data:x,method:l.method,action:s},null,x)}}else typeof s=="function"&&(m.preventDefault(),x=u?wm(l,u):new FormData(l),zr(n,{pending:!0,data:x,method:l.method,action:s},s,x))},currentTarget:l}]})}}for(var ho=0;ho<Di.length;ho++){var po=Di[ho],qp=po.toLowerCase(),Hp=po[0].toUpperCase()+po.slice(1);ea(qp,"on"+Hp)}ea(Ai,"onAnimationEnd"),ea(Ti,"onAnimationIteration"),ea(Zl,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(Gt,"onTransitionRun"),ea(fa,"onTransitionStart"),ea(Kl,"onTransitionCancel"),ea(wi,"onTransitionEnd"),ca("onMouseEnter",["mouseout","mouseover"]),ca("onMouseLeave",["mouseout","mouseover"]),ca("onPointerEnter",["pointerout","pointerover"]),ca("onPointerLeave",["pointerout","pointerover"]),ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wi));function Cm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],l=a.event;a=a.listeners;t:{var s=void 0;if(e)for(var u=a.length-1;0<=u;u--){var m=a[u],x=m.instance,O=m.currentTarget;if(m=m.listener,x!==s&&l.isPropagationStopped())break t;s=m,l.currentTarget=O;try{s(l)}catch(G){wu(G)}l.currentTarget=null,s=x}else for(u=0;u<a.length;u++){if(m=a[u],x=m.instance,O=m.currentTarget,m=m.listener,x!==s&&l.isPropagationStopped())break t;s=m,l.currentTarget=O;try{s(l)}catch(G){wu(G)}l.currentTarget=null,s=x}}}}function zt(t,e){var n=e[Fa];n===void 0&&(n=e[Fa]=new Set);var a=t+"__bubble";n.has(a)||(Dm(e,t,2,!1),n.add(a))}function go(t,e,n){var a=0;e&&(a|=4),Dm(n,t,a,e)}var fc="_reactListening"+Math.random().toString(36).slice(2);function yo(t){if(!t[fc]){t[fc]=!0,un.forEach(function(n){n!=="selectionchange"&&(Gp.has(n)||go(n,!1,t),go(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fc]||(e[fc]=!0,go("selectionchange",!1,e))}}function Dm(t,e,n,a){switch(ah(e)){case 2:var l=pg;break;case 8:l=gg;break;default:l=zo}n=l.bind(null,e,n,t),l=void 0,!rn||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),a?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function vo(t,e,n,a,l){var s=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var m=a.stateNode.containerInfo;if(m===l)break;if(u===4)for(u=a.return;u!==null;){var x=u.tag;if((x===3||x===4)&&u.stateNode.containerInfo===l)return;u=u.return}for(;m!==null;){if(u=ia(m),u===null)return;if(x=u.tag,x===5||x===6||x===26||x===27){a=s=u;continue t}m=m.parentNode}}a=a.return}hi(function(){var O=s,G=Ll(n),K=[];t:{var _=Ci.get(t);if(_!==void 0){var B=ws,rt=t;switch(t){case"keypress":if(Ts(n)===0)break t;case"keydown":case"keyup":B=nl;break;case"focusin":rt="focus",B=pi;break;case"focusout":rt="blur",B=pi;break;case"beforeblur":case"afterblur":B=pi;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Re;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Qc;break;case Ai:case Ti:case Zl:B=Uc;break;case wi:B=Ql;break;case"scroll":case"scrollend":B=kc;break;case"wheel":B=Kc;break;case"copy":case"cut":case"paste":B=Lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Si;break;case"toggle":case"beforetoggle":B=xu}var St=(e&4)!==0,te=!St&&(t==="scroll"||t==="scrollend"),j=St?_!==null?_+"Capture":null:_;St=[];for(var w=O,z;w!==null;){var Z=w;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||j===null||(Z=ra(w,j),Z!=null&&St.push(Pi(w,Z,z))),te)break;w=w.return}0<St.length&&(_=new B(_,rt,null,n,G),K.push({event:_,listeners:St}))}}if((e&7)===0){t:{if(_=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",_&&n!==xs&&(rt=n.relatedTarget||n.fromElement)&&(ia(rt)||rt[In]))break t;if((B||_)&&(_=G.window===G?G:(_=G.ownerDocument)?_.defaultView||_.parentWindow:window,B?(rt=n.relatedTarget||n.toElement,B=O,rt=rt?ia(rt):null,rt!==null&&(te=M(rt),St=rt.tag,rt!==te||St!==5&&St!==27&&St!==6)&&(rt=null)):(B=null,rt=O),B!==rt)){if(St=Re,Z="onMouseLeave",j="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(St=Si,Z="onPointerLeave",j="onPointerEnter",w="pointer"),te=B==null?_:kn(B),z=rt==null?_:kn(rt),_=new St(Z,w+"leave",B,n,G),_.target=te,_.relatedTarget=z,Z=null,ia(G)===O&&(St=new St(j,w+"enter",rt,n,G),St.target=z,St.relatedTarget=te,Z=St),te=Z,B&&rt)e:{for(St=Yp,j=B,w=rt,z=0,Z=j;Z;Z=St(Z))z++;Z=0;for(var ht=w;ht;ht=St(ht))Z++;for(;0<z-Z;)j=St(j),z--;for(;0<Z-z;)w=St(w),Z--;for(;z--;){if(j===w||w!==null&&j===w.alternate){St=j;break e}j=St(j),w=St(w)}St=null}else St=null;B!==null&&Nm(K,_,B,St,!1),rt!==null&&te!==null&&Nm(K,te,rt,St,!0)}}t:{if(_=O?kn(O):window,B=_.nodeName&&_.nodeName.toLowerCase(),B==="select"||B==="input"&&_.type==="file")var Yt=nt;else if(C(_))if(lt)Yt=Tu;else{Yt=dn;var dt=Rt}else B=_.nodeName,!B||B.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?O&&bs(O.elementType)&&(Yt=nt):Yt=js;if(Yt&&(Yt=Yt(t,O))){R(K,Yt,n,G);break t}dt&&dt(t,_,O),t==="focusout"&&O&&_.type==="number"&&O.memoizedProps.value!=null&&el(_,"number",_.value)}switch(dt=O?kn(O):window,t){case"focusin":(C(dt)||dt.contentEditable==="true")&&(re=dt,Tn=O,xt=null);break;case"focusout":xt=Tn=re=null;break;case"mousedown":Kt=!0;break;case"contextmenu":case"mouseup":case"dragend":Kt=!1,Se(K,n,G);break;case"selectionchange":if(Zt)break;case"keydown":case"keyup":Se(K,n,G)}var Nt;if(Ns)t:{switch(t){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else al?Au(t,n)&&(Ut="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Ut="onCompositionStart");Ut&&(Rs&&n.locale!=="ko"&&(al||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&al&&(Nt=Su()):(Wn=G,Es="value"in Wn?Wn.value:Wn.textContent,al=!0)),dt=mc(O,Ut),0<dt.length&&(Ut=new gi(Ut,t,null,n,G),K.push({event:Ut,listeners:dt}),Nt?Ut.data=Nt:(Nt=xi(n),Nt!==null&&(Ut.data=Nt)))),(Nt=ln?i(t,n):c(t,n))&&(Ut=mc(O,"onBeforeInput"),0<Ut.length&&(dt=new gi("onBeforeInput","beforeinput",null,n,G),K.push({event:dt,listeners:Ut}),dt.data=Nt)),Lp(K,t,O,n,G)}Cm(K,e)})}function Pi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mc(t,e){for(var n=e+"Capture",a=[];t!==null;){var l=t,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=ra(t,n),l!=null&&a.unshift(Pi(t,l,s)),l=ra(t,e),l!=null&&a.push(Pi(t,l,s))),t.tag===3)return a;t=t.return}return[]}function Yp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Nm(t,e,n,a,l){for(var s=e._reactName,u=[];n!==null&&n!==a;){var m=n,x=m.alternate,O=m.stateNode;if(m=m.tag,x!==null&&x===a)break;m!==5&&m!==26&&m!==27||O===null||(x=O,l?(O=ra(n,s),O!=null&&u.unshift(Pi(n,O,x))):l||(O=ra(n,s),O!=null&&u.push(Pi(n,O,x)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Xp=/\r\n?/g,Vp=/\u0000|\uFFFD/g;function Rm(t){return(typeof t=="string"?t:""+t).replace(Xp,`
`).replace(Vp,"")}function jm(t,e){return e=Rm(e),Rm(t)===e}function Pt(t,e,n,a,l,s){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||L(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&L(t,""+a);break;case"className":Pa(t,"class",a);break;case"tabIndex":Pa(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Pa(t,n,a);break;case"style":Aa(t,a,s);break;case"data":if(e!=="object"){Pa(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=Ms(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Pt(t,e,"name",l.name,l,null),Pt(t,e,"formEncType",l.formEncType,l,null),Pt(t,e,"formMethod",l.formMethod,l,null),Pt(t,e,"formTarget",l.formTarget,l,null)):(Pt(t,e,"encType",l.encType,l,null),Pt(t,e,"method",l.method,l,null),Pt(t,e,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=Ms(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=Un);break;case"onScroll":a!=null&&zt("scroll",t);break;case"onScrollEnd":a!=null&&zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=Ms(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":zt("beforetoggle",t),zt("toggle",t),Ma(t,"popover",a);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ma(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=bu.get(n)||n,Ma(t,n,a))}}function bo(t,e,n,a,l,s){switch(n){case"style":Aa(t,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"children":typeof a=="string"?L(t,a):(typeof a=="number"||typeof a=="bigint")&&L(t,""+a);break;case"onScroll":a!=null&&zt("scroll",t);break;case"onScrollEnd":a!=null&&zt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wa.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),s=t[ke]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,l),typeof a=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,l);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):Ma(t,n,a)}}}function Ke(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",t),zt("load",t);var a=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:Pt(t,e,s,u,n,null)}}l&&Pt(t,e,"srcSet",n.srcSet,n,null),a&&Pt(t,e,"src",n.src,n,null);return;case"input":zt("invalid",t);var m=s=u=l=null,x=null,O=null;for(a in n)if(n.hasOwnProperty(a)){var G=n[a];if(G!=null)switch(a){case"name":l=G;break;case"type":u=G;break;case"checked":x=G;break;case"defaultChecked":O=G;break;case"value":s=G;break;case"defaultValue":m=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,e));break;default:Pt(t,e,a,G,n,null)}}We(t,s,m,x,O,u,l,!1);return;case"select":zt("invalid",t),a=u=s=null;for(l in n)if(n.hasOwnProperty(l)&&(m=n[l],m!=null))switch(l){case"value":s=m;break;case"defaultValue":u=m;break;case"multiple":a=m;default:Pt(t,e,l,m,n,null)}e=s,n=u,t.multiple=!!a,e!=null?xa(t,!!a,e,!1):n!=null&&xa(t,!!a,n,!0);return;case"textarea":zt("invalid",t),s=l=a=null;for(u in n)if(n.hasOwnProperty(u)&&(m=n[u],m!=null))switch(u){case"value":a=m;break;case"defaultValue":l=m;break;case"children":s=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:Pt(t,e,u,m,n,null)}Ea(t,a,l,s);return;case"option":for(x in n)if(n.hasOwnProperty(x)&&(a=n[x],a!=null))switch(x){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Pt(t,e,x,a,n,null)}return;case"dialog":zt("beforetoggle",t),zt("toggle",t),zt("cancel",t),zt("close",t);break;case"iframe":case"object":zt("load",t);break;case"video":case"audio":for(a=0;a<Wi.length;a++)zt(Wi[a],t);break;case"image":zt("error",t),zt("load",t);break;case"details":zt("toggle",t);break;case"embed":case"source":case"link":zt("error",t),zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in n)if(n.hasOwnProperty(O)&&(a=n[O],a!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:Pt(t,e,O,a,n,null)}return;default:if(bs(e)){for(G in n)n.hasOwnProperty(G)&&(a=n[G],a!==void 0&&bo(t,e,G,a,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!=null&&Pt(t,e,m,a,n,null))}function Qp(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,u=null,m=null,x=null,O=null,G=null;for(B in n){var K=n[B];if(n.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":x=K;default:a.hasOwnProperty(B)||Pt(t,e,B,null,a,K)}}for(var _ in a){var B=a[_];if(K=n[_],a.hasOwnProperty(_)&&(B!=null||K!=null))switch(_){case"type":s=B;break;case"name":l=B;break;case"checked":O=B;break;case"defaultChecked":G=B;break;case"value":u=B;break;case"defaultValue":m=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,e));break;default:B!==K&&Pt(t,e,_,B,a,K)}}Qt(t,u,m,x,O,G,s,l);return;case"select":B=u=m=_=null;for(s in n)if(x=n[s],n.hasOwnProperty(s)&&x!=null)switch(s){case"value":break;case"multiple":B=x;default:a.hasOwnProperty(s)||Pt(t,e,s,null,a,x)}for(l in a)if(s=a[l],x=n[l],a.hasOwnProperty(l)&&(s!=null||x!=null))switch(l){case"value":_=s;break;case"defaultValue":m=s;break;case"multiple":u=s;default:s!==x&&Pt(t,e,l,s,a,x)}e=m,n=u,a=B,_!=null?xa(t,!!n,_,!1):!!a!=!!n&&(e!=null?xa(t,!!n,e,!0):xa(t,!!n,n?[]:"",!1));return;case"textarea":B=_=null;for(m in n)if(l=n[m],n.hasOwnProperty(m)&&l!=null&&!a.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:Pt(t,e,m,null,a,l)}for(u in a)if(l=a[u],s=n[u],a.hasOwnProperty(u)&&(l!=null||s!=null))switch(u){case"value":_=l;break;case"defaultValue":B=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(o(91));break;default:l!==s&&Pt(t,e,u,l,a,s)}Xe(t,_,B);return;case"option":for(var rt in n)if(_=n[rt],n.hasOwnProperty(rt)&&_!=null&&!a.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Pt(t,e,rt,null,a,_)}for(x in a)if(_=a[x],B=n[x],a.hasOwnProperty(x)&&_!==B&&(_!=null||B!=null))switch(x){case"selected":t.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Pt(t,e,x,_,a,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in n)_=n[St],n.hasOwnProperty(St)&&_!=null&&!a.hasOwnProperty(St)&&Pt(t,e,St,null,a,_);for(O in a)if(_=a[O],B=n[O],a.hasOwnProperty(O)&&_!==B&&(_!=null||B!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(o(137,e));break;default:Pt(t,e,O,_,a,B)}return;default:if(bs(e)){for(var te in n)_=n[te],n.hasOwnProperty(te)&&_!==void 0&&!a.hasOwnProperty(te)&&bo(t,e,te,void 0,a,_);for(G in a)_=a[G],B=n[G],!a.hasOwnProperty(G)||_===B||_===void 0&&B===void 0||bo(t,e,G,_,a,B);return}}for(var j in n)_=n[j],n.hasOwnProperty(j)&&_!=null&&!a.hasOwnProperty(j)&&Pt(t,e,j,null,a,_);for(K in a)_=a[K],B=n[K],!a.hasOwnProperty(K)||_===B||_==null&&B==null||Pt(t,e,K,_,a,B)}function zm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],s=l.transferSize,u=l.initiatorType,m=l.duration;if(s&&m&&zm(u)){for(u=0,m=l.responseEnd,a+=1;a<n.length;a++){var x=n[a],O=x.startTime;if(O>m)break;var G=x.transferSize,K=x.initiatorType;G&&zm(K)&&(x=x.responseEnd,u+=G*(x<m?1:(m-O)/(x-O)))}if(--a,e+=8*(s+u)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var So=null,Mo=null;function hc(t){return t.nodeType===9?t:t.ownerDocument}function Om(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _m(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function xo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Eo=null;function Kp(){var t=window.event;return t&&t.type==="popstate"?t===Eo?!1:(Eo=t,!0):(Eo=null,!1)}var km=typeof setTimeout=="function"?setTimeout:void 0,Jp=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(t){return Um.resolve(null).then(t).catch(Ip)}:km;function Ip(t){setTimeout(function(){throw t})}function Sl(t){return t==="head"}function Bm(t,e){var n=e,a=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(l),li(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")tu(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,tu(n);for(var s=n.firstChild;s;){var u=s.nextSibling,m=s.nodeName;s[Ue]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=u}}else n==="body"&&tu(t.ownerDocument.body);n=l}while(n);li(e)}function Lm(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function Ao(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ao(n),ps(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Fp(t,e,n,a){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Ue])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function Wp(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function qm(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Vn(t.nextSibling),t===null))return null;return t}function To(t){return t.data==="$?"||t.data==="$~"}function wo(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Pp(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Co=null;function Hm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Vn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Gm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Ym(t,e,n){switch(e=hc(n),t){case"html":if(t=e.documentElement,!t)throw Error(o(452));return t;case"head":if(t=e.head,!t)throw Error(o(453));return t;case"body":if(t=e.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function tu(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ps(t)}var Qn=new Map,Xm=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xa=X.d;X.d={f:tg,r:eg,D:ng,C:ag,L:lg,m:sg,X:ug,S:ig,M:cg};function tg(){var t=Xa.f(),e=ic();return t||e}function eg(t){var e=Be(t);e!==null&&e.tag===5&&e.type==="form"?sf(e):Xa.r(t)}var ei=typeof document>"u"?null:document;function Vm(t,e,n){var a=ei;if(a&&typeof e=="string"&&e){var l=Fe(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Xm.has(l)||(Xm.add(l),t={rel:t,crossOrigin:n,href:e},a.querySelector(l)===null&&(e=a.createElement("link"),Ke(e,"link",t),fe(e),a.head.appendChild(e)))}}function ng(t){Xa.D(t),Vm("dns-prefetch",t,null)}function ag(t,e){Xa.C(t,e),Vm("preconnect",t,e)}function lg(t,e,n){Xa.L(t,e,n);var a=ei;if(a&&t&&e){var l='link[rel="preload"][as="'+Fe(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Fe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Fe(n.imageSizes)+'"]')):l+='[href="'+Fe(t)+'"]';var s=l;switch(e){case"style":s=ni(t);break;case"script":s=ai(t)}Qn.has(s)||(t=E({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Qn.set(s,t),a.querySelector(l)!==null||e==="style"&&a.querySelector(eu(s))||e==="script"&&a.querySelector(nu(s))||(e=a.createElement("link"),Ke(e,"link",t),fe(e),a.head.appendChild(e)))}}function sg(t,e){Xa.m(t,e);var n=ei;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+Fe(a)+'"][href="'+Fe(t)+'"]',s=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ai(t)}if(!Qn.has(s)&&(t=E({rel:"modulepreload",href:t},e),Qn.set(s,t),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(nu(s)))return}a=n.createElement("link"),Ke(a,"link",t),fe(a),n.head.appendChild(a)}}}function ig(t,e,n){Xa.S(t,e,n);var a=ei;if(a&&t){var l=ge(a).hoistableStyles,s=ni(t);e=e||"default";var u=l.get(s);if(!u){var m={loading:0,preload:null};if(u=a.querySelector(eu(s)))m.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Qn.get(s))&&Do(t,n);var x=u=a.createElement("link");fe(x),Ke(x,"link",t),x._p=new Promise(function(O,G){x.onload=O,x.onerror=G}),x.addEventListener("load",function(){m.loading|=1}),x.addEventListener("error",function(){m.loading|=2}),m.loading|=4,gc(u,e,a)}u={type:"stylesheet",instance:u,count:1,state:m},l.set(s,u)}}}function ug(t,e){Xa.X(t,e);var n=ei;if(n&&t){var a=ge(n).hoistableScripts,l=ai(t),s=a.get(l);s||(s=n.querySelector(nu(l)),s||(t=E({src:t,async:!0},e),(e=Qn.get(l))&&No(t,e),s=n.createElement("script"),fe(s),Ke(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function cg(t,e){Xa.M(t,e);var n=ei;if(n&&t){var a=ge(n).hoistableScripts,l=ai(t),s=a.get(l);s||(s=n.querySelector(nu(l)),s||(t=E({src:t,async:!0,type:"module"},e),(e=Qn.get(l))&&No(t,e),s=n.createElement("script"),fe(s),Ke(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function Qm(t,e,n,a){var l=(l=Ct.current)?pc(l):null;if(!l)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ni(n.href),n=ge(l).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ni(n.href);var s=ge(l).hoistableStyles,u=s.get(t);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,u),(s=l.querySelector(eu(t)))&&!s._p&&(u.instance=s,u.state.loading=5),Qn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Qn.set(t,n),s||rg(l,t,n,u.state))),e&&a===null)throw Error(o(528,""));return u}if(e&&a!==null)throw Error(o(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ai(n),n=ge(l).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function ni(t){return'href="'+Fe(t)+'"'}function eu(t){return'link[rel="stylesheet"]['+t+"]"}function Zm(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function rg(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),Ke(e,"link",n),fe(e),t.head.appendChild(e))}function ai(t){return'[src="'+Fe(t)+'"]'}function nu(t){return"script[async]"+t}function Km(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+Fe(n.href)+'"]');if(a)return e.instance=a,fe(a),a;var l=E({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),fe(a),Ke(a,"style",l),gc(a,n.precedence,t),e.instance=a;case"stylesheet":l=ni(n.href);var s=t.querySelector(eu(l));if(s)return e.state.loading|=4,e.instance=s,fe(s),s;a=Zm(n),(l=Qn.get(l))&&Do(a,l),s=(t.ownerDocument||t).createElement("link"),fe(s);var u=s;return u._p=new Promise(function(m,x){u.onload=m,u.onerror=x}),Ke(s,"link",a),e.state.loading|=4,gc(s,n.precedence,t),e.instance=s;case"script":return s=ai(n.src),(l=t.querySelector(nu(s)))?(e.instance=l,fe(l),l):(a=n,(l=Qn.get(s))&&(a=E({},n),No(a,l)),t=t.ownerDocument||t,l=t.createElement("script"),fe(l),Ke(l,"link",a),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(o(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,gc(a,n.precedence,t));return e.instance}function gc(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,s=l,u=0;u<a.length;u++){var m=a[u];if(m.dataset.precedence===e)s=m;else if(s!==l)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Do(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function No(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var yc=null;function Jm(t,e,n){if(yc===null){var a=new Map,l=yc=new Map;l.set(n,a)}else l=yc,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var s=n[l];if(!(s[Ue]||s[ne]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var u=s.getAttribute(e)||"";u=t+u;var m=a.get(u);m?m.push(s):a.set(u,[s])}}return a}function $m(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function og(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Im(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function dg(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=ni(a.href),s=e.querySelector(eu(l));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=vc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,fe(s);return}s=e.ownerDocument||e,a=Zm(a),(l=Qn.get(l))&&Do(a,l),s=s.createElement("link"),fe(s);var u=s;u._p=new Promise(function(m,x){u.onload=m,u.onerror=x}),Ke(s,"link",a),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=vc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Ro=0;function fg(t,e){return t.stylesheets&&t.count===0&&Sc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Ro===0&&(Ro=62500*Zp());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sc(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Ro?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Sc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,e.forEach(mg,t),bc=null,vc.call(t))}function mg(t,e){if(!(e.state.loading&4)){var n=bc.get(t);if(n)var a=n.get(null);else{n=new Map,bc.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var u=l[s];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),a=u)}a&&n.set(null,a)}l=e.instance,u=l.getAttribute("data-precedence"),s=n.get(u)||a,s===a&&n.set(null,l),n.set(u,l),this.count++,a=vc.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),s?s.parentNode.insertBefore(l,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var au={$$typeof:ot,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function hg(t,e,n,a,l,s,u,m,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sn(0),this.hiddenUpdates=Sn(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Fm(t,e,n,a,l,s,u,m,x,O,G,K){return t=new hg(t,e,n,u,x,O,G,K,m),e=1,s===!0&&(e|=24),s=Cn(3,null,null,e),t.current=s,s.stateNode=t,e=cr(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:e},fr(s),t}function Wm(t){return t?(t=_s,t):_s}function Pm(t,e,n,a,l,s){l=Wm(l),a.context===null?a.context=l:a.pendingContext=l,a=rl(e),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=ol(t,a,e),n!==null&&(gn(n,t,e),ki(n,t,e))}function th(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jo(t,e){th(t,e),(t=t.alternate)&&th(t,e)}function eh(t){if(t.tag===13||t.tag===31){var e=Jl(t,67108864);e!==null&&gn(e,t,67108864),jo(t,67108864)}}function nh(t){if(t.tag===13||t.tag===31){var e=zn();e=Sa(e);var n=Jl(t,e);n!==null&&gn(n,t,e),jo(t,e)}}var Mc=!0;function pg(t,e,n,a){var l=A.T;A.T=null;var s=X.p;try{X.p=2,zo(t,e,n,a)}finally{X.p=s,A.T=l}}function gg(t,e,n,a){var l=A.T;A.T=null;var s=X.p;try{X.p=8,zo(t,e,n,a)}finally{X.p=s,A.T=l}}function zo(t,e,n,a){if(Mc){var l=Oo(a);if(l===null)vo(t,e,a,xc,n),lh(t,a);else if(vg(l,t,e,n,a))a.stopPropagation();else if(lh(t,a),e&4&&-1<yg.indexOf(t)){for(;l!==null;){var s=Be(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var u=Jn(s.pendingLanes);if(u!==0){var m=s;for(m.pendingLanes|=2,m.entangledLanes|=2;u;){var x=1<<31-$e(u);m.entanglements[1]|=x,u&=~x}ga(s),(Vt&6)===0&&(lc=pe()+500,Fi(0))}}break;case 31:case 13:m=Jl(s,2),m!==null&&gn(m,s,2),ic(),jo(s,2)}if(s=Oo(a),s===null&&vo(t,e,a,xc,n),s===l)break;l=s}l!==null&&a.stopPropagation()}else vo(t,e,a,null,n)}}function Oo(t){return t=Ll(t),_o(t)}var xc=null;function _o(t){if(xc=null,t=ia(t),t!==null){var e=M(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=y(e),t!==null)return t;t=null}else if(n===31){if(t=T(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return xc=t,null}function ah(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fs()){case _n:return 2;case ms:return 8;case va:case hu:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var ko=!1,Ml=null,xl=null,El=null,lu=new Map,su=new Map,Al=[],yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lh(t,e){switch(t){case"focusin":case"focusout":Ml=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":lu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(e.pointerId)}}function iu(t,e,n,a,l,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[l]},e!==null&&(e=Be(e),e!==null&&eh(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function vg(t,e,n,a,l){switch(e){case"focusin":return Ml=iu(Ml,t,e,n,a,l),!0;case"dragenter":return xl=iu(xl,t,e,n,a,l),!0;case"mouseover":return El=iu(El,t,e,n,a,l),!0;case"pointerover":var s=l.pointerId;return lu.set(s,iu(lu.get(s)||null,t,e,n,a,l)),!0;case"gotpointercapture":return s=l.pointerId,su.set(s,iu(su.get(s)||null,t,e,n,a,l)),!0}return!1}function sh(t){var e=ia(t.target);if(e!==null){var n=M(e);if(n!==null){if(e=n.tag,e===13){if(e=y(n),e!==null){t.blockedOn=e,$n(t.priority,function(){nh(n)});return}}else if(e===31){if(e=T(n),e!==null){t.blockedOn=e,$n(t.priority,function(){nh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oo(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);xs=a,n.target.dispatchEvent(a),xs=null}else return e=Be(n),e!==null&&eh(e),t.blockedOn=n,!1;e.shift()}return!0}function ih(t,e,n){Ec(t)&&n.delete(e)}function bg(){ko=!1,Ml!==null&&Ec(Ml)&&(Ml=null),xl!==null&&Ec(xl)&&(xl=null),El!==null&&Ec(El)&&(El=null),lu.forEach(ih),su.forEach(ih)}function Ac(t,e){t.blockedOn===e&&(t.blockedOn=null,ko||(ko=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,bg)))}var Tc=null;function uh(t){Tc!==t&&(Tc=t,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Tc===t&&(Tc=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],l=t[e+2];if(typeof a!="function"){if(_o(a||n)===null)continue;break}var s=Be(n);s!==null&&(t.splice(e,3),e-=3,zr(s,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function li(t){function e(x){return Ac(x,t)}Ml!==null&&Ac(Ml,t),xl!==null&&Ac(xl,t),El!==null&&Ac(El,t),lu.forEach(e),su.forEach(e);for(var n=0;n<Al.length;n++){var a=Al[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Al.length&&(n=Al[0],n.blockedOn===null);)sh(n),n.blockedOn===null&&Al.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],s=n[a+1],u=l[ke]||null;if(typeof s=="function")u||uh(n);else if(u){var m=null;if(s&&s.hasAttribute("formAction")){if(l=s,u=s[ke]||null)m=u.formAction;else if(_o(l)!==null)continue}else m=u.action;typeof m=="function"?n[a+1]=m:(n.splice(a,3),a-=3),uh(n)}}}function ch(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(u){return l=u})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function Uo(t){this._internalRoot=t}wc.prototype.render=Uo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(o(409));var n=e.current,a=zn();Pm(n,a,t,e,null,null)},wc.prototype.unmount=Uo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pm(t.current,2,null,t,null,null),ic(),e[In]=null}};function wc(t){this._internalRoot=t}wc.prototype.unstable_scheduleHydration=function(t){if(t){var e=oi();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Al.length&&e!==0&&e<Al[n].priority;n++);Al.splice(n,0,t),n===0&&sh(t)}};var rh=r.version;if(rh!=="19.2.0")throw Error(o(527,rh,"19.2.0"));X.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=v(e),t=t!==null?D(t):null,t=t===null?null:t.stateNode,t};var Sg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{sa=Cc.inject(Sg),_e=Cc}catch{}}return cu.createRoot=function(t,e){if(!p(t))throw Error(o(299));var n=!1,a="",l=gf,s=yf,u=vf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(u=e.onRecoverableError)),e=Fm(t,1,!1,null,null,n,a,null,l,s,u,ch),t[In]=e.current,yo(t),new Uo(e)},cu.hydrateRoot=function(t,e,n){if(!p(t))throw Error(o(299));var a=!1,l="",s=gf,u=yf,m=vf,x=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.formState!==void 0&&(x=n.formState)),e=Fm(t,1,!0,e,n??null,a,l,x,s,u,m,ch),e.context=Wm(null),n=e.current,a=zn(),a=Sa(a),l=rl(a),l.callback=null,ol(n,l,a),n=a,e.current.lanes=n,Mn(e,n),ga(e),t[In]=e.current,yo(t),new wc(e)},cu.version="19.2.0",cu}var bh;function Rg(){if(bh)return qo.exports;bh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(r){console.error(r)}}return d(),qo.exports=Ng(),qo.exports}var jg=Rg();const zg="modulepreload",Og=function(d,r){return new URL(d,r).href},Sh={},_g=function(r,f,o){let p=Promise.resolve();if(f&&f.length>0){let v=function(D){return Promise.all(D.map(E=>Promise.resolve(E).then(q=>({status:"fulfilled",value:q}),q=>({status:"rejected",reason:q}))))};const y=document.getElementsByTagName("link"),T=document.querySelector("meta[property=csp-nonce]"),b=T?.nonce||T?.getAttribute("nonce");p=v(f.map(D=>{if(D=Og(D,o),D in Sh)return;Sh[D]=!0;const E=D.endsWith(".css"),q=E?'[rel="stylesheet"]':"";if(o)for(let et=y.length-1;et>=0;et--){const F=y[et];if(F.href===D&&(!E||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${D}"]${q}`))return;const J=document.createElement("link");if(J.rel=E?"stylesheet":zg,E||(J.as="script"),J.crossOrigin="",J.href=D,b&&J.setAttribute("nonce",b),document.head.appendChild(J),E)return new Promise((et,F)=>{J.addEventListener("load",et),J.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${D}`)))})}))}function M(y){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=y,window.dispatchEvent(T),!T.defaultPrevented)throw y}return p.then(y=>{for(const T of y||[])T.status==="rejected"&&M(T.reason);return r().catch(M)})};function kg(d={}){const{immediate:r=!1,onNeedRefresh:f,onOfflineReady:o,onRegistered:p,onRegisteredSW:M,onRegisterError:y}=d;let T,b;const v=async(E=!0)=>{await b};async function D(){if("serviceWorker"in navigator){if(T=await _g(async()=>{const{Workbox:E}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:E}},[],import.meta.url).then(({Workbox:E})=>new E("./sw.js",{scope:"./",type:"classic"})).catch(E=>{y?.(E)}),!T)return;T.addEventListener("activated",E=>{(E.isUpdate||E.isExternal)&&window.location.reload()}),T.addEventListener("installed",E=>{E.isUpdate||o?.()}),T.register({immediate:r}).then(E=>{M?M("./sw.js",E):p?.(E)}).catch(E=>{y?.(E)})}}return b=D(),v}const Ug=""+new URL("lame.all-C7RRJB7H.js",import.meta.url).href;let Dc=null;async function Bg(){if(typeof window>"u")throw new Error("MP3 encoder can only load in a browser.");if(!window.lamejs?.Mp3Encoder)return Dc||(Dc=new Promise((d,r)=>{const f=document.createElement("script");f.src=Ug,f.async=!0,f.onload=()=>d(),f.onerror=()=>r(new Error("Failed to load MP3 encoder script.")),document.head.appendChild(f)}).then(()=>{if(!window.lamejs?.Mp3Encoder)throw new Error("MP3 encoder loaded but window.lamejs.Mp3Encoder is missing.")}),Dc)}function Lg(){const d=window.lamejs?.Mp3Encoder;if(!d)throw new Error("MP3 encoder is not loaded yet.");return d}const ci={frameDurationMs:50,minQuietDurationMs:600,minSegmentMs:5e3,targetSegmentMs:1e4,maxSegmentMs:6e4,silencePaddingMs:200,thresholdMultiplier:1.6,quietPercentile:.3,noisePercentile:.12,initialIgnoreMs:120},Mh=(d,r)=>{if(d.length===0)return 0;const f=[...d].sort((M,y)=>M-y),o=Math.min(Math.max(r,0),1),p=o===1?f.length-1:Math.floor(o*f.length);return f[p]},qg=d=>{if(d.numberOfChannels===1)return d.getChannelData(0);const{length:r,numberOfChannels:f}=d,o=new Float32Array(r);for(let p=0;p<f;p+=1){const M=d.getChannelData(p);for(let y=0;y<r;y+=1)o[y]+=M[y]/f}return o},Hg=(d,r,f)=>{const o=Math.max(1,Math.round(f/1e3*r)),p=d.length,M=Math.ceil(p/o),y=new Array(M),T=new Array(M);let b=Number.POSITIVE_INFINITY,v=0;for(let D=0;D<M;D+=1){const E=D*o,q=Math.min(p,E+o),J=q-E;if(J<=0){y[D]={index:D,startMs:E/r*1e3,endMs:q/r*1e3,rms:0,normalized:0},T[D]=0;continue}let et=0;for(let Et=E;Et<q;Et+=1){const it=d[Et];et+=it*it}const F=Math.sqrt(et/J);y[D]={index:D,startMs:E/r*1e3,endMs:q/r*1e3,rms:F,normalized:F},T[D]=F,F<b&&(b=F),F>v&&(v=F)}return Number.isFinite(b)||(b=0),{frames:y,rmsValues:T,minRms:b,maxRms:v}},Gg=({audioBuffer:d,frameDurationMs:r=ci.frameDurationMs})=>{const f=qg(d),{frames:o}=Hg(f,d.sampleRate,r),p=o.reduce((D,E)=>Math.max(D,E.rms),0),M=p>0?.92/p:1,y=o.map(D=>Math.min(D.rms*M,1)),T=y.length,b=T>0?y.reduce((D,E)=>D+E,0)/T:0,v=T>0?Math.max(...y):0;return{normalizedFrames:y,scalingFactor:M,maxNormalized:v,averageNormalized:b,frameDurationMs:r}},Yg=(d,r,f,o)=>{const p=[];let M=null,y=Number.POSITIVE_INFINITY,T=0,b=0,v=0,D=!1;for(let E=0;E<d.length;E+=1){const q=d[E],J=q.startMs>=o;J&&q.rms>r&&(D=!0);const F=D&&J&&q.rms<=r;if(F&&(M===null?(M=E,y=q.rms,T=q.rms,b=q.rms,v=1):(y=Math.min(y,q.rms),T=Math.max(T,q.rms),b+=q.rms,v+=1)),(!F&&M!==null||E===d.length-1&&F)&&M!==null){const it=F?E:E-1,bt=d[M],ot=d[it],H=ot.endMs-bt.startMs;if(H>=f){const P=(bt.startMs+ot.endMs)/2;p.push({index:p.length,startFrame:M,endFrame:it,startMs:bt.startMs,endMs:ot.endMs,durationMs:H,minRms:y,maxRms:T,averageRms:v>0?b/v:0,centerMs:P,normalizedMin:0,normalizedMax:0})}M=null,y=Number.POSITIVE_INFINITY,T=0,b=0,v=0}}return p},Xg=(d,r)=>d.map(f=>{const o=r.slice(f.startFrame,f.endFrame+1).map(y=>y.normalized),p=o.length>0?Math.min(...o):0,M=o.length>0?Math.max(...o):0;return{...f,normalizedMin:p,normalizedMax:M}}),Vg=(d,r,f)=>{const o=[];let p=0;for(const b of d){const v=b.centerMs-p;if(!(v<f.minSegmentMs)&&(v>=f.targetSegmentMs||v>=f.maxSegmentMs)){const D=Math.max(0,1-b.normalizedMax);o.push({index:o.length,positionMs:b.centerMs,precedingDurationMs:v,quietRegionIndex:b.index,score:D,reason:"pause"}),p=b.centerMs}}const M=[],y=[...o].sort((b,v)=>b.positionMs-v.positionMs);let T=0;return y.forEach((b,v)=>{const D=Math.min(b.positionMs,r),E=Math.max(0,D-T);M.push({index:v,startMs:T,endMs:D,durationMs:E,breakReason:"pause",boundaryIndex:b.index}),T=b.positionMs}),T<r&&M.push({index:M.length,startMs:T,endMs:r,durationMs:Math.max(0,r-T),breakReason:"end",boundaryIndex:null}),{boundaries:o,segments:M}};function Fh(d,r={}){const{totalDurationMs:f,config:o={},sampleRate:p=0,frameDurationMs:M}=r;if(d.length===0)return null;const y={...ci,...o},T=d.map(H=>H.normalized),b=d.reduce((H,P)=>Math.max(H,P.rms),0),v=d.reduce((H,P)=>Math.min(H,P.rms),Number.POSITIVE_INFINITY),D=1,E=Mh(T,y.noisePercentile),q=Mh(T,y.quietPercentile),J=Math.max(E*y.thresholdMultiplier,(E+q)/2),et=Math.min(J,b*.7),F=Math.min(et,.98),Et=Math.max(f??0,d[d.length-1]?.endMs??0),it=Xg(Yg(d,et,y.minQuietDurationMs,y.initialIgnoreMs),d),{boundaries:bt,segments:ot}=Vg(it,Et,y);return{frames:d,quietRegions:it,boundaries:bt,segments:ot,stats:{sampleRate:p,totalDurationMs:Et,frameDurationMs:M??y.frameDurationMs,frameCount:d.length,maxRms:b,minRms:Number.isFinite(v)?v:0,scalingFactor:D,noiseFloor:E,threshold:et,normalizedThreshold:F}}}function Qg({frames:d,windowStartMs:r,windowEndMs:f,sampleRate:o,frameDurationMs:p,config:M}){const y=Math.max(0,Math.round(r)),T=Math.max(y,Math.round(f)),b=Math.max(0,T-y);if(d.length===0||b<=0)return{analysis:null,frames:[],windowStartMs:y,windowEndMs:T,windowDurationMs:b};const v=[];for(const E of d){if(E.endMs<=y||E.startMs>=T)continue;const q=Math.max(0,E.startMs-y),J=Math.min(T,E.endMs)-y;J<=q||v.push({...E,index:v.length,startMs:q,endMs:J})}return{analysis:v.length>0?Fh(v,{totalDurationMs:b,sampleRate:o,frameDurationMs:p,config:M}):null,frames:v,windowStartMs:y,windowEndMs:T,windowDurationMs:b}}async function Wh(d,r){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");const{chunkId:f,sessionId:o,seq:p,chunkStartMs:M,chunkEndMs:y,frameDurationMs:T}=r,b=new AudioContext;try{const v=await d.arrayBuffer(),D=await b.decodeAudioData(v.slice(0)),{normalizedFrames:E,scalingFactor:q,maxNormalized:J,averageNormalized:et}=Gg({audioBuffer:D,frameDurationMs:T});return{chunkId:f,sessionId:o,seq:p,chunkStartMs:M,chunkEndMs:y,durationMs:D.duration*1e3,sampleRate:D.sampleRate,frameDurationMs:T??50,frames:E,maxNormalized:J,averageNormalized:et,scalingFactor:q}}finally{await b.close().catch(()=>{})}}const Io=(d,r)=>r.some(f=>d instanceof f);let xh,Eh;function Zg(){return xh||(xh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kg(){return Eh||(Eh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fo=new WeakMap,Xo=new WeakMap,zc=new WeakMap;function Jg(d){const r=new Promise((f,o)=>{const p=()=>{d.removeEventListener("success",M),d.removeEventListener("error",y)},M=()=>{f(rs(d.result)),p()},y=()=>{o(d.error),p()};d.addEventListener("success",M),d.addEventListener("error",y)});return zc.set(r,d),r}function $g(d){if(Fo.has(d))return;const r=new Promise((f,o)=>{const p=()=>{d.removeEventListener("complete",M),d.removeEventListener("error",y),d.removeEventListener("abort",y)},M=()=>{f(),p()},y=()=>{o(d.error||new DOMException("AbortError","AbortError")),p()};d.addEventListener("complete",M),d.addEventListener("error",y),d.addEventListener("abort",y)});Fo.set(d,r)}let Wo={get(d,r,f){if(d instanceof IDBTransaction){if(r==="done")return Fo.get(d);if(r==="store")return f.objectStoreNames[1]?void 0:f.objectStore(f.objectStoreNames[0])}return rs(d[r])},set(d,r,f){return d[r]=f,!0},has(d,r){return d instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in d}};function Ph(d){Wo=d(Wo)}function Ig(d){return Kg().includes(d)?function(...r){return d.apply(Po(this),r),rs(this.request)}:function(...r){return rs(d.apply(Po(this),r))}}function Fg(d){return typeof d=="function"?Ig(d):(d instanceof IDBTransaction&&$g(d),Io(d,Zg())?new Proxy(d,Wo):d)}function rs(d){if(d instanceof IDBRequest)return Jg(d);if(Xo.has(d))return Xo.get(d);const r=Fg(d);return r!==d&&(Xo.set(d,r),zc.set(r,d)),r}const Po=d=>zc.get(d);function Wg(d,r,{blocked:f,upgrade:o,blocking:p,terminated:M}={}){const y=indexedDB.open(d,r),T=rs(y);return o&&y.addEventListener("upgradeneeded",b=>{o(rs(y.result),b.oldVersion,b.newVersion,rs(y.transaction),b)}),f&&y.addEventListener("blocked",b=>f(b.oldVersion,b.newVersion,b)),T.then(b=>{M&&b.addEventListener("close",()=>M()),p&&b.addEventListener("versionchange",v=>p(v.oldVersion,v.newVersion,v))}).catch(()=>{}),T}const Pg=["get","getKey","getAll","getAllKeys","count"],ty=["put","add","delete","clear"],Vo=new Map;function Ah(d,r){if(!(d instanceof IDBDatabase&&!(r in d)&&typeof r=="string"))return;if(Vo.get(r))return Vo.get(r);const f=r.replace(/FromIndex$/,""),o=r!==f,p=ty.includes(f);if(!(f in(o?IDBIndex:IDBObjectStore).prototype)||!(p||Pg.includes(f)))return;const M=async function(y,...T){const b=this.transaction(y,p?"readwrite":"readonly");let v=b.store;return o&&(v=v.index(T.shift())),(await Promise.all([v[f](...T),p&&b.done]))[0]};return Vo.set(r,M),M}Ph(d=>({...d,get:(r,f,o)=>Ah(r,f)||d.get(r,f,o),has:(r,f)=>!!Ah(r,f)||d.has(r,f)}));const ey=["continue","continuePrimaryKey","advance"],Th={},td=new WeakMap,tp=new WeakMap,ny={get(d,r){if(!ey.includes(r))return d[r];let f=Th[r];return f||(f=Th[r]=function(...o){td.set(this,tp.get(this)[r](...o))}),f}};async function*ay(...d){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...d)),!r)return;r=r;const f=new Proxy(r,ny);for(tp.set(f,r),zc.set(f,Po(r));r;)yield f,r=await(td.get(f)||r.continue()),td.delete(f)}function wh(d,r){return r===Symbol.asyncIterator&&Io(d,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&Io(d,[IDBIndex,IDBObjectStore])}Ph(d=>({...d,get(r,f,o){return wh(r,f)?ay:d.get(r,f,o)},has(r,f){return wh(r,f)||d.has(r,f)}}));const He="unverified";function ly(d,r){let f=0;return r.map(o=>{const p=Number.isFinite(o.durationMs)&&o.durationMs>0?Math.round(o.durationMs):0,M=Math.round(d+f),y=Math.round(M+p);return f+=p,{...o,durationMs:p,startMs:M,endMs:y}})}const Ch=d=>{const r=Array.isArray(d.frames)?d.frames:[],f=r.length>0&&typeof r[0]=="number"?r:r.map(T=>{if(T&&typeof T=="object"){if(typeof T.normalized=="number")return Math.max(0,T.normalized);if(typeof T.rms=="number")return Math.max(0,T.rms)}return 0}),o=typeof d.frameDurationMs=="number"&&d.frameDurationMs>0?d.frameDurationMs:50,p=typeof d.durationMs=="number"&&d.durationMs>0?d.durationMs:f.length*o,M=typeof d.maxNormalized=="number"?d.maxNormalized:f.length>0?Math.max(...f):0,y=typeof d.averageNormalized=="number"?d.averageNormalized:f.length>0?f.reduce((T,b)=>T+b,0)/f.length:0;return{chunkId:d.chunkId,sessionId:d.sessionId,seq:d.seq??0,chunkStartMs:d.chunkStartMs??0,chunkEndMs:typeof d.chunkEndMs=="number"?d.chunkEndMs:(d.chunkStartMs??0)+p,durationMs:p,sampleRate:d.sampleRate??0,frameDurationMs:o,frames:f,maxNormalized:M,averageNormalized:y,scalingFactor:d.scalingFactor??1,id:d.id??d.chunkId,createdAt:d.createdAt??Date.now(),updatedAt:d.updatedAt??Date.now()}},ru=d=>{const r=Number.isFinite(d.startMs)?d.startMs:0,f=Number.isFinite(d.endMs)?d.endMs:r,o=Number.isFinite(d.durationMs)?d.durationMs:Math.max(0,f-r),p=typeof d.audioPurgedAt=="number"?d.audioPurgedAt:null,M=d.transcription?{...d.transcription,segments:Array.isArray(d.transcription.segments)?d.transcription.segments:[],text:d.transcription.text??""}:d.transcription;return{...d,index:Number.isFinite(d.index)?d.index:0,startMs:r,endMs:f,durationMs:o,breakReason:d.breakReason??null,boundaryIndex:typeof d.boundaryIndex=="number"?d.boundaryIndex:null,transcription:M??null,transcriptionError:d.transcriptionError??null,audioPurgedAt:p}},sy="durable-audio-recorder",iy=4,Dh=50;let Qo=null;async function ie(){return Qo||(Qo=Wg(sy,iy,{upgrade(d,r){if(r<1&&(d.createObjectStore("sessions",{keyPath:"id"}).createIndex("by-updated","updatedAt"),d.createObjectStore("chunks",{keyPath:"id"}).createIndex("by-session","sessionId")),r<2){d.createObjectStore("logSessions",{keyPath:"id"}).createIndex("by-started","startedAt");const o=d.createObjectStore("logEntries",{keyPath:"id",autoIncrement:!0});o.createIndex("by-session","sessionId"),o.createIndex("by-timestamp","timestamp")}if(r<3){const f=d.createObjectStore("chunkVolumes",{keyPath:"id"});f.createIndex("by-session","sessionId"),f.createIndex("by-chunk","chunkId")}r<4&&d.createObjectStore("snips",{keyPath:"id"}).createIndex("by-session","sessionId")}})),Qo}class uy{async init(){await ie()}async createSession(r){await(await ie()).put("sessions",{...r,timingStatus:r.timingStatus??He})}async updateSession(r,f){const p=(await ie()).transaction("sessions","readwrite"),M=p.objectStore("sessions"),y=await M.get(r);if(!y)return await p.done,null;const T={...y,...f,timingStatus:f.timingStatus??y.timingStatus??He};return await M.put(T),await p.done,T}async appendChunk(r,f){const p=(await ie()).transaction(["chunks","sessions"],"readwrite"),M=p.objectStore("chunks"),y=p.objectStore("sessions"),T={...r,blob:f,byteLength:f.size,createdAt:Date.now(),verifiedAudioMsec:r.seq===0&&/mp4|m4a/i.test(f.type)?0:null,timingStatus:He};await M.put(T);const b=await y.get(r.sessionId);if(b){const v=Math.max(b.durationMs,r.endMs-b.startedAt),D={...b,updatedAt:Date.now(),chunkCount:b.chunkCount+1,totalBytes:b.totalBytes+f.size,durationMs:v};await y.put(D)}await p.done}async listSessions(){return(await(await ie()).getAll("sessions")).map(o=>({...o,timingStatus:o.timingStatus??He})).sort((o,p)=>p.startedAt-o.startedAt)}async getSession(r){const o=await(await ie()).get("sessions",r);return o?{...o,timingStatus:o.timingStatus??He}:null}async getChunkMetadata(r){return(await(await ie()).transaction("chunks").store.index("by-session").getAll(r)).map(({blob:M,timingStatus:y,...T})=>({...T,timingStatus:y??He})).sort((M,y)=>M.seq-y.seq)}async getChunkData(r){return(await(await ie()).transaction("chunks").store.index("by-session").getAll(r)).sort((M,y)=>M.seq-y.seq).map(M=>({...M,timingStatus:M.timingStatus??He}))}async buildSessionBlob(r,f){const M=await(await ie()).transaction("chunks").store.index("by-session").getAll(r);if(M.length===0)return null;const T=M.sort((b,v)=>b.seq-v.seq).map(b=>b.blob);return new Blob(T,{type:f})}async storeChunkVolumeProfile(r){const o=(await ie()).transaction(["chunkVolumes","chunks"],"readwrite"),p=o.objectStore("chunkVolumes"),M=o.objectStore("chunks"),y=await p.get(r.chunkId),T=Date.now(),b={...r,id:r.chunkId,createdAt:y?.createdAt??T,updatedAt:T},v=Ch(b);await p.put(v);const D=await M.get(r.chunkId);D&&(D.verifiedAudioMsec=Math.round(r.durationMs),await M.put(D)),await o.done}async getChunkVolumeProfile(r){return await(await ie()).get("chunkVolumes",r)??null}async listChunkVolumeProfiles(r){const o=(await ie()).transaction("chunkVolumes").store;let p;return r?p=await o.index("by-session").getAll(r):p=await o.getAll(),p.map(y=>Ch(y)).sort((y,T)=>y.sessionId!==T.sessionId?y.sessionId.localeCompare(T.sessionId):y.seq!==T.seq?y.seq-T.seq:y.chunkStartMs-T.chunkStartMs)}async listSnips(r){const o=(await ie()).transaction("snips").store;let p;return r?p=await o.index("by-session").getAll(r):p=await o.getAll(),p.map(y=>ru(y)).sort((y,T)=>y.sessionId!==T.sessionId?y.sessionId.localeCompare(T.sessionId):y.index-T.index)}async appendSnips(r,f){const p=(await ie()).transaction("snips","readwrite"),M=p.objectStore("snips"),y=await M.index("by-session").getAll(r),T=new Map;y.forEach(D=>{T.set(D.index,D)});const b=Date.now();for(const D of f){if(T.has(D.index))continue;const E=Number.isFinite(D.startMs)?Math.max(0,D.startMs):0,q=Number.isFinite(D.endMs)?Math.max(E,D.endMs):E,J=Number.isFinite(D.durationMs)?Math.max(0,D.durationMs):Math.max(0,q-E),et={id:`${r}-snip-${D.index}`,sessionId:r,index:D.index,startMs:E,endMs:q,durationMs:J,breakReason:D.breakReason??null,boundaryIndex:typeof D.boundaryIndex=="number"?D.boundaryIndex:null,createdAt:b,updatedAt:b,transcription:null,transcriptionError:null,audioPurgedAt:null};await M.put(et),T.set(et.index,et)}return await p.done,Array.from(T.values()).map(D=>ru(D)).sort((D,E)=>D.index-E.index)}async updateSnipTranscription(r,f){const p=(await ie()).transaction("snips","readwrite"),M=p.objectStore("snips"),y=await M.get(r);if(!y)return await p.done,null;const T=ru({...y,transcription:f.transcription!==void 0?f.transcription:y.transcription,transcriptionError:f.transcriptionError!==void 0?f.transcriptionError:y.transcriptionError,updatedAt:Date.now()});return await M.put(T),await p.done,T}async deleteSession(r){const o=(await ie()).transaction(["sessions","chunks","chunkVolumes","snips"],"readwrite");await o.objectStore("sessions").delete(r);const M=o.objectStore("chunks").index("by-session");for(let D=await M.openCursor(r);D;D=await D.continue())await D.delete();const T=o.objectStore("chunkVolumes").index("by-session");for(let D=await T.openCursor(r);D;D=await D.continue())await D.delete();const v=o.objectStore("snips").index("by-session");for(let D=await v.openCursor(r);D;D=await D.continue())await D.delete();await o.done}async purgeLegacyMp4Sessions(){const f=(await this.listSessions()).filter(o=>/mp4|m4a/i.test(o.mimeType??""));for(const o of f)await this.deleteSession(o.id);return{deletedSessions:f.length}}async storageTotals(){const f=(await ie()).transaction("chunks").store;let o=0,p=await f.openCursor();for(;p;)o+=p.value.byteLength,p=await p.continue();return{totalBytes:o}}async applyRetentionPolicy(r){const f=typeof r.now=="number"?r.now:Date.now(),p=(await ie()).transaction(["chunks","snips","sessions"],"readwrite"),M=p.objectStore("chunks"),y=p.objectStore("snips"),T=p.objectStore("sessions"),[b,v,D]=await Promise.all([M.getAll(),y.getAll(),T.getAll()]),E=b.map(A=>({...A,timingStatus:A.timingStatus??He})),q=v.map(A=>ru(A)),J=D.map(A=>({...A,timingStatus:A.timingStatus??He})),et=E.reduce((A,X)=>A+X.byteLength,0);let F=et;const Et=Number.isFinite(r.limitBytes)?Math.max(0,r.limitBytes):et;if(F<=Et)return await p.done,{limitBytes:Et,beforeBytes:et,afterBytes:F,purgedChunkIds:[],purgedSnipIds:[],updatedSessionIds:[],ranAt:f};const it=new Map(J.map(A=>[A.id,A])),bt=new Map;E.forEach(A=>{bt.set(A.sessionId,(bt.get(A.sessionId)??0)+A.byteLength)});const ot=new Map;q.forEach(A=>{const X=ot.get(A.sessionId);X?X.push(A):ot.set(A.sessionId,[A])}),ot.forEach(A=>A.sort((X,W)=>X.startMs-W.startMs));const H=1e12,P=new Map;E.forEach(A=>{const X=P.get(A.sessionId);(X===void 0||A.startMs<X)&&P.set(A.sessionId,A.startMs)});const mt=new Map;ot.forEach((A,X)=>{mt.set(X,A.some(W=>W.startMs>H||W.endMs>H))});const I=new Map;J.forEach(A=>{const X=Number.isFinite(A.startedAt)?Math.round(A.startedAt):P.get(A.id)??0,W=Number.isFinite(X)?X:0;I.set(A.id,{baseStartMs:W,baseIsAbsolute:W>H,snipIsAbsolute:mt.get(A.id)??!1})});const ct=4,Ht=(A,X)=>{const W=A.blob.type||X?.mimeType||"";if(!/mp4|m4a/i.test(W))return!1;const $=Math.max(0,A.endMs-A.startMs);return A.seq===0&&($<=10||A.byteLength<4096)},ee=(A,X)=>{const{baseStartMs:W,baseIsAbsolute:$,snipIsAbsolute:st}=X,S=$&&A.startMs>H,U=st?S?A.startMs:$?W+A.startMs:A.startMs:S?A.startMs-W:A.startMs,tt=st?S?A.endMs:$?W+A.endMs:A.endMs:S?A.endMs-W:A.endMs,at=Number.isFinite(U)?U:0,yt=Number.isFinite(tt)?tt:at;return{startMs:st?at:Math.max(0,at),endMs:st?yt:Math.max(Math.max(0,at),yt)}},It=(A,X,W)=>{if(!A||A.length===0)return[];const $=X+ct,st=W-ct;if(st<=$)return[];const S=[];for(const U of A)if(!(U.endMs<=$)){if(U.startMs>=st)break;S.push(U)}return S},Ft=[];for(const A of E){if(A.byteLength<=0||A.blob.size<=0)continue;const X=it.get(A.sessionId)??null;if(Ht(A,X))continue;const W=ot.get(A.sessionId),$=I.get(A.sessionId)??{baseStartMs:0,baseIsAbsolute:!1,snipIsAbsolute:!1},st=ee(A,$),S=It(W,st.startMs,st.endMs);S.length!==0&&S.every(U=>U.transcription&&!U.transcriptionError)&&Ft.push({chunk:A,snipIds:S.map(U=>U.id),session:X})}Ft.sort((A,X)=>{const W=A.chunk.createdAt??A.chunk.startMs,$=X.chunk.createdAt??X.chunk.startMs;return W!==$?W-$:A.chunk.seq-X.chunk.seq});const an=[],Ne=new Set,Ee=new Set;for(const A of Ft){if(F<=Et)break;const X=A.chunk,W=X.byteLength;if(W<=0)continue;const $=X.blob.type||A.session?.mimeType||"",st={...X,blob:new Blob([],{type:$}),byteLength:0,audioPurgedAt:f};await M.put(st),an.push(X.id),F=Math.max(0,F-W),bt.set(X.sessionId,Math.max(0,(bt.get(X.sessionId)??0)-W)),Ee.add(X.sessionId),A.snipIds.forEach(S=>Ne.add(S))}for(const A of Ee){const X=it.get(A);if(!X)continue;const W=Math.max(0,bt.get(A)??0);await T.put({...X,totalBytes:W,updatedAt:f,timingStatus:X.timingStatus??He})}for(const A of Ne){const X=await y.get(A);if(!X)continue;const W=ru(X);W.audioPurgedAt||await y.put({...W,audioPurgedAt:f,updatedAt:f})}return await p.done,{limitBytes:Et,beforeBytes:et,afterBytes:F,purgedChunkIds:an,purgedSnipIds:Array.from(Ne),updatedSessionIds:Array.from(Ee),ranAt:f}}async verifySessionChunkTimings(r){const o=(await ie()).transaction(["chunks","chunkVolumes","sessions"],"readwrite"),p=o.objectStore("chunks"),M=o.objectStore("chunkVolumes"),y=o.objectStore("sessions"),[T,b]=await Promise.all([y.get(r),p.index("by-session").getAll(r)]),v=T?{...T,timingStatus:T.timingStatus??He}:null;if(b.length===0)return await o.done,{sessionId:r,status:He,updatedChunkIds:[],missingChunkIds:[],totalVerifiedDurationMs:0,baseStartMs:v?.startedAt??null,verifiedChunkCount:0,session:v};const D=[...b].sort((I,ct)=>I.seq-ct.seq),E=new Array(D.length),q=[],J=v?.mimeType??"",F=/mp4|m4a/i.test(J)?D.find(I=>I.seq===0&&(I.endMs-I.startMs<=10||I.byteLength<4096))??null:null;for(let I=0;I<D.length;I+=1){const ct=D[I];if(F?.id===ct.id){E[I]=0;continue}const ee=typeof ct.verifiedAudioMsec=="number"&&ct.verifiedAudioMsec>0?Math.round(ct.verifiedAudioMsec):null;if(ee!==null){E[I]=ee;continue}const It=await M.get(ct.id);if(It&&typeof It.durationMs=="number"&&It.durationMs>0){E[I]=Math.round(It.durationMs);continue}q.push(ct.id)}const Et=F?.startMs??v?.startedAt??D[0]?.startMs??Date.now(),it=Number.isFinite(Et)?Math.round(Et):Date.now();if(q.length>0)return T&&T.timingStatus!==He&&await y.put({...T,timingStatus:He}),await o.done,{sessionId:r,status:He,updatedChunkIds:[],missingChunkIds:q,totalVerifiedDurationMs:0,baseStartMs:it,verifiedChunkCount:D.filter((I,ct)=>E[ct]>0).length,session:v};const bt=ly(it,D.map((I,ct)=>({id:I.id,seq:I.seq,durationMs:E[ct]}))),ot=[];let H=0,P=0;for(let I=0;I<bt.length;I+=1){const ct=D[I],Ht=bt[I],ee={...ct,startMs:Ht.startMs,endMs:Ht.endMs,verifiedAudioMsec:Ht.durationMs,timingStatus:"verified"};(ct.startMs!==ee.startMs||ct.endMs!==ee.endMs||(ct.verifiedAudioMsec??0)!==ee.verifiedAudioMsec||ct.timingStatus!=="verified")&&(await p.put(ee),ot.push(ee.id)),D[I]=ee,Ht.durationMs>0&&(P+=1,H+=Math.max(0,Ht.durationMs))}let mt=v;if(T){const I=Math.max(0,Math.round(H)),ct={...T,timingStatus:"verified",durationMs:Math.max(T.durationMs,I),updatedAt:Date.now()};await y.put(ct),mt={...ct}}return await o.done,{sessionId:r,status:"verified",updatedChunkIds:ot,missingChunkIds:[],totalVerifiedDurationMs:Math.max(0,Math.round(H)),baseStartMs:it,verifiedChunkCount:P,session:mt}}async reconcileDanglingSessions(){const f=(await ie()).transaction(["sessions","chunks"],"readwrite"),o=f.objectStore("sessions"),p=f.objectStore("chunks"),M=await o.getAll(),y=Date.now();for(const T of M){if(T.status!=="recording")continue;const b=await p.index("by-session").getAll(T.id);if(b.length===0)await o.put({...T,status:"error",notes:"No audio captured (session interrupted).",updatedAt:y,totalBytes:0,chunkCount:0,durationMs:0,timingStatus:T.timingStatus??He});else{const v=b.reduce((E,q)=>E+q.byteLength,0),D=Math.max(T.durationMs,Math.max(...b.map(E=>E.endMs))-T.startedAt);await o.put({...T,status:"ready",notes:T.notes,updatedAt:y,totalBytes:v,chunkCount:b.length,durationMs:D,timingStatus:T.timingStatus??He})}}await f.done}async getChunksForInspection(){const o=(await(await ie()).transaction("chunks").store.getAll()).sort((p,M)=>p.startMs!==M.startMs?M.startMs-p.startMs:p.seq!==M.seq?M.seq-p.seq:(M.createdAt??0)-(p.createdAt??0));return Promise.all(o.map(async({blob:p,...M})=>{let y=null;try{y=(await p.arrayBuffer()).byteLength}catch(T){console.warn("[Manifest] Failed to read chunk blob for inspection",T)}return{...M,timingStatus:M.timingStatus??He,blobSize:p.size,blobType:p.type,verifiedByteLength:y,sizeMismatch:y!==null&&y!==p.size,startIso:new Date(M.startMs).toISOString(),endIso:new Date(M.endMs).toISOString(),blob:"[binary omitted]"}}))}async createLogSession(){const f=(await ie()).transaction(["logSessions","logEntries"],"readwrite"),o=f.objectStore("logSessions"),M={id:crypto.randomUUID(),startedAt:Date.now()};await o.put(M);const y=await o.getAll();if(y.length>Dh){const b=y.sort((D,E)=>D.startedAt-E.startedAt).slice(0,y.length-Dh),v=f.objectStore("logEntries");for(const D of b){await o.delete(D.id);for(let E=await v.index("by-session").openCursor(D.id);E;E=await E.continue())await E.delete()}}return await f.done,M}async finishLogSession(r){const o=(await ie()).transaction("logSessions","readwrite").objectStore("logSessions"),p=await o.get(r);p&&(p.endedAt=Date.now(),await o.put(p))}async appendLogEntry(r){await(await ie()).transaction("logEntries","readwrite").objectStore("logEntries").add({...r})}async listLogSessions(){return(await(await ie()).transaction("logSessions").store.getAll()).sort((o,p)=>p.startedAt-o.startedAt)}async getLogEntries(r,f=250){const p=(await ie()).transaction("logEntries").store.index("by-session"),M=[];for(let y=await p.openCursor(r,"prev");y&&M.length<f;y=await y.continue())M.push(y.value);return M.sort((y,T)=>y.timestamp-T.timestamp)}}const gt=new uy,Nh=120,ui=[];let jc=!1,ed=null,Va=null;async function cy(){return Va||(Va=await gt.createLogSession(),await Lt("Logger initialised")),dy(),Va}async function ry(){Va&&(await Lt("Logger shutting down"),await gt.finishLogSession(Va.id),Va=null),fy()}async function Oc(d,r,f){if(Va)try{await gt.appendLogEntry({sessionId:Va.id,timestamp:Date.now(),level:d,message:r,details:f})}catch(o){console.warn("[Logger] Failed to persist log entry",o)}}function Rh(d,r){return Oc("debug",d,r)}function Lt(d,r){return Oc("info",d,r)}function Ge(d,r){return Oc("warn",d,r)}function Je(d,r){return Oc("error",d,r)}function jh(){return Va}const oy=d=>{if(!d)return"unknown";if(d instanceof HTMLElement){let r=d.tagName.toLowerCase();d.id?r+=`#${d.id}`:d.classList.length>0&&(r+=`.${d.classList[0]}`);const f=d;return f.src?r+=` src=${f.src}`:f.href&&(r+=` href=${f.href}`),r}return d.constructor?.name??"unknown"},Zo=d=>{ui.push(d),ui.length>Nh&&ui.splice(0,ui.length-Nh)};function dy(){if(jc||typeof window>"u")return;jc=!0;const d=f=>{const o=Date.now();if(f instanceof ErrorEvent){Zo({timestamp:o,type:"error",message:f.message||"Uncaught error",stack:f.error instanceof Error?f.error.stack:void 0,filename:f.filename||void 0,lineno:f.lineno||void 0,colno:f.colno||void 0});return}Zo({timestamp:o,type:"resource",message:"Resource error",target:oy(f.target)})},r=f=>{const o=Date.now(),p=f.reason,M=p instanceof Error?p.message:String(p);Zo({timestamp:o,type:"unhandledrejection",message:M||"Unhandled promise rejection",stack:p instanceof Error?p.stack:void 0,reason:p instanceof Error?void 0:String(p)})};window.addEventListener("error",d,!0),window.addEventListener("unhandledrejection",r),ed=()=>{window.removeEventListener("error",d,!0),window.removeEventListener("unhandledrejection",r)}}function fy(){jc&&(ed?.(),ed=null,jc=!1)}function my(d){return Number.isFinite(d)?ui.filter(r=>r.timestamp>=d):[]}async function hy(d,r={}){if(!d||!Number.isFinite(d)){await Lt("Global error snapshot skipped (missing timestamp)",r);return}const f=my(d),o={...r,since:d,capturedCount:f.length,bufferSize:ui.length,entries:f.slice(-20)};if(f.length===0){await Lt("No global errors captured during recording start window",o);return}await Ge("Global errors captured during recording start window",o)}const py={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}},ou="audio/mpeg",zh=9e3,gy=d=>({id:d.id,label:d.label,enabled:d.enabled,muted:d.muted,readyState:d.readyState,settings:typeof d.getSettings=="function"?d.getSettings():void 0,constraints:typeof d.getConstraints=="function"?d.getConstraints():void 0}),Oh=d=>{if(!d)return null;const r=d.getAudioTracks();return{active:d.active,trackCount:r.length,tracks:r.map(f=>gy(f))}},_h=d=>{if(!d)return null;const r="outputLatency"in d?d.outputLatency:null;return{state:d.state,sampleRate:d.sampleRate,baseLatency:Number.isFinite(d.baseLatency)?d.baseLatency:null,outputLatency:Number.isFinite(r)?r:null}},yy=d=>{const r=new Int16Array(d.length);for(let f=0;f<d.length;f+=1){const o=Math.max(-1,Math.min(1,d[f]));r[f]=o<0?Math.round(o*32768):Math.round(o*32767)}return r};class vy{#t=null;#a=null;#n=null;#e=null;#i=null;#l=null;#f=0;#m=Promise.resolve();#r=0;#u=48e3;#g=64;#p=0;#h=0;#b=0;#M=0;#o=[];#c=0;#S=new Set;#s={sessionId:null,state:"idle",startedAt:null,lastChunkAt:null,capturedMs:0,bytesBuffered:0,mimeType:null,chunksRecorded:0};#y=null;#v=!1;get state(){return this.#s}#d(r){this.#s={...this.#s,...r},this.#S.forEach(f=>f(this.#s))}async start(r){if(this.#s.state==="recording"||this.#s.state==="starting")throw new Error("Recorder already running");this.#d({state:"starting",error:void 0,capturedMs:0}),await gt.init(),await Lt("Requesting microphone stream");const f=await navigator.mediaDevices.getUserMedia(py);await Lt("Microphone stream acquired",{stream:Oh(f)});const o=window.AudioContext||window.webkitAudioContext;if(typeof o!="function")throw new Error("AudioContext unavailable");const p=new o;await p.resume().catch(()=>{});const M=p.createMediaStreamSource(f),y=p.createScriptProcessor(4096,1,1),T=p.createGain();T.gain.value=0,M.connect(y),y.connect(T),T.connect(p.destination),this.#t=f,this.#a=p,this.#n=M,this.#e=y,this.#i=T,this.#l=r.sessionId,this.#f=0,this.#o=[],this.#c=0,this.#h=0,this.#b=0,this.#r=Date.now(),this.#u=p.sampleRate,this.#g=Math.max(8,Math.round(r.targetBitrate/1e3)),this.#p=Math.max(1,Math.round(r.chunkDurationMs/1e3*this.#u)),this.#M=Math.max(1,Math.round(this.#u/10)),this.#v=!1,await Lt("PCM capture started",{sessionId:r.sessionId,startedAt:this.#r,sampleRate:this.#u,chunkDurationMs:r.chunkDurationMs,mp3Kbps:this.#g,audioContext:_h(p)}),await Bg(),await gt.updateSession(r.sessionId,{startedAt:this.#r,updatedAt:this.#r,mimeType:ou,status:"recording"}),this.#d({state:"recording",sessionId:r.sessionId,startedAt:this.#r,lastChunkAt:this.#r,capturedMs:0,mimeType:ou,bytesBuffered:0,chunksRecorded:0}),y.onaudioprocess=b=>{if(!this.#l||this.#s.state!=="recording")return;this.#v=!0;const v=b.inputBuffer.getChannelData(0),D=yy(v);this.#o.push(D),this.#c+=D.length;const E=this.#h+this.#c;if(E-this.#b>=this.#M){this.#b=E;const q=Math.round(E/this.#u*1e3);this.#d({capturedMs:q})}this.#c>=this.#p&&this.#A().catch(q=>{console.error("[PCM Capture] chunk flush failed",q),this.#d({state:"error",error:q instanceof Error?q.message:String(q)}),Je("PCM chunk flush failed",{sessionId:this.#l,error:q instanceof Error?q.message:String(q)})})},this.#C()}async#A(){if(!this.#l||this.#c<this.#p)return;const r=this.#p,f=[];let o=r;for(;o>0&&this.#o.length>0;){const p=this.#o[0];p.length<=o?(f.push(p),this.#o.shift(),o-=p.length):(f.push(p.subarray(0,o)),this.#o[0]=p.subarray(o),o=0)}this.#c-=r,await this.#x(f)}async#T(){if(!this.#l||this.#c<=0)return;const r=this.#o;this.#o=[],this.#c=0,await this.#x(r)}async#x(r){if(!this.#l)return;const f=this.#l,o=this.#f++,p=Lg(),M=new p(1,this.#u,this.#g),y=[];let T=0;for(const J of r){if(J.length===0)continue;T+=J.length;const et=M.encodeBuffer(J);if(et.length>0){const F=new Uint8Array(et.length);F.set(et),y.push(F)}}const b=M.flush();if(b.length>0){const J=new Uint8Array(b.length);J.set(b),y.push(J)}const v=new Blob(y,{type:ou}),D=this.#r+Math.round(this.#h/this.#u*1e3),E=this.#r+Math.round((this.#h+T)/this.#u*1e3);this.#h+=T;const q=`${f}-chunk-${o}`;Rh("PCM chunk encoded",{sessionId:f,seq:o,sampleRate:this.#u,samples:T,durationMs:E-D,mp3Bytes:v.size,mp3Kbps:this.#g,chunkStartMs:D,chunkEndMs:E}),this.#m=this.#m.then(()=>gt.appendChunk({id:q,sessionId:f,seq:o,startMs:D,endMs:E,verifiedAudioMsec:null},v)).then(async()=>{this.#d({lastChunkAt:E,bytesBuffered:this.#s.bytesBuffered+v.size,chunksRecorded:this.#s.chunksRecorded+1}),await Lt("Chunk persisted",{sessionId:f,seq:o,size:v.size,startMs:D,endMs:E,mimeType:ou});try{const J=await Wh(v,{chunkId:q,sessionId:f,seq:o,chunkStartMs:D,chunkEndMs:E});await gt.storeChunkVolumeProfile(J),Rh("Chunk volume profile stored",{sessionId:f,seq:o,frameCount:J.frames.length})}catch(J){Ge("Chunk volume profile failed",{sessionId:f,seq:o,error:J instanceof Error?J.message:String(J)})}})}async stop(){if(this.#s.state!=="recording")return;this.#d({state:"stopping"}),this.#E(),await this.#T(),await this.flushPending();const r=this.#l;let f;if(r){const o=await gt.getChunkMetadata(r),p=o.some(v=>v.byteLength>0&&v.endMs>v.startMs),M=p?"ready":"error",y=o.length>0?o[o.length-1].endMs-o[0].startMs:0,T=o.reduce((v,D)=>v+D.byteLength,0);p||(f=o.length===0?"Error: no audio captured. Check microphone access and try again.":"Error: captured audio contained no playable samples.",await Je("Session completed without playable audio",{sessionId:r,chunkCount:o.length,totalBytes:T,mimeType:ou}));const b={status:M,updatedAt:Date.now(),durationMs:y,totalBytes:T,chunkCount:o.length};f&&(b.notes=f),await gt.updateSession(r,b),await Lt("Session timing reconciled",{sessionId:r,status:M,durationMs:y,totalBytes:T,chunkCount:o.length,hasPlayableChunk:p})}this.#w(),this.#l=null,this.#d({state:"idle",sessionId:null,startedAt:null,lastChunkAt:null,capturedMs:0,mimeType:null,chunksRecorded:0,bytesBuffered:0,error:f})}async flushPending(){await this.#m}attachAnalysisPort(r){}#w(){if(this.#e){this.#e.onaudioprocess=null;try{this.#e.disconnect()}catch{}this.#e=null}if(this.#n){try{this.#n.disconnect()}catch{}this.#n=null}if(this.#i){try{this.#i.disconnect()}catch{}this.#i=null}this.#a&&(this.#a.close().catch(()=>{}),this.#a=null),this.#t&&(this.#t.getTracks().forEach(r=>r.stop()),this.#t=null)}#C(){this.#E(),this.#y=window.setTimeout(()=>{!this.#v&&this.#s.state==="recording"&&(this.#d({error:"No audio detected  recording may be muted."}),Ge("No PCM audio callback detected within timeout",{sessionId:this.#l,timeoutMs:zh,diagnostics:this.getDiagnostics()}))},zh)}#E(){this.#y!==null&&(window.clearTimeout(this.#y),this.#y=null)}getDiagnostics(){const r=this.#e,f=!!(this.#n||this.#e||this.#i);return{sessionId:this.#l,state:this.#s.state,startedAt:this.#s.startedAt,audioContext:_h(this.#a),stream:Oh(this.#t),audioGraph:f?{hasSource:!!this.#n,hasProcessor:!!this.#e,hasMuteGain:!!this.#i,processorBufferSize:typeof r?.bufferSize=="number"?r.bufferSize:null,channelCount:typeof r?.channelCount=="number"?r.channelCount:null,channelCountMode:r?.channelCountMode??null,channelInterpretation:r?.channelInterpretation??null}:null,processing:{hasSeenAudioProcess:this.#v,pendingSamples:this.#c,totalSamplesWritten:this.#h,chunkTargetSamples:this.#p,sampleRate:this.#u}}}subscribe(r){return this.#S.add(r),r(this.#s),()=>this.#S.delete(r)}}const us=new vy,nn={desiredActive:!1,sentinel:null,pending:!1,supportLogged:!1,listenersAttached:!1},Ko=()=>typeof document>"u"?"unknown":document.visibilityState??"unknown",by=()=>{if(typeof navigator>"u")return null;const d=navigator.wakeLock;return!d||typeof d.request!="function"?null:d},id=async d=>{if(!nn.desiredActive||nn.pending||nn.sentinel)return;const r=by();if(!r){nn.supportLogged||(nn.supportLogged=!0,await Ge("Wake Lock API unavailable; screen may sleep during recording",{reason:d,userAgent:typeof navigator<"u"?navigator.userAgent:"unknown"}));return}if(typeof document<"u"&&document.visibilityState!=="visible"){await Lt("Wake lock request deferred until page is visible",{reason:d,visibility:Ko()});return}nn.pending=!0;try{const f=await r.request("screen");nn.sentinel=f,f.addEventListener("release",()=>{nn.sentinel=null,nn.desiredActive&&(Ge("Wake lock released unexpectedly; retrying",{visibility:Ko()}),id("released"))}),await Lt("Wake lock acquired for recording",{reason:d})}catch(f){await Ge("Wake lock request failed",{reason:d,visibility:Ko(),error:f instanceof Error?f.message:String(f)})}finally{nn.pending=!1}},Sy=async d=>{const r=nn.sentinel;if(r){nn.sentinel=null;try{r.released||await r.release(),await Lt("Wake lock released after recording",{reason:d})}catch(f){await Ge("Wake lock release failed",{reason:d,error:f instanceof Error?f.message:String(f)})}}},My=()=>{nn.listenersAttached||typeof document>"u"||(nn.listenersAttached=!0,document.addEventListener("visibilitychange",()=>{nn.desiredActive&&document.visibilityState==="visible"&&id("visibilitychange")}))},Nc=async(d,r)=>{if(nn.desiredActive=d,d){await id(r);return}await Sy(r)},du=d=>{if(!Number.isFinite(d)||d<=0)return"0.0s";const r=d/1e3;if(r<10)return`${r.toFixed(1)}s`;if(r<60)return`${r.toFixed(0)}s`;const f=Math.floor(r/60),o=r%60;return`${f}m ${o.toFixed(0).padStart(2,"0")}s`},xy=10,Ey=75e3,kh=720,Uh=12,Ay=.75,Ty=.1,Bh=3,Lh=7,qh=(d,r=xy)=>{if(!Number.isFinite(d)||d<=0)return 0;const f=Math.min(1,Math.max(0,d)),o=Math.log10(1+(r-1)*f),p=Math.log10(r);if(!Number.isFinite(o)||!Number.isFinite(p)||p===0)return f;const M=o/p;return Math.min(1,Math.max(0,M))},wy=1,Cy=(d,r,f,o,p)=>{if(d.length===0||r<=0||o<=0)return[];const M=[...d].sort((E,q)=>E.startMs!==q.startMs?E.startMs-q.startMs:E.endMs!==q.endMs?E.endMs-q.endMs:E.index-q.index),y=[];let T=[],b=0,v=-1/0;const D=()=>{T.length>1&&(T.push(`L ${b.toFixed(2)} ${f}`),T.push("Z"),y.push(T.join(" "))),T=[]};return M.forEach((E,q)=>{const J=(E.startMs+E.endMs)/2,et=Math.min(o,Math.max(0,E.startMs/r*o)),F=Math.min(o,Math.max(0,E.endMs/r*o)),Et=Math.min(o,Math.max(0,J/r*o)),it=p(E.normalized),bt=Math.max(0,Math.min(f,(1-it)*f));(T.length===0||J+wy<v)&&(D(),T=[`M ${et.toFixed(2)} ${f}`]),T.push(`L ${Et.toFixed(2)} ${bt.toFixed(2)}`),b=Math.max(F,b),v=J,q===M.length-1&&D()}),T.length>0&&D(),y},Dy=(d,r,f)=>d.map(o=>{const p=o.startMs/r*f,M=(o.endMs-o.startMs)/r*f;return{x:p,rectWidth:M}}),Ny=(d,r,f)=>d.map(o=>({x:o.positionMs/r*f})),Ry=d=>d.map(r=>({id:r.index,label:r.breakReason==="end"?"Tail":`Segment #${r.index+1}`,durationMs:r.durationMs,startMs:r.startMs,endMs:r.endMs,breakReason:r.breakReason})),jy=({analysis:d,targetRange:r,playback:f})=>{const o=N.useRef(null),p=N.useRef(null),[M,y]=N.useState(!1),[T,b]=N.useState(!1),[v,D]=N.useState(!1),E=120,q=d.stats.totalDurationMs,J=q>0?q:d.stats.frameCount*d.stats.frameDurationMs,et=typeof window<"u"?Math.min(960,Math.max(kh,Math.floor(window.innerWidth*.8))):kh,F=J>0?Math.max(et,Math.round(J/Ey*et)):et,Et=N.useId(),it=f?.positionMs??null,bt=J>0&&F>0,ot=it===null||!bt?null:Math.min(Math.max(it,0),J),H=ot===null||!bt?null:ot/J,P=H===null?null:H*F,mt=N.useMemo(()=>{if(P===null||!bt)return null;const $=Math.min(F,Math.max(0,P)),st=S=>Math.max(0,Math.min(Math.max(F-S,0),$-S/2));return{center:$,mainX:st(Bh),mainWidth:Bh,glowX:st(Lh),glowWidth:Lh}},[bt,P,F]),I=!!f?.isPlaying,ct=N.useCallback(()=>{const $=o.current;if(!$){b(!1),D(!1);return}const{scrollLeft:st,clientWidth:S,scrollWidth:U}=$;b(st>Uh),D(st+S<U-Uh)},[]),Ht=N.useCallback($=>{M&&$.preventDefault(),ct()},[M,ct]),ee=N.useCallback($=>{const st=o.current;st&&(st.setPointerCapture($.pointerId),p.current={pointerId:$.pointerId,startX:$.clientX,scrollLeft:st.scrollLeft},y(!0))},[]),It=N.useCallback($=>{const st=o.current,S=p.current;if(!st||!S||S.pointerId!==$.pointerId)return;$.preventDefault();const U=$.clientX-S.startX;st.scrollLeft=S.scrollLeft-U,ct()},[ct]),Ft=N.useCallback($=>{const st=o.current,S=p.current;!st||!S||S.pointerId!==$.pointerId||(st.releasePointerCapture($.pointerId),p.current=null,y(!1),ct())},[ct]);N.useEffect(()=>{ct()},[F,ct]),N.useEffect(()=>{const $=o.current;if(!$||mt===null||M||!I)return;const st=$.clientWidth;if(st<=0)return;const S=Math.max(0,$.scrollWidth-st);if(S<=0)return;const U=$.scrollLeft,tt=U,at=U+st,yt=st*Ay,Ct=st*Ty;let Tt=null;mt.center>=tt+yt?Tt=Math.min(S,mt.center-yt):mt.center<=tt?Tt=Math.max(0,mt.center-Ct):mt.center>=at&&(Tt=Math.min(S,mt.center-yt)),Tt!==null&&Math.abs(Tt-U)>.5&&(typeof $.scrollTo=="function"?$.scrollTo({left:Tt,behavior:"smooth"}):$.scrollLeft=Tt,typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(()=>{ct()}):ct())},[M,I,mt,ct]);const an=N.useMemo(()=>Cy(d.frames,J,E,F,qh),[d.frames,J,E,F]),Ne=N.useMemo(()=>Dy(d.quietRegions,J,F),[d.quietRegions,J,F]),Ee=N.useMemo(()=>Ny(d.boundaries,J,F),[d.boundaries,J,F]),A=N.useMemo(()=>Ry(d.segments),[d.segments]),X=(1-qh(d.stats.normalizedThreshold))*E,W=["chunking-graph-scroll",M?"is-dragging":"",T?"show-left-indicator":"",v?"show-right-indicator":""].filter(Boolean).join(" ");return h.jsxs("div",{className:"chunking-graph",children:[h.jsxs("header",{className:"chunking-graph-header",children:[h.jsx("h4",{children:"Volume histogram"}),h.jsxs("div",{className:"chunking-graph-meta",children:[h.jsxs("span",{children:["Frames: ",d.stats.frameCount]}),h.jsxs("span",{children:["Duration: ",du(J)]})]})]}),h.jsxs("div",{className:"chunking-graph-body",children:[h.jsx("div",{className:W,ref:o,onScroll:Ht,onPointerDown:ee,onPointerMove:It,onPointerUp:Ft,onPointerCancel:Ft,onPointerLeave:$=>{M&&Ft($)},children:h.jsxs("svg",{className:"chunking-graph-svg",role:"img",viewBox:`0 0 ${F} ${E}`,width:F,height:E,"aria-label":"Volume histogram with proposed chunk boundaries",preserveAspectRatio:"none",children:[h.jsx("rect",{x:0,y:0,width:F,height:E,fill:"rgba(15, 23, 42, 0.85)"}),Ne.map(($,st)=>h.jsx("rect",{x:$.x,y:0,width:Math.max(1.5,$.rectWidth),height:E,fill:"rgba(56, 189, 248, 0.12)"},`quiet-${st}`)),an.map(($,st)=>h.jsx("path",{d:$,fill:`url(#${Et})`,stroke:"rgba(94, 234, 212, 0.48)",strokeWidth:1},`histogram-${st}`)),mt?h.jsxs("g",{className:"chunking-playback-indicator","aria-hidden":"true",children:[h.jsx("rect",{x:mt.glowX,y:0,width:mt.glowWidth,height:E,fill:"rgba(34, 197, 94, 0.28)"}),h.jsx("rect",{x:mt.mainX,y:0,width:mt.mainWidth,height:E,fill:"rgba(34, 197, 94, 0.95)"})]}):null,h.jsx("line",{x1:0,y1:X,x2:F,y2:X,strokeDasharray:"6 6",stroke:"rgba(250, 204, 21, 0.9)",strokeWidth:1}),Ee.map(($,st)=>h.jsxs("g",{children:[h.jsx("rect",{x:$.x-2,y:0,width:4,height:E,fill:"rgba(251, 146, 60, 0.24)"}),h.jsx("line",{x1:$.x,y1:0,x2:$.x,y2:E,stroke:"#facc15",strokeWidth:1.5})]},`boundary-${st}`)),h.jsx("defs",{children:h.jsxs("linearGradient",{id:Et,x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"rgba(94, 234, 212, 0.55)"}),h.jsx("stop",{offset:"100%",stopColor:"rgba(56, 189, 248, 0.15)"})]})})]})}),r?h.jsxs("div",{className:"chunking-target-hint",children:["Target chunk length: ",du(r.minMs),"  ",du(r.maxMs)," (ideal"," ",du(r.idealMs),")"]}):null,h.jsxs("dl",{className:"chunking-stats",children:[h.jsxs("div",{children:[h.jsx("dt",{children:"Noise floor"}),h.jsx("dd",{children:d.stats.noiseFloor.toFixed(5)})]}),h.jsxs("div",{children:[h.jsx("dt",{children:"Silence threshold"}),h.jsx("dd",{children:d.stats.threshold.toFixed(5)})]}),h.jsxs("div",{children:[h.jsx("dt",{children:"Peak RMS"}),h.jsx("dd",{children:d.stats.maxRms.toFixed(5)})]}),h.jsxs("div",{children:[h.jsx("dt",{children:"Quiet regions"}),h.jsx("dd",{children:d.quietRegions.length})]}),h.jsxs("div",{children:[h.jsx("dt",{children:"Proposed breaks"}),h.jsx("dd",{children:d.boundaries.length})]})]})]}),h.jsxs("div",{className:"chunking-chunk-list",children:[h.jsx("h5",{children:"Proposed chunks"}),A.length===0?h.jsx("p",{className:"chunking-empty",children:"No proposed breaks yet. Recording may be too short or lacks silence."}):h.jsx("ul",{children:A.map($=>h.jsxs("li",{children:[h.jsx("span",{className:"chunking-chunk-label",children:$.label}),h.jsx("span",{children:du($.durationMs)})]},$.id))})]})]})},zy=N.memo(jy),Oy=/mp4|m4a/i,_y=3;class nd{#t;#a=!1;#n=new Map;#e=new Map;constructor(r=gt){this.#t=r}async#i(){this.#a||(await this.#t.init(),this.#a=!0)}async ensureTimings(r){await this.#i();const f=this.#n.get(r);if(f)return f;const o=this.#t.verifySessionChunkTimings(r).then(p=>(this.#n.delete(r),p)).catch(p=>{throw this.#n.delete(r),p});return this.#n.set(r,o),o}async prepareAnalysisForSession(r){const{session:f,forceRefresh:o=!1}=r;await this.#i();let p=await this.ensureTimings(f.id);p.status!=="verified"&&p.missingChunkIds.length>0&&(await this.#f(f,p.missingChunkIds,r.mimeTypeHint),p=await this.ensureTimings(f.id));const y=(await this.#t.listChunkVolumeProfiles(f.id)).filter(P=>P.sessionId===f.id&&P.seq>=0).sort((P,mt)=>P.seq-mt.seq),T=y.reduce((P,mt)=>Math.max(P,mt.updatedAt??mt.createdAt??0),0),b=[`timeline-v${_y}`,f.id,f.chunkCount,f.updatedAt??0,p.totalVerifiedDurationMs,p.status,T].join(":");if(!o){const P=this.#e.get(f.id);if(P&&P.cacheKey===b)return{sessionId:f.id,cacheKey:b,analysis:P.analysis,verification:p,frames:P.frames}}const v=await this.#t.getChunkMetadata(f.id),D=/mp4|m4a/i.test(f.mimeType??r.mimeTypeHint??""),E=[...v].filter(P=>P.seq>=0).sort((P,mt)=>P.seq-mt.seq).filter(P=>!D||P.seq!==0?!0:!(Math.max(0,P.endMs-P.startMs)<=10||P.byteLength<4096)),q=new Map;E.forEach(P=>{const mt=typeof P.verifiedAudioMsec=="number"&&P.verifiedAudioMsec>0?Math.round(P.verifiedAudioMsec):0,I=Math.max(0,Math.round(P.endMs-P.startMs)),ct=mt>0?mt:I;q.set(P.seq,ct)});const J=typeof p.totalVerifiedDurationMs=="number"&&p.totalVerifiedDurationMs>0?Math.round(p.totalVerifiedDurationMs):E.reduce((P,mt)=>P+Math.max(0,Math.round(mt.endMs-mt.startMs)),0),et=new Map;y.forEach(P=>{et.set(P.seq,P)});const F=p.baseStartMs??f.startedAt,{frames:Et,sampleRate:it,frameDurationMs:bt,totalDurationMs:ot}=this.#l({orderedChunkSeq:E.map(P=>P.seq),profilesBySeq:et,durationsBySeq:q,durationLimitMs:J,baseStartMs:F}),H=Et.length>0?Fh(Et,{totalDurationMs:ot,sampleRate:it,frameDurationMs:bt}):null;return H?this.#e.set(f.id,{cacheKey:b,analysis:H,frames:Et}):this.#e.delete(f.id),{sessionId:f.id,cacheKey:b,analysis:H,verification:p,frames:Et}}#l({orderedChunkSeq:r,profilesBySeq:f,durationsBySeq:o,durationLimitMs:p,baseStartMs:M}){let y=0;const T=[];let b=0,v=0,D=ci.frameDurationMs;return r.forEach(E=>{const q=f.get(E)??null,J=q&&Array.isArray(q.frames)?q.frames:[],et=q&&q.frameDurationMs>0?q.frameDurationMs:ci.frameDurationMs,F=o.get(E)??0,Et=Math.max(0,Math.round((q?.durationMs??0)||J.length*et)),it=F>0?F:Et;if(p>0&&y>=p)return;const bt=y,ot=p>0?Math.max(0,Math.min(it,p-y)):it,H=ot>0?Math.ceil(ot/et):J.length;let P=J;if(q&&J.length>0&&F>0){const I=Math.max(0,q.durationMs??J.length*et),ct=Math.max(0,Math.round(q.chunkStartMs-M)),Ht=Math.max(ct,Math.round(q.chunkEndMs-M));if(I>F*1.5&&I>Ht*.8){const It=Math.max(0,Math.floor(ct/et)),Ft=Math.min(J.length,Math.ceil(Ht/et));P=J.slice(It,Math.max(It,Ft))}}const mt=Math.max(0,Math.min(P.length,H));for(let I=0;I<mt;I+=1){const ct=P[I],Ht=Number.isFinite(ct)?Math.max(0,ct):0,ee=bt+I*et,It=Math.min(bt+ot,ee+et);T.push({index:b,startMs:ee,endMs:It,rms:Ht,normalized:Ht}),b+=1}for(let I=mt;I<H;I+=1){const ct=bt+I*et,Ht=Math.min(bt+ot,ct+et);if(Ht<=ct)break;T.push({index:b,startMs:ct,endMs:Ht,rms:0,normalized:0}),b+=1}y+=ot,D=et,v===0&&q&&q.sampleRate>0&&(v=q.sampleRate)}),{frames:T,sampleRate:v,frameDurationMs:D,totalDurationMs:p>0?Math.min(y,p):y}}async#f(r,f,o){if(f.length===0)return;const p=await this.#t.getChunkData(r.id);if(p.length===0)return;const y=(p.find(v=>v.seq===0)??null)?.blob??null,T=y?.type??r.mimeType??o??"audio/mp4",b=p.filter(v=>v.seq>0&&v.blob.size>0&&f.includes(v.id));for(const v of b)try{let D=v.blob;y&&Oy.test(T)&&(D=new Blob([y,v.blob],{type:y.type||v.blob.type||T}));const E=await Wh(D,{chunkId:v.id,sessionId:r.id,seq:v.seq,chunkStartMs:v.startMs,chunkEndMs:v.endMs});await this.#t.storeChunkVolumeProfile(E)}catch(D){console.warn("[SessionAnalysisProvider] Failed to regenerate chunk volume profile",{sessionId:r.id,chunkId:v.id,error:D})}}}const Hh=/mp4|m4a/i,ky=15e3,Rc=(d,r,f)=>{for(let o=0;o<f.length;o+=1)d.setUint8(r+o,f.charCodeAt(o))},Uy=(d,r)=>{const M=r*2,y=d.length*2,T=new ArrayBuffer(44+y),b=new DataView(T);Rc(b,0,"RIFF"),b.setUint32(4,36+y,!0),Rc(b,8,"WAVE"),Rc(b,12,"fmt "),b.setUint32(16,16,!0),b.setUint16(20,1,!0),b.setUint16(22,1,!0),b.setUint32(24,r,!0),b.setUint32(28,M,!0),b.setUint16(32,2,!0),b.setUint16(34,16,!0),Rc(b,36,"data"),b.setUint32(40,y,!0);let v=44;for(let D=0;D<d.length;D+=1){const E=Math.max(-1,Math.min(1,d[D])),q=E<0?Math.round(E*32768):Math.round(E*32767);b.setInt16(v,q,!0),v+=2}return new Blob([T],{type:"audio/wav"})},Gh=(d,r,f)=>{const o=d.sampleRate,p=Math.max(0,Math.floor(r/1e3*o)),M=Math.min(d.length,Math.ceil(f/1e3*o)),y=Math.max(0,M-p);if(y===0)return{samples:new Float32Array(0),sampleRate:o,durationMs:0,startMs:r,endMs:r};if(d.numberOfChannels===1){const v=d.getChannelData(0).slice(p,M),D=v.length/o*1e3;return{samples:v,sampleRate:o,durationMs:D,startMs:r,endMs:r+D}}const T=new Float32Array(y);for(let v=0;v<d.numberOfChannels;v+=1){const D=d.getChannelData(v);for(let E=0;E<y;E+=1)T[E]+=D[p+E]/d.numberOfChannels}const b=T.length/o*1e3;return{samples:T,sampleRate:o,durationMs:b,startMs:r,endMs:r+b}};class By{#t;#a;#n=null;constructor(r=gt,f){this.#t=r,this.#a=f??new nd(r)}async#e(){await this.#t.init()}async listChunks(r){return await this.#e(),await this.#t.getChunkData(r)}async listSnips(r,f){await this.#e();const o=await this.#t.listSnips(r.id),p=o.length>0?o[o.length-1].endMs:0,M=Math.max(0,r.durationMs??0),y=r.status==="recording",T=y?ky:0,b=y?ci.minSegmentMs+T:0,v=Math.max(0,M-p);if(!(o.length===0||(y?v>=b:M>0&&p<Math.max(0,M-1e3))))return o;const E=await this.#a.prepareAnalysisForSession({session:r,mimeTypeHint:f??r.mimeType??null,forceRefresh:y}),q=E.analysis?.stats.totalDurationMs??E.frames[E.frames.length-1]?.endMs??0;if(q<=p+200)return o;const J=Math.min(Math.max(0,p),q),et=q,F=Math.max(0,et-J);if(F<=0||y&&F<b)return o;const it=Qg({frames:E.frames,windowStartMs:J,windowEndMs:et,sampleRate:E.analysis?.stats.sampleRate??0,frameDurationMs:E.analysis?.stats.frameDurationMs??ci.frameDurationMs}).analysis?.segments??[];if(it.length===0)return o;const bt=y?Math.max(0,F-T):F,ot=o.reduce((P,mt)=>Math.max(P,mt.index),-1)+1,H=[];return it.forEach(P=>{P.endMs<=0||P.endMs>bt||H.push({index:ot+H.length,startMs:J+P.startMs,endMs:J+P.endMs,durationMs:P.durationMs,breakReason:P.breakReason,boundaryIndex:P.boundaryIndex})}),H.length===0?o:await this.#t.appendSnips(r.id,H)}async getChunkAudio(r,f){await this.#e();const o=await this.#t.getChunkData(r.id),p=o.find(F=>F.seq===f)??null;if(!p)return null;const M=o.find(F=>F.seq===0)??null,y=p.blob.type||r.mimeType||"audio/mpeg",b=M&&M.id!==p.id&&Hh.test(y)?new Blob([M.blob,p.blob],{type:y}):p.blob,v=p.startMs,D=p.endMs,E=Math.max(0,D-v),q=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-"),J=String(f+1).padStart(2,"0"),et=/mpeg/i.test(y)?"mp3":/webm/i.test(y)?"webm":/mp4|m4a/i.test(y)?"mp4":"bin";return{kind:"chunk",sessionId:r.id,startMs:v,endMs:D,durationMs:E,mimeType:b.type||y,blob:b,suggestedFilename:`${q}_chunk-${J}.${et}`}}async#i(){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");return this.#n?this.#n:(this.#n=new AudioContext,this.#n)}async#l(r){await this.#e();const f=await this.#t.getChunkData(r.id),o=r.mimeType??"",M=/mp4|m4a/i.test(o)?f.find(E=>E.seq===0&&(E.endMs-E.startMs<=10||E.byteLength<4096))??null:null,y=f.filter(E=>!M||E.id!==M.id).sort((E,q)=>E.seq-q.seq),T=M?.startMs??(y.length>0?y[0].startMs:r.startedAt??Date.now()),b=Number.isFinite(T)?Math.round(T):Date.now(),v=b>1e12,D=y.map(E=>{const q=v?E.startMs-b:E.startMs,J=v?E.endMs-b:E.endMs;return{...E,startOffsetMs:Math.max(0,q),endOffsetMs:Math.max(0,J)}});return{baseStartMs:b,headerChunk:M,playable:D}}async#f(r,f,o){const p=f.blob.type||r.mimeType||"audio/mp4",M=o&&o.id!==f.id&&Hh.test(p),y=M?new Blob([o.blob,f.blob],{type:p}):f.blob,T=await this.#i();try{const b=await y.arrayBuffer();return await T.decodeAudioData(b.slice(0))}catch(b){const v=b instanceof Error?b.message:String(b),D=[`session=${r.id}`,`chunk=${f.id}`,`seq=${f.seq}`,`bytes=${y.size}`,`mime=${p}`,M?"init=1":"init=0"].join(" ");throw new Error(`Failed to decode chunk audio (${D})${v?`: ${v}`:""}`)}}async#m(r,f,o){const p=Math.max(0,f),M=Math.max(p,o),{headerChunk:y,playable:T}=await this.#l(r);if(T.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const b=T.filter(it=>it.startOffsetMs<M&&it.endOffsetMs>p).sort((it,bt)=>it.seq-bt.seq);if(b.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const v=[];for(const it of b){const bt=await this.#f(r,it,y),ot=Math.max(0,bt.duration*1e3),H=Math.max(0,it.endOffsetMs-it.startOffsetMs),P=H>0&&ot>H*1.5&&ot>it.endOffsetMs*.8;v.push({chunk:it,buffer:bt,bufferDurationMs:ot,expectedChunkDurationMs:H,isCumulative:P})}if(v.some(it=>it.isCumulative)){const it=v.find(H=>H.bufferDurationMs>=M-10)??v[v.length-1],bt=it.buffer.sampleRate,ot=Gh(it.buffer,p,M);return{samples:ot.samples,sampleRate:bt,durationMs:ot.durationMs,startMs:p,endMs:p+ot.durationMs}}const E=[];let q=0,J=0;for(const it of v){const bt=it.chunk,ot=it.buffer;J===0&&(J=ot.sampleRate);const H=ot.duration*1e3,P=Math.max(0,p-bt.startOffsetMs),mt=Math.min(H,M-bt.startOffsetMs);if(mt<=P)continue;const I=Gh(ot,P,mt);E.push(I.samples),q+=I.samples.length}if(J===0||q===0)return{samples:new Float32Array(0),sampleRate:J,durationMs:0,startMs:p,endMs:p};const et=new Float32Array(q);let F=0;E.forEach(it=>{et.set(it,F),F+=it.length});const Et=et.length/J*1e3;return{samples:et,sampleRate:J,durationMs:Et,startMs:p,endMs:p+Et}}async getRangeAudio(r,f,o,p){const M=await this.#m(r,f,o),y=Uy(M.samples,M.sampleRate),T=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-");return{kind:"snip",sessionId:r.id,startMs:M.startMs,endMs:M.endMs,durationMs:M.durationMs,mimeType:y.type,blob:y,suggestedFilename:`${T}_snip-${Math.round(M.startMs)}-${Math.round(M.endMs)}.wav`}}async inspectRange(r,f,o,p){const M=await this.#m(r,f,o),{samples:y,sampleRate:T}=M,b=y.length;let v=0,D=0;for(let q=0;q<b;q+=1){const J=y[q];v+=J*J;const et=Math.abs(J);et>D&&(D=et)}const E=b>0?Math.sqrt(v/b):0;return{startMs:M.startMs,endMs:M.endMs,durationMs:M.durationMs,sampleRate:T,sampleCount:b,rms:E,peak:D}}async getSnipAudio(r,f,o){const p=await this.listSnips(r,o),M=f-1,y=p[M];return y?await this.getRangeAudio(r,y.startMs,y.endMs,o):null}clearSession(r){}}const yn=new By,Ly=1024*1024,ep={pauseSensitivity:.5,minPauseMs:400,maxPauseMs:2600,windowMs:3e4,overlapMs:800,targetBitrate:64e3,groqApiKey:"",developerMode:!1,storageLimitBytes:200*Ly},np="durable-recorder-settings";function qy(){if(typeof window>"u")return null;const d=window.localStorage.getItem(np);if(!d)return null;try{const r=JSON.parse(d);return r?{...ep,...r}:null}catch(r){return console.warn("[SettingsStore] Failed to parse settings",r),null}}function Hy(d){typeof window>"u"||window.localStorage.setItem(np,JSON.stringify(d))}class Gy{#t;#a=new Set;constructor(){this.#t=qy()??{...ep}}async get(){return this.#t}async set(r){return this.#t={...this.#t,...r},Hy(this.#t),this.#a.forEach(f=>f(this.#t)),this.#t}subscribe(r){return this.#a.add(r),r(this.#t),()=>this.#a.delete(r)}}const fu=new Gy,Yy="https://api.groq.com/openai/v1/audio/transcriptions",Yh="whisper-large-v3-turbo",Jo=(d,r)=>{const f=(r??"").trim();return f?[Number.isFinite(d)?Math.max(0,(d??0)*1e3):0,f]:null},Xy=d=>{const r=[];if(Array.isArray(d.segments)&&d.segments.forEach(f=>{const o=Jo(f.start,f.text);o&&r.push(o)}),r.length===0&&Array.isArray(d.words)&&d.words.length>0){const f=d.words.map(o=>(o.word??o.text??"").trim()).filter(o=>o.length>0).join(" ").trim();if(f){const o=d.words.find(M=>Number.isFinite(M.start))?.start,p=Jo(o,f);p&&r.push(p)}}if(r.length===0&&typeof d.text=="string"){const f=Jo(0,d.text);f&&r.push(f)}return r};class Vy{async enqueue(r){throw console.info("[GroqTranscriptionService] enqueue",r.jobId),new Error("Queued transcription is not yet implemented.")}async cancel(r){console.info("[GroqTranscriptionService] cancel",r)}refreshSettings(){console.info("[GroqTranscriptionService] refreshSettings noop")}async transcribeAudio(r){const f=r.apiKey.trim();if(!f)throw new Error("Groq API key is missing. Add it in Settings to start transcription.");const o=`snip-${Date.now()}.wav`,p=r.audio instanceof File?r.audio:new File([r.audio],o,{type:r.audio.type||"audio/wav"}),M=new FormData;M.append("file",p),M.append("model",r.model??Yh),M.append("response_format","verbose_json"),M.append("timestamp_granularities[]","word"),r.temperature!==void 0&&M.append("temperature",String(r.temperature)),r.language&&M.append("language",r.language);const y=await fetch(Yy,{method:"POST",headers:{Authorization:`Bearer ${f}`},body:M}),T=await y.text();if(!y.ok){let E=`Groq transcription failed (${y.status})`;try{const q=JSON.parse(T);q?.error?.message&&(E=q.error.message)}catch{T&&(E=`${E}: ${T}`)}throw new Error(E)}const b=JSON.parse(T),v=Xy(b);return{text:typeof b.text=="string"?b.text.trim():v.map(E=>E[1]).join(" ").trim(),segments:v,model:r.model??Yh,language:b.language??r.language??null}}}const Qy=new Vy,Zy={recording:{label:"Recording",pillClass:"pill-progress"},transcribing:{label:"Transcribing",pillClass:"pill-progress"},ready:{label:"Ready",pillClass:"pill-synced"},partial:{label:"Part TX",pillClass:"pill-attention"},untranscribed:{label:"TX failed",pillClass:"pill-attention"},error:{label:"Error",pillClass:"pill-attention"}},ad=1024*1024,Xh=200*ad,Vh="whisper-large-v3-turbo",Qh=180,Ky=3e3,Jy=60,Zh=12e4,ii=[3e3,5e3,1e4],Kh=ii.length,Jh=12e4,$h="Audio was purged to stay under the storage cap. Transcription retries are disabled.",ld=d=>new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit"}).format(new Date(d)),ap=d=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(new Date(d)),$y=d=>{const r=Math.max(0,Math.round(d/1e3)),f=Math.floor(r/60),o=r%60,p=Math.floor(f/60),M=f%60;return p>0?`${p}h ${M.toString().padStart(2,"0")}m`:`${M}m ${o.toString().padStart(2,"0")}s`},cs=d=>{if(!Number.isFinite(d)||d<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let f=d,o=0;for(;f>=1024&&o<r.length-1;)f/=1024,o+=1;return`${new Intl.NumberFormat(void 0,{maximumSignificantDigits:4,minimumSignificantDigits:1}).format(f)} ${r[o]}`},Iy=d=>{if(!Number.isFinite(d)||d<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let f=d,o=0;for(;f>=1024&&o<r.length-1;)f/=1024,o+=1;return`${Math.round(f)} ${r[o]}`},Fy=(d,r)=>{const f=Number.isFinite(r)&&r>0?r:0,o=d+f,p=new Date(d),M=new Date(o);return p.toDateString()!==M.toDateString()?`${ap(o)} ${ld(o)}`:ld(o)},Wy=d=>{const r=Math.max(0,Math.round(d/1e3)),f=Math.floor(r/3600),o=Math.floor(r%3600/60),p=r%60;return f>0?`${f}:${o.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`:o>0?`${o}:${p.toString().padStart(2,"0")}`:`0:${p.toString().padStart(2,"0")}`},Py=d=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(d)),si=d=>{if(!Number.isFinite(d))return"0:00";const r=Math.max(0,d),f=Math.floor(r/60),o=Math.floor(r%60);return`${f}:${o.toString().padStart(2,"0")}`},t0=(d,r)=>{const f=d.trim();if(!f)return"";const o=f.split(/\s+/);return o.length<=r?f:o.slice(-r).join(" ")},lp={hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},e0=(()=>{try{return new Intl.DateTimeFormat(void 0,{...lp,fractionalSecondDigits:2})}catch{return null}})(),n0=new Intl.DateTimeFormat(void 0,lp),a0=d=>(e0??n0).format(new Date(d)),ya=d=>{const r=d.transcription?.text?.trim()??"";if(r)return r;const f=d.transcription?.segments??[];return f.length===0?"":f.map(o=>o[1]).join(" ").trim()},Ih=d=>{const r=d.map(f=>ya(f)).filter(f=>f.length>0).join(" ").trim();return r?r.length<=Qh?r:`${r.slice(0,Qh).trimEnd()}...`:""},$o=d=>new Promise(r=>window.setTimeout(r,d));function l0(){const[d,r]=N.useState(null),[f,o]=N.useState([]),[p,M]=N.useState(null),[y,T]=N.useState([]),[b,v]=N.useState([]),[D,E]=N.useState({}),[q,J]=N.useState({}),[et,F]=N.useState({}),[Et,it]=N.useState({}),[bt,ot]=N.useState({}),[H,P]=N.useState(us.state),[mt,I]=N.useState(null),[ct,Ht]=N.useState({totalBytes:0,limitBytes:Xh}),[ee,It]=N.useState([]),[Ft,an]=N.useState(null),[Ne,Ee]=N.useState(!1),[A,X]=N.useState(!1),[W,$]=N.useState(null),[st,S]=N.useState(null),[U,tt]=N.useState(1),[at,yt]=N.useState(!1),[Ct,Tt]=N.useState(!1),[Ye,ue]=N.useState(!1),[Qa,Zn]=N.useState(!1),[os,Za]=N.useState([]),[vn,la]=N.useState(null),[wl,Cl]=N.useState("tables"),[On,Ka]=N.useState([]),[bn,Dl]=N.useState(null),[mu,ds]=N.useState([]),[pe,fs]=N.useState(!1),[_n,ms]=N.useState("chunks"),[va,hu]=N.useState(!1),[Oe,Nl]=N.useState({chunkCoverageScan:!0,rangeAccessScan:!0,chunkDecodeScan:!0,sanityChecks:!0,snipScan:!0}),[Kn,sa]=N.useState(!1),[_e,ce]=N.useState(null),[$e,ri]=N.useState(null),[pu,Rl]=N.useState(null),[jl,Ja]=N.useState(null),[be,Jn]=N.useState(null),[zl,$a]=N.useState(!1),[gu,Ia]=N.useState(null),[Sn,Mn]=N.useState({playing:!1,duration:0,position:0}),[Ol,hs]=N.useState(null),[ba,_l]=N.useState(!1),[Sa,xn]=N.useState("idle"),[oi,$n]=N.useState(null),[En,ne]=N.useState(null),[ke,In]=N.useState({}),[Fa,yu]=N.useState(!1),[_c,di]=N.useState(!1),Ue=N.useRef(null),ps=N.useRef(null),ia=N.useRef(null),Be=N.useRef(null),kn=N.useRef(new Map),ge=N.useRef(new Map),fe=N.useRef(new Map),un=N.useRef(new Map),Wa=N.useRef(new Map),ua=N.useRef(null),ca=N.useRef(null),gs=N.useRef(null),kl=N.useRef(0),ys=N.useRef(new Map),fi=N.useRef(!1),Ma=N.useRef(null),Pa=N.useRef(new Set),An=N.useRef({sessionId:null,active:!1,pending:[],pendingIds:new Set,retryCounts:new Map,lastSuccessAt:0,lastMissingKeyWarnAt:0}),Ie=N.useRef(!1),vs=N.useRef(!1),vu=N.useRef(0),Ul=N.useRef(null),Bl=N.useRef(0),Ae=d?.developerMode??!1,tl=d?.storageLimitBytes??Xh,Fe=N.useMemo(()=>{const i=ee.map(g=>ya(g)).filter(g=>g.length>0);return i.length===0?[]:i.slice(-2).map(g=>t0(g,Jy)).filter(g=>g.length>0)},[ee]),Qt=N.useCallback(i=>!!i.audioPurgedAt,[]),We=N.useCallback(i=>!!i.audioPurgedAt||i.byteLength<=0||i.blob.size<=0,[]),el=N.useCallback((i,c)=>{const g=Ih(c),C=c.filter(Y=>!!Y.transcriptionError).length,R=c.filter(Y=>ya(Y).length>0).length,V=c.filter(Y=>Qt(Y)).length,k=c.length,Q=Math.max(0,k-V);E(Y=>{if(!g){if(!(i in Y))return Y;const nt={...Y};return delete nt[i],nt}return Y[i]===g?Y:{...Y,[i]:g}}),J(Y=>{if(C===0){if(!(i in Y))return Y;const nt={...Y};return delete nt[i],nt}return Y[i]===C?Y:{...Y,[i]:C}}),F(Y=>{if(k===0){if(!(i in Y))return Y;const lt={...Y};return delete lt[i],lt}const nt=Y[i];return nt&&nt.transcribedCount===R&&nt.total===k&&nt.purgedCount===V&&nt.retryableCount===Q?Y:{...Y,[i]:{transcribedCount:R,total:k,purgedCount:V,retryableCount:Q}}})},[Qt]),xa=N.useCallback(async i=>{try{const c=await Promise.all(i.map(async V=>{if(V.status!=="ready")return[V.id,"",0,0,0,0,0];const k=await gt.listSnips(V.id),Q=k.filter(Dt=>!!Dt.transcriptionError).length,Y=k.filter(Dt=>ya(Dt).length>0).length,nt=k.filter(Dt=>Qt(Dt)).length,lt=k.length,vt=Math.max(0,lt-nt);return[V.id,Ih(k),Q,Y,lt,nt,vt]})),g={},C={},R={};c.forEach(([V,k,Q,Y,nt,lt,vt])=>{k&&(g[V]=k),Q>0&&(C[V]=Q),nt>0&&(R[V]={transcribedCount:Y,total:nt,purgedCount:lt,retryableCount:vt})}),E(g),J(C),F(R)}catch(c){await Je("Transcription preview load failed",{error:c instanceof Error?c.message:String(c)})}},[Qt]),Xe=N.useCallback(async()=>{await gt.init(),await gt.purgeLegacyMp4Sessions();const i=Ma.current??new nd;Ma.current=i;const[c,g]=await Promise.all([gt.listSessions(),gt.storageTotals()]),C=ys.current;let R=null;if(fi.current)for(const k of c){if(k.status!=="ready"||k.chunkCount===0||!C.has(k.id))continue;const Q=C.get(k.id);Q!==void 0&&Q!==k.updatedAt&&(!R||k.updatedAt>R.updatedAt)&&(R=k)}ys.current=new Map(c.map(k=>[k.id,k.updatedAt])),fi.current?R&&an(R.id):fi.current=!0,o(c),Ht({totalBytes:g.totalBytes,limitBytes:tl}),xa(c),c.filter(k=>k.chunkCount>0&&(k.timingStatus??"unverified")!=="verified").forEach(k=>{i.ensureTimings(k.id).then(Q=>{const Y=Q.session;Q.status!=="verified"||!Y||(o(nt=>nt.map(lt=>lt.id===Y.id?{...lt,...Y}:lt)),ys.current.set(Y.id,Y.updatedAt))}).catch(Q=>{console.warn("[UI] Session timing verification failed",{sessionId:k.id,error:Q})})})},[xa,tl]),Ea=N.useCallback(async i=>{if(vs.current)return;const c=Date.now(),g=!i?.force;if(!(g&&c-vu.current<Jh)){vs.current=!0,vu.current=c;try{await gt.init();const C=await gt.applyRetentionPolicy({limitBytes:tl,now:c});C.purgedChunkIds.length>0&&await Lt("Storage retention purged audio",{beforeBytes:C.beforeBytes,afterBytes:C.afterBytes,limitBytes:C.limitBytes,purgedChunks:C.purgedChunkIds.length,purgedSnips:C.purgedSnipIds.length,reason:i?.reason??(g?"debounced":"manual")}),C.afterBytes>C.limitBytes&&await Ge("Storage retention unable to meet cap",{beforeBytes:C.beforeBytes,afterBytes:C.afterBytes,limitBytes:C.limitBytes,purgedChunks:C.purgedChunkIds.length,reason:i?.reason??(g?"debounced":"manual")}),Ht({totalBytes:C.afterBytes,limitBytes:tl})}catch(C){await Je("Storage retention pass failed",{error:C instanceof Error?C.message:String(C),reason:i?.reason??(g?"debounced":"manual")})}finally{vs.current=!1}}},[tl]);N.useEffect(()=>fu.subscribe(i=>r({...i})),[]),N.useEffect(()=>{d?.storageLimitBytes!=null&&Ea({force:!0,reason:"settings-change"})},[Ea,d?.storageLimitBytes]),N.useEffect(()=>(cy(),()=>{ry()}),[]),N.useEffect(()=>{My()},[]),N.useEffect(()=>{gt.reconcileDanglingSessions()},[]),N.useEffect(()=>us.subscribe(c=>P({...c})),[]),N.useEffect(()=>{H.state==="idle"&&(gs.current=null)},[H.state]),N.useEffect(()=>{const i=H.state==="recording";Nc(i,i?"recording-active":"recording-inactive")},[H.state]),N.useEffect(()=>{if(H.state!=="recording"||!H.sessionId){Ul.current=H.sessionId??null,Bl.current=H.chunksRecorded;return}Ul.current!==H.sessionId&&(Ul.current=H.sessionId,Bl.current=0),H.chunksRecorded>Bl.current&&(Bl.current=H.chunksRecorded,Ea({reason:"chunk-written"}))},[H.chunksRecorded,H.sessionId,H.state,Ea]),N.useEffect(()=>{if(H.state!=="recording")return;let i=!1;const c=()=>{i||Ea()},g=window.setInterval(c,Jh);return c(),()=>{i=!0,window.clearInterval(g)}},[H.state,Ea]),N.useEffect(()=>{const i=c=>{const g=c.target;let C="unknown";g instanceof HTMLElement&&(C=g.tagName.toLowerCase(),g.id?C+=`#${g.id}`:g.classList.length>0&&(C+=`.${g.classList[0]}`)),ca.current={type:c.type,target:C,timestamp:Date.now()}};return window.addEventListener("pointerdown",i,!0),window.addEventListener("keydown",i,!0),()=>{window.removeEventListener("pointerdown",i,!0),window.removeEventListener("keydown",i,!0)}},[]),N.useEffect(()=>{Xe()},[Xe]),N.useEffect(()=>{H.state==="recording"&&!p?(Ee(!0),requestAnimationFrame(()=>X(!0))):X(!1)},[H.state,p]),N.useEffect(()=>{H.state!=="recording"&&It([])},[H.state]),N.useEffect(()=>{if(!Ft)return;const i=window.setTimeout(()=>an(null),2400);return()=>window.clearTimeout(i)},[Ft]),N.useEffect(()=>{if(A||!Ne)return;const i=window.setTimeout(()=>Ee(!1),400);return()=>window.clearTimeout(i)},[Ne,A]),N.useEffect(()=>{if(!A)return;const i=ua.current;i&&(i.scrollTop=i.scrollHeight)},[A,Fe]),N.useEffect(()=>{if(typeof window>"u"||!("ontouchstart"in window))return;const i=g=>{g.touches.length>1&&g.preventDefault()},c=g=>{g.preventDefault()};return document.addEventListener("touchmove",i,{passive:!1}),document.addEventListener("gesturestart",c),document.addEventListener("gesturechange",c),document.addEventListener("gestureend",c),()=>{document.removeEventListener("touchmove",i),document.removeEventListener("gesturestart",c),document.removeEventListener("gesturechange",c),document.removeEventListener("gestureend",c)}},[]),N.useEffect(()=>{let i=!1;if(!p){T([]),v([]),In({}),fs(!1),_l(!1),$n(null),xn("idle"),ne(null);return}return In({}),(async()=>{const[c,g]=await Promise.all([gt.getChunkData(p),gt.listSnips(p)]);i||(T(c),v(g))})(),()=>{i=!0}},[p]),N.useEffect(()=>{const i=Ue.current;if(!i)return;const c=()=>Mn(k=>({...k,position:i.currentTime})),g=()=>Mn(k=>({...k,duration:Number.isFinite(i.duration)?i.duration:0})),C=()=>Mn(k=>({...k,playing:!0})),R=()=>Mn(k=>({...k,playing:!1})),V=()=>Mn(k=>({...k,playing:!1,position:i.duration||k.position}));return i.addEventListener("timeupdate",c),i.addEventListener("durationchange",g),i.addEventListener("play",C),i.addEventListener("pause",R),i.addEventListener("ended",V),()=>{i.removeEventListener("timeupdate",c),i.removeEventListener("durationchange",g),i.removeEventListener("play",C),i.removeEventListener("pause",R),i.removeEventListener("ended",V)}},[p]),N.useEffect(()=>{const i=kn.current,c=ge.current,g=new Set(y.map(C=>C.id));Array.from(i.entries()).forEach(([C,R])=>{g.has(C)||(URL.revokeObjectURL(R),i.delete(C))});for(const[C,R]of c.entries())g.has(C)||(R.cleanup(),R.audio.pause(),R.audio.currentTime=R.startTime,c.delete(C));$(C=>C&&g.has(C)?C:null)},[y]),N.useEffect(()=>{const i=fe.current,c=un.current,g=new Set(b.map(C=>C.id));Array.from(i.entries()).forEach(([C,R])=>{g.has(C)||(URL.revokeObjectURL(R),i.delete(C))}),Array.from(Wa.current.keys()).forEach(C=>{g.has(C)||Wa.current.delete(C)});for(const[C,R]of c.entries())g.has(C)||(R.cleanup(),R.audio.pause(),R.audio.currentTime=R.startTime,c.delete(C));S(C=>C&&g.has(C)?C:null)},[b]),N.useEffect(()=>()=>{ge.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),ge.current.clear(),kn.current.forEach(i=>URL.revokeObjectURL(i)),kn.current.clear()},[]),N.useEffect(()=>{pe||(ge.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),ge.current.clear(),$(null),un.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),un.current.clear(),S(null))},[pe]),N.useEffect(()=>{ge.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),ge.current.clear(),$(null),un.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),un.current.clear(),S(null)},[_n]),N.useEffect(()=>{const i=Ue.current;i&&(i.volume=U),ge.current.forEach(c=>{c.audio.volume=U}),un.current.forEach(c=>{c.audio.volume=U})},[U]),N.useEffect(()=>{Ae||(ue(!1),fs(!1),_l(!1),$n(null),xn("idle"),ne(null),Za([]),la(null),Cl("tables"),Ka([]),Dl(null),ds([]))},[Ae]),N.useEffect(()=>()=>{Be.current&&(URL.revokeObjectURL(Be.current),Be.current=null)},[]);const L=N.useMemo(()=>f.find(i=>i.id===p)??null,[f,p]),Pe=N.useMemo(()=>{const i=b.map(C=>ya(C)).filter(C=>C.length>0),c=b.filter(C=>!!C.transcriptionError).length,g=b.filter(C=>Qt(C)).length;return{text:i.join(" ").trim(),transcribedCount:i.length,errorCount:c,total:b.length,purgedCount:g,retryableCount:Math.max(0,b.length-g)}},[Qt,b]);N.useEffect(()=>{if(!L){hs(null);return}hs(L.durationMs)},[L]),N.useEffect(()=>{L?.id&&el(L.id,b)},[L?.id,b,el]),N.useEffect(()=>{if(!L?.id){ia.current=null;return}if(!Pe.text||ia.current===L.id)return;ia.current=L.id;const i=window.setTimeout(()=>{const c=ps.current;c&&(c.focus(),c.select())},80);return()=>window.clearTimeout(i)},[L?.id,Pe.text]),N.useEffect(()=>{if(!(Ae&&L&&(ba||pe&&_n==="snips"))){xn("idle"),$n(null),ne(null);return}if(L.chunkCount===0){xn("error"),ne("No audio chunks available yet. Capture a few seconds of audio and try again."),$n(null);return}const c=Ma.current??new nd;Ma.current=c;let g=!1;return xn("loading"),ne(null),$n(null),(async()=>{try{const C=await c.prepareAnalysisForSession({session:L,mimeTypeHint:L.mimeType??null});if(g)return;if(C.analysis){$n(C.analysis),xn("ready"),ne(null);try{const R=await yn.listSnips(L,L.mimeType??null);g||v(R)}catch(R){g||await Je("Failed to refresh snip segments",{sessionId:L.id,error:R instanceof Error?R.message:String(R)})}}else{$n(null),xn("error");const R=C.verification.missingChunkIds.length;ne(R>0?`Waiting on verified audio durations for ${R} chunk${R===1?"":"s"}.`:"No volume profiles available yet. Capture additional audio and retry.")}}catch(C){if(g)return;const R=C instanceof Error?C.message:String(C);xn("error"),ne(R),Je("Session analysis failed",{sessionId:L.id,error:R})}})(),()=>{g=!0}},[Ae,pe,_n,ba,L?.id,L?.updatedAt,L?.chunkCount,L?.mimeType]);const Le=N.useCallback(i=>{const c=i.blob.type||L?.mimeType||"";if(!/mp4|m4a/i.test(c))return!1;const C=Math.max(0,i.endMs-i.startMs);return i.seq===0&&(C<=10||i.byteLength<4096)},[L?.mimeType]),Aa=N.useMemo(()=>y.find(Le)??null,[y,Le]),bs=N.useMemo(()=>y.filter(i=>!Le(i)&&!We(i)).length,[y,We,Le]),bu=N.useCallback(i=>{const c=i.blob.type||L?.mimeType||"audio/mp4";return!Aa||Aa.id===i.id||!/mp4|m4a/i.test(c)?i.blob:new Blob([Aa.blob,i.blob],{type:c})},[Aa,L?.mimeType]),Ss=N.useCallback(i=>{if(We(i))return null;const c=kn.current,g=c.get(i.id);if(g)return g;const C=bu(i),R=URL.createObjectURL(C);return c.set(i.id,R),R},[bu,We]),Ms=N.useCallback(i=>{const c=Ss(i);if(!c)return;const g=L?.startedAt??i.startMs??Date.now(),C=new Date(g).toISOString().replace(/[:.]/g,"-"),R=String(i.seq+1).padStart(2,"0"),V=i.blob.type||L?.mimeType||"application/octet-stream",k=/mpeg/i.test(V)?"mp3":/webm/i.test(V)?"webm":/mp4|m4a/i.test(V)?"mp4":"bin",Q=document.createElement("a");Q.href=c,Q.download=`${C}_chunk-${R}.${k}`,Q.rel="noopener",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)},[Ss,L?.mimeType,L?.startedAt]),Un=N.useCallback(i=>{i.currentTarget.focus(),i.currentTarget.select()},[]),xs=N.useCallback(async()=>{const i=window.AudioContext||window.webkitAudioContext;if(typeof i!="function")return;const c=new i,g=c.createOscillator(),C=c.createGain();C.gain.value=.12,g.type="sine",g.frequency.value=880,g.connect(C),C.connect(c.destination);const R=c.currentTime+.35;g.start(),g.stop(R),g.onended=()=>{c.close().catch(()=>{})}},[]),Ll=N.useCallback(()=>{ge.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),ge.current.clear(),$(null),un.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),un.current.clear(),S(null),Ue.current&&Ue.current.pause()},[]),Ta=N.useCallback(()=>{di(!0),window.setTimeout(()=>di(!1),1200)},[]);N.useEffect(()=>{const i=()=>{document.visibilityState!=="visible"&&Ll()},c=()=>Ll();return document.addEventListener("visibilitychange",i),window.addEventListener("pagehide",c),()=>{document.removeEventListener("visibilitychange",i),window.removeEventListener("pagehide",c)}},[Ll]);const Fn=N.useCallback(async i=>{if(!L||Qt(i))return null;const c=i.id,g=Wa.current.get(c);if(g)return g;const C=await yn.getRangeAudio(L,i.startMs,i.endMs,L.mimeType??null);return Wa.current.set(c,C),C},[Qt,L]),ql=N.useCallback(async i=>{const c=i.id,g=fe.current.get(c),C=await Fn(i);if(!C)return null;if(g)return{url:g,slice:C};const R=URL.createObjectURL(C.blob);return fe.current.set(c,R),{url:R,slice:C}},[Fn]),mi=N.useCallback(async(i,c)=>{if(Qt(i))return;const g=await ql(i);if(!g)return;const{url:C,slice:R}=g,V=document.createElement("a");V.href=C,V.download=R.suggestedFilename||`snip-${String(c).padStart(2,"0")}.wav`,V.rel="noopener",document.body.appendChild(V),V.click(),document.body.removeChild(V)},[ql,Qt]),hi=N.useCallback(async(i,c)=>Qt(c)?null:L?.id===i.id?await Fn(c):await yn.getRangeAudio(i,c.startMs,c.endMs,i.mimeType??null),[Fn,Qt,L?.id]),ra=N.useCallback(async i=>{const c=await gt.listSnips(i);el(i,c)},[el]),cn=N.useCallback(i=>{const c=i.filter(C=>!Qt(C)),g=c.filter(C=>!!C.transcriptionError);return g.length>0?g:c},[Qt]),rn=N.useCallback(async({session:i,snip:c,updateUi:g,force:C,ignoreBusy:R=!1,reportError:V=!0})=>{if(!C&&ya(c))return{ok:!0};if(Qt(c))return await Ge("Snip transcription blocked (audio purged)",{sessionId:i.id,snipId:c.id}),{ok:!1,error:$h};if(g&&ke[c.id]&&!R)return{ok:!1};const k=d?.groqApiKey?.trim()??"";if(!k){const Q="Groq API key missing. Add it in Settings before retrying.";await Ge("Snip transcription blocked (missing key)",{sessionId:i.id,snipId:c.id});const Y=await gt.updateSnipTranscription(c.id,{transcriptionError:Q});return g&&Y&&v(nt=>nt.map(lt=>lt.id===Y.id?Y:lt)),{ok:!1,error:Q}}g&&In(Q=>({...Q,[c.id]:!0}));try{const Q=await hi(i,c);if(!Q)throw new Error("Unable to resolve snip audio for transcription.");if(Q.durationMs<=0||Q.blob.size===0)throw new Error(`Snip audio slice is empty (snip=${c.id} start=${c.startMs} end=${c.endMs} duration=${Q.durationMs} bytes=${Q.blob.size})`);await Lt("Snip transcription started",{sessionId:i.id,snipId:c.id,model:Vh,startMs:c.startMs,endMs:c.endMs,sliceDurationMs:Q.durationMs,sliceBytes:Q.blob.size});const Y=await Qy.transcribeAudio({apiKey:k,audio:Q.blob,model:Vh,temperature:0}),nt={text:Y.text,segments:Y.segments,model:Y.model,language:Y.language??null,createdAt:Date.now()},lt=await gt.updateSnipTranscription(c.id,{transcription:nt,transcriptionError:null});return g&&lt&&v(vt=>vt.map(Dt=>Dt.id===lt.id?lt:Dt)),await Lt("Snip transcription completed",{sessionId:i.id,snipId:c.id,model:Y.model,textLength:Y.text.length,segmentCount:Y.segments.length}),{ok:!0}}catch(Q){const Y=Q instanceof Error?Q.message:String(Q);if(V){await Je("Snip transcription failed",{sessionId:i.id,snipId:c.id,error:Y,startMs:c.startMs,endMs:c.endMs,durationMs:c.durationMs});const nt=await gt.updateSnipTranscription(c.id,{transcriptionError:Y});g&&nt&&v(lt=>lt.map(vt=>vt.id===nt.id?nt:vt))}return{ok:!1,error:Y}}finally{g&&In(Q=>{const Y={...Q};return delete Y[c.id],Y}),await ra(i.id)}},[ra,hi,d?.groqApiKey,Qt,ke]),oa=N.useCallback(i=>{const c=An.current;c.sessionId=i,c.active=!1,c.pending=[],c.pendingIds.clear(),c.retryCounts.clear(),c.lastSuccessAt=0,c.lastMissingKeyWarnAt=0},[]),Wn=N.useCallback(async i=>{const c=An.current;if(!(c.active||c.sessionId!==i.id)){c.active=!0;try{for(;c.pending.length>0;){const g=c.pending.shift();if(!g)break;const C=g.snip;if(c.pendingIds.delete(C.id),c.sessionId!==i.id)break;if((await rn({session:i,snip:C,updateUi:L?.id===i.id,force:!0,ignoreBusy:!0,reportError:!0})).ok){c.retryCounts.delete(C.id),c.lastSuccessAt=Date.now();continue}const V=(c.retryCounts.get(C.id)??0)+1;if(c.retryCounts.set(C.id,V),V<=Kh&&Date.now()-c.lastSuccessAt<Zh){const Q=ii[Math.min(V-1,ii.length-1)];await $o(Q),c.pendingIds.has(C.id)||(c.pending.push({snip:C,attempt:V}),c.pendingIds.add(C.id))}}}finally{c.active=!1}}},[L?.id,rn]),Es=N.useCallback(async(i,c)=>{const g=An.current;if(g.sessionId!==i.id&&oa(i.id),!(d?.groqApiKey?.trim()??"")){Date.now()-g.lastMissingKeyWarnAt>6e4&&(g.lastMissingKeyWarnAt=Date.now(),Ge("Live transcription blocked (missing key)",{sessionId:i.id}));return}const R=g.lastSuccessAt>0&&Date.now()-g.lastSuccessAt<Zh;[...c].sort((k,Q)=>k.index-Q.index).forEach(k=>{if(ya(k)||Qt(k)||g.pendingIds.has(k.id))return;const Q=g.retryCounts.get(k.id)??0;k.transcriptionError&&(!R||Q>=Kh)||(g.pending.push({snip:k,attempt:Q}),g.pendingIds.add(k.id))}),!g.active&&g.pending.length>0&&Wn(i)},[Qt,oa,Wn,d?.groqApiKey]);N.useEffect(()=>{H.state!=="recording"&&oa(null)},[H.state,oa]),N.useEffect(()=>{if(!H.sessionId||H.state!=="recording")return;const i=H.sessionId;let c=!1;const g=async()=>{if(!(c||Ie.current)){Ie.current=!0;try{const R=await gt.getSession(i);if(!R||R.status!=="recording")return;const V=await yn.listSnips(R,R.mimeType??null);if(c)return;if(It(V),L?.id===i){const[k]=await Promise.all([gt.getChunkData(i)]);c||(T(k),v(V))}await Es(R,V),await Xe()}catch(R){if(!c){const V=R instanceof Error?R.message:String(R);Ge("Live snip refresh failed",{sessionId:i,error:V})}}finally{Ie.current=!1}}},C=window.setInterval(g,Ky);return g(),()=>{c=!0,window.clearInterval(C)}},[H.sessionId,H.state,Es,Xe,L?.id]);const As=N.useCallback(async i=>{L&&(Qt(i)||await rn({session:L,snip:i,updateUi:!0,force:!0}))},[Qt,L,rn]),Su=N.useCallback(async()=>{if(!L||Fa)return;const i=L.id;yu(!0),ot(c=>({...c,[i]:!0}));try{const c=await gt.listSnips(i),g=c.length>0?c:await yn.listSnips(L,L.mimeType??null);if(g.length===0)return;v(g);const C=cn(g);if(C.length===0)return;for(const R of C)await rn({session:L,snip:R,updateUi:!0,force:!0,ignoreBusy:!0})}finally{yu(!1),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}},[Fa,cn,L,rn]),Ts=N.useCallback(async i=>{if(!Et[i]){it(c=>({...c,[i]:!0})),ot(c=>({...c,[i]:!0}));try{const c=await gt.getSession(i);if(!c)return;const g=await gt.listSnips(i),C=g.length>0?g:await yn.listSnips(c,c.mimeType??null);if(C.length===0)return;L?.id===i&&v(C);const R=cn(C);if(R.length===0)return;for(const V of R)await rn({session:c,snip:V,updateUi:L?.id===i,force:!0,ignoreBusy:!0})}finally{it(c=>{if(!c[i])return c;const g={...c};return delete g[i],g}),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}}},[Et,cn,L?.id,rn]),Hl=N.useCallback(async i=>{if(!Pa.current.has(i)){Pa.current.add(i),ot(c=>({...c,[i]:!0}));try{await $o(1200);const c=await gt.getSession(i);if(!c||c.status!=="ready")return;const g=await yn.listSnips(c,c.mimeType??null);if(g.length===0)return;if(!(d?.groqApiKey?.trim()??"")){const V="Groq API key missing. Add it in Settings before retrying.";await Ge("Auto transcription blocked (missing key)",{sessionId:i,snipCount:g.length});const k=[];for(const Q of g){if(ya(Q)||Qt(Q))continue;const Y=await gt.updateSnipTranscription(Q.id,{transcriptionError:V});Y&&k.push(Y)}L?.id===i&&k.length>0&&v(Q=>Q.map(Y=>k.find(nt=>nt.id===Y.id)??Y));return}const R=ii.length+1;for(const V of g)if(!ya(V)&&!Qt(V))for(let k=0;k<R;k+=1){if(k>0){const Y=ii[Math.min(k-1,ii.length-1)];await $o(Y)}if((await rn({session:c,snip:V,updateUi:L?.id===i,force:k>0,ignoreBusy:k>0,reportError:k===R-1})).ok)break}}finally{Pa.current.delete(i),await ra(i),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}}},[Qt,ra,L?.id,d?.groqApiKey,rn]),Mu=N.useCallback(async()=>{I(null),await Xe()},[Xe]),tn=N.useCallback(async()=>{if(H.state==="recording")return;let i="";gs.current=Date.now(),Nc(!0,"recording-start-click");try{await Lt("Recorder start requested",{previousState:H.state}),I(null);const c=await fu.get();i=window.crypto?.randomUUID?.()??`session-${Date.now()}`;const g=Date.now();await gt.createSession({id:i,title:`Recording ${new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1}).format(g)}`,startedAt:g,updatedAt:g,status:"recording",totalBytes:0,chunkCount:0,durationMs:0,mimeType:null,notes:"Transcription pending",timingStatus:"unverified"}),await us.start({sessionId:i,targetBitrate:c.targetBitrate,chunkDurationMs:4e3}),await Lt("Recorder started",{sessionId:i,targetBitrate:c.targetBitrate,chunkDurationMs:4e3}),await Xe()}catch(c){console.error("[UI] Failed to start recording",c),gs.current=null,Nc(!1,"recording-start-failed"),await Je("Recorder failed to start",{sessionId:i,error:c instanceof Error?c.message:String(c)}),i&&await gt.updateSession(i,{status:"error",notes:"Recording failed to start.",updatedAt:Date.now()}),await Xe(),I(c instanceof Error?c.message:String(c))}},[H.state,Xe]),Pn=N.useCallback(async()=>{if(H.state!=="recording")return;const i=H.sessionId;try{await Lt("Recorder stop requested",{sessionId:i}),await us.stop(),await Lt("Recorder stopped",{sessionId:i})}catch(c){console.error("[UI] Failed to stop recording",c),I(c instanceof Error?c.message:String(c)),await Je("Recorder failed to stop",{sessionId:i,error:c instanceof Error?c.message:String(c)})}finally{Nc(!1,"recording-stop-request"),await Xe(),i&&Hl(i)}},[Hl,H.sessionId,H.state,Xe]),ws=async()=>{H.state==="recording"?await Pn():await tn()};N.useEffect(()=>{if(H.state!=="recording"||!H.startedAt)return;const i=window.setTimeout(()=>{const c=us.state;if(c.state!=="recording"||c.chunksRecorded>0)return;const g=typeof us.getDiagnostics=="function"?us.getDiagnostics():null;Ge("No audio captured after timeout; stopping recording",{sessionId:c.sessionId,timeoutMs:15e3,error:c.error??null,diagnostics:g});const C=gs.current??c.startedAt??Date.now(),R=ca.current;hy(C,{sessionId:c.sessionId,timeoutMs:15e3,captureState:{state:c.state,chunksRecorded:c.chunksRecorded,error:c.error??null},diagnostics:g,lastUserInteraction:R??null}),Ta(),xs(),Pn()},15e3);return()=>window.clearTimeout(i)},[H.startedAt,H.state,xs,Pn,Ta]);const da=N.useCallback(async(i=!1)=>{if(!L)return!1;const c=L.mimeType??"audio/mp4",C=[...await gt.getChunkData(L.id)].sort((lt,vt)=>lt.seq-vt.seq);if(C.length===0)throw new Error("No audio available yet. Keep recording to capture chunks.");const R=C.find(lt=>Le(lt))??null,V=C.filter(lt=>!Le(lt)&&!We(lt));if(V.length===0)throw new Error("Audio for this recording was purged.");const k=[];R&&/mp4|m4a/i.test(c)&&k.push(R.blob),V.forEach(lt=>k.push(lt.blob));const Q=new Blob(k,{type:c});if(await Lt("Playback source prepared",{sessionId:L.id,blobSize:Q.size,blobType:Q.type}),T(C),Be.current&&!i)return!0;Be.current&&URL.revokeObjectURL(Be.current);const Y=URL.createObjectURL(Q);Be.current=Y;const nt=Ue.current;return nt&&(nt.src=Y,nt.currentTime=0,Mn({playing:!1,duration:Number.isFinite(nt.duration)?nt.duration:0,position:0})),!0},[We,Le,L]);N.useEffect(()=>{!L||L.status==="recording"||L.chunkCount===0||da(!0).catch(i=>{console.error("[UI] Failed to prepare playback on detail open",i),Ia(i instanceof Error?i.message:String(i))})},[da,L,L?.id,L?.updatedAt,L?.chunkCount,L?.status]);const kc=N.useCallback(async()=>{if(!L)return;if(!y.some(c=>!Le(c)&&!We(c))){const c="Audio was purged for this recording and is no longer available.";Ia(c),typeof window<"u"&&window.alert(c);return}Ia(null),$a(!0);try{Be.current||await da();const c=Ue.current;if(!c)throw new Error("Audio element unavailable");c.paused?(await c.play(),await Lt("Playback started",{sessionId:L.id})):(c.pause(),await Lt("Playback paused",{sessionId:L.id}))}catch(c){console.error("[UI] Playback toggle failed",c),Ia(c instanceof Error?c.message:String(c)),await Je("Playback toggle failed",{sessionId:L.id,error:c instanceof Error?c.message:String(c)})}finally{$a(!1)}},[y,We,Le,da,L]),wa=async()=>{ge.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),ge.current.clear(),kn.current.forEach(i=>URL.revokeObjectURL(i)),kn.current.clear(),$(null),un.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),un.current.clear(),fe.current.forEach(i=>URL.revokeObjectURL(i)),fe.current.clear(),Wa.current.clear(),S(null),ms("chunks"),hu(!1),sa(!1),ce(null),ri(null),Jn(null),yt(!1),M(null),T([]),hs(null),fs(!1),_l(!1),$n(null),xn("idle"),ne(null),Ia(null),Mn({playing:!1,duration:0,position:0}),p&&await Lt("Detail view closed",{sessionId:p}),p&&yn.clearSession(p),Be.current&&(URL.revokeObjectURL(Be.current),Be.current=null),Ue.current&&(Ue.current.pause(),Ue.current.currentTime=0),await Mu()},Ca=N.useCallback(()=>{const i=Date.now(),c=ca.current,g=c?{...c,msAgo:Math.max(0,i-c.timestamp)}:null,C=navigator,R=C.userActivation?{isActive:C.userActivation.isActive,hasBeenActive:C.userActivation.hasBeenActive}:null,V=typeof document<"u"&&document.activeElement instanceof HTMLElement?document.activeElement.tagName.toLowerCase():null,k=typeof document<"u"?document.visibilityState:null,Q=typeof document<"u"&&typeof document.hasFocus=="function"?document.hasFocus():null;return{visibilityState:k,hasFocus:Q,activeElement:V,userActivation:R,lastInteraction:g}},[]),Gl=async()=>{if(!L)return;const i=L.id;if(Lt("Delete recording requested",{sessionId:i,source:"detail"}),L.id===H.sessionId&&H.state==="recording"){I("Stop the active recording before deleting it."),await Ge("Delete blocked for active recording",{sessionId:i,source:"detail"});return}const c=Date.now(),g=Ca();Lt("Delete confirmation opened",{sessionId:i,source:"detail",...g});const C=window.confirm("Delete this recording? This cannot be undone."),R=Math.max(0,Date.now()-c),V=Ca();if(Lt("Delete confirmation resolved",{sessionId:i,source:"detail",confirmed:C,confirmDurationMs:R,before:g,after:V}),!C){Lt("Delete recording cancelled",{sessionId:i,source:"detail"});return}Lt("Delete recording confirmed",{sessionId:i,source:"detail"});try{await gt.init()}catch(k){console.error("[UI] Failed to init manifest for delete",k),await Je("Delete init failed",{sessionId:L.id,error:k instanceof Error?k.message:String(k)});return}try{await gt.deleteSession(i),await gt.getSession(i)&&await Ge("Delete verification failed",{sessionId:i,source:"detail"}),await Lt("Recording deleted",{sessionId:i,source:"detail"}),await wa(),await Xe()}catch(k){console.error("[UI] Failed to delete recording",k),I(k instanceof Error?k.message:String(k)),await Je("Recording delete failed",{sessionId:i,source:"detail",error:k instanceof Error?k.message:String(k)})}},Cs=N.useCallback(async i=>{const c=i.id;if(Lt("Delete recording requested",{sessionId:c,source:"list"}),i.id===H.sessionId&&H.state==="recording"){I("Stop the active recording before deleting it."),await Ge("Delete blocked for active recording",{sessionId:c,source:"list"});return}const g=Date.now(),C=Ca();Lt("Delete confirmation opened",{sessionId:c,source:"list",...C});const R=window.confirm("Delete this recording? This cannot be undone."),V=Math.max(0,Date.now()-g),k=Ca();if(Lt("Delete confirmation resolved",{sessionId:c,source:"list",confirmed:R,confirmDurationMs:V,before:C,after:k}),!R){Lt("Delete recording cancelled",{sessionId:c,source:"list"});return}Lt("Delete recording confirmed",{sessionId:c,source:"list"});try{await gt.init()}catch(Q){console.error("[UI] Failed to init manifest for delete",Q),await Je("Delete init failed",{sessionId:c,source:"list",error:Q instanceof Error?Q.message:String(Q)});return}try{await gt.deleteSession(c),await gt.getSession(c)&&await Ge("Delete verification failed",{sessionId:c,source:"list"}),await Lt("Recording deleted",{sessionId:c,source:"list"}),L?.id===c&&await wa(),await Xe()}catch(Q){console.error("[UI] Failed to delete recording",Q),I(Q instanceof Error?Q.message:String(Q)),await Je("Recording delete failed",{sessionId:c,source:"list",error:Q instanceof Error?Q.message:String(Q)})}},[Ca,H.sessionId,H.state,wa,Xe,L?.id]),Re=(i,c)=>c>0?`${Math.round(i/c*100)}%`:"0%",on=i=>{const c=Math.max(0,i/1e3),g=Math.floor(c/60),C=c-g*60,R=C<10?`0${C.toFixed(1)}`:C.toFixed(1);return`${g}:${R}`},Yl=i=>{const c={ok:0,warn:0,error:0,total:i.length};return i.forEach(g=>{g.status==="ok"?c.ok+=1:g.status==="warn"?c.warn+=1:c.error+=1}),c},Xl=i=>{const c=new Map;return i.forEach(g=>{const C=g.reason??"(no reason)",R=`${g.status}:${C}`,V=c.get(R);V?(V.count+=1,V.examples.length<6&&V.examples.push(g)):c.set(R,{reason:C,status:g.status,count:1,examples:[g]})}),Array.from(c.values()).sort((g,C)=>{const R={error:0,warn:1,ok:2};return R[g.status]!==R[C.status]?R[g.status]-R[C.status]:C.count-g.count})},pi=i=>{const{session:c,doctorReports:g,logs:C}=i,R=[];if(R.push("Web Whisper  Doctor Report (compact)"),R.push(`Session: ${c.id}`),R.push(`StartedAt: ${new Date(c.startedAt).toISOString()}`),R.push(`DurationMs: ${c.durationMs}  (=${(c.durationMs/1e3).toFixed(1)}s)`),R.push(`Mime: ${c.mimeType??"unknown"}  Chunks: ${c.chunkCount}  Timing: ${c.timingStatus??"unverified"}`),R.push(""),g?.sanity){const Y=g.sanity.metrics;R.push("Sanity:"),R.push(`- chunkTimebase=${Y.chunkTimebase} session=${((Y.sessionDurationMs??0)/1e3).toFixed(1)}s chunkMax=${((Y.chunkMaxOffsetMs??0)/1e3).toFixed(1)}s chunkSum=${((Y.chunkSumDurationMs??0)/1e3).toFixed(1)}s snips=${Y.snipCount??0} snipMax=${((Y.snipMaxEndMs??0)/1e3).toFixed(1)}s`),g.sanity.findings.forEach(nt=>R.push(`- ${nt.level.toUpperCase()}: ${nt.message}`)),R.push("")}const V=(Y,nt)=>{if(!nt)return;R.push(`${Y}: OK=${nt.summary.ok} WARN=${nt.summary.warn} ERR=${nt.summary.error} TOTAL=${nt.summary.total}`),R.push(`- expected=${((nt.metrics.expectedDurationMs??0)/1e3).toFixed(1)}s observed=${((nt.metrics.observedDurationMs??0)/1e3).toFixed(1)}s items=${nt.metrics.observedItemCount??0}/${nt.metrics.expectedItemCount??0}`),Xl(nt.segments).filter(vt=>vt.status!=="ok").slice(0,5).forEach(vt=>{const Dt=vt.examples.slice(0,3).map(qt=>`${on(qt.startMs)}${on(qt.endMs)}`).join(", ");R.push(`- ${vt.status.toUpperCase()}: ${vt.reason} (${vt.count}) e.g. ${Dt}`)}),R.push("")};V("Chunk coverage",g?.chunkCoverage),V("Range access",g?.rangeAccess),V("Per-chunk decode",g?.chunkDecode),V("Snip scan",g?.snipScan),C.length>0&&(R.push("Recent logs (last 30):"),C.slice(-30).forEach(Y=>{const nt=typeof Y.timestamp=="number"?new Date(Y.timestamp).toISOString():"",lt=Y.level??"",vt=(Y.message??"").replace(/\s+/g," ").slice(0,200);R.push(`- ${nt} ${lt} ${vt}`.trim())}),R.push(""));let k=R.join(`
`);const Q=45e3;return k.length>Q&&(k=`${k.slice(0,Q)}

[TRUNCATED: report exceeded ${Q} chars]
`),k},Vl=(i,c)=>{const g=JSON.stringify(c,null,2),C=new Blob([g],{type:"application/json"}),R=URL.createObjectURL(C),V=document.createElement("a");V.href=R,V.download=`${i.replace(/\s+/g,"-").toLowerCase()}-doctor-report.json`,V.rel="noopener",document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(R)},Uc=async i=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText){await navigator.clipboard.writeText(i);return}const c=document.createElement("textarea");c.value=i,c.style.position="fixed",c.style.left="-9999px",c.style.top="0",document.body.appendChild(c),c.focus(),c.select(),document.execCommand("copy"),document.body.removeChild(c)},Bc=(i,c)=>{const g=i.find(C=>C.seq>=0)??null;return g?g.startMs>1e12&&c>1e12?"absolute":g.startMs>=0&&g.startMs<864e5?"offset":"unknown":"unknown"},Lc=(i,c,g)=>g==="absolute"?{startMs:i.startMs-c,endMs:i.endMs-c}:{startMs:i.startMs,endMs:i.endMs},qc=N.useCallback(async()=>{if(!L)return;const i=kl.current+1;kl.current=i;const c=()=>kl.current!==i;sa(!0),ri(null),Jn(null),await gt.init();try{await gt.verifySessionChunkTimings(L.id)}catch{}yn.clearSession(L.id);const g=await gt.getSession(L.id)??L,C=await gt.getChunkData(L.id),R=C.filter(ut=>!Le(ut)),V=C.find(ut=>ut.seq===0)?.startMs??R[0]?.startMs??g.startedAt,k=Number.isFinite(V)?Math.round(V):g.startedAt,Q=Bc(R,k),Y=R.map(ut=>({...ut,...Lc(ut,k,Q)})),nt=Ol??(Y.length>0?Math.max(...Y.map(ut=>ut.endMs)):g.durationMs??0),lt=Math.max(0,nt),vt=100,Dt=lt>0?Math.ceil(lt/vt):0,qt={},ae=async()=>{await new Promise(ut=>requestAnimationFrame(()=>ut()))},ft=async()=>{const ut=[];ce({label:"Chunk coverage scan",completed:0,total:Dt});let Ot=0;for(let le=0;le<Dt;le+=1){if(c())return;const _t=le*vt,me=Math.min(lt,_t+vt),pt=Y.find(Mt=>Mt.startMs<=_t&&Mt.endMs>_t)??null;pt?!Number.isFinite(pt.byteLength)||pt.byteLength<=0?ut.push({index:le,startMs:_t,endMs:me,status:"error",reason:"Chunk blob is empty",meta:{chunkId:pt.id,seq:pt.seq,byteLength:pt.byteLength}}):pt.endMs<=pt.startMs?ut.push({index:le,startMs:_t,endMs:me,status:"warn",reason:"Chunk timing metadata looks invalid",meta:{chunkId:pt.id,seq:pt.seq,chunkStartMs:pt.startMs,chunkEndMs:pt.endMs}}):(Ot+=me-_t,ut.push({index:le,startMs:_t,endMs:me,status:"ok",meta:{chunkId:pt.id,seq:pt.seq}})):ut.push({index:le,startMs:_t,endMs:me,status:"error",reason:"No chunk covers this time range"}),le%50===0&&(ce({label:"Chunk coverage scan",completed:le+1,total:Dt}),await ae())}ce({label:"Chunk coverage scan",completed:Dt,total:Dt}),qt.chunkCoverage={stepMs:vt,totalDurationMs:lt,segments:ut,summary:Yl(ut),metrics:{expectedDurationMs:lt,observedDurationMs:Ot,expectedItemCount:Dt,observedItemCount:Dt-Yl(ut).error}}},Rt=async()=>{const ut=[];ce({label:"Range access scan (0.1s)",completed:0,total:Dt});let Ot=0,le=0;for(let _t=0;_t<Dt;_t+=1){if(c())return;const me=_t*vt,pt=Math.min(lt,me+vt);try{const Mt=await yn.inspectRange(g,me,pt,g.mimeType??null);Ot+=Mt.durationMs,le+=1;const je=pt-me,Zt=Mt.durationMs<Math.min(je*.5,je-10),re=Mt.sampleCount>0&&Mt.rms<=1e-5&&Mt.peak<=5e-5,Tn=Zt||re?"warn":"ok",xt=Zt?"Decoded slice shorter than expected":re?"Slice appears silent":void 0;ut.push({index:_t,startMs:me,endMs:pt,status:Tn,reason:xt,meta:{durationMs:Mt.durationMs,sampleCount:Mt.sampleCount,rms:Mt.rms,peak:Mt.peak}})}catch(Mt){ut.push({index:_t,startMs:me,endMs:pt,status:"error",reason:Mt instanceof Error?Mt.message:String(Mt)})}_t%20===0&&(ce({label:"Range access scan (0.1s)",completed:_t+1,total:Dt}),await ae())}ce({label:"Range access scan (0.1s)",completed:Dt,total:Dt}),qt.rangeAccess={stepMs:vt,totalDurationMs:lt,segments:ut,summary:Yl(ut),metrics:{expectedDurationMs:lt,observedDurationMs:Ot,expectedItemCount:Dt,observedItemCount:le}}},dn=async()=>{ce({label:"Per-chunk decode scan",completed:0,total:R.length});const ut=[];if(typeof window>"u"||typeof window.AudioContext>"u"){qt.chunkDecode={stepMs:1,totalDurationMs:lt,segments:[{index:0,startMs:0,endMs:0,status:"error",reason:"AudioContext is not supported in this environment."}],summary:{ok:0,warn:0,error:1,total:1},metrics:{expectedDurationMs:null,observedDurationMs:null,expectedItemCount:null,observedItemCount:null}};return}const Ot=new AudioContext;let le=0,_t=0,me=0;try{for(let pt=0;pt<Y.length;pt+=1){if(c())return;const Mt=Y[pt],je=Mt.seq;le+=Math.max(0,Mt.endMs-Mt.startMs);try{const Zt=await yn.getChunkAudio(g,je);if(!Zt)ut.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:"error",reason:"Chunk not found",meta:{seq:je}});else{const re=await Zt.blob.arrayBuffer(),Tn=await Ot.decodeAudioData(re.slice(0)),xt=Math.max(0,Tn.duration*1e3);_t+=xt,me+=1;const Kt=Math.max(0,Mt.endMs-Mt.startMs),Se=Math.abs(xt-Kt),wn=Se>250?"warn":"ok",Bn=Se>250?"Decoded duration differs from expected chunk timing":void 0;ut.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:wn,reason:Bn,meta:{seq:je,blobType:Zt.mimeType,blobBytes:Zt.blob.size,decodedMs:xt,expectedMs:Kt,driftMs:Se,note:"Standalone chunk decoding can include timestamp offsets; compare against range scans."}})}}catch(Zt){ut.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:"error",reason:Zt instanceof Error?Zt.message:String(Zt),meta:{seq:je}})}pt%5===0&&(ce({label:"Per-chunk decode scan",completed:pt+1,total:R.length}),await ae())}}finally{await Ot.close().catch(()=>{})}ce({label:"Per-chunk decode scan",completed:R.length,total:R.length}),qt.chunkDecode={stepMs:1,totalDurationMs:lt,segments:ut,summary:Yl(ut),metrics:{expectedDurationMs:le,observedDurationMs:_t,expectedItemCount:R.length,observedItemCount:me}}},js=async()=>{const ut=[],Ot=Number.isFinite(L.durationMs)?Math.max(0,L.durationMs):null,le=R.length>0?Math.max(...R.map(xt=>xt.endMs)):null,_t=Y.length>0?Math.max(...Y.map(xt=>xt.endMs)):null,me=Y.reduce((xt,Kt)=>xt+Math.max(0,Kt.endMs-Kt.startMs),0),pt=[...Y].sort((xt,Kt)=>xt.seq-Kt.seq);let Mt=0,je=0;for(let xt=1;xt<pt.length;xt+=1){const Kt=pt[xt-1],Se=pt[xt];Se.startMs<Kt.endMs-5&&(Mt+=1),Se.startMs>Kt.endMs+50&&(je+=1)}if(Mt>0&&ut.push({level:"warn",message:`Chunk timings overlap in ${Mt} places.`,meta:{overlaps:Mt}}),je>0&&ut.push({level:"warn",message:`Chunk timings have gaps in ${je} places.`,meta:{gaps:je}}),Ot!==null&&_t!==null){const xt=_t-Ot;Math.abs(xt)>1e3?ut.push({level:(xt>0,"warn"),message:"Session duration and chunk max end differ by >1s.",meta:{sessionDurationMs:Ot,chunkMaxOffsetMs:_t,driftMs:xt,chunkTimebase:Q}}):ut.push({level:"info",message:"Session duration and chunk max end are close.",meta:{sessionDurationMs:Ot,chunkMaxOffsetMs:_t,driftMs:xt,chunkTimebase:Q}})}let Zt=null,re=null,Tn=null;try{const xt=await yn.listSnips(g,g.mimeType??null);Zt=xt.length,re=xt.length>0?Math.max(...xt.map(Se=>Se.endMs)):0,Tn=xt.reduce((Se,wn)=>Se+Math.max(0,wn.durationMs),0);const Kt=_t??Ot??lt;Kt>0&&re>Kt+2e3?ut.push({level:"error",message:"Snips extend beyond the expected session duration by >2s.",meta:{baselineDurationMs:Kt,snipMaxEndMs:re,driftMs:re-Kt}}):Kt>0&&xt.length>0&&re<Kt-2e3?ut.push({level:"error",message:"Snips do not cover the full expected session duration (end too early).",meta:{baselineDurationMs:Kt,snipMaxEndMs:re,driftMs:re-Kt}}):ut.push({level:"info",message:"Snip end times are within expected duration.",meta:{baselineDurationMs:Kt,snipMaxEndMs:re}})}catch(xt){ut.push({level:"error",message:"Failed to compute snips for sanity checks.",meta:{error:xt instanceof Error?xt.message:String(xt)}})}try{const xt=await gt.listChunkVolumeProfiles(L.id),Kt=new Set(Y.map(Gt=>Gt.seq)),Se=xt.filter(Gt=>Kt.has(Gt.seq)).sort((Gt,fa)=>Gt.seq-fa.seq),wn=new Set(Se.map(Gt=>Gt.seq)),Bn=[...Kt].filter(Gt=>!wn.has(Gt)),zs=Se.filter(Gt=>!(typeof Gt.durationMs=="number"&&Gt.durationMs>0)),Ei=Se.filter(Gt=>!Array.isArray(Gt.frames)||Gt.frames.length===0),ta=Se.filter(Gt=>{const fa=Array.isArray(Gt.frames)?Gt.frames:[];return fa.length===0?!1:fa.every(Kl=>!Number.isFinite(Kl)||Kl<=0)}),Ai=Se.filter(Gt=>!(typeof Gt.sampleRate=="number"&&Gt.sampleRate>0)),Ti=Se.filter(Gt=>!(typeof Gt.frameDurationMs=="number"&&Gt.frameDurationMs>0)),Zl=[];Se.forEach(Gt=>{const fa=Y.find(Di=>Di.seq===Gt.seq)??null;if(!fa)return;const Kl=Math.max(0,fa.endMs-fa.startMs),wi=Math.max(0,Gt.durationMs??0),Ci=wi-Kl;Math.abs(Ci)>250&&Zl.push({seq:Gt.seq,expectedMs:Kl,profileMs:wi,driftMs:Ci})}),Bn.length>0?ut.push({level:"warn",message:`Missing chunk volume profiles for ${Bn.length} chunk(s).`,meta:{examples:Bn.slice(0,10)}}):ut.push({level:"info",message:"Chunk volume profiles exist for all chunks."}),zs.length>0||Ei.length>0||Ai.length>0||Ti.length>0?ut.push({level:"warn",message:"Some chunk volume profiles have invalid metadata (duration/frames/sampleRate/frameDuration).",meta:{zeroDuration:zs.length,zeroFrames:Ei.length,invalidSampleRate:Ai.length,invalidFrameDuration:Ti.length}}):ut.push({level:"info",message:"Chunk volume profile metadata looks well-formed."}),ta.length>0&&ut.push({level:"warn",message:`Some chunk volume profiles are all zeros (silent/failed decode) (${ta.length}).`,meta:{examples:ta.slice(0,6).map(Gt=>Gt.seq)}}),Zl.length>0?ut.push({level:"warn",message:`Chunk volume profile durations differ from chunk timings for ${Zl.length} chunk(s).`,meta:{examples:Zl.slice(0,6)}}):ut.push({level:"info",message:"Chunk volume profile durations match chunk timings (within 250ms)."})}catch(xt){ut.push({level:"warn",message:"Unable to validate chunk volume profiles.",meta:{error:xt instanceof Error?xt.message:String(xt)}})}qt.sanity={findings:ut,metrics:{sessionDurationMs:Ot,chunkMaxEndMs:le,chunkSumDurationMs:me,snipCount:Zt,snipMaxEndMs:re,snipSumDurationMs:Tn,chunkTimebase:Q,chunkMaxOffsetMs:_t}}},Tu=async()=>{ce({label:"Snip scan (each snip)",completed:0,total:1});const ut=await yn.listSnips(g,g.mimeType??null),Ot=[],le=ut.reduce((pt,Mt)=>pt+Math.max(0,Mt.durationMs),0);let _t=0,me=0;ce({label:"Snip scan (each snip)",completed:0,total:ut.length});for(let pt=0;pt<ut.length;pt+=1){if(c())return;const Mt=ut[pt],je=pt+1;try{const Zt=await yn.inspectRange(g,Mt.startMs,Mt.endMs,g.mimeType??null);_t+=Zt.durationMs,me+=1;const re=Math.abs(Zt.durationMs-Math.max(0,Mt.durationMs)),Tn=Zt.sampleCount>0&&Zt.rms<=1e-5&&Zt.peak<=5e-5,xt=re>500||Tn?"warn":"ok",Kt=re>500?"Decoded snip duration differs from expected":Tn?"Snip appears silent":void 0;Ot.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:xt,reason:Kt,meta:{snipNumber:je,expectedMs:Mt.durationMs,decodedMs:Zt.durationMs,driftMs:re,rms:Zt.rms,peak:Zt.peak,sampleCount:Zt.sampleCount}})}catch(Zt){Ot.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:"error",reason:Zt instanceof Error?Zt.message:String(Zt),meta:{snipNumber:je}})}pt%5===0&&(ce({label:"Snip scan (each snip)",completed:pt+1,total:ut.length}),await ae())}ce({label:"Snip scan (each snip)",completed:ut.length,total:ut.length}),qt.snipScan={stepMs:0,totalDurationMs:ut.length>0?ut[ut.length-1].endMs:0,segments:Ot,summary:Yl(Ot),metrics:{expectedDurationMs:le,observedDurationMs:_t,expectedItemCount:ut.length,observedItemCount:me}}};try{if(Oe.sanityChecks&&await js(),Oe.chunkCoverageScan&&await ft(),Oe.rangeAccessScan&&await Rt(),Oe.chunkDecodeScan&&await dn(),Oe.snipScan&&await Tu(),c())return;Jn(qt)}catch(ut){if(c())return;ri(ut instanceof Error?ut.message:String(ut))}finally{c()||(sa(!1),ce(null))}},[Oe.chunkCoverageScan,Oe.chunkDecodeScan,Oe.rangeAccessScan,Oe.sanityChecks,Oe.snipScan,L,Ol]),gi=()=>{ue(!1),Za([]),la(null),Cl("tables"),Ka([]),Dl(null),ds([])},Hc=async i=>{const c=Number(i);!Number.isFinite(c)||c<=0||await fu.set({storageLimitBytes:Math.round(c*ad)})},Gc=async i=>{await fu.set({developerMode:i})},Yc=async i=>{await fu.set({groqApiKey:i})},Xc=N.useCallback(async i=>{const{id:c}=i,g=ge.current,C=g.get(c),R=(qt,ae)=>{ae.cleanup(),ae.audio.pause(),ae.audio.currentTime=ae.startTime,g.delete(qt)};if(W===c){C&&R(c,C),$(null);return}for(const[qt,ae]of g.entries())R(qt,ae);if($(null),Le(i)||We(i))return;const V=new Audio,k=Ss(i);if(!k){console.error("[UI] Missing chunk URL for playback",c);return}V.src=k,V.volume=U;const Q=0,Y=0;Ue.current?.pause();function nt(){V.removeEventListener("ended",vt),V.removeEventListener("error",vt)}function lt(){nt(),V.pause(),V.currentTime=Q,g.delete(c),$(qt=>qt===c?null:qt)}function vt(){lt()}V.addEventListener("ended",vt),V.addEventListener("error",vt);const Dt=()=>nt();g.set(c,{audio:V,cleanup:Dt,startTime:Q,endTime:Y});try{V.currentTime=Q,await V.play(),$(c)}catch(qt){console.error("[UI] Failed to play chunk",qt),lt()}},[W,Ss,We,Le,U]),yi=N.useCallback(async i=>{if(!L||Qt(i))return;const c=i.id,g=un.current,C=g.get(c),R=(ft,Rt)=>{Rt.cleanup(),Rt.audio.pause(),Rt.audio.currentTime=Rt.startTime,g.delete(ft)};if(st===c){C&&R(c,C),S(null);return}ge.current.forEach((ft,Rt)=>{ft.cleanup(),ft.audio.pause(),ft.audio.currentTime=ft.startTime,ge.current.delete(Rt)}),$(null);for(const[ft,Rt]of g.entries())R(ft,Rt);S(null);const V=await ql(i);if(!V)return;const k=new Audio;k.src=V.url,k.volume=U;const Q=Math.max(0,i.durationMs/1e3),Y=0,nt=Q;Ue.current?.pause();function lt(){k.removeEventListener("timeupdate",qt),k.removeEventListener("ended",Dt),k.removeEventListener("error",Dt)}function vt(){lt(),k.pause(),k.currentTime=Y,g.delete(c),S(ft=>ft===c?null:ft)}function Dt(){vt()}function qt(){Q>0&&k.currentTime>=nt-.05&&vt()}k.addEventListener("timeupdate",qt),k.addEventListener("ended",Dt),k.addEventListener("error",Dt);const ae=()=>lt();g.set(c,{audio:k,cleanup:ae,startTime:Y,endTime:nt});try{await k.play(),S(c)}catch(ft){console.error("[UI] Failed to play snip",ft),vt()}},[ql,Qt,U,L,st]),vi=N.useCallback(async()=>{try{const[i,c,g,C]=await Promise.all([gt.listSessions(),gt.getChunksForInspection(),gt.listChunkVolumeProfiles(),gt.listSnips()]);Za([{name:"sessions",rows:i.map(R=>({...R}))},{name:"chunks",rows:c.map(R=>({...R}))},{name:"chunkVolumes",rows:g.map(R=>({...R,framesPreview:R.frames.slice(0,24),framesTotal:R.frames.length}))},{name:"snips",rows:C.map(R=>({...R,segmentsPreview:R.transcription?.segments?.slice(0,6)??[],segmentsCount:R.transcription?.segments?.length??0}))}]),la(R=>R??"sessions")}catch(i){console.error("[UI] Failed to load developer tables",i),Za([]),la("sessions"),await Je("Developer table load failed",{error:i instanceof Error?i.message:String(i)})}},[]),nl=N.useCallback(async i=>{if(Dl(i),i){const c=await gt.getLogEntries(i.id);ds(c)}else ds([])},[]),bi=N.useCallback(async()=>{try{const i=await gt.listLogSessions();Ka(i);const g=jh()??i[0]??null;await nl(g)}catch(i){console.error("[UI] Failed to load log sessions",i),Ka([]),await nl(null),await Je("Log session load failed",{error:i instanceof Error?i.message:String(i)})}},[nl]),Si=N.useCallback(async i=>{if(!bn)return;const c=On.findIndex(C=>C.id===bn.id);if(c===-1)return;const g=On[c+i];g&&await nl(g)},[nl,On,bn]),Vc=N.useCallback(async()=>{Cl("tables"),ue(!0),Zn(!0);try{await vi(),await bi()}catch(i){console.error("[UI] Failed to load developer data",i),Za([]),la(null),await Je("Developer overlay failed to load",{error:i instanceof Error?i.message:String(i)})}finally{Zn(!1)}},[vi,bi]),Qc=`${cs(ct.totalBytes)} / ${cs(ct.limitBytes)}`,Ds=H.state==="recording"&&H.capturedMs>0,Ql=Math.max(0,H.capturedMs),Zc=`${(Ql/1e3).toFixed(1)}s`,Kc=H.state==="recording"&&d?.targetBitrate?Math.round(Ql/1e3*(d.targetBitrate/8)):0,Jc=H.state==="recording"?Math.max(H.bytesBuffered,Kc):H.bytesBuffered,xu=L?.id===H.sessionId&&H.state==="recording",$c=Ne&&!p,Ns=xu?Ql:Ol??L?.durationMs??0,Da=Math.max(Ol!==null?Ol/1e3:Ns/1e3,Sn.duration),ln=N.useMemo(()=>{if(!L||y.length===0)return null;const i=1e12,c=y.map(ft=>ft.startMs).filter(ft=>Number.isFinite(ft)),g=c.length>0?Math.min(...c):0,C=Number.isFinite(g)?g:0,R=C>i,V=ft=>R?ft-C:ft,k=y.filter(ft=>!Le(ft)).map(ft=>{const Rt=V(ft.startMs),dn=V(ft.endMs);return!Number.isFinite(Rt)||!Number.isFinite(dn)?null:{startMs:Rt,endMs:dn,hasAudio:!We(ft)}}).filter(ft=>!!ft).sort((ft,Rt)=>ft.startMs-Rt.startMs),Q=Math.max(L.durationMs??0,k.reduce((ft,Rt)=>Math.max(ft,Rt.endMs),0)),Y=[],nt=4;let lt=0;const vt=ft=>{if(ft.endMs<=ft.startMs)return;const Rt=Y[Y.length-1];if(Rt&&Rt.hasAudio===ft.hasAudio&&Math.abs(Rt.endMs-ft.startMs)<=nt){Rt.endMs=Math.max(Rt.endMs,ft.endMs);return}Y.push(ft)};k.forEach(ft=>{let Rt=Math.max(0,ft.startMs),dn=Math.max(Rt,ft.endMs);Q>0&&(Rt=Math.min(Rt,Q),dn=Math.min(dn,Q)),!(dn<=lt)&&(Rt>lt+nt&&vt({startMs:lt,endMs:Rt,hasAudio:!1}),vt({startMs:Rt,endMs:dn,hasAudio:ft.hasAudio}),lt=Math.max(lt,dn))}),Q>0&&lt<Q-nt&&vt({startMs:lt,endMs:Q,hasAudio:!1});const Dt=Y.filter(ft=>ft.hasAudio),qt=[];let ae=0;return Dt.forEach(ft=>{const Rt=Math.max(0,ft.endMs-ft.startMs);Rt<=0||(qt.push({startMs:ft.startMs,endMs:ft.endMs,playStartMs:ae,playEndMs:ae+Rt}),ae+=Rt)}),{durationMs:Q,segments:Y,playableDurationMs:ae,playbackMap:qt}},[y,We,Le,L]),Rs=(ln?.playableDurationMs??0)>0,Mi=N.useMemo(()=>{if(!ln||ln.playbackMap.length===0)return Sn.position;const i=Math.max(0,Sn.position*1e3),c=ln.playbackMap.find(C=>i<=C.playEndMs)??ln.playbackMap[ln.playbackMap.length-1],g=Math.max(0,Math.min(i-c.playStartMs,c.endMs-c.startMs));return Math.max(0,(c.startMs+g)/1e3)},[Sn.position,ln]),Eu=Da>0?Mi/Da*100:0,Au=N.useMemo(()=>{if(!ln||ln.durationMs<=0)return[];const i=c=>Math.max(0,Math.min(100,c));return ln.segments.filter(c=>!c.hasAudio).map(c=>{const g=i(c.startMs/ln.durationMs*100),C=i(c.endMs/ln.durationMs*100);return{startPct:g,widthPct:Math.max(0,C-g)}}).filter(c=>c.widthPct>0)},[ln]),xi=/mp4|m4a/i.test(H.mimeType??"")&&H.chunksRecorded>0,al=Math.max(0,H.chunksRecorded-(xi?1:0));return h.jsxs("div",{className:"app-shell",children:[_c?h.jsx("div",{className:"no-audio-flash","aria-hidden":"true"}):null,h.jsxs("header",{className:"app-header",children:[h.jsx("div",{className:"brand",children:h.jsx("h1",{children:"Web Whisper"})}),h.jsxs("div",{className:"header-controls",children:[h.jsxs("div",{className:"buffer-card",role:"status","aria-live":"polite",children:[h.jsx("p",{className:"buffer-label",children:"Data"}),h.jsx("p",{className:"buffer-value",children:Qc})]}),Ae?h.jsx("button",{className:"dev-trigger",type:"button",onClick:Vc,"aria-label":"Open developer console",children:""}):null,h.jsx("button",{className:"settings-button",type:"button",onClick:()=>Tt(!0),children:"Settings"})]})]}),mt?h.jsxs("div",{className:"alert-banner",role:"alert",children:[h.jsx("p",{children:mt}),h.jsx("button",{type:"button",onClick:()=>I(null),children:"Dismiss"})]}):null,h.jsxs("main",{className:"content-grid",children:[h.jsx("aside",{className:"controls-panel","aria-label":"Capture controls",children:h.jsxs("div",{className:"controls-card",children:[h.jsx("h2",{children:"Capture"}),h.jsx("button",{className:`record-toggle ${H.state==="recording"?Ds?"record-toggle-stop":"record-toggle-starting":"record-toggle-start"}`,type:"button",onClick:ws,"aria-pressed":H.state==="recording",disabled:H.state==="recording"&&!Ds,children:H.state==="recording"?Ds?"Stop recording":"Starting":"Start recording"}),h.jsx("p",{className:"controls-copy",children:H.state==="recording"?Ds?`Recording  ${si(Math.floor(Ql/1e3))} elapsed`:"Starting recorder":"Recorder idle  tap start to begin a durable session."})]})}),Ae&&H.state==="recording"?h.jsxs("div",{className:"dev-strip capture-strip",role:"status","aria-live":"polite",children:[h.jsxs("span",{children:["Audio: ",Zc," / ",al," seg",xi?" + init":""]}),h.jsxs("span",{children:["Data: ",cs(Jc)]})]}):null,h.jsx("section",{className:"session-section","aria-label":"Recording sessions",children:h.jsx("ul",{className:"session-list",children:f.map(i=>{const c=i.id===H.sessionId&&H.state==="recording",g=c?si(Math.floor(Ql/1e3)):Wy(i.durationMs),C=D[i.id]??"",R=q[i.id]??0,V=et[i.id],k=V?.transcribedCount??0,Q=V?.total??0,Y=V?.purgedCount??0,nt=V?.retryableCount??Math.max(0,Q-Y),lt=k>0,vt=R>0,Dt=Q>0||vt,qt=i.status==="error"?i.notes??"Recording error.":"",ae=!!Et[i.id],ft=!c&&!!(bt[i.id]||ae),Rt=nt>0,dn=i.status==="error"?"error":c?"recording":ft?"transcribing":vt&&Dt?lt?"partial":"untranscribed":i.status,js=Zy[dn],ut=!(i.chunkCount>0&&i.totalBytes>0&&(i.durationMs??0)>0)||i.status==="error",Ot=`${Py(i.startedAt)}  ${Iy(i.totalBytes)}`,le=i.id===Ft,_t=["session-card"];le&&_t.push("is-new"),i.status==="error"&&_t.push("has-error");const me=c?"Recording in progress...":qt||(ft?"Finishing transcription...":C||(Y>0&&!vt?`Audio purged for ${Y} snip${Y===1?"":"s"}.`:vt?lt?`Partially transcribed (${k}/${Q})`:"Transcription failed for all snips.":"Transcription pending..."));return h.jsx("li",{children:h.jsxs("article",{className:_t.join(" "),role:"button",tabIndex:0,onClick:()=>M(i.id),onKeyDown:pt=>{(pt.key==="Enter"||pt.key===" ")&&(pt.preventDefault(),M(i.id))},children:[h.jsxs("header",{className:"session-topline",children:[h.jsxs("div",{className:"session-topline-left",children:[h.jsx("span",{className:`session-pill ${js.pillClass}`,children:js.label}),h.jsx("span",{className:"session-duration-label",children:g})]}),h.jsx("div",{className:"session-topline-right",children:h.jsx("span",{className:"session-meta",children:Ot})})]}),h.jsxs("div",{className:"session-preview-row",children:[h.jsx("p",{className:"session-preview",children:me}),ft?h.jsx("span",{className:"session-spinner","aria-label":"Transcribing"}):null,!ft&&Rt&&(vt||!C&&!qt)&&i.status==="ready"?h.jsx("button",{type:"button",className:"session-retry",onClick:pt=>{pt.stopPropagation(),Ts(i.id)},disabled:ae,"aria-label":`Retry transcription for ${i.title}`,children:ae?"Retrying":"Retry TX"}):null,ut?h.jsx("button",{type:"button",className:"session-delete",onClick:pt=>{pt.stopPropagation(),Cs(i)},disabled:i.id===H.sessionId&&H.state==="recording","aria-label":`Delete ${i.title}`,title:i.id===H.sessionId&&H.state==="recording"?"Stop the active recording before deleting it.":"Delete recording",children:""}):null]})]})},i.id)})})})]}),$c?h.jsxs("section",{className:`transcription-panel${A?" is-visible":""}`,"aria-live":"polite","aria-label":"Live transcription preview",children:[h.jsx("header",{className:"transcription-header",children:h.jsx("h2",{children:"Live transcription"})}),h.jsxs("div",{className:"transcription-stream",ref:ua,children:[Fe.length===0?h.jsx("p",{className:"transcription-empty",children:"Pending - first words arrive in about 30 seconds."}):Fe.map((i,c)=>h.jsx("p",{className:"transcription-line",children:i},`${c}-${i.slice(0,12)}`)),h.jsx("div",{className:"transcription-fade","aria-hidden":"true"})]})]}):null,h.jsx("audio",{ref:Ue,hidden:!0,preload:"none"}),L?h.jsx("div",{className:"detail-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"recording-detail-title",onClick:i=>{i.target===i.currentTarget&&wa()},children:h.jsxs("div",{className:"detail-panel",onClick:i=>i.stopPropagation(),children:[h.jsxs("header",{className:"detail-header",children:[h.jsxs("div",{children:[h.jsx("p",{className:"detail-label",children:L.id===H.sessionId&&H.state==="recording"?"Recording in progress":"Recorded session"}),h.jsx("h2",{id:"recording-detail-title",children:$y(Ns)})]}),h.jsxs("div",{className:"detail-actions",children:[Ae?h.jsx("button",{className:`detail-graph-toggle ${ba?"is-active":""}`,type:"button",onClick:()=>_l(i=>!i),"aria-pressed":ba,"aria-label":ba?"Hide audio chunking analysis":"Show audio chunking analysis",children:""}):null,Ae?h.jsx("button",{className:`detail-doctor-toggle ${va?"is-active":""}`,type:"button",onClick:()=>hu(i=>!i),"aria-pressed":va,"aria-label":va?"Hide recording doctor diagnostics":"Show recording doctor diagnostics",children:""}):null,Ae?h.jsx("button",{className:`detail-debug-toggle ${pe?"is-active":""}`,type:"button",onClick:()=>fs(i=>!i),"aria-pressed":pe,"aria-label":pe?"Hide developer details":"Show developer details",children:""}):null,h.jsx("button",{className:"detail-delete",type:"button",onClick:()=>void Gl(),"aria-label":"Delete recording",disabled:L.id===H.sessionId&&H.state==="recording",title:L.id===H.sessionId&&H.state==="recording"?"Stop the active recording before deleting it.":"Delete recording",children:""}),h.jsx("button",{className:"detail-close",type:"button",onClick:wa,children:"Close"})]})]}),h.jsxs("div",{className:"detail-body",children:[h.jsxs("div",{className:"detail-summary",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Captured:"})," ",ap(L.startedAt)," ",ld(L.startedAt)," "," ",Fy(L.startedAt,L.durationMs)]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Size:"})," ",cs(L.totalBytes)]}),Ae&&pe?h.jsxs("p",{children:[h.jsx("strong",{children:"Format:"})," ",L.mimeType??"pending"," "," ",h.jsx("strong",{children:"Chunks:"})," ",bs,Aa?" + init":""]}):null]}),h.jsxs("div",{className:"playback-controls",children:[h.jsx("button",{className:`playback-button${Rs?"":" is-disabled"}`,type:"button",onClick:kc,disabled:zl,"aria-disabled":!Rs,"aria-pressed":Sn.playing,children:zl?"":Sn.playing?"":""}),h.jsxs("div",{className:"playback-progress","aria-hidden":"true",children:[Au.map((i,c)=>h.jsx("span",{className:"playback-gap",style:{left:`${i.startPct}%`,width:`${i.widthPct}%`}},`gap-${c}-${i.startPct}`)),h.jsx("div",{className:"playback-progress-bar",style:{width:`${Eu}%`}})]}),h.jsxs("span",{className:"playback-timestamps",children:[si(Mi)," / ",si(Da)]}),h.jsxs("div",{className:`volume-control ${at?"is-open":""}`,children:[h.jsx("button",{type:"button",className:"volume-button","aria-pressed":at,"aria-label":at?"Hide volume slider":"Show volume slider",onClick:()=>yt(i=>!i),children:U===0?"":U<.5?"":""}),at?h.jsx("input",{className:"volume-slider",type:"range",min:0,max:100,value:Math.round(U*100),onChange:i=>tt(Number(i.target.value)/100),"aria-label":"Playback volume"}):null]})]}),gu?h.jsx("p",{className:"detail-notes",role:"alert",children:gu}):null,Rs?null:h.jsx("p",{className:"detail-notes",role:"status",children:"Audio was purged for this recording. Playback is unavailable."}),Ae&&ba?h.jsx("div",{className:"detail-analysis",children:Sa==="loading"?h.jsx("p",{className:"detail-analysis-status",children:"Analyzing audio for pauses"}):Sa==="error"?h.jsx("p",{className:"detail-analysis-status",role:"alert",children:En??"Unable to analyze audio."}):oi?h.jsx(zy,{analysis:oi,targetRange:{minMs:5e3,idealMs:1e4,maxMs:6e4},playback:{positionMs:Math.max(0,Sn.position*1e3),isPlaying:Sn.playing}}):h.jsx("p",{className:"detail-analysis-status",children:"Preparing analysis"})}):null,h.jsxs("div",{className:"detail-transcription",children:[h.jsx("h3",{children:"Transcription"}),h.jsx("div",{className:"detail-transcription-actions",children:h.jsx("button",{type:"button",className:"detail-transcription-retry",onClick:()=>void Su(),disabled:Fa||b.length===0||Pe.retryableCount===0,children:Fa?"Retrying":"Retry TX"})}),b.length===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"No snips recorded yet."}):Pe.transcribedCount===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"No snip transcriptions yet. Open the snip list to retry each segment."}):h.jsx("textarea",{ref:ps,className:"detail-transcription-text",readOnly:!0,value:Pe.text,onClick:Un,"aria-label":"Session transcription text",rows:Math.min(8,Math.max(3,Math.ceil(Pe.text.length/90)))}),b.length>0?h.jsxs("p",{className:"detail-transcription-meta",children:["Transcribed ",Pe.transcribedCount," of ",Pe.total," snips."]}):null,Pe.errorCount>0?h.jsxs("p",{className:"detail-transcription-error",role:"alert",children:[Pe.errorCount," snip transcription error",Pe.errorCount===1?"":"s"," recorded. See the snip list for details."]}):null,Pe.purgedCount>0?h.jsxs("p",{className:"detail-transcription-note",children:["Audio purged for ",Pe.purgedCount," snip",Pe.purgedCount===1?"":"s"," to stay under the storage cap. Retries are disabled for purged audio."]}):null]}),Ae&&va?h.jsxs("div",{className:"detail-doctor",children:[h.jsxs("div",{className:"detail-doctor-header",children:[h.jsx("h3",{children:"Doctor diagnostics"}),h.jsxs("div",{className:"detail-doctor-actions",children:[h.jsx("button",{type:"button",onClick:async()=>{if(L){Rl(null),Ja(null);try{await gt.init();const c=jh()?.id??null,g=c?await gt.getLogEntries(c,400):[],C=pi({session:L,doctorReports:be,logs:g.map(R=>({level:R.level,message:R.message,timestamp:R.timestamp}))});Ja(C);try{await Uc(C),Rl("Copied compact report to clipboard."),window.setTimeout(()=>Rl(null),2500)}catch{Rl("Clipboard copy blocked; compact report shown below (tap Select all).")}}catch(i){Rl(`Copy failed: ${i instanceof Error?i.message:String(i)}`)}}},disabled:Kn,children:"Copy compact report"}),h.jsx("button",{type:"button",onClick:()=>{kl.current+=1,sa(!1),ce(null)},disabled:!Kn,children:"Cancel"}),h.jsx("button",{type:"button",onClick:()=>void qc(),disabled:Kn,children:Kn?"Running":"Run selected tests"})]})]}),pu?h.jsx("p",{className:"detail-transcription-placeholder",children:pu}):null,jl?h.jsxs("div",{className:"doctor-export",children:[h.jsxs("div",{className:"doctor-export-actions",children:[h.jsx("button",{type:"button",onClick:()=>{const i=document.getElementById("doctor-export-textarea");i&&(i.focus(),i.select())},children:"Select all"}),h.jsx("button",{type:"button",onClick:()=>Ja(null),children:"Hide"})]}),h.jsx("textarea",{id:"doctor-export-textarea",className:"doctor-export-textarea",readOnly:!0,value:jl,rows:10})]}):null,h.jsx("p",{className:"detail-transcription-placeholder",children:"Runs quick integrity checks to help identify whether corruption is in stored chunks or in range access/decoding."}),h.jsxs("div",{className:"doctor-test-list",children:[h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Oe.sanityChecks,disabled:Kn,onChange:i=>Nl(c=>({...c,sanityChecks:i.target.checked}))}),h.jsx("span",{children:"Sanity checks (durations, snip bounds, chunk timing)"})]}),h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Oe.chunkCoverageScan,disabled:Kn,onChange:i=>Nl(c=>({...c,chunkCoverageScan:i.target.checked}))}),h.jsx("span",{children:"Chunk coverage scan (IndexedDB timings/coverage, 0.1s)"})]}),h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Oe.rangeAccessScan,disabled:Kn,onChange:i=>Nl(c=>({...c,rangeAccessScan:i.target.checked}))}),h.jsx("span",{children:"Range access scan via slice API (decode+inspect, 0.1s)"})]}),h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Oe.chunkDecodeScan,disabled:Kn,onChange:i=>Nl(c=>({...c,chunkDecodeScan:i.target.checked}))}),h.jsx("span",{children:"Per-chunk decode scan (decode each chunk blob)"})]}),h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Oe.snipScan,disabled:Kn,onChange:i=>Nl(c=>({...c,snipScan:i.target.checked}))}),h.jsx("span",{children:"Snip scan (inspect each snip range)"})]})]}),_e?h.jsxs("p",{className:"detail-transcription-placeholder",children:[_e.label,": ",_e.completed,"/",_e.total]}):null,$e?h.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:$e}):null,be?.sanity?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Sanity checks"}),h.jsxs("p",{className:"doctor-summary",children:["Session duration: ",((be.sanity.metrics.sessionDurationMs??0)/1e3).toFixed(1),"s  Chunk timebase: ",be.sanity.metrics.chunkTimebase,"  Chunk max end:"," ",((be.sanity.metrics.chunkMaxOffsetMs??0)/1e3).toFixed(1),"s  Chunk sum:"," ",((be.sanity.metrics.chunkSumDurationMs??0)/1e3).toFixed(1),"s  Snips:"," ",be.sanity.metrics.snipCount??0,"  Snip max end:"," ",((be.sanity.metrics.snipMaxEndMs??0)/1e3).toFixed(1),"s  Snip sum:"," ",((be.sanity.metrics.snipSumDurationMs??0)/1e3).toFixed(1),"s"]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Vl(`sanity-${L.id}`,{sessionId:L.id,mimeType:L.mimeType,report:be.sanity}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:be.sanity.findings.length===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"No findings."}):be.sanity.findings.map((i,c)=>h.jsx("div",{className:`doctor-detail-row is-${i.level==="info"?"ok":i.level}`,children:h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:i.level.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:i.message})]})},c))})]}):null,(()=>{const i=be?.chunkCoverage;return i?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Chunk coverage scan"}),h.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Chunk coverage results timeline",children:i.segments.map(c=>h.jsx("span",{className:`doctor-segment is-${c.status}`,title:`${on(c.startMs)}${on(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),h.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Re(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Re(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Re(i.summary.error,i.summary.total),")"]}),h.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected segments:"," ",i.metrics.expectedItemCount??0,"  Observed segments: ",i.metrics.observedItemCount??0]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Vl(`chunk-coverage-${L.id}`,{sessionId:L.id,mimeType:L.mimeType,report:i}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:Xl(i.segments).filter(c=>c.status!=="ok").map(c=>h.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:c.reason}),h.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Re(c.count,i.summary.total),")"]})]}),h.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>h.jsxs("span",{className:"doctor-detail-example",children:[on(g.startMs),"",on(g.endMs)]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=be?.rangeAccess;return i?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Range access scan (0.1s)"}),h.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Range access results timeline",children:i.segments.map(c=>h.jsx("span",{className:`doctor-segment is-${c.status}`,title:`${on(c.startMs)}${on(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),h.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Re(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Re(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Re(i.summary.error,i.summary.total),")"]}),h.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected windows:"," ",i.metrics.expectedItemCount??0,"  Decoded windows: ",i.metrics.observedItemCount??0]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Vl(`range-access-${L.id}`,{sessionId:L.id,mimeType:L.mimeType,report:i}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:Xl(i.segments).filter(c=>c.status!=="ok").map(c=>h.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:c.reason}),h.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Re(c.count,i.summary.total),")"]})]}),h.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>h.jsxs("span",{className:"doctor-detail-example",children:[on(g.startMs),"",on(g.endMs)]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=be?.chunkDecode;return i?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Per-chunk decode scan"}),h.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Per-chunk decode results timeline",children:i.segments.map(c=>h.jsx("span",{className:`doctor-segment is-${c.status}`,title:`Chunk #${c.index+1}${c.reason?`  ${c.reason}`:""}`},c.index))}),h.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Re(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Re(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Re(i.summary.error,i.summary.total),")"]}),h.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Decoded audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected chunks:"," ",i.metrics.expectedItemCount??0,"  Decoded chunks: ",i.metrics.observedItemCount??0]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Vl(`chunk-decode-${L.id}`,{sessionId:L.id,mimeType:L.mimeType,report:i}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:Xl(i.segments).filter(c=>c.status!=="ok").map(c=>h.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:c.reason}),h.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Re(c.count,i.summary.total),")"]})]}),h.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>h.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=be?.snipScan;return i?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Snip scan (each snip)"}),h.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Snip scan results timeline",children:i.segments.map(c=>h.jsx("span",{className:`doctor-segment is-${c.status}`,title:`Snip #${c.index+1}  ${on(c.startMs)}${on(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),h.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Re(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Re(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Re(i.summary.error,i.summary.total),")"]}),h.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected snips:"," ",i.metrics.expectedItemCount??0,"  Decoded snips: ",i.metrics.observedItemCount??0]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Vl(`snip-scan-${L.id}`,{sessionId:L.id,mimeType:L.mimeType,report:i}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:Xl(i.segments).filter(c=>c.status!=="ok").map(c=>h.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:c.reason}),h.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Re(c.count,i.summary.total),")"]})]}),h.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>h.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})()]}):null,Ae&&pe?h.jsxs("div",{className:"detail-chunks",children:[h.jsxs("div",{className:"detail-slices-header",children:[h.jsxs("h3",{children:[_n==="chunks"?`Chunks (${bs}${Aa?" + init":""})`:`Snips (${b.length})`," "," ",L.mimeType??"pending"]}),h.jsxs("div",{className:"detail-slice-toggle",role:"tablist","aria-label":"Slice mode",children:[h.jsx("button",{type:"button",role:"tab","aria-selected":_n==="chunks",className:_n==="chunks"?"is-selected":"",onClick:()=>ms("chunks"),children:"Chunks"}),h.jsx("button",{type:"button",role:"tab","aria-selected":_n==="snips",className:_n==="snips"?"is-selected":"",onClick:()=>ms("snips"),children:"Snips"})]})]}),_n==="chunks"?y.length===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"No chunks persisted yet."}):h.jsx("ul",{className:"chunk-list",children:y.map(i=>{const c=Math.max(0,(i.endMs-i.startMs)/1e3),g=c<10?2:1,C=`${c.toFixed(g)} s`,R=Le(i),V=W===i.id,k=i.seq+1,Q=We(i),Y=R?`Chunk ${k} is an init segment without audio`:Q?`Chunk ${k} audio purged`:V?`Pause chunk ${k}`:`Play chunk ${k}`;return h.jsxs("li",{className:`chunk-item ${R?"header-chunk":""}`,children:[h.jsx("button",{type:"button",className:`chunk-play ${V?"is-playing":""}`,onClick:()=>void Xc(i),"aria-pressed":V,"aria-label":Y,disabled:R||Q,title:R?"Init segment (no audio payload)":Q?"Audio purged to stay under the storage cap":void 0,children:R?"NA":V?"":""}),h.jsxs("span",{children:["#",k]}),h.jsx("span",{children:C}),h.jsx("span",{children:cs(i.byteLength)}),h.jsx("button",{type:"button",className:"chunk-download",onClick:()=>Ms(i),"aria-label":`Download chunk ${k}`,disabled:R||Q,title:R?"Init segment (typically no downloadable audio)":Q?"Audio purged to stay under the storage cap":void 0,children:""}),R?h.jsx("span",{className:"chunk-flag",children:"init segment"}):null,Q?h.jsx("span",{className:"chunk-flag is-purged",children:"purged"}):null]},i.id)})}):Sa==="loading"&&b.length===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"Analyzing audio for snips"}):Sa==="error"&&b.length===0?h.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:En??"Unable to analyze audio."}):b.length?h.jsxs(h.Fragment,{children:[Sa==="error"&&En?h.jsxs("p",{className:"detail-transcription-placeholder",role:"alert",children:["Snip refresh failed: ",En]}):null,h.jsx("ul",{className:"chunk-list",children:b.map(i=>{const c=i.index+1,g=Math.max(0,i.durationMs/1e3),C=g<10?2:1,R=`${g.toFixed(C)} s`,V=i.id,k=st===V,Q=!!ke[i.id],Y=ya(i),nt=Y.length>0,lt=Qt(i),vt=lt?`Snip ${c} audio purged`:k?`Pause snip ${c}`:`Play snip ${c}`,Dt=lt?`Snip ${c} audio purged`:Q?`Transcribing snip ${c}`:nt?`Retry transcription for snip ${c}`:`Transcribe snip ${c}`,qt=lt?"Audio purged":Q&&!xu?"Transcribing":nt?"Transcribed":"Pending",ae=lt?"is-purged":nt?"is-ready":"is-pending";return h.jsxs("li",{className:"chunk-item",children:[h.jsx("button",{type:"button",className:`chunk-play ${k?"is-playing":""}`,onClick:()=>void yi(i),"aria-pressed":k,"aria-label":vt,disabled:lt,children:k?"":""}),h.jsxs("span",{children:["#",c]}),h.jsx("span",{children:R}),h.jsxs("span",{children:[si(Math.round(i.startMs/1e3)),"  ",si(Math.round(i.endMs/1e3))]}),h.jsx("span",{className:`snip-transcription-status ${ae}`,children:qt}),h.jsx("button",{type:"button",className:"chunk-download",onClick:()=>void mi(i,c),"aria-label":`Download snip ${c}`,disabled:lt,children:""}),h.jsx("button",{type:"button",className:"snip-transcribe",onClick:()=>void As(i),"aria-label":Dt,disabled:Q||lt,children:nt?"Retry":"Tx"}),Y?h.jsx("textarea",{className:"snip-transcription-text",readOnly:!0,value:Y,onClick:Un,"aria-label":`Snip ${c} transcription`,rows:Math.min(6,Math.max(2,Math.ceil(Y.length/80)))}):null,i.transcriptionError?h.jsx("span",{className:"snip-transcription-error",role:"alert",children:i.transcriptionError}):null,lt?h.jsx("span",{className:"snip-retention-note",children:$h}):null]},V)})})]}):h.jsx("p",{className:"detail-transcription-placeholder",children:"No snips available yet."})]}):null,L.status==="error"&&L.notes?h.jsx("p",{className:"detail-notes",children:L.notes}):null]})]})}):null,Ct?h.jsx("div",{className:"settings-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",onClick:i=>{i.target===i.currentTarget&&Tt(!1)},children:h.jsxs("div",{className:"settings-dialog",onClick:i=>i.stopPropagation(),children:[h.jsxs("header",{className:"settings-header",children:[h.jsx("h2",{id:"settings-title",children:"Settings"}),h.jsx("button",{type:"button",className:"settings-close",onClick:()=>Tt(!1),children:"Close"})]}),h.jsxs("div",{className:"settings-body",children:[h.jsxs("label",{className:"settings-field",children:[h.jsx("span",{children:"Groq API key"}),h.jsx("input",{type:"text",value:d?.groqApiKey??"",onChange:i=>void Yc(i.target.value),placeholder:"sk-",autoComplete:"off"})]}),h.jsxs("label",{className:"settings-field settings-checkbox",children:[h.jsx("input",{type:"checkbox",checked:Ae,onChange:i=>void Gc(i.target.checked)}),h.jsx("span",{children:"Enable developer mode"})]}),h.jsxs("label",{className:"settings-field",children:[h.jsx("span",{children:"Storage cap (MB)"}),h.jsx("input",{type:"number",min:1,value:Math.round(tl/ad),onChange:i=>void Hc(i.target.value)})]})]})]})}):null,Ae&&Ye?h.jsx("div",{className:"dev-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"dev-console-title",onClick:i=>{i.target===i.currentTarget&&gi()},children:h.jsxs("div",{className:"dev-panel",onClick:i=>i.stopPropagation(),children:[h.jsxs("header",{className:"dev-panel-header",children:[h.jsx("h2",{id:"dev-console-title",children:"Developer Console"}),h.jsx("button",{type:"button",className:"dev-close",onClick:gi,children:"Close"})]}),h.jsxs("div",{className:"dev-panel-toolbar",children:[h.jsx("button",{type:"button",className:wl==="tables"?"is-selected":"",onClick:()=>{Cl("tables"),Zn(!0),vi().finally(()=>Zn(!1))},children:"IndexedDB"}),h.jsx("button",{type:"button",className:wl==="logs"?"is-selected":"",onClick:()=>{Cl("logs"),Zn(!0),bi().finally(()=>Zn(!1))},children:"Logs"})]}),wl==="tables"?h.jsxs("div",{className:"dev-panel-body",children:[h.jsx("div",{className:"dev-table-buttons",children:os.map(i=>h.jsxs("button",{type:"button",className:vn===i.name?"is-selected":"",onClick:()=>la(i.name),children:[i.name,h.jsx("span",{className:"dev-table-count",children:i.rows.length})]},i.name))}),h.jsx("div",{className:"dev-table-rows",children:Qa?h.jsx("p",{children:"Loading"}):vn?(()=>{const i=os.find(c=>c.name===vn);return i?i.rows.length===0?h.jsx("p",{children:"No rows."}):vn==="chunks"?i.rows.map((g,C)=>{const R=typeof g.id=="string"?g.id:`${g.sessionId??"chunk"}-${g.seq??C}`,V=typeof g.blobSize=="number"?g.blobSize:null,k=typeof g.verifiedByteLength=="number"?g.verifiedByteLength:null,Q=V!==null?`${V} B (${cs(V)})`:"unknown",Y=k!==null?`${k} B (${cs(k)})`:"unverified",nt=!!(g.sizeMismatch??(k!==null&&V!==null&&k!==V));return h.jsxs("div",{className:`dev-table-chunk ${nt?"has-mismatch":""}`,children:[h.jsx("pre",{children:JSON.stringify(g,null,2)}),h.jsxs("p",{className:"dev-chunk-extra",children:[h.jsxs("span",{children:["blob.size: ",Q]}),h.jsxs("span",{children:["verified: ",Y]}),h.jsx("span",{className:nt?"dev-chunk-warning":"dev-chunk-ok",children:nt?" size mismatch":" sizes match"})]})]},R)}):vn==="chunkVolumes"?i.rows.map((g,C)=>{const R=`${g.sessionId}-${g.chunkId}-${C}`,V=g.framesTotal??g.frames.length,k=typeof g.averageNormalized=="number"?g.averageNormalized:0,Q=typeof g.maxNormalized=="number"?g.maxNormalized:0,Y=typeof g.durationMs=="number"?(g.durationMs/1e3).toFixed(2):"0.00";return h.jsxs("div",{className:"dev-table-chunk",children:[h.jsx("pre",{children:JSON.stringify(g,null,2)}),h.jsxs("p",{className:"dev-chunk-extra",children:[h.jsxs("span",{children:["frames: ",V]}),h.jsxs("span",{children:["duration: ",Y,"s"]}),h.jsxs("span",{children:["avg volume: ",k.toFixed(4)]}),h.jsxs("span",{children:["peak volume: ",Q.toFixed(4)]})]})]},R)}):i.rows.map((c,g)=>h.jsx("pre",{children:JSON.stringify(c,null,2)},g)):h.jsx("p",{children:"No rows."})})():h.jsx("p",{children:"Select a table to inspect rows."})})]}):h.jsxs("div",{className:"dev-log-body",children:[h.jsxs("div",{className:"dev-log-header",children:[h.jsx("button",{type:"button",onClick:()=>void Si(-1),disabled:!bn||On.findIndex(i=>i.id===bn.id)===On.length-1,children:""}),h.jsxs("select",{value:bn?.id??"",onChange:i=>{const c=On.find(g=>g.id===i.target.value)??null;nl(c)},children:[On.length===0?h.jsx("option",{value:"",children:"No sessions"}):null,On.map(i=>h.jsx("option",{value:i.id,children:new Date(i.startedAt).toLocaleString()},i.id))]}),h.jsx("button",{type:"button",onClick:()=>void Si(1),disabled:!bn||On.findIndex(i=>i.id===bn.id)<=0,children:""})]}),h.jsx("div",{className:"dev-log-entries",children:Qa?h.jsx("p",{children:"Loading"}):bn?mu.length===0?h.jsx("p",{children:"No entries for this session."}):mu.map(i=>h.jsxs("article",{className:`dev-log-entry level-${i.level}`,children:[h.jsxs("header",{children:[h.jsx("span",{className:"dev-log-message",children:i.message}),h.jsxs("span",{className:"dev-log-meta",children:[h.jsx("span",{className:"dev-log-level",children:i.level.toUpperCase()}),h.jsx("time",{dateTime:new Date(i.timestamp).toISOString(),children:a0(i.timestamp)})]})]}),i.details?h.jsx("code",{className:"dev-log-details",children:typeof i.details=="string"?i.details:JSON.stringify(i.details)}):null]},i.id??`${i.timestamp}`)):h.jsx("p",{children:"No log sessions found."})})]})]})}):null]})}document.title="Web Whisper";kg({immediate:!0});jg.createRoot(document.getElementById("root")).render(h.jsx(N.StrictMode,{children:h.jsx(l0,{})}));
