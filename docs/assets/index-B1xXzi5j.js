(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))o(p);new MutationObserver(p=>{for(const S of p)if(S.type==="childList")for(const v of S.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&o(v)}).observe(document,{childList:!0,subtree:!0});function f(p){const S={};return p.integrity&&(S.integrity=p.integrity),p.referrerPolicy&&(S.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?S.credentials="include":p.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function o(p){if(p.ep)return;p.ep=!0;const S=f(p);fetch(p.href,S)}})();var zo={exports:{}},tu={};var uh;function xg(){if(uh)return tu;uh=1;var d=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function f(o,p,S){var v=null;if(S!==void 0&&(v=""+S),p.key!==void 0&&(v=""+p.key),"key"in p){S={};for(var A in p)A!=="key"&&(S[A]=p[A])}else S=p;return p=S.ref,{$$typeof:d,type:o,key:v,ref:p!==void 0?p:null,props:S}}return tu.Fragment=c,tu.jsx=f,tu.jsxs=f,tu}var ch;function Eg(){return ch||(ch=1,zo.exports=xg()),zo.exports}var h=Eg(),Oo={exports:{}},At={};var rh;function Ag(){if(rh)return At;rh=1;var d=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),v=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),L=Symbol.iterator;function Z(E){return E===null||typeof E!="object"?null:(E=L&&E[L]||E["@@iterator"],typeof E=="function"?E:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Mt={};function lt(E,B,et){this.props=E,this.context=B,this.refs=Mt,this.updater=et||tt}lt.prototype.isReactComponent={},lt.prototype.setState=function(E,B){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,B,"setState")},lt.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function gt(){}gt.prototype=lt.prototype;function ut(E,B,et){this.props=E,this.context=B,this.refs=Mt,this.updater=et||tt}var Y=ut.prototype=new gt;Y.constructor=ut,J(Y,lt.prototype),Y.isPureReactComponent=!0;var I=Array.isArray;function dt(){}var K={H:null,A:null,T:null,S:null},it=Object.prototype.hasOwnProperty;function kt(E,B,et){var at=et.ref;return{$$typeof:d,type:E,key:B,ref:at!==void 0?at:null,props:et}}function Zt(E,B){return kt(E.type,B,E.props)}function F(E){return typeof E=="object"&&E!==null&&E.$$typeof===d}function ft(E){var B={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(et){return B[et]})}var Ht=/\/+/g;function ee(E,B){return typeof E=="object"&&E!==null&&E.key!=null?ft(""+E.key):B.toString(36)}function he(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(dt,dt):(E.status="pending",E.then(function(B){E.status==="pending"&&(E.status="fulfilled",E.value=B)},function(B){E.status==="pending"&&(E.status="rejected",E.reason=B)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,B,et,at,vt){var Dt=typeof E;(Dt==="undefined"||Dt==="boolean")&&(E=null);var Tt=!1;if(E===null)Tt=!0;else switch(Dt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(E.$$typeof){case d:case c:Tt=!0;break;case C:return Tt=E._init,U(Tt(E._payload),B,et,at,vt)}}if(Tt)return vt=vt(E),Tt=at===""?"."+ee(E,0):at,I(vt)?(et="",Tt!=null&&(et=Tt.replace(Ht,"$&/")+"/"),U(vt,B,et,"",function(Ba){return Ba})):vt!=null&&(F(vt)&&(vt=Zt(vt,et+(vt.key==null||E&&E.key===vt.key?"":(""+vt.key).replace(Ht,"$&/")+"/")+Tt)),B.push(vt)),1;Tt=0;var Xe=at===""?".":at+":";if(I(E))for(var ie=0;ie<E.length;ie++)at=E[ie],Dt=Xe+ee(at,ie),Tt+=U(at,B,et,Dt,vt);else if(ie=Z(E),typeof ie=="function")for(E=ie.call(E),ie=0;!(at=E.next()).done;)at=at.value,Dt=Xe+ee(at,ie++),Tt+=U(at,B,et,Dt,vt);else if(Dt==="object"){if(typeof E.then=="function")return U(he(E),B,et,at,vt);throw B=String(E),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function P(E,B,et){if(E==null)return E;var at=[],vt=0;return U(E,at,"","",function(Dt){return B.call(et,Dt,vt++)}),at}function ht(E){if(E._status===-1){var B=E._result;B=B(),B.then(function(et){(E._status===0||E._status===-1)&&(E._status=1,E._result=et)},function(et){(E._status===0||E._status===-1)&&(E._status=2,E._result=et)}),E._status===-1&&(E._status=0,E._result=B)}if(E._status===1)return E._result.default;throw E._result}var W=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},rt={map:P,forEach:function(E,B,et){P(E,function(){B.apply(this,arguments)},et)},count:function(E){var B=0;return P(E,function(){B++}),B},toArray:function(E){return P(E,function(B){return B})||[]},only:function(E){if(!F(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return At.Activity=x,At.Children=rt,At.Component=lt,At.Fragment=f,At.Profiler=p,At.PureComponent=ut,At.StrictMode=o,At.Suspense=b,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,At.__COMPILER_RUNTIME={__proto__:null,c:function(E){return K.H.useMemoCache(E)}},At.cache=function(E){return function(){return E.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(E,B,et){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var at=J({},E.props),vt=E.key;if(B!=null)for(Dt in B.key!==void 0&&(vt=""+B.key),B)!it.call(B,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&B.ref===void 0||(at[Dt]=B[Dt]);var Dt=arguments.length-2;if(Dt===1)at.children=et;else if(1<Dt){for(var Tt=Array(Dt),Xe=0;Xe<Dt;Xe++)Tt[Xe]=arguments[Xe+2];at.children=Tt}return kt(E.type,vt,at)},At.createContext=function(E){return E={$$typeof:v,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:S,_context:E},E},At.createElement=function(E,B,et){var at,vt={},Dt=null;if(B!=null)for(at in B.key!==void 0&&(Dt=""+B.key),B)it.call(B,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(vt[at]=B[at]);var Tt=arguments.length-2;if(Tt===1)vt.children=et;else if(1<Tt){for(var Xe=Array(Tt),ie=0;ie<Tt;ie++)Xe[ie]=arguments[ie+2];vt.children=Xe}if(E&&E.defaultProps)for(at in Tt=E.defaultProps,Tt)vt[at]===void 0&&(vt[at]=Tt[at]);return kt(E,Dt,vt)},At.createRef=function(){return{current:null}},At.forwardRef=function(E){return{$$typeof:A,render:E}},At.isValidElement=F,At.lazy=function(E){return{$$typeof:C,_payload:{_status:-1,_result:E},_init:ht}},At.memo=function(E,B){return{$$typeof:y,type:E,compare:B===void 0?null:B}},At.startTransition=function(E){var B=K.T,et={};K.T=et;try{var at=E(),vt=K.S;vt!==null&&vt(et,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(dt,W)}catch(Dt){W(Dt)}finally{B!==null&&et.types!==null&&(B.types=et.types),K.T=B}},At.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},At.use=function(E){return K.H.use(E)},At.useActionState=function(E,B,et){return K.H.useActionState(E,B,et)},At.useCallback=function(E,B){return K.H.useCallback(E,B)},At.useContext=function(E){return K.H.useContext(E)},At.useDebugValue=function(){},At.useDeferredValue=function(E,B){return K.H.useDeferredValue(E,B)},At.useEffect=function(E,B){return K.H.useEffect(E,B)},At.useEffectEvent=function(E){return K.H.useEffectEvent(E)},At.useId=function(){return K.H.useId()},At.useImperativeHandle=function(E,B,et){return K.H.useImperativeHandle(E,B,et)},At.useInsertionEffect=function(E,B){return K.H.useInsertionEffect(E,B)},At.useLayoutEffect=function(E,B){return K.H.useLayoutEffect(E,B)},At.useMemo=function(E,B){return K.H.useMemo(E,B)},At.useOptimistic=function(E,B){return K.H.useOptimistic(E,B)},At.useReducer=function(E,B,et){return K.H.useReducer(E,B,et)},At.useRef=function(E){return K.H.useRef(E)},At.useState=function(E){return K.H.useState(E)},At.useSyncExternalStore=function(E,B,et){return K.H.useSyncExternalStore(E,B,et)},At.useTransition=function(){return K.H.useTransition()},At.version="19.2.0",At}var oh;function td(){return oh||(oh=1,Oo.exports=Ag()),Oo.exports}var N=td(),_o={exports:{}},eu={},ko={exports:{}},Uo={};var dh;function Tg(){return dh||(dh=1,(function(d){function c(U,P){var ht=U.length;U.push(P);t:for(;0<ht;){var W=ht-1>>>1,rt=U[W];if(0<p(rt,P))U[W]=P,U[ht]=rt,ht=W;else break t}}function f(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var P=U[0],ht=U.pop();if(ht!==P){U[0]=ht;t:for(var W=0,rt=U.length,E=rt>>>1;W<E;){var B=2*(W+1)-1,et=U[B],at=B+1,vt=U[at];if(0>p(et,ht))at<rt&&0>p(vt,et)?(U[W]=vt,U[at]=ht,W=at):(U[W]=et,U[B]=ht,W=B);else if(at<rt&&0>p(vt,ht))U[W]=vt,U[at]=ht,W=at;else break t}}return P}function p(U,P){var ht=U.sortIndex-P.sortIndex;return ht!==0?ht:U.id-P.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var S=performance;d.unstable_now=function(){return S.now()}}else{var v=Date,A=v.now();d.unstable_now=function(){return v.now()-A}}var b=[],y=[],C=1,x=null,L=3,Z=!1,tt=!1,J=!1,Mt=!1,lt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Y(U){for(var P=f(y);P!==null;){if(P.callback===null)o(y);else if(P.startTime<=U)o(y),P.sortIndex=P.expirationTime,c(b,P);else break;P=f(y)}}function I(U){if(J=!1,Y(U),!tt)if(f(b)!==null)tt=!0,dt||(dt=!0,ft());else{var P=f(y);P!==null&&he(I,P.startTime-U)}}var dt=!1,K=-1,it=5,kt=-1;function Zt(){return Mt?!0:!(d.unstable_now()-kt<it)}function F(){if(Mt=!1,dt){var U=d.unstable_now();kt=U;var P=!0;try{t:{tt=!1,J&&(J=!1,gt(K),K=-1),Z=!0;var ht=L;try{e:{for(Y(U),x=f(b);x!==null&&!(x.expirationTime>U&&Zt());){var W=x.callback;if(typeof W=="function"){x.callback=null,L=x.priorityLevel;var rt=W(x.expirationTime<=U);if(U=d.unstable_now(),typeof rt=="function"){x.callback=rt,Y(U),P=!0;break e}x===f(b)&&o(b),Y(U)}else o(b);x=f(b)}if(x!==null)P=!0;else{var E=f(y);E!==null&&he(I,E.startTime-U),P=!1}}break t}finally{x=null,L=ht,Z=!1}P=void 0}}finally{P?ft():dt=!1}}}var ft;if(typeof ut=="function")ft=function(){ut(F)};else if(typeof MessageChannel<"u"){var Ht=new MessageChannel,ee=Ht.port2;Ht.port1.onmessage=F,ft=function(){ee.postMessage(null)}}else ft=function(){lt(F,0)};function he(U,P){K=lt(function(){U(d.unstable_now())},P)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(U){U.callback=null},d.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<U?Math.floor(1e3/U):5},d.unstable_getCurrentPriorityLevel=function(){return L},d.unstable_next=function(U){switch(L){case 1:case 2:case 3:var P=3;break;default:P=L}var ht=L;L=P;try{return U()}finally{L=ht}},d.unstable_requestPaint=function(){Mt=!0},d.unstable_runWithPriority=function(U,P){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ht=L;L=U;try{return P()}finally{L=ht}},d.unstable_scheduleCallback=function(U,P,ht){var W=d.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?W+ht:W):ht=W,U){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=ht+rt,U={id:C++,callback:P,priorityLevel:U,startTime:ht,expirationTime:rt,sortIndex:-1},ht>W?(U.sortIndex=ht,c(y,U),f(b)===null&&U===f(y)&&(J?(gt(K),K=-1):J=!0,he(I,ht-W))):(U.sortIndex=rt,c(b,U),tt||Z||(tt=!0,dt||(dt=!0,ft()))),U},d.unstable_shouldYield=Zt,d.unstable_wrapCallback=function(U){var P=L;return function(){var ht=L;L=P;try{return U.apply(this,arguments)}finally{L=ht}}}})(Uo)),Uo}var fh;function Cg(){return fh||(fh=1,ko.exports=Tg()),ko.exports}var Bo={exports:{}},en={};var mh;function wg(){if(mh)return en;mh=1;var d=td();function c(b){var y="https://react.dev/errors/"+b;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)y+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+b+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var o={d:{f,r:function(){throw Error(c(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},p=Symbol.for("react.portal");function S(b,y,C){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:x==null?null:""+x,children:b,containerInfo:y,implementation:C}}var v=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(b,y){if(b==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,en.createPortal=function(b,y){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(c(299));return S(b,y,null,C)},en.flushSync=function(b){var y=v.T,C=o.p;try{if(v.T=null,o.p=2,b)return b()}finally{v.T=y,o.p=C,o.d.f()}},en.preconnect=function(b,y){typeof b=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,o.d.C(b,y))},en.prefetchDNS=function(b){typeof b=="string"&&o.d.D(b)},en.preinit=function(b,y){if(typeof b=="string"&&y&&typeof y.as=="string"){var C=y.as,x=A(C,y.crossOrigin),L=typeof y.integrity=="string"?y.integrity:void 0,Z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;C==="style"?o.d.S(b,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:L,fetchPriority:Z}):C==="script"&&o.d.X(b,{crossOrigin:x,integrity:L,fetchPriority:Z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(b,y){if(typeof b=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var C=A(y.as,y.crossOrigin);o.d.M(b,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&o.d.M(b)},en.preload=function(b,y){if(typeof b=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var C=y.as,x=A(C,y.crossOrigin);o.d.L(b,C,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(b,y){if(typeof b=="string")if(y){var C=A(y.as,y.crossOrigin);o.d.m(b,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else o.d.m(b)},en.requestFormReset=function(b){o.d.r(b)},en.unstable_batchedUpdates=function(b,y){return b(y)},en.useFormState=function(b,y,C){return v.H.useFormState(b,y,C)},en.useFormStatus=function(){return v.H.useHostTransitionStatus()},en.version="19.2.0",en}var hh;function Dg(){if(hh)return Bo.exports;hh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(c){console.error(c)}}return d(),Bo.exports=wg(),Bo.exports}var ph;function Ng(){if(ph)return eu;ph=1;var d=Cg(),c=td(),f=Dg();function o(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function S(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function v(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(S(t)!==t)throw Error(o(188))}function y(t){var e=t.alternate;if(!e){if(e=S(t),e===null)throw Error(o(188));return e!==t?null:t}for(var n=t,a=e;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return b(l),t;if(i===a)return b(l),e;i=i.sibling}throw Error(o(188))}if(n.return!==a.return)n=l,a=i;else{for(var u=!1,m=l.child;m;){if(m===n){u=!0,n=l,a=i;break}if(m===a){u=!0,a=l,n=i;break}m=m.sibling}if(!u){for(m=i.child;m;){if(m===n){u=!0,n=i,a=l;break}if(m===a){u=!0,a=i,n=l;break}m=m.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?t:e}function C(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=C(t),e!==null)return e;t=t.sibling}return null}var x=Object.assign,L=Symbol.for("react.element"),Z=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Mt=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),kt=Symbol.for("react.activity"),Zt=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function ft(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var Ht=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ht?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case lt:return"Profiler";case Mt:return"StrictMode";case I:return"Suspense";case dt:return"SuspenseList";case kt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tt:return"Portal";case ut:return t.displayName||"Context";case gt:return(t._context.displayName||"Context")+".Consumer";case Y:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K:return e=t.displayName||null,e!==null?e:ee(t.type)||"Memo";case it:e=t._payload,t=t._init;try{return ee(t(e))}catch{}}return null}var he=Array.isArray,U=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},W=[],rt=-1;function E(t){return{current:t}}function B(t){0>rt||(t.current=W[rt],W[rt]=null,rt--)}function et(t,e){rt++,W[rt]=t.current,t.current=e}var at=E(null),vt=E(null),Dt=E(null),Tt=E(null);function Xe(t,e){switch(et(Dt,e),et(vt,t),et(at,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Rm(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Rm(e),t=jm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(at),et(at,t)}function ie(){B(at),B(vt),B(Dt)}function Ba(t){t.memoizedState!==null&&et(Tt,t);var e=at.current,n=jm(e,t.type);e!==n&&(et(vt,t),et(at,n))}function Vn(t){vt.current===t&&(B(at),B(vt)),Tt.current===t&&(B(Tt),Fs._currentValue=ht)}var si,La;function pn(t){if(si===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);si=e&&e[1]||"",La=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+si+t+La}var na=!1;function Al(t,e){if(!t||na)return"";na=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(k){var _=k}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(k){_=k}t.call(Q.prototype)}}else{try{throw Error()}catch(k){_=k}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(k){if(k&&_&&typeof k.stack=="string")return[k.stack,_.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),u=i[0],m=i[1];if(u&&m){var M=u.split(`
`),O=m.split(`
`);for(l=a=0;a<M.length&&!M[a].includes("DetermineComponentFrameRoot");)a++;for(;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;if(a===M.length||l===O.length)for(a=M.length-1,l=O.length-1;1<=a&&0<=l&&M[a]!==O[l];)l--;for(;1<=a&&0<=l;a--,l--)if(M[a]!==O[l]){if(a!==1||l!==1)do if(a--,l--,0>l||M[a]!==O[l]){var H=`
`+M[a].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=a&&0<=l);break}}}finally{na=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?pn(n):""}function Tl(t,e){switch(t.tag){case 26:case 27:case 5:return pn(t.type);case 16:return pn("Lazy");case 13:return t.child!==e&&e!==null?pn("Suspense Fallback"):pn("Suspense");case 19:return pn("SuspenseList");case 0:case 15:return Al(t.type,!1);case 11:return Al(t.type.render,!1);case 1:return Al(t.type,!0);case 31:return pn("Activity");default:return""}}function Nn(t){try{var e="",n=null;do e+=Tl(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var qa=Object.prototype.hasOwnProperty,gn=d.unstable_scheduleCallback,Cl=d.unstable_cancelCallback,su=d.unstable_shouldYield,ui=d.unstable_requestPaint,me=d.unstable_now,ci=d.unstable_getCurrentPriorityLevel,Rn=d.unstable_ImmediatePriority,ri=d.unstable_UserBlockingPriority,pa=d.unstable_NormalPriority,uu=d.unstable_LowPriority,Oe=d.unstable_IdlePriority,wl=d.log,Qn=d.unstable_setDisableYieldValue,aa=null,_e=null;function se(t){if(typeof wl=="function"&&Qn(t),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(aa,t)}catch{}}var Ie=Math.clz32?Math.clz32:Dl,ns=Math.log,cu=Math.LN2;function Dl(t){return t>>>=0,t===0?32:31-(ns(t)/cu|0)|0}var Nl=256,Ha=262144,Me=4194304;function Zn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rl(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,i=t.suspendedLanes,u=t.pingedLanes;t=t.warmLanes;var m=a&134217727;return m!==0?(a=m&~i,a!==0?l=Zn(a):(u&=m,u!==0?l=Zn(u):n||(n=m&~t,n!==0&&(l=Zn(n))))):(m=a&~i,m!==0?l=Zn(m):u!==0?l=Zn(u):n||(n=a&~t,n!==0&&(l=Zn(n)))),l===0?0:e!==0&&e!==l&&(e&i)===0&&(i=l&-l,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:l}function Ga(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function ru(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oi(){var t=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),t}function jn(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jl(t,e,n,a,l,i){var u=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var m=t.entanglements,M=t.expirationTimes,O=t.hiddenUpdates;for(n=u&~n;0<n;){var H=31-Ie(n),Q=1<<H;m[H]=0,M[H]=-1;var _=O[H];if(_!==null)for(O[H]=null,H=0;H<_.length;H++){var k=_[H];k!==null&&(k.lane&=-536870913)}n&=~Q}a!==0&&di(t,a,0),i!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=i&~(u&~e))}function di(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-Ie(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function ga(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-Ie(n),l=1<<a;l&e|t[a]&e&&(t[a]|=e),n&=~l}}function zl(t,e){var n=e&-e;return n=(n&42)!==0?1:ya(n),(n&(t.suspendedLanes|e))!==0?0:n}function ya(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function as(){var t=P.p;return t!==0?t:(t=window.event,t===void 0?32:th(t.type))}function Kn(t,e){var n=P.p;try{return P.p=t,e()}finally{P.p=n}}var bn=Math.random().toString(36).slice(2),ne="__reactFiber$"+bn,ke="__reactProps$"+bn,Jn="__reactContainer$"+bn,Ya="__reactEvents$"+bn,ou="__reactListeners$"+bn,Dc="__reactHandles$"+bn,ls="__reactResources$"+bn,Ue="__reactMarker$"+bn;function fi(t){delete t[ne],delete t[ke],delete t[Ya],delete t[ou],delete t[Dc]}function la(t){var e=t[ne];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jn]||n[ne]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lm(t);t!==null;){if(n=t[ne])return n;t=Lm(t)}return e}t=n,n=t.parentNode}return null}function Be(t){if(t=t[ne]||t[Jn]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function zn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(o(33))}function pe(t){var e=t[ls];return e||(e=t[ls]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function oe(t){t[Ue]=!0}var sn=new Set,Xa={};function ia(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(Xa[t]=e,t=0;t<e.length;t++)sn.add(e[t])}var mi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},hi={};function is(t){return qa.call(hi,t)?!0:qa.call(Ol,t)?!1:mi.test(t)?hi[t]=!0:(Ol[t]=!0,!1)}function va(t,e,n){if(is(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Va(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Sn(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function We(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function du(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,i=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(u){n=""+u,i.call(this,u)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function je(t){if(!t._valueTracker){var e=pi(t)?"checked":"value";t._valueTracker=du(t,e,""+t[e])}}function ba(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=pi(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function Qa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var de=/[\n"\\]/g;function Le(t){return t.replace(de,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Za(t,e,n,a,l,i,u,m){t.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.type=u:t.removeAttribute("type"),e!=null?u==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+We(e)):t.value!==""+We(e)&&(t.value=""+We(e)):u!=="submit"&&u!=="reset"||t.removeAttribute("value"),e!=null?qe(t,u,We(e)):n!=null?qe(t,u,We(n)):a!=null&&t.removeAttribute("value"),l==null&&i!=null&&(t.defaultChecked=!!i),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.name=""+We(m):t.removeAttribute("name")}function ss(t,e,n,a,l,i,u,m){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){je(t);return}n=n!=null?""+We(n):"",e=e!=null?""+We(e):n,m||e===t.value||(t.value=e),t.defaultValue=e}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=m?t.checked:!!a,t.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.name=u),je(t)}function qe(t,e,n){e==="number"&&Qa(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Sa(t,e,n,a){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&a&&(t[n].defaultSelected=!0)}else{for(n=""+We(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,a&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function q(t,e,n){if(e!=null&&(e=""+We(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+We(n):""}function Ve(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(o(92));if(he(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=We(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),je(t)}function an(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ka=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function us(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||Ka.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function cs(t,e,n){if(e!=null&&typeof e!="object")throw Error(o(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var l in e)a=e[l],e.hasOwnProperty(l)&&n[l]!==a&&us(t,l,a)}else for(var i in e)e.hasOwnProperty(i)&&us(t,i,e[i])}function Ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(t){return fu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Mn(){}var gi=null;function $a(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $n=null,Fa=null;function rs(t){var e=Be(t);if(e&&(t=e.stateNode)){var n=t[ke]||null;t:switch(t=e.stateNode,e.type){case"input":if(Za(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Le(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var l=a[ke]||null;if(!l)throw Error(o(90));Za(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&ba(a)}break t;case"textarea":q(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&Sa(t,!!n.multiple,e,!1)}}}var Ia=!1;function kl(t,e,n){if(Ia)return t(e,n);Ia=!0;try{var a=t(e);return a}finally{if(Ia=!1,($n!==null||Fa!==null)&&(tc(),$n&&(e=$n,t=Fa,Fa=$n=null,rs(e),t)))for(e=0;e<t.length;e++)rs(t[e])}}function Pe(t,e){var n=t.stateNode;if(n===null)return null;var a=n[ke]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(o(231,e,typeof n));return n}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if(un)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){yi=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{yi=!1}var ua=null,os=null,vi=null;function ds(){if(vi)return vi;var t,e=os,n=e.length,a,l="value"in ua?ua.value:ua.textContent,i=l.length;for(t=0;t<n&&e[t]===l[t];t++);var u=n-t;for(a=1;a<=u&&e[n-a]===l[i-a];a++);return vi=l.slice(t,1<a?1-a:void 0)}function bi(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function Mi(){return!1}function tn(t){function e(n,a,l,i,u){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var m in t)t.hasOwnProperty(m)&&(n=t[m],this[m]=n?n(i):i[m]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Si:Mi,this.isPropagationStopped=Mi,this}return x(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),e}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=tn(On),Fn=x({},On,{view:0,detail:0}),Ul=tn(Fn),fs,ms,ge,Qe=x({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ge&&(ge&&t.type==="mousemove"?(fs=t.screenX-ge.screenX,ms=t.screenY-ge.screenY):ms=fs=0,ge=t),fs)},movementY:function(t){return"movementY"in t?t.movementY:ms}}),Pa=tn(Qe),Bl=x({},Qe,{dataTransfer:0}),Rc=tn(Bl),Ll=x({},Fn,{relatedTarget:0}),hs=tn(Ll),jc=x({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),zc=tn(jc),Oc=x({},On,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mu=tn(Oc),_c=x({},On,{data:0}),hu=tn(_c),kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ps(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bc[t])?!!e[t]:!1}function ca(){return ps}var gs=x({},Fn,{key:function(t){if(t.key){var e=kc[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(t){return t.type==="keypress"?bi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pu=tn(gs),Lc=x({},Qe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=tn(Lc),Ei=x({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),ql=tn(Ei),qc=x({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hc=tn(qc),Gc=x({},Qe,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yu=tn(Gc),Yc=x({},On,{newState:0,oldState:0}),vu=tn(Yc),ys=[9,13,27,32],vs=un&&"CompositionEvent"in window,tl=null;un&&"documentMode"in document&&(tl=document.documentMode);var Xc=un&&"TextEvent"in window&&!tl,s=un&&(!vs||tl&&8<tl&&11>=tl),r=" ",g=!1;function R(t,e){switch(t){case"keyup":return ys.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var X=!1;function z(t,e){switch(t){case"compositionend":return w(e);case"keypress":return e.which!==32?null:(g=!0,r);case"textInput":return t=e.data,t===r&&g?null:t;default:return null}}function V(t,e){if(X)return t==="compositionend"||!vs&&R(t,e)?(t=ds(),vi=os=ua=null,X=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s&&e.locale!=="ko"?null:e.data;default:return null}}var $={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ot(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$[t.type]:e==="textarea"}function bt(t,e,n,a){$n?Fa?Fa.push(a):Fa=[a]:$n=a,e=uc(e,"onChange"),0<e.length&&(n=new xi("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var Ct=null,Rt=null;function Xt(t){Am(t,0)}function ye(t){var e=zn(t);if(ba(e))return t}function xe(t,e){if(t==="change")return e}var cn=!1;if(un){var Hl;if(un){var Gl="oninput"in document;if(!Gl){var Ai=document.createElement("div");Ai.setAttribute("oninput","return;"),Gl=typeof Ai.oninput=="function"}Hl=Gl}else Hl=!1;cn=Hl&&(!document.documentMode||9<document.documentMode)}function nt(){Ct&&(Ct.detachEvent("onpropertychange",ue),Rt=Ct=null)}function ue(t){if(t.propertyName==="value"&&ye(Rt)){var e=[];bt(e,Rt,t,$a(t)),kl(Xt,e)}}function Kt(t,e,n){t==="focusin"?(nt(),Ct=e,Rt=n,Ct.attachEvent("onpropertychange",ue)):t==="focusout"&&nt()}function Vt(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ye(Rt)}function Ee(t,e){if(t==="click")return ye(e)}function xt(t,e){if(t==="input"||t==="change")return ye(e)}function St(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jt=typeof Object.is=="function"?Object.is:St;function Lt(t,e){if(Jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!qa.call(e,l)||!Jt(t[l],e[l]))return!1}return!0}function Ae(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _n(t,e){var n=Ae(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Ae(n)}}function Et(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Et(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function It(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Qa(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qa(t.document)}return e}function ve(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Yl=un&&"documentMode"in document&&11>=document.documentMode,kn=null,Ti=null,el=null,Xl=!1;function bs(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xl||kn==null||kn!==Qa(a)||(a=kn,"selectionStart"in a&&ve(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),el&&Lt(el,a)||(el=a,a=uc(Ti,"onSelect"),0<a.length&&(e=new xi("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=kn)))}function ra(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var In={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},qt={},Wn={};un&&(Wn=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function xn(t){if(qt[t])return qt[t];if(!In[t])return t;var e=In[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wn)return qt[t]=e[n];return t}var Ss=xn("animationend"),Ms=xn("animationiteration"),bu=xn("animationstart"),np=xn("transitionrun"),ap=xn("transitionstart"),lp=xn("transitioncancel"),nd=xn("transitionend"),ad=new Map,Vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vc.push("scrollEnd");function Pn(t,e){ad.set(t,e),ia(e,[t])}var Su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Ci=0,Qc=0;function Mu(){for(var t=Ci,e=Qc=Ci=0;e<t;){var n=Un[e];Un[e++]=null;var a=Un[e];Un[e++]=null;var l=Un[e];Un[e++]=null;var i=Un[e];if(Un[e++]=null,a!==null&&l!==null){var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}i!==0&&ld(n,l,i)}}function xu(t,e,n,a){Un[Ci++]=t,Un[Ci++]=e,Un[Ci++]=n,Un[Ci++]=a,Qc|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Zc(t,e,n,a){return xu(t,e,n,a),Eu(t)}function Vl(t,e){return xu(t,null,null,e),Eu(t)}function ld(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var l=!1,i=t.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(l=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,l&&e!==null&&(l=31-Ie(n),t=i.hiddenUpdates,a=t[l],a===null?t[l]=[e]:a.push(e),e.lane=n|536870912),i):null}function Eu(t){if(50<Xs)throw Xs=0,eo=null,Error(o(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var wi={};function ip(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,n,a){return new ip(t,e,n,a)}function Kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ma(t,e){var n=t.alternate;return n===null?(n=En(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function id(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Au(t,e,n,a,l,i){var u=0;if(a=t,typeof t=="function")Kc(t)&&(u=1);else if(typeof t=="string")u=og(t,n,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case kt:return t=En(31,n,e,l),t.elementType=kt,t.lanes=i,t;case J:return Ql(n.children,l,i,e);case Mt:u=8,l|=24;break;case lt:return t=En(12,n,e,l|2),t.elementType=lt,t.lanes=i,t;case I:return t=En(13,n,e,l),t.elementType=I,t.lanes=i,t;case dt:return t=En(19,n,e,l),t.elementType=dt,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ut:u=10;break t;case gt:u=9;break t;case Y:u=11;break t;case K:u=14;break t;case it:u=16,a=null;break t}u=29,n=Error(o(130,t===null?"null":typeof t,"")),a=null}return e=En(u,n,e,l),e.elementType=t,e.type=a,e.lanes=i,e}function Ql(t,e,n,a){return t=En(7,t,a,e),t.lanes=n,t}function Jc(t,e,n){return t=En(6,t,null,e),t.lanes=n,t}function sd(t){var e=En(18,null,null,0);return e.stateNode=t,e}function $c(t,e,n){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ud=new WeakMap;function Bn(t,e){if(typeof t=="object"&&t!==null){var n=ud.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Nn(e)},ud.set(t,e),e)}return{value:t,source:e,stack:Nn(e)}}var Di=[],Ni=0,Tu=null,xs=0,Ln=[],qn=0,nl=null,oa=1,da="";function xa(t,e){Di[Ni++]=xs,Di[Ni++]=Tu,Tu=t,xs=e}function cd(t,e,n){Ln[qn++]=oa,Ln[qn++]=da,Ln[qn++]=nl,nl=t;var a=oa;t=da;var l=32-Ie(a)-1;a&=~(1<<l),n+=1;var i=32-Ie(e)+l;if(30<i){var u=l-l%5;i=(a&(1<<u)-1).toString(32),a>>=u,l-=u,oa=1<<32-Ie(e)+l|n<<l|a,da=i+t}else oa=1<<i|n<<l|a,da=t}function Fc(t){t.return!==null&&(xa(t,1),cd(t,1,0))}function Ic(t){for(;t===Tu;)Tu=Di[--Ni],Di[Ni]=null,xs=Di[--Ni],Di[Ni]=null;for(;t===nl;)nl=Ln[--qn],Ln[qn]=null,da=Ln[--qn],Ln[qn]=null,oa=Ln[--qn],Ln[qn]=null}function rd(t,e){Ln[qn++]=oa,Ln[qn++]=da,Ln[qn++]=nl,oa=e.id,da=e.overflow,nl=t}var Ze=null,ce=null,Ut=!1,al=null,Hn=!1,Wc=Error(o(519));function ll(t){var e=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Es(Bn(e,t)),Wc}function od(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[ne]=t,e[ke]=a,n){case"dialog":zt("cancel",e),zt("close",e);break;case"iframe":case"object":case"embed":zt("load",e);break;case"video":case"audio":for(n=0;n<Qs.length;n++)zt(Qs[n],e);break;case"source":zt("error",e);break;case"img":case"image":case"link":zt("error",e),zt("load",e);break;case"details":zt("toggle",e);break;case"input":zt("invalid",e),ss(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":zt("invalid",e);break;case"textarea":zt("invalid",e),Ve(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||Dm(e.textContent,n)?(a.popover!=null&&(zt("beforetoggle",e),zt("toggle",e)),a.onScroll!=null&&zt("scroll",e),a.onScrollEnd!=null&&zt("scrollend",e),a.onClick!=null&&(e.onclick=Mn),e=!0):e=!1,e||ll(t,!0)}function dd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Ze=Ze.return}}function Ri(t){if(t!==Ze)return!1;if(!Ut)return dd(t),Ut=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||yo(t.type,t.memoizedProps)),n=!n),n&&ce&&ll(t),dd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));ce=Bm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));ce=Bm(t)}else e===27?(e=ce,vl(t.type)?(t=xo,xo=null,ce=t):ce=e):ce=Ze?Yn(t.stateNode.nextSibling):null;return!0}function Zl(){ce=Ze=null,Ut=!1}function Pc(){var t=al;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),al=null),t}function Es(t){al===null?al=[t]:al.push(t)}var tr=E(null),Kl=null,Ea=null;function il(t,e,n){et(tr,e._currentValue),e._currentValue=n}function Aa(t){t._currentValue=tr.current,B(tr)}function er(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function nr(t,e,n,a){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){var u=l.child;i=i.firstContext;t:for(;i!==null;){var m=i;i=l;for(var M=0;M<e.length;M++)if(m.context===e[M]){i.lanes|=n,m=i.alternate,m!==null&&(m.lanes|=n),er(i.return,n,t),a||(u=null);break t}i=m.next}}else if(l.tag===18){if(u=l.return,u===null)throw Error(o(341));u.lanes|=n,i=u.alternate,i!==null&&(i.lanes|=n),er(u,n,t),u=null}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}}function ji(t,e,n,a){t=null;for(var l=e,i=!1;l!==null;){if(!i){if((l.flags&524288)!==0)i=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var u=l.alternate;if(u===null)throw Error(o(387));if(u=u.memoizedProps,u!==null){var m=l.type;Jt(l.pendingProps.value,u.value)||(t!==null?t.push(m):t=[m])}}else if(l===Tt.current){if(u=l.alternate,u===null)throw Error(o(387));u.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(Fs):t=[Fs])}l=l.return}t!==null&&nr(e,t,n,a),e.flags|=262144}function Cu(t){for(t=t.firstContext;t!==null;){if(!Jt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jl(t){Kl=t,Ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ke(t){return fd(Kl,t)}function wu(t,e){return Kl===null&&Jl(t),fd(t,e)}function fd(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ea===null){if(t===null)throw Error(o(308));Ea=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ea=Ea.next=e;return n}var sp=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},up=d.unstable_scheduleCallback,cp=d.unstable_NormalPriority,we={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ar(){return{controller:new sp,data:new Map,refCount:0}}function As(t){t.refCount--,t.refCount===0&&up(cp,function(){t.controller.abort()})}var Ts=null,lr=0,zi=0,Oi=null;function rp(t,e){if(Ts===null){var n=Ts=[];lr=0,zi=uo(),Oi={status:"pending",value:void 0,then:function(a){n.push(a)}}}return lr++,e.then(md,md),e}function md(){if(--lr===0&&Ts!==null){Oi!==null&&(Oi.status="fulfilled");var t=Ts;Ts=null,zi=0,Oi=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function op(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var hd=U.S;U.S=function(t,e){Wf=me(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&rp(t,e),hd!==null&&hd(t,e)};var $l=E(null);function ir(){var t=$l.current;return t!==null?t:ae.pooledCache}function Du(t,e){e===null?et($l,$l.current):et($l,e.pool)}function pd(){var t=ir();return t===null?null:{parent:we._currentValue,pool:t}}var _i=Error(o(460)),sr=Error(o(474)),Nu=Error(o(542)),Ru={then:function(){}};function gd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yd(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Mn,Mn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,bd(t),t;default:if(typeof e.status=="string")e.then(Mn,Mn);else{if(t=ae,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=a}},function(a){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,bd(t),t}throw Il=e,_i}}function Fl(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Il=n,_i):n}}var Il=null;function vd(){if(Il===null)throw Error(o(459));var t=Il;return Il=null,t}function bd(t){if(t===_i||t===Nu)throw Error(o(483))}var ki=null,Cs=0;function ju(t){var e=Cs;return Cs+=1,ki===null&&(ki=[]),yd(ki,t,e)}function ws(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function zu(t,e){throw e.$$typeof===L?Error(o(525)):(t=Object.prototype.toString.call(e),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Sd(t){function e(D,T){if(t){var j=D.deletions;j===null?(D.deletions=[T],D.flags|=16):j.push(T)}}function n(D,T){if(!t)return null;for(;T!==null;)e(D,T),T=T.sibling;return null}function a(D){for(var T=new Map;D!==null;)D.key!==null?T.set(D.key,D):T.set(D.index,D),D=D.sibling;return T}function l(D,T){return D=Ma(D,T),D.index=0,D.sibling=null,D}function i(D,T,j){return D.index=j,t?(j=D.alternate,j!==null?(j=j.index,j<T?(D.flags|=67108866,T):j):(D.flags|=67108866,T)):(D.flags|=1048576,T)}function u(D){return t&&D.alternate===null&&(D.flags|=67108866),D}function m(D,T,j,G){return T===null||T.tag!==6?(T=Jc(j,D.mode,G),T.return=D,T):(T=l(T,j),T.return=D,T)}function M(D,T,j,G){var mt=j.type;return mt===J?H(D,T,j.props.children,G,j.key):T!==null&&(T.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===it&&Fl(mt)===T.type)?(T=l(T,j.props),ws(T,j),T.return=D,T):(T=Au(j.type,j.key,j.props,null,D.mode,G),ws(T,j),T.return=D,T)}function O(D,T,j,G){return T===null||T.tag!==4||T.stateNode.containerInfo!==j.containerInfo||T.stateNode.implementation!==j.implementation?(T=$c(j,D.mode,G),T.return=D,T):(T=l(T,j.children||[]),T.return=D,T)}function H(D,T,j,G,mt){return T===null||T.tag!==7?(T=Ql(j,D.mode,G,mt),T.return=D,T):(T=l(T,j),T.return=D,T)}function Q(D,T,j){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Jc(""+T,D.mode,j),T.return=D,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Z:return j=Au(T.type,T.key,T.props,null,D.mode,j),ws(j,T),j.return=D,j;case tt:return T=$c(T,D.mode,j),T.return=D,T;case it:return T=Fl(T),Q(D,T,j)}if(he(T)||ft(T))return T=Ql(T,D.mode,j,null),T.return=D,T;if(typeof T.then=="function")return Q(D,ju(T),j);if(T.$$typeof===ut)return Q(D,wu(D,T),j);zu(D,T)}return null}function _(D,T,j,G){var mt=T!==null?T.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return mt!==null?null:m(D,T,""+j,G);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Z:return j.key===mt?M(D,T,j,G):null;case tt:return j.key===mt?O(D,T,j,G):null;case it:return j=Fl(j),_(D,T,j,G)}if(he(j)||ft(j))return mt!==null?null:H(D,T,j,G,null);if(typeof j.then=="function")return _(D,T,ju(j),G);if(j.$$typeof===ut)return _(D,T,wu(D,j),G);zu(D,j)}return null}function k(D,T,j,G,mt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return D=D.get(j)||null,m(T,D,""+G,mt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Z:return D=D.get(G.key===null?j:G.key)||null,M(T,D,G,mt);case tt:return D=D.get(G.key===null?j:G.key)||null,O(T,D,G,mt);case it:return G=Fl(G),k(D,T,j,G,mt)}if(he(G)||ft(G))return D=D.get(j)||null,H(T,D,G,mt,null);if(typeof G.then=="function")return k(D,T,j,ju(G),mt);if(G.$$typeof===ut)return k(D,T,j,wu(T,G),mt);zu(T,G)}return null}function st(D,T,j,G){for(var mt=null,Gt=null,ct=T,Nt=T=0,_t=null;ct!==null&&Nt<j.length;Nt++){ct.index>Nt?(_t=ct,ct=null):_t=ct.sibling;var Yt=_(D,ct,j[Nt],G);if(Yt===null){ct===null&&(ct=_t);break}t&&ct&&Yt.alternate===null&&e(D,ct),T=i(Yt,T,Nt),Gt===null?mt=Yt:Gt.sibling=Yt,Gt=Yt,ct=_t}if(Nt===j.length)return n(D,ct),Ut&&xa(D,Nt),mt;if(ct===null){for(;Nt<j.length;Nt++)ct=Q(D,j[Nt],G),ct!==null&&(T=i(ct,T,Nt),Gt===null?mt=ct:Gt.sibling=ct,Gt=ct);return Ut&&xa(D,Nt),mt}for(ct=a(ct);Nt<j.length;Nt++)_t=k(ct,D,Nt,j[Nt],G),_t!==null&&(t&&_t.alternate!==null&&ct.delete(_t.key===null?Nt:_t.key),T=i(_t,T,Nt),Gt===null?mt=_t:Gt.sibling=_t,Gt=_t);return t&&ct.forEach(function(El){return e(D,El)}),Ut&&xa(D,Nt),mt}function yt(D,T,j,G){if(j==null)throw Error(o(151));for(var mt=null,Gt=null,ct=T,Nt=T=0,_t=null,Yt=j.next();ct!==null&&!Yt.done;Nt++,Yt=j.next()){ct.index>Nt?(_t=ct,ct=null):_t=ct.sibling;var El=_(D,ct,Yt.value,G);if(El===null){ct===null&&(ct=_t);break}t&&ct&&El.alternate===null&&e(D,ct),T=i(El,T,Nt),Gt===null?mt=El:Gt.sibling=El,Gt=El,ct=_t}if(Yt.done)return n(D,ct),Ut&&xa(D,Nt),mt;if(ct===null){for(;!Yt.done;Nt++,Yt=j.next())Yt=Q(D,Yt.value,G),Yt!==null&&(T=i(Yt,T,Nt),Gt===null?mt=Yt:Gt.sibling=Yt,Gt=Yt);return Ut&&xa(D,Nt),mt}for(ct=a(ct);!Yt.done;Nt++,Yt=j.next())Yt=k(ct,D,Nt,Yt.value,G),Yt!==null&&(t&&Yt.alternate!==null&&ct.delete(Yt.key===null?Nt:Yt.key),T=i(Yt,T,Nt),Gt===null?mt=Yt:Gt.sibling=Yt,Gt=Yt);return t&&ct.forEach(function(Mg){return e(D,Mg)}),Ut&&xa(D,Nt),mt}function te(D,T,j,G){if(typeof j=="object"&&j!==null&&j.type===J&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Z:t:{for(var mt=j.key;T!==null;){if(T.key===mt){if(mt=j.type,mt===J){if(T.tag===7){n(D,T.sibling),G=l(T,j.props.children),G.return=D,D=G;break t}}else if(T.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===it&&Fl(mt)===T.type){n(D,T.sibling),G=l(T,j.props),ws(G,j),G.return=D,D=G;break t}n(D,T);break}else e(D,T);T=T.sibling}j.type===J?(G=Ql(j.props.children,D.mode,G,j.key),G.return=D,D=G):(G=Au(j.type,j.key,j.props,null,D.mode,G),ws(G,j),G.return=D,D=G)}return u(D);case tt:t:{for(mt=j.key;T!==null;){if(T.key===mt)if(T.tag===4&&T.stateNode.containerInfo===j.containerInfo&&T.stateNode.implementation===j.implementation){n(D,T.sibling),G=l(T,j.children||[]),G.return=D,D=G;break t}else{n(D,T);break}else e(D,T);T=T.sibling}G=$c(j,D.mode,G),G.return=D,D=G}return u(D);case it:return j=Fl(j),te(D,T,j,G)}if(he(j))return st(D,T,j,G);if(ft(j)){if(mt=ft(j),typeof mt!="function")throw Error(o(150));return j=mt.call(j),yt(D,T,j,G)}if(typeof j.then=="function")return te(D,T,ju(j),G);if(j.$$typeof===ut)return te(D,T,wu(D,j),G);zu(D,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,T!==null&&T.tag===6?(n(D,T.sibling),G=l(T,j),G.return=D,D=G):(n(D,T),G=Jc(j,D.mode,G),G.return=D,D=G),u(D)):n(D,T)}return function(D,T,j,G){try{Cs=0;var mt=te(D,T,j,G);return ki=null,mt}catch(ct){if(ct===_i||ct===Nu)throw ct;var Gt=En(29,ct,null,D.mode);return Gt.lanes=G,Gt.return=D,Gt}finally{}}}var Wl=Sd(!0),Md=Sd(!1),sl=!1;function ur(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ul(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function cl(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Qt&2)!==0){var l=a.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),a.pending=e,e=Eu(t),ld(t,null,n),e}return xu(t,a,e,n),Eu(t)}function Ds(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,ga(t,n)}}function rr(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?l=i=u:i=i.next=u,n=n.next}while(n!==null);i===null?l=i=e:i=i.next=e}else l=i=e;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var or=!1;function Ns(){if(or){var t=Oi;if(t!==null)throw t}}function Rs(t,e,n,a){or=!1;var l=t.updateQueue;sl=!1;var i=l.firstBaseUpdate,u=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var M=m,O=M.next;M.next=null,u===null?i=O:u.next=O,u=M;var H=t.alternate;H!==null&&(H=H.updateQueue,m=H.lastBaseUpdate,m!==u&&(m===null?H.firstBaseUpdate=O:m.next=O,H.lastBaseUpdate=M))}if(i!==null){var Q=l.baseState;u=0,H=O=M=null,m=i;do{var _=m.lane&-536870913,k=_!==m.lane;if(k?(Ot&_)===_:(a&_)===_){_!==0&&_===zi&&(or=!0),H!==null&&(H=H.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});t:{var st=t,yt=m;_=e;var te=n;switch(yt.tag){case 1:if(st=yt.payload,typeof st=="function"){Q=st.call(te,Q,_);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=yt.payload,_=typeof st=="function"?st.call(te,Q,_):st,_==null)break t;Q=x({},Q,_);break t;case 2:sl=!0}}_=m.callback,_!==null&&(t.flags|=64,k&&(t.flags|=8192),k=l.callbacks,k===null?l.callbacks=[_]:k.push(_))}else k={lane:_,tag:m.tag,payload:m.payload,callback:m.callback,next:null},H===null?(O=H=k,M=Q):H=H.next=k,u|=_;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;k=m,m=k.next,k.next=null,l.lastBaseUpdate=k,l.shared.pending=null}}while(!0);H===null&&(M=Q),l.baseState=M,l.firstBaseUpdate=O,l.lastBaseUpdate=H,i===null&&(l.shared.lanes=0),ml|=u,t.lanes=u,t.memoizedState=Q}}function xd(t,e){if(typeof t!="function")throw Error(o(191,t));t.call(e)}function Ed(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)xd(n[t],e)}var Ui=E(null),Ou=E(0);function Ad(t,e){t=Oa,et(Ou,t),et(Ui,e),Oa=t|e.baseLanes}function dr(){et(Ou,Oa),et(Ui,Ui.current)}function fr(){Oa=Ou.current,B(Ui),B(Ou)}var An=E(null),Gn=null;function rl(t){var e=t.alternate;et(Te,Te.current&1),et(An,t),Gn===null&&(e===null||Ui.current!==null||e.memoizedState!==null)&&(Gn=t)}function mr(t){et(Te,Te.current),et(An,t),Gn===null&&(Gn=t)}function Td(t){t.tag===22?(et(Te,Te.current),et(An,t),Gn===null&&(Gn=t)):ol()}function ol(){et(Te,Te.current),et(An,An.current)}function Tn(t){B(An),Gn===t&&(Gn=null),B(Te)}var Te=E(0);function _u(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||So(n)||Mo(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ta=0,wt=null,Wt=null,De=null,ku=!1,Bi=!1,Pl=!1,Uu=0,js=0,Li=null,dp=0;function be(){throw Error(o(321))}function hr(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jt(t[n],e[n]))return!1;return!0}function pr(t,e,n,a,l,i){return Ta=i,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,U.H=t===null||t.memoizedState===null?rf:Rr,Pl=!1,i=n(a,l),Pl=!1,Bi&&(i=wd(e,n,a,l)),Cd(t),i}function Cd(t){U.H=_s;var e=Wt!==null&&Wt.next!==null;if(Ta=0,De=Wt=wt=null,ku=!1,js=0,Li=null,e)throw Error(o(300));t===null||Ne||(t=t.dependencies,t!==null&&Cu(t)&&(Ne=!0))}function wd(t,e,n,a){wt=t;var l=0;do{if(Bi&&(Li=null),js=0,Bi=!1,25<=l)throw Error(o(301));if(l+=1,De=Wt=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}U.H=of,i=e(n,a)}while(Bi);return i}function fp(){var t=U.H,e=t.useState()[0];return e=typeof e.then=="function"?zs(e):e,t=t.useState()[0],(Wt!==null?Wt.memoizedState:null)!==t&&(wt.flags|=1024),e}function gr(){var t=Uu!==0;return Uu=0,t}function yr(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function vr(t){if(ku){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ku=!1}Ta=0,De=Wt=wt=null,Bi=!1,js=Uu=0,Li=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?wt.memoizedState=De=t:De=De.next=t,De}function Ce(){if(Wt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=De===null?wt.memoizedState:De.next;if(e!==null)De=e,Wt=t;else{if(t===null)throw wt.alternate===null?Error(o(467)):Error(o(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},De===null?wt.memoizedState=De=t:De=De.next=t}return De}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zs(t){var e=js;return js+=1,Li===null&&(Li=[]),t=yd(Li,t,e),e=wt,(De===null?e.memoizedState:De.next)===null&&(e=e.alternate,U.H=e===null||e.memoizedState===null?rf:Rr),t}function Lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zs(t);if(t.$$typeof===ut)return Ke(t)}throw Error(o(438,String(t)))}function br(t){var e=null,n=wt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=wt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Bu(),wt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=Zt;return e.index++,n}function Ca(t,e){return typeof e=="function"?e(t):e}function qu(t){var e=Ce();return Sr(e,Wt,t)}function Sr(t,e,n){var a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var l=t.baseQueue,i=a.pending;if(i!==null){if(l!==null){var u=l.next;l.next=i.next,i.next=u}e.baseQueue=l=i,a.pending=null}if(i=t.baseState,l===null)t.memoizedState=i;else{e=l.next;var m=u=null,M=null,O=e,H=!1;do{var Q=O.lane&-536870913;if(Q!==O.lane?(Ot&Q)===Q:(Ta&Q)===Q){var _=O.revertLane;if(_===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Q===zi&&(H=!0);else if((Ta&_)===_){O=O.next,_===zi&&(H=!0);continue}else Q={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},M===null?(m=M=Q,u=i):M=M.next=Q,wt.lanes|=_,ml|=_;Q=O.action,Pl&&n(i,Q),i=O.hasEagerState?O.eagerState:n(i,Q)}else _={lane:Q,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},M===null?(m=M=_,u=i):M=M.next=_,wt.lanes|=Q,ml|=Q;O=O.next}while(O!==null&&O!==e);if(M===null?u=i:M.next=m,!Jt(i,t.memoizedState)&&(Ne=!0,H&&(n=Oi,n!==null)))throw n;t.memoizedState=i,t.baseState=u,t.baseQueue=M,a.lastRenderedState=i}return l===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Mr(t){var e=Ce(),n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=t;var a=n.dispatch,l=n.pending,i=e.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do i=t(i,u.action),u=u.next;while(u!==l);Jt(i,e.memoizedState)||(Ne=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,a]}function Dd(t,e,n){var a=wt,l=Ce(),i=Ut;if(i){if(n===void 0)throw Error(o(407));n=n()}else n=e();var u=!Jt((Wt||l).memoizedState,n);if(u&&(l.memoizedState=n,Ne=!0),l=l.queue,Ar(jd.bind(null,a,l,t),[t]),l.getSnapshot!==e||u||De!==null&&De.memoizedState.tag&1){if(a.flags|=2048,qi(9,{destroy:void 0},Rd.bind(null,a,l,n,e),null),ae===null)throw Error(o(349));i||(Ta&127)!==0||Nd(a,e,n)}return n}function Nd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e=Bu(),wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Rd(t,e,n,a){e.value=n,e.getSnapshot=a,zd(e)&&Od(t)}function jd(t,e,n){return n(function(){zd(e)&&Od(t)})}function zd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jt(t,n)}catch{return!0}}function Od(t){var e=Vl(t,2);e!==null&&mn(e,t,2)}function xr(t){var e=ln();if(typeof t=="function"){var n=t;if(t=n(),Pl){se(!0);try{n()}finally{se(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e}function _d(t,e,n,a){return t.baseState=n,Sr(t,Wt,typeof a=="function"?a:Ca)}function mp(t,e,n,a,l){if(Yu(t))throw Error(o(485));if(t=e.action,t!==null){var i={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){i.listeners.push(u)}};U.T!==null?n(!0):i.isTransition=!1,a(i),n=e.pending,n===null?(i.next=e.pending=i,kd(e,i)):(i.next=n.next,e.pending=n.next=i)}}function kd(t,e){var n=e.action,a=e.payload,l=t.state;if(e.isTransition){var i=U.T,u={};U.T=u;try{var m=n(l,a),M=U.S;M!==null&&M(u,m),Ud(t,e,m)}catch(O){Er(t,e,O)}finally{i!==null&&u.types!==null&&(i.types=u.types),U.T=i}}else try{i=n(l,a),Ud(t,e,i)}catch(O){Er(t,e,O)}}function Ud(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Bd(t,e,a)},function(a){return Er(t,e,a)}):Bd(t,e,n)}function Bd(t,e,n){e.status="fulfilled",e.value=n,Ld(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,kd(t,n)))}function Er(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,Ld(e),e=e.next;while(e!==a)}t.action=null}function Ld(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function qd(t,e){return e}function Hd(t,e){if(Ut){var n=ae.formState;if(n!==null){t:{var a=wt;if(Ut){if(ce){e:{for(var l=ce,i=Hn;l.nodeType!==8;){if(!i){l=null;break e}if(l=Yn(l.nextSibling),l===null){l=null;break e}}i=l.data,l=i==="F!"||i==="F"?l:null}if(l){ce=Yn(l.nextSibling),a=l.data==="F!";break t}}ll(a)}a=!1}a&&(e=n[0])}}return n=ln(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:e},n.queue=a,n=sf.bind(null,wt,a),a.dispatch=n,a=xr(!1),i=Nr.bind(null,wt,!1,a.queue),a=ln(),l={state:e,dispatch:null,action:t,pending:null},a.queue=l,n=mp.bind(null,wt,l,i,n),l.dispatch=n,a.memoizedState=t,[e,n,!1]}function Gd(t){var e=Ce();return Yd(e,Wt,t)}function Yd(t,e,n){if(e=Sr(t,e,qd)[0],t=qu(Ca)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=zs(e)}catch(u){throw u===_i?Nu:u}else a=e;e=Ce();var l=e.queue,i=l.dispatch;return n!==e.memoizedState&&(wt.flags|=2048,qi(9,{destroy:void 0},hp.bind(null,l,n),null)),[a,i,t]}function hp(t,e){t.action=e}function Xd(t){var e=Ce(),n=Wt;if(n!==null)return Yd(e,n,t);Ce(),e=e.memoizedState,n=Ce();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function qi(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=wt.updateQueue,e===null&&(e=Bu(),wt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function Vd(){return Ce().memoizedState}function Hu(t,e,n,a){var l=ln();wt.flags|=t,l.memoizedState=qi(1|e,{destroy:void 0},n,a===void 0?null:a)}function Gu(t,e,n,a){var l=Ce();a=a===void 0?null:a;var i=l.memoizedState.inst;Wt!==null&&a!==null&&hr(a,Wt.memoizedState.deps)?l.memoizedState=qi(e,i,n,a):(wt.flags|=t,l.memoizedState=qi(1|e,i,n,a))}function Qd(t,e){Hu(8390656,8,t,e)}function Ar(t,e){Gu(2048,8,t,e)}function pp(t){wt.flags|=4;var e=wt.updateQueue;if(e===null)e=Bu(),wt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Zd(t){var e=Ce().memoizedState;return pp({ref:e,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(o(440));return e.impl.apply(void 0,arguments)}}function Kd(t,e){return Gu(4,2,t,e)}function Jd(t,e){return Gu(4,4,t,e)}function $d(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fd(t,e,n){n=n!=null?n.concat([t]):null,Gu(4,4,$d.bind(null,e,t),n)}function Tr(){}function Id(t,e){var n=Ce();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&hr(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function Wd(t,e){var n=Ce();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&hr(e,a[1]))return a[0];if(a=t(),Pl){se(!0);try{t()}finally{se(!1)}}return n.memoizedState=[a,e],a}function Cr(t,e,n){return n===void 0||(Ta&1073741824)!==0&&(Ot&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=tm(),wt.lanes|=t,ml|=t,n)}function Pd(t,e,n,a){return Jt(n,e)?n:Ui.current!==null?(t=Cr(t,n,a),Jt(t,e)||(Ne=!0),t):(Ta&42)===0||(Ta&1073741824)!==0&&(Ot&261930)===0?(Ne=!0,t.memoizedState=n):(t=tm(),wt.lanes|=t,ml|=t,e)}function tf(t,e,n,a,l){var i=P.p;P.p=i!==0&&8>i?i:8;var u=U.T,m={};U.T=m,Nr(t,!1,e,n);try{var M=l(),O=U.S;if(O!==null&&O(m,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var H=op(M,a);Os(t,e,H,Dn(t))}else Os(t,e,a,Dn(t))}catch(Q){Os(t,e,{then:function(){},status:"rejected",reason:Q},Dn())}finally{P.p=i,u!==null&&m.types!==null&&(u.types=m.types),U.T=u}}function gp(){}function wr(t,e,n,a){if(t.tag!==5)throw Error(o(476));var l=ef(t).queue;tf(t,l,e,ht,n===null?gp:function(){return nf(t),n(a)})}function ef(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:ht},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function nf(t){var e=ef(t);e.next===null&&(e=t.alternate.memoizedState),Os(t,e.next.queue,{},Dn())}function Dr(){return Ke(Fs)}function af(){return Ce().memoizedState}function lf(){return Ce().memoizedState}function yp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Dn();t=ul(n);var a=cl(e,t,n);a!==null&&(mn(a,e,n),Ds(a,e,n)),e={cache:ar()},t.payload=e;return}e=e.return}}function vp(t,e,n){var a=Dn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Yu(t)?uf(e,n):(n=Zc(t,e,n,a),n!==null&&(mn(n,t,a),cf(n,e,a)))}function sf(t,e,n){var a=Dn();Os(t,e,n,a)}function Os(t,e,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))uf(e,l);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var u=e.lastRenderedState,m=i(u,n);if(l.hasEagerState=!0,l.eagerState=m,Jt(m,u))return xu(t,e,l,0),ae===null&&Mu(),!1}catch{}finally{}if(n=Zc(t,e,l,a),n!==null)return mn(n,t,a),cf(n,e,a),!0}return!1}function Nr(t,e,n,a){if(a={lane:2,revertLane:uo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(e)throw Error(o(479))}else e=Zc(t,n,a,2),e!==null&&mn(e,t,2)}function Yu(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function uf(t,e){Bi=ku=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cf(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,ga(t,n)}}var _s={readContext:Ke,use:Lu,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};_s.useEffectEvent=be;var rf={readContext:Ke,use:Lu,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:Ke,useEffect:Qd,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Hu(4194308,4,$d.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hu(4194308,4,t,e)},useInsertionEffect:function(t,e){Hu(4,2,t,e)},useMemo:function(t,e){var n=ln();e=e===void 0?null:e;var a=t();if(Pl){se(!0);try{t()}finally{se(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=ln();if(n!==void 0){var l=n(e);if(Pl){se(!0);try{n(e)}finally{se(!1)}}}else l=e;return a.memoizedState=a.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},a.queue=t,t=t.dispatch=vp.bind(null,wt,t),[a.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:function(t){t=xr(t);var e=t.queue,n=sf.bind(null,wt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Tr,useDeferredValue:function(t,e){var n=ln();return Cr(n,t,e)},useTransition:function(){var t=xr(!1);return t=tf.bind(null,wt,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=wt,l=ln();if(Ut){if(n===void 0)throw Error(o(407));n=n()}else{if(n=e(),ae===null)throw Error(o(349));(Ot&127)!==0||Nd(a,e,n)}l.memoizedState=n;var i={value:n,getSnapshot:e};return l.queue=i,Qd(jd.bind(null,a,i,t),[t]),a.flags|=2048,qi(9,{destroy:void 0},Rd.bind(null,a,i,n,e),null),n},useId:function(){var t=ln(),e=ae.identifierPrefix;if(Ut){var n=da,a=oa;n=(a&~(1<<32-Ie(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Uu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=dp++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Dr,useFormState:Hd,useActionState:Hd,useOptimistic:function(t){var e=ln();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Nr.bind(null,wt,!0,n),n.dispatch=e,[t,e]},useMemoCache:br,useCacheRefresh:function(){return ln().memoizedState=yp.bind(null,wt)},useEffectEvent:function(t){var e=ln(),n={impl:t};return e.memoizedState=n,function(){if((Qt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},Rr={readContext:Ke,use:Lu,useCallback:Id,useContext:Ke,useEffect:Ar,useImperativeHandle:Fd,useInsertionEffect:Kd,useLayoutEffect:Jd,useMemo:Wd,useReducer:qu,useRef:Vd,useState:function(){return qu(Ca)},useDebugValue:Tr,useDeferredValue:function(t,e){var n=Ce();return Pd(n,Wt.memoizedState,t,e)},useTransition:function(){var t=qu(Ca)[0],e=Ce().memoizedState;return[typeof t=="boolean"?t:zs(t),e]},useSyncExternalStore:Dd,useId:af,useHostTransitionStatus:Dr,useFormState:Gd,useActionState:Gd,useOptimistic:function(t,e){var n=Ce();return _d(n,Wt,t,e)},useMemoCache:br,useCacheRefresh:lf};Rr.useEffectEvent=Zd;var of={readContext:Ke,use:Lu,useCallback:Id,useContext:Ke,useEffect:Ar,useImperativeHandle:Fd,useInsertionEffect:Kd,useLayoutEffect:Jd,useMemo:Wd,useReducer:Mr,useRef:Vd,useState:function(){return Mr(Ca)},useDebugValue:Tr,useDeferredValue:function(t,e){var n=Ce();return Wt===null?Cr(n,t,e):Pd(n,Wt.memoizedState,t,e)},useTransition:function(){var t=Mr(Ca)[0],e=Ce().memoizedState;return[typeof t=="boolean"?t:zs(t),e]},useSyncExternalStore:Dd,useId:af,useHostTransitionStatus:Dr,useFormState:Xd,useActionState:Xd,useOptimistic:function(t,e){var n=Ce();return Wt!==null?_d(n,Wt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:br,useCacheRefresh:lf};of.useEffectEvent=Zd;function jr(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:x({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zr={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=Dn(),l=ul(a);l.payload=e,n!=null&&(l.callback=n),e=cl(t,l,a),e!==null&&(mn(e,t,a),Ds(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=Dn(),l=ul(a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=cl(t,l,a),e!==null&&(mn(e,t,a),Ds(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dn(),a=ul(n);a.tag=2,e!=null&&(a.callback=e),e=cl(t,a,n),e!==null&&(mn(e,t,n),Ds(e,t,n))}};function df(t,e,n,a,l,i,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,i,u):e.prototype&&e.prototype.isPureReactComponent?!Lt(n,a)||!Lt(l,i):!0}function ff(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&zr.enqueueReplaceState(e,e.state,null)}function ti(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=x({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function mf(t){Su(t)}function hf(t){console.error(t)}function pf(t){Su(t)}function Xu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function gf(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Or(t,e,n){return n=ul(n),n.tag=3,n.payload={element:null},n.callback=function(){Xu(t,e)},n}function yf(t){return t=ul(t),t.tag=3,t}function vf(t,e,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var i=a.value;t.payload=function(){return l(i)},t.callback=function(){gf(e,n,a)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){gf(e,n,a),typeof l!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var m=a.stack;this.componentDidCatch(a.value,{componentStack:m!==null?m:""})})}function bp(t,e,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&ji(e,n,l,!0),n=An.current,n!==null){switch(n.tag){case 31:case 13:return Gn===null?ec():n.alternate===null&&Se===0&&(Se=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Ru?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),lo(t,a,l)),!1;case 22:return n.flags|=65536,a===Ru?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),lo(t,a,l)),!1}throw Error(o(435,n.tag))}return lo(t,a,l),ec(),!1}if(Ut)return e=An.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,a!==Wc&&(t=Error(o(422),{cause:a}),Es(Bn(t,n)))):(a!==Wc&&(e=Error(o(423),{cause:a}),Es(Bn(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,a=Bn(a,n),l=Or(t.stateNode,a,l),rr(t,l),Se!==4&&(Se=2)),!1;var i=Error(o(520),{cause:a});if(i=Bn(i,n),Ys===null?Ys=[i]:Ys.push(i),Se!==4&&(Se=2),e===null)return!0;a=Bn(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=Or(n.stateNode,a,t),rr(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(hl===null||!hl.has(i))))return n.flags|=65536,l&=-l,n.lanes|=l,l=yf(l),vf(l,t,n,a),rr(n,l),!1}n=n.return}while(n!==null);return!1}var _r=Error(o(461)),Ne=!1;function Je(t,e,n,a){e.child=t===null?Md(e,null,n,a):Wl(e,t.child,n,a)}function bf(t,e,n,a,l){n=n.render;var i=e.ref;if("ref"in a){var u={};for(var m in a)m!=="ref"&&(u[m]=a[m])}else u=a;return Jl(e),a=pr(t,e,n,u,i,l),m=gr(),t!==null&&!Ne?(yr(t,e,l),wa(t,e,l)):(Ut&&m&&Fc(e),e.flags|=1,Je(t,e,a,l),e.child)}function Sf(t,e,n,a,l){if(t===null){var i=n.type;return typeof i=="function"&&!Kc(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,Mf(t,e,i,a,l)):(t=Au(n.type,null,a,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!Yr(t,l)){var u=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lt,n(u,a)&&t.ref===e.ref)return wa(t,e,l)}return e.flags|=1,t=Ma(i,a),t.ref=e.ref,t.return=e,e.child=t}function Mf(t,e,n,a,l){if(t!==null){var i=t.memoizedProps;if(Lt(i,a)&&t.ref===e.ref)if(Ne=!1,e.pendingProps=a=i,Yr(t,l))(t.flags&131072)!==0&&(Ne=!0);else return e.lanes=t.lanes,wa(t,e,l)}return kr(t,e,n,a,l)}function xf(t,e,n,a){var l=a.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(i=i!==null?i.baseLanes|n:n,t!==null){for(a=e.child=t.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~i}else a=0,e.child=null;return Ef(t,e,i,n,a)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Du(e,i!==null?i.cachePool:null),i!==null?Ad(e,i):dr(),Td(e);else return a=e.lanes=536870912,Ef(t,e,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(Du(e,i.cachePool),Ad(e,i),ol(),e.memoizedState=null):(t!==null&&Du(e,null),dr(),ol());return Je(t,e,l,n),e.child}function ks(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Ef(t,e,n,a,l){var i=ir();return i=i===null?null:{parent:we._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Du(e,null),dr(),Td(e),t!==null&&ji(t,e,a,!0),e.childLanes=l,null}function Vu(t,e){return e=Zu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Af(t,e,n){return Wl(e,t.child,null,n),t=Vu(e,e.pendingProps),t.flags|=2,Tn(e),e.memoizedState=null,t}function Sp(t,e,n){var a=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Ut){if(a.mode==="hidden")return t=Vu(e,a),e.lanes=536870912,ks(null,t);if(mr(e),(t=ce)?(t=Um(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:nl!==null?{id:oa,overflow:da}:null,retryLane:536870912,hydrationErrors:null},n=sd(t),n.return=e,e.child=n,Ze=e,ce=null)):t=null,t===null)throw ll(e);return e.lanes=536870912,null}return Vu(e,a)}var i=t.memoizedState;if(i!==null){var u=i.dehydrated;if(mr(e),l)if(e.flags&256)e.flags&=-257,e=Af(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(o(558));else if(Ne||ji(t,e,n,!1),l=(n&t.childLanes)!==0,Ne||l){if(a=ae,a!==null&&(u=zl(a,n),u!==0&&u!==i.retryLane))throw i.retryLane=u,Vl(t,u),mn(a,t,u),_r;ec(),e=Af(t,e,n)}else t=i.treeContext,ce=Yn(u.nextSibling),Ze=e,Ut=!0,al=null,Hn=!1,t!==null&&rd(e,t),e=Vu(e,a),e.flags|=4096;return e}return t=Ma(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Qu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function kr(t,e,n,a,l){return Jl(e),n=pr(t,e,n,a,void 0,l),a=gr(),t!==null&&!Ne?(yr(t,e,l),wa(t,e,l)):(Ut&&a&&Fc(e),e.flags|=1,Je(t,e,n,l),e.child)}function Tf(t,e,n,a,l,i){return Jl(e),e.updateQueue=null,n=wd(e,a,n,l),Cd(t),a=gr(),t!==null&&!Ne?(yr(t,e,i),wa(t,e,i)):(Ut&&a&&Fc(e),e.flags|=1,Je(t,e,n,i),e.child)}function Cf(t,e,n,a,l){if(Jl(e),e.stateNode===null){var i=wi,u=n.contextType;typeof u=="object"&&u!==null&&(i=Ke(u)),i=new n(a,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=zr,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=a,i.state=e.memoizedState,i.refs={},ur(e),u=n.contextType,i.context=typeof u=="object"&&u!==null?Ke(u):wi,i.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(jr(e,n,u,a),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(u=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),u!==i.state&&zr.enqueueReplaceState(i,i.state,null),Rs(e,a,i,l),Ns(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){i=e.stateNode;var m=e.memoizedProps,M=ti(n,m);i.props=M;var O=i.context,H=n.contextType;u=wi,typeof H=="object"&&H!==null&&(u=Ke(H));var Q=n.getDerivedStateFromProps;H=typeof Q=="function"||typeof i.getSnapshotBeforeUpdate=="function",m=e.pendingProps!==m,H||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(m||O!==u)&&ff(e,i,a,u),sl=!1;var _=e.memoizedState;i.state=_,Rs(e,a,i,l),Ns(),O=e.memoizedState,m||_!==O||sl?(typeof Q=="function"&&(jr(e,n,Q,a),O=e.memoizedState),(M=sl||df(e,n,M,a,_,O,u))?(H||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=O),i.props=a,i.state=O,i.context=u,a=M):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{i=e.stateNode,cr(t,e),u=e.memoizedProps,H=ti(n,u),i.props=H,Q=e.pendingProps,_=i.context,O=n.contextType,M=wi,typeof O=="object"&&O!==null&&(M=Ke(O)),m=n.getDerivedStateFromProps,(O=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==Q||_!==M)&&ff(e,i,a,M),sl=!1,_=e.memoizedState,i.state=_,Rs(e,a,i,l),Ns();var k=e.memoizedState;u!==Q||_!==k||sl||t!==null&&t.dependencies!==null&&Cu(t.dependencies)?(typeof m=="function"&&(jr(e,n,m,a),k=e.memoizedState),(H=sl||df(e,n,H,a,_,k,M)||t!==null&&t.dependencies!==null&&Cu(t.dependencies))?(O||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,k,M),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,k,M)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=k),i.props=a,i.state=k,i.context=M,a=H):(typeof i.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),a=!1)}return i=a,Qu(t,e),a=(e.flags&128)!==0,i||a?(i=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&a?(e.child=Wl(e,t.child,null,l),e.child=Wl(e,null,n,l)):Je(t,e,n,l),e.memoizedState=i.state,t=e.child):t=wa(t,e,l),t}function wf(t,e,n,a){return Zl(),e.flags|=256,Je(t,e,n,a),e.child}var Ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Br(t){return{baseLanes:t,cachePool:pd()}}function Lr(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=wn),t}function Df(t,e,n){var a=e.pendingProps,l=!1,i=(e.flags&128)!==0,u;if((u=i)||(u=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),u&&(l=!0,e.flags&=-129),u=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ut){if(l?rl(e):ol(),(t=ce)?(t=Um(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:nl!==null?{id:oa,overflow:da}:null,retryLane:536870912,hydrationErrors:null},n=sd(t),n.return=e,e.child=n,Ze=e,ce=null)):t=null,t===null)throw ll(e);return Mo(t)?e.lanes=32:e.lanes=536870912,null}var m=a.children;return a=a.fallback,l?(ol(),l=e.mode,m=Zu({mode:"hidden",children:m},l),a=Ql(a,l,n,null),m.return=e,a.return=e,m.sibling=a,e.child=m,a=e.child,a.memoizedState=Br(n),a.childLanes=Lr(t,u,n),e.memoizedState=Ur,ks(null,a)):(rl(e),qr(e,m))}var M=t.memoizedState;if(M!==null&&(m=M.dehydrated,m!==null)){if(i)e.flags&256?(rl(e),e.flags&=-257,e=Hr(t,e,n)):e.memoizedState!==null?(ol(),e.child=t.child,e.flags|=128,e=null):(ol(),m=a.fallback,l=e.mode,a=Zu({mode:"visible",children:a.children},l),m=Ql(m,l,n,null),m.flags|=2,a.return=e,m.return=e,a.sibling=m,e.child=a,Wl(e,t.child,null,n),a=e.child,a.memoizedState=Br(n),a.childLanes=Lr(t,u,n),e.memoizedState=Ur,e=ks(null,a));else if(rl(e),Mo(m)){if(u=m.nextSibling&&m.nextSibling.dataset,u)var O=u.dgst;u=O,a=Error(o(419)),a.stack="",a.digest=u,Es({value:a,source:null,stack:null}),e=Hr(t,e,n)}else if(Ne||ji(t,e,n,!1),u=(n&t.childLanes)!==0,Ne||u){if(u=ae,u!==null&&(a=zl(u,n),a!==0&&a!==M.retryLane))throw M.retryLane=a,Vl(t,a),mn(u,t,a),_r;So(m)||ec(),e=Hr(t,e,n)}else So(m)?(e.flags|=192,e.child=t.child,e=null):(t=M.treeContext,ce=Yn(m.nextSibling),Ze=e,Ut=!0,al=null,Hn=!1,t!==null&&rd(e,t),e=qr(e,a.children),e.flags|=4096);return e}return l?(ol(),m=a.fallback,l=e.mode,M=t.child,O=M.sibling,a=Ma(M,{mode:"hidden",children:a.children}),a.subtreeFlags=M.subtreeFlags&65011712,O!==null?m=Ma(O,m):(m=Ql(m,l,n,null),m.flags|=2),m.return=e,a.return=e,a.sibling=m,e.child=a,ks(null,a),a=e.child,m=t.child.memoizedState,m===null?m=Br(n):(l=m.cachePool,l!==null?(M=we._currentValue,l=l.parent!==M?{parent:M,pool:M}:l):l=pd(),m={baseLanes:m.baseLanes|n,cachePool:l}),a.memoizedState=m,a.childLanes=Lr(t,u,n),e.memoizedState=Ur,ks(t.child,a)):(rl(e),n=t.child,t=n.sibling,n=Ma(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(u=e.deletions,u===null?(e.deletions=[t],e.flags|=16):u.push(t)),e.child=n,e.memoizedState=null,n)}function qr(t,e){return e=Zu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Zu(t,e){return t=En(22,t,null,e),t.lanes=0,t}function Hr(t,e,n){return Wl(e,t.child,null,n),t=qr(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nf(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),er(t.return,e,n)}function Gr(t,e,n,a,l,i){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:i}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=n,u.tailMode=l,u.treeForkCount=i)}function Rf(t,e,n){var a=e.pendingProps,l=a.revealOrder,i=a.tail;a=a.children;var u=Te.current,m=(u&2)!==0;if(m?(u=u&1|2,e.flags|=128):u&=1,et(Te,u),Je(t,e,a,n),a=Ut?xs:0,!m&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nf(t,n,e);else if(t.tag===19)Nf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&_u(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Gr(e,!1,l,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&_u(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Gr(e,!0,n,null,i,a);break;case"together":Gr(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function wa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ml|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(ji(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(o(153));if(e.child!==null){for(t=e.child,n=Ma(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ma(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Yr(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Cu(t)))}function Mp(t,e,n){switch(e.tag){case 3:Xe(e,e.stateNode.containerInfo),il(e,we,t.memoizedState.cache),Zl();break;case 27:case 5:Ba(e);break;case 4:Xe(e,e.stateNode.containerInfo);break;case 10:il(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,mr(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(rl(e),e.flags|=128,null):(n&e.child.childLanes)!==0?Df(t,e,n):(rl(e),t=wa(t,e,n),t!==null?t.sibling:null);rl(e);break;case 19:var l=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(ji(t,e,n,!1),a=(n&e.childLanes)!==0),l){if(a)return Rf(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),et(Te,Te.current),a)break;return null;case 22:return e.lanes=0,xf(t,e,n,e.pendingProps);case 24:il(e,we,t.memoizedState.cache)}return wa(t,e,n)}function jf(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ne=!0;else{if(!Yr(t,n)&&(e.flags&128)===0)return Ne=!1,Mp(t,e,n);Ne=(t.flags&131072)!==0}else Ne=!1,Ut&&(e.flags&1048576)!==0&&cd(e,xs,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=Fl(e.elementType),e.type=t,typeof t=="function")Kc(t)?(a=ti(t,a),e.tag=1,e=Cf(null,e,t,a,n)):(e.tag=0,e=kr(null,e,t,a,n));else{if(t!=null){var l=t.$$typeof;if(l===Y){e.tag=11,e=bf(null,e,t,a,n);break t}else if(l===K){e.tag=14,e=Sf(null,e,t,a,n);break t}}throw e=ee(t)||t,Error(o(306,e,""))}}return e;case 0:return kr(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,l=ti(a,e.pendingProps),Cf(t,e,a,l,n);case 3:t:{if(Xe(e,e.stateNode.containerInfo),t===null)throw Error(o(387));a=e.pendingProps;var i=e.memoizedState;l=i.element,cr(t,e),Rs(e,a,null,n);var u=e.memoizedState;if(a=u.cache,il(e,we,a),a!==i.cache&&nr(e,[we],n,!0),Ns(),a=u.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:u.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=wf(t,e,a,n);break t}else if(a!==l){l=Bn(Error(o(424)),e),Es(l),e=wf(t,e,a,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ce=Yn(t.firstChild),Ze=e,Ut=!0,al=null,Hn=!0,n=Md(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Zl(),a===l){e=wa(t,e,n);break t}Je(t,e,a,n)}e=e.child}return e;case 26:return Qu(t,e),t===null?(n=Ym(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ut||(n=e.type,t=e.pendingProps,a=cc(Dt.current).createElement(n),a[ne]=e,a[ke]=t,$e(a,n,t),oe(a),e.stateNode=a):e.memoizedState=Ym(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Ba(e),t===null&&Ut&&(a=e.stateNode=qm(e.type,e.pendingProps,Dt.current),Ze=e,Hn=!0,l=ce,vl(e.type)?(xo=l,ce=Yn(a.firstChild)):ce=l),Je(t,e,e.pendingProps.children,n),Qu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ut&&((l=a=ce)&&(a=Ip(a,e.type,e.pendingProps,Hn),a!==null?(e.stateNode=a,Ze=e,ce=Yn(a.firstChild),Hn=!1,l=!0):l=!1),l||ll(e)),Ba(e),l=e.type,i=e.pendingProps,u=t!==null?t.memoizedProps:null,a=i.children,yo(l,i)?a=null:u!==null&&yo(l,u)&&(e.flags|=32),e.memoizedState!==null&&(l=pr(t,e,fp,null,null,n),Fs._currentValue=l),Qu(t,e),Je(t,e,a,n),e.child;case 6:return t===null&&Ut&&((t=n=ce)&&(n=Wp(n,e.pendingProps,Hn),n!==null?(e.stateNode=n,Ze=e,ce=null,t=!0):t=!1),t||ll(e)),null;case 13:return Df(t,e,n);case 4:return Xe(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=Wl(e,null,a,n):Je(t,e,a,n),e.child;case 11:return bf(t,e,e.type,e.pendingProps,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,il(e,e.type,a.value),Je(t,e,a.children,n),e.child;case 9:return l=e.type._context,a=e.pendingProps.children,Jl(e),l=Ke(l),a=a(l),e.flags|=1,Je(t,e,a,n),e.child;case 14:return Sf(t,e,e.type,e.pendingProps,n);case 15:return Mf(t,e,e.type,e.pendingProps,n);case 19:return Rf(t,e,n);case 31:return Sp(t,e,n);case 22:return xf(t,e,n,e.pendingProps);case 24:return Jl(e),a=Ke(we),t===null?(l=ir(),l===null&&(l=ae,i=ar(),l.pooledCache=i,i.refCount++,i!==null&&(l.pooledCacheLanes|=n),l=i),e.memoizedState={parent:a,cache:l},ur(e),il(e,we,l)):((t.lanes&n)!==0&&(cr(t,e),Rs(e,null,null,n),Ns()),l=t.memoizedState,i=e.memoizedState,l.parent!==a?(l={parent:a,cache:a},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),il(e,we,a)):(a=i.cache,il(e,we,a),a!==l.cache&&nr(e,[we],n,!0))),Je(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(o(156,e.tag))}function Da(t){t.flags|=4}function Xr(t,e,n,a,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(lm())t.flags|=8192;else throw Il=Ru,sr}else t.flags&=-16777217}function zf(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Km(e))if(lm())t.flags|=8192;else throw Il=Ru,sr}function Ku(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?oi():536870912,t.lanes|=e,Xi|=e)}function Us(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function re(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function xp(t,e,n){var a=e.pendingProps;switch(Ic(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(e),null;case 1:return re(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Aa(we),ie(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ri(e)?Da(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Pc())),re(e),null;case 26:var l=e.type,i=e.memoizedState;return t===null?(Da(e),i!==null?(re(e),zf(e,i)):(re(e),Xr(e,l,null,a,n))):i?i!==t.memoizedState?(Da(e),re(e),zf(e,i)):(re(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&Da(e),re(e),Xr(e,l,t,a,n)),null;case 27:if(Vn(e),n=Dt.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Da(e);else{if(!a){if(e.stateNode===null)throw Error(o(166));return re(e),null}t=at.current,Ri(e)?od(e):(t=qm(l,a,n),e.stateNode=t,Da(e))}return re(e),null;case 5:if(Vn(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Da(e);else{if(!a){if(e.stateNode===null)throw Error(o(166));return re(e),null}if(i=at.current,Ri(e))od(e);else{var u=cc(Dt.current);switch(i){case 1:i=u.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=u.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=u.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?u.createElement(l,{is:a.is}):u.createElement(l)}}i[ne]=e,i[ke]=a;t:for(u=e.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break t;for(;u.sibling===null;){if(u.return===null||u.return===e)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}e.stateNode=i;t:switch($e(i,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Da(e)}}return re(e),Xr(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Da(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(o(166));if(t=Dt.current,Ri(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,l=Ze,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}t[ne]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||Dm(t.nodeValue,n)),t||ll(e,!0)}else t=cc(t).createTextNode(a),t[ne]=e,e.stateNode=t}return re(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=Ri(e),n!==null){if(t===null){if(!a)throw Error(o(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[ne]=e}else Zl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;re(e),t=!1}else n=Pc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Tn(e),e):(Tn(e),null);if((e.flags&128)!==0)throw Error(o(558))}return re(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Ri(e),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(o(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));l[ne]=e}else Zl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;re(e),l=!1}else l=Pc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Tn(e),e):(Tn(e),null)}return Tn(e),(e.flags&128)!==0?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Ku(e,e.updateQueue),re(e),null);case 4:return ie(),t===null&&fo(e.stateNode.containerInfo),re(e),null;case 10:return Aa(e.type),re(e),null;case 19:if(B(Te),a=e.memoizedState,a===null)return re(e),null;if(l=(e.flags&128)!==0,i=a.rendering,i===null)if(l)Us(a,!1);else{if(Se!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(i=_u(t),i!==null){for(e.flags|=128,Us(a,!1),t=i.updateQueue,e.updateQueue=t,Ku(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)id(n,t),n=n.sibling;return et(Te,Te.current&1|2),Ut&&xa(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&me()>Wu&&(e.flags|=128,l=!0,Us(a,!1),e.lanes=4194304)}else{if(!l)if(t=_u(i),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,Ku(e,t),Us(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Ut)return re(e),null}else 2*me()-a.renderingStartTime>Wu&&n!==536870912&&(e.flags|=128,l=!0,Us(a,!1),e.lanes=4194304);a.isBackwards?(i.sibling=e.child,e.child=i):(t=a.last,t!==null?t.sibling=i:e.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=me(),t.sibling=null,n=Te.current,et(Te,l?n&1|2:n&1),Ut&&xa(e,a.treeForkCount),t):(re(e),null);case 22:case 23:return Tn(e),fr(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(re(e),e.subtreeFlags&6&&(e.flags|=8192)):re(e),n=e.updateQueue,n!==null&&Ku(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&B($l),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Aa(we),re(e),null;case 25:return null;case 30:return null}throw Error(o(156,e.tag))}function Ep(t,e){switch(Ic(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Aa(we),ie(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Vn(e),null;case 31:if(e.memoizedState!==null){if(Tn(e),e.alternate===null)throw Error(o(340));Zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Tn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(o(340));Zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return B(Te),null;case 4:return ie(),null;case 10:return Aa(e.type),null;case 22:case 23:return Tn(e),fr(),t!==null&&B($l),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Aa(we),null;case 25:return null;default:return null}}function Of(t,e){switch(Ic(e),e.tag){case 3:Aa(we),ie();break;case 26:case 27:case 5:Vn(e);break;case 4:ie();break;case 31:e.memoizedState!==null&&Tn(e);break;case 13:Tn(e);break;case 19:B(Te);break;case 10:Aa(e.type);break;case 22:case 23:Tn(e),fr(),t!==null&&B($l);break;case 24:Aa(we)}}function Bs(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&t)===t){a=void 0;var i=n.create,u=n.inst;a=i(),u.destroy=a}n=n.next}while(n!==l)}}catch(m){Ft(e,e.return,m)}}function dl(t,e,n){try{var a=e.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var i=l.next;a=i;do{if((a.tag&t)===t){var u=a.inst,m=u.destroy;if(m!==void 0){u.destroy=void 0,l=e;var M=n,O=m;try{O()}catch(H){Ft(l,M,H)}}}a=a.next}while(a!==i)}}catch(H){Ft(e,e.return,H)}}function _f(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Ed(e,n)}catch(a){Ft(t,t.return,a)}}}function kf(t,e,n){n.props=ti(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){Ft(t,e,a)}}function Ls(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(l){Ft(t,e,l)}}function fa(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){Ft(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Ft(t,e,l)}else n.current=null}function Uf(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){Ft(t,t.return,l)}}function Vr(t,e,n){try{var a=t.stateNode;Qp(a,t.type,n,e),a[ke]=e}catch(l){Ft(t,t.return,l)}}function Bf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vl(t.type)||t.tag===4}function Qr(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Bf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vl(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zr(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mn));else if(a!==4&&(a===27&&vl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Zr(t,e,n),t=t.sibling;t!==null;)Zr(t,e,n),t=t.sibling}function Ju(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&vl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ju(t,e,n),t=t.sibling;t!==null;)Ju(t,e,n),t=t.sibling}function Lf(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);$e(e,a,n),e[ne]=t,e[ke]=n}catch(i){Ft(t,t.return,i)}}var Na=!1,Re=!1,Kr=!1,qf=typeof WeakSet=="function"?WeakSet:Set,He=null;function Ap(t,e){if(t=t.containerInfo,po=pc,t=It(t),ve(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break t}var u=0,m=-1,M=-1,O=0,H=0,Q=t,_=null;e:for(;;){for(var k;Q!==n||l!==0&&Q.nodeType!==3||(m=u+l),Q!==i||a!==0&&Q.nodeType!==3||(M=u+a),Q.nodeType===3&&(u+=Q.nodeValue.length),(k=Q.firstChild)!==null;)_=Q,Q=k;for(;;){if(Q===t)break e;if(_===n&&++O===l&&(m=u),_===i&&++H===a&&(M=u),(k=Q.nextSibling)!==null)break;Q=_,_=Q.parentNode}Q=k}n=m===-1||M===-1?null:{start:m,end:M}}else n=null}n=n||{start:0,end:0}}else n=null;for(go={focusedElem:t,selectionRange:n},pc=!1,He=e;He!==null;)if(e=He,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,He=t;else for(;He!==null;){switch(e=He,i=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)l=t[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&i!==null){t=void 0,n=e,l=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var st=ti(n.type,l);t=a.getSnapshotBeforeUpdate(st,i),a.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Ft(n,n.return,yt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)bo(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bo(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}}function Hf(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ja(t,n),a&4&&Bs(5,n);break;case 1:if(ja(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(u){Ft(n,n.return,u)}else{var l=ti(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(u){Ft(n,n.return,u)}}a&64&&_f(n),a&512&&Ls(n,n.return);break;case 3:if(ja(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Ed(t,e)}catch(u){Ft(n,n.return,u)}}break;case 27:e===null&&a&4&&Lf(n);case 26:case 5:ja(t,n),e===null&&a&4&&Uf(n),a&512&&Ls(n,n.return);break;case 12:ja(t,n);break;case 31:ja(t,n),a&4&&Xf(t,n);break;case 13:ja(t,n),a&4&&Vf(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Op.bind(null,n),Pp(t,n))));break;case 22:if(a=n.memoizedState!==null||Na,!a){e=e!==null&&e.memoizedState!==null||Re,l=Na;var i=Re;Na=a,(Re=e)&&!i?za(t,n,(n.subtreeFlags&8772)!==0):ja(t,n),Na=l,Re=i}break;case 30:break;default:ja(t,n)}}function Gf(t){var e=t.alternate;e!==null&&(t.alternate=null,Gf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&fi(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fe=null,rn=!1;function Ra(t,e,n){for(n=n.child;n!==null;)Yf(t,e,n),n=n.sibling}function Yf(t,e,n){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(aa,n)}catch{}switch(n.tag){case 26:Re||fa(n,e),Ra(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Re||fa(n,e);var a=fe,l=rn;vl(n.type)&&(fe=n.stateNode,rn=!1),Ra(t,e,n),Ks(n.stateNode),fe=a,rn=l;break;case 5:Re||fa(n,e);case 6:if(a=fe,l=rn,fe=null,Ra(t,e,n),fe=a,rn=l,fe!==null)if(rn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(n.stateNode)}catch(i){Ft(n,e,i)}else try{fe.removeChild(n.stateNode)}catch(i){Ft(n,e,i)}break;case 18:fe!==null&&(rn?(t=fe,_m(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ii(t)):_m(fe,n.stateNode));break;case 4:a=fe,l=rn,fe=n.stateNode.containerInfo,rn=!0,Ra(t,e,n),fe=a,rn=l;break;case 0:case 11:case 14:case 15:dl(2,n,e),Re||dl(4,n,e),Ra(t,e,n);break;case 1:Re||(fa(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&kf(n,e,a)),Ra(t,e,n);break;case 21:Ra(t,e,n);break;case 22:Re=(a=Re)||n.memoizedState!==null,Ra(t,e,n),Re=a;break;default:Ra(t,e,n)}}function Xf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ii(t)}catch(n){Ft(e,e.return,n)}}}function Vf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ii(t)}catch(n){Ft(e,e.return,n)}}function Tp(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new qf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new qf),e;default:throw Error(o(435,t.tag))}}function $u(t,e){var n=Tp(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var l=_p.bind(null,t,a);a.then(l,l)}})}function on(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],i=t,u=e,m=u;t:for(;m!==null;){switch(m.tag){case 27:if(vl(m.type)){fe=m.stateNode,rn=!1;break t}break;case 5:fe=m.stateNode,rn=!1;break t;case 3:case 4:fe=m.stateNode.containerInfo,rn=!0;break t}m=m.return}if(fe===null)throw Error(o(160));Yf(i,u,l),fe=null,rn=!1,i=l.alternate,i!==null&&(i.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Qf(e,t),e=e.sibling}var ta=null;function Qf(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(e,t),dn(t),a&4&&(dl(3,t,t.return),Bs(3,t),dl(5,t,t.return));break;case 1:on(e,t),dn(t),a&512&&(Re||n===null||fa(n,n.return)),a&64&&Na&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=ta;if(on(e,t),dn(t),a&512&&(Re||n===null||fa(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,l=l.ownerDocument||l;e:switch(a){case"title":i=l.getElementsByTagName("title")[0],(!i||i[Ue]||i[ne]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=l.createElement(a),l.head.insertBefore(i,l.querySelector("head > title"))),$e(i,a,n),i[ne]=t,oe(i),a=i;break t;case"link":var u=Qm("link","href",l).get(a+(n.href||""));if(u){for(var m=0;m<u.length;m++)if(i=u[m],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(m,1);break e}}i=l.createElement(a),$e(i,a,n),l.head.appendChild(i);break;case"meta":if(u=Qm("meta","content",l).get(a+(n.content||""))){for(m=0;m<u.length;m++)if(i=u[m],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(m,1);break e}}i=l.createElement(a),$e(i,a,n),l.head.appendChild(i);break;default:throw Error(o(468,a))}i[ne]=t,oe(i),a=i}t.stateNode=a}else Zm(l,t.type,t.stateNode);else t.stateNode=Vm(l,a,t.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?Zm(l,t.type,t.stateNode):Vm(l,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Vr(t,t.memoizedProps,n.memoizedProps)}break;case 27:on(e,t),dn(t),a&512&&(Re||n===null||fa(n,n.return)),n!==null&&a&4&&Vr(t,t.memoizedProps,n.memoizedProps);break;case 5:if(on(e,t),dn(t),a&512&&(Re||n===null||fa(n,n.return)),t.flags&32){l=t.stateNode;try{an(l,"")}catch(st){Ft(t,t.return,st)}}a&4&&t.stateNode!=null&&(l=t.memoizedProps,Vr(t,l,n!==null?n.memoizedProps:l)),a&1024&&(Kr=!0);break;case 6:if(on(e,t),dn(t),a&4){if(t.stateNode===null)throw Error(o(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(st){Ft(t,t.return,st)}}break;case 3:if(dc=null,l=ta,ta=rc(e.containerInfo),on(e,t),ta=l,dn(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ii(e.containerInfo)}catch(st){Ft(t,t.return,st)}Kr&&(Kr=!1,Zf(t));break;case 4:a=ta,ta=rc(t.stateNode.containerInfo),on(e,t),dn(t),ta=a;break;case 12:on(e,t),dn(t);break;case 31:on(e,t),dn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,$u(t,a)));break;case 13:on(e,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Iu=me()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,$u(t,a)));break;case 22:l=t.memoizedState!==null;var M=n!==null&&n.memoizedState!==null,O=Na,H=Re;if(Na=O||l,Re=H||M,on(e,t),Re=H,Na=O,dn(t),a&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||M||Na||Re||ei(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){M=n=e;try{if(i=M.stateNode,l)u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{m=M.stateNode;var Q=M.memoizedProps.style,_=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;m.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(st){Ft(M,M.return,st)}}}else if(e.tag===6){if(n===null){M=e;try{M.stateNode.nodeValue=l?"":M.memoizedProps}catch(st){Ft(M,M.return,st)}}}else if(e.tag===18){if(n===null){M=e;try{var k=M.stateNode;l?km(k,!0):km(M.stateNode,!1)}catch(st){Ft(M,M.return,st)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,$u(t,n))));break;case 19:on(e,t),dn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,$u(t,a)));break;case 30:break;case 21:break;default:on(e,t),dn(t)}}function dn(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(Bf(a)){n=a;break}a=a.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var l=n.stateNode,i=Qr(t);Ju(t,i,l);break;case 5:var u=n.stateNode;n.flags&32&&(an(u,""),n.flags&=-33);var m=Qr(t);Ju(t,m,u);break;case 3:case 4:var M=n.stateNode.containerInfo,O=Qr(t);Zr(t,O,M);break;default:throw Error(o(161))}}catch(H){Ft(t,t.return,H)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zf(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Zf(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ja(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Hf(t,e.alternate,e),e=e.sibling}function ei(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:dl(4,e,e.return),ei(e);break;case 1:fa(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&kf(e,e.return,n),ei(e);break;case 27:Ks(e.stateNode);case 26:case 5:fa(e,e.return),ei(e);break;case 22:e.memoizedState===null&&ei(e);break;case 30:ei(e);break;default:ei(e)}t=t.sibling}}function za(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,l=t,i=e,u=i.flags;switch(i.tag){case 0:case 11:case 15:za(l,i,n),Bs(4,i);break;case 1:if(za(l,i,n),a=i,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(O){Ft(a,a.return,O)}if(a=i,l=a.updateQueue,l!==null){var m=a.stateNode;try{var M=l.shared.hiddenCallbacks;if(M!==null)for(l.shared.hiddenCallbacks=null,l=0;l<M.length;l++)xd(M[l],m)}catch(O){Ft(a,a.return,O)}}n&&u&64&&_f(i),Ls(i,i.return);break;case 27:Lf(i);case 26:case 5:za(l,i,n),n&&a===null&&u&4&&Uf(i),Ls(i,i.return);break;case 12:za(l,i,n);break;case 31:za(l,i,n),n&&u&4&&Xf(l,i);break;case 13:za(l,i,n),n&&u&4&&Vf(l,i);break;case 22:i.memoizedState===null&&za(l,i,n),Ls(i,i.return);break;case 30:break;default:za(l,i,n)}e=e.sibling}}function Jr(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&As(n))}function $r(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&As(t))}function ea(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kf(t,e,n,a),e=e.sibling}function Kf(t,e,n,a){var l=e.flags;switch(e.tag){case 0:case 11:case 15:ea(t,e,n,a),l&2048&&Bs(9,e);break;case 1:ea(t,e,n,a);break;case 3:ea(t,e,n,a),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&As(t)));break;case 12:if(l&2048){ea(t,e,n,a),t=e.stateNode;try{var i=e.memoizedProps,u=i.id,m=i.onPostCommit;typeof m=="function"&&m(u,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Ft(e,e.return,M)}}else ea(t,e,n,a);break;case 31:ea(t,e,n,a);break;case 13:ea(t,e,n,a);break;case 23:break;case 22:i=e.stateNode,u=e.alternate,e.memoizedState!==null?i._visibility&2?ea(t,e,n,a):qs(t,e):i._visibility&2?ea(t,e,n,a):(i._visibility|=2,Hi(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),l&2048&&Jr(u,e);break;case 24:ea(t,e,n,a),l&2048&&$r(e.alternate,e);break;default:ea(t,e,n,a)}}function Hi(t,e,n,a,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,u=e,m=n,M=a,O=u.flags;switch(u.tag){case 0:case 11:case 15:Hi(i,u,m,M,l),Bs(8,u);break;case 23:break;case 22:var H=u.stateNode;u.memoizedState!==null?H._visibility&2?Hi(i,u,m,M,l):qs(i,u):(H._visibility|=2,Hi(i,u,m,M,l)),l&&O&2048&&Jr(u.alternate,u);break;case 24:Hi(i,u,m,M,l),l&&O&2048&&$r(u.alternate,u);break;default:Hi(i,u,m,M,l)}e=e.sibling}}function qs(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,l=a.flags;switch(a.tag){case 22:qs(n,a),l&2048&&Jr(a.alternate,a);break;case 24:qs(n,a),l&2048&&$r(a.alternate,a);break;default:qs(n,a)}e=e.sibling}}var Hs=8192;function Gi(t,e,n){if(t.subtreeFlags&Hs)for(t=t.child;t!==null;)Jf(t,e,n),t=t.sibling}function Jf(t,e,n){switch(t.tag){case 26:Gi(t,e,n),t.flags&Hs&&t.memoizedState!==null&&dg(n,ta,t.memoizedState,t.memoizedProps);break;case 5:Gi(t,e,n);break;case 3:case 4:var a=ta;ta=rc(t.stateNode.containerInfo),Gi(t,e,n),ta=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Hs,Hs=16777216,Gi(t,e,n),Hs=a):Gi(t,e,n));break;default:Gi(t,e,n)}}function $f(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Gs(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];He=a,If(a,t)}$f(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ff(t),t=t.sibling}function Ff(t){switch(t.tag){case 0:case 11:case 15:Gs(t),t.flags&2048&&dl(9,t,t.return);break;case 3:Gs(t);break;case 12:Gs(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Fu(t)):Gs(t);break;default:Gs(t)}}function Fu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];He=a,If(a,t)}$f(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:dl(8,e,e.return),Fu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Fu(e));break;default:Fu(e)}t=t.sibling}}function If(t,e){for(;He!==null;){var n=He;switch(n.tag){case 0:case 11:case 15:dl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:As(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,He=a;else t:for(n=t;He!==null;){a=He;var l=a.sibling,i=a.return;if(Gf(a),a===n){He=null;break t}if(l!==null){l.return=i,He=l;break t}He=i}}}var Cp={getCacheForType:function(t){var e=Ke(we),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Ke(we).controller.signal}},wp=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ae=null,jt=null,Ot=0,$t=0,Cn=null,fl=!1,Yi=!1,Fr=!1,Oa=0,Se=0,ml=0,ni=0,Ir=0,wn=0,Xi=0,Ys=null,fn=null,Wr=!1,Iu=0,Wf=0,Wu=1/0,Pu=null,hl=null,ze=0,pl=null,Vi=null,_a=0,Pr=0,to=null,Pf=null,Xs=0,eo=null;function Dn(){return(Qt&2)!==0&&Ot!==0?Ot&-Ot:U.T!==null?uo():as()}function tm(){if(wn===0)if((Ot&536870912)===0||Ut){var t=Ha;Ha<<=1,(Ha&3932160)===0&&(Ha=262144),wn=t}else wn=536870912;return t=An.current,t!==null&&(t.flags|=32),wn}function mn(t,e,n){(t===ae&&($t===2||$t===9)||t.cancelPendingCommit!==null)&&(Qi(t,0),gl(t,Ot,wn,!1)),yn(t,n),((Qt&2)===0||t!==ae)&&(t===ae&&((Qt&2)===0&&(ni|=n),Se===4&&gl(t,Ot,wn,!1)),ma(t))}function em(t,e,n){if((Qt&6)!==0)throw Error(o(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Ga(t,e),l=a?Rp(t,e):ao(t,e,!0),i=a;do{if(l===0){Yi&&!a&&gl(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!Dp(n)){l=ao(t,e,!1),i=!1;continue}if(l===2){if(i=e,t.errorRecoveryDisabledLanes&i)var u=0;else u=t.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){e=u;t:{var m=t;l=Ys;var M=m.current.memoizedState.isDehydrated;if(M&&(Qi(m,u).flags|=256),u=ao(m,u,!1),u!==2){if(Fr&&!M){m.errorRecoveryDisabledLanes|=i,ni|=i,l=4;break t}i=fn,fn=l,i!==null&&(fn===null?fn=i:fn.push.apply(fn,i))}l=u}if(i=!1,l!==2)continue}}if(l===1){Qi(t,0),gl(t,e,0,!0);break}t:{switch(a=t,i=l,i){case 0:case 1:throw Error(o(345));case 4:if((e&4194048)!==e)break;case 6:gl(a,e,wn,!fl);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((e&62914560)===e&&(l=Iu+300-me(),10<l)){if(gl(a,e,wn,!fl),Rl(a,0,!0)!==0)break t;_a=e,a.timeoutHandle=zm(nm.bind(null,a,n,fn,Pu,Wr,e,wn,ni,Xi,fl,i,"Throttled",-0,0),l);break t}nm(a,n,fn,Pu,Wr,e,wn,ni,Xi,fl,i,null,-0,0)}}break}while(!0);ma(t)}function nm(t,e,n,a,l,i,u,m,M,O,H,Q,_,k){if(t.timeoutHandle=-1,Q=e.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},Jf(e,i,Q);var st=(i&62914560)===i?Iu-me():(i&4194048)===i?Wf-me():0;if(st=fg(Q,st),st!==null){_a=i,t.cancelPendingCommit=st(om.bind(null,t,e,i,n,a,l,u,m,M,H,Q,null,_,k)),gl(t,i,u,!O);return}}om(t,e,i,n,a,l,u,m,M)}function Dp(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],i=l.getSnapshot;l=l.value;try{if(!Jt(i(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gl(t,e,n,a){e&=~Ir,e&=~ni,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var l=e;0<l;){var i=31-Ie(l),u=1<<i;a[i]=-1,l&=~u}n!==0&&di(t,n,e)}function tc(){return(Qt&6)===0?(Vs(0),!1):!0}function no(){if(jt!==null){if($t===0)var t=jt.return;else t=jt,Ea=Kl=null,vr(t),ki=null,Cs=0,t=jt;for(;t!==null;)Of(t.alternate,t),t=t.return;jt=null}}function Qi(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Jp(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),_a=0,no(),ae=t,jt=n=Ma(t.current,null),Ot=e,$t=0,Cn=null,fl=!1,Yi=Ga(t,e),Fr=!1,Xi=wn=Ir=ni=ml=Se=0,fn=Ys=null,Wr=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var l=31-Ie(a),i=1<<l;e|=t[l],a&=~i}return Oa=e,Mu(),n}function am(t,e){wt=null,U.H=_s,e===_i||e===Nu?(e=vd(),$t=3):e===sr?(e=vd(),$t=4):$t=e===_r?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Cn=e,jt===null&&(Se=1,Xu(t,Bn(e,t.current)))}function lm(){var t=An.current;return t===null?!0:(Ot&4194048)===Ot?Gn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?t===Gn:!1}function im(){var t=U.H;return U.H=_s,t===null?_s:t}function sm(){var t=U.A;return U.A=Cp,t}function ec(){Se=4,fl||(Ot&4194048)!==Ot&&An.current!==null||(Yi=!0),(ml&134217727)===0&&(ni&134217727)===0||ae===null||gl(ae,Ot,wn,!1)}function ao(t,e,n){var a=Qt;Qt|=2;var l=im(),i=sm();(ae!==t||Ot!==e)&&(Pu=null,Qi(t,e)),e=!1;var u=Se;t:do try{if($t!==0&&jt!==null){var m=jt,M=Cn;switch($t){case 8:no(),u=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(e=!0);var O=$t;if($t=0,Cn=null,Zi(t,m,M,O),n&&Yi){u=0;break t}break;default:O=$t,$t=0,Cn=null,Zi(t,m,M,O)}}Np(),u=Se;break}catch(H){am(t,H)}while(!0);return e&&t.shellSuspendCounter++,Ea=Kl=null,Qt=a,U.H=l,U.A=i,jt===null&&(ae=null,Ot=0,Mu()),u}function Np(){for(;jt!==null;)um(jt)}function Rp(t,e){var n=Qt;Qt|=2;var a=im(),l=sm();ae!==t||Ot!==e?(Pu=null,Wu=me()+500,Qi(t,e)):Yi=Ga(t,e);t:do try{if($t!==0&&jt!==null){e=jt;var i=Cn;e:switch($t){case 1:$t=0,Cn=null,Zi(t,e,i,1);break;case 2:case 9:if(gd(i)){$t=0,Cn=null,cm(e);break}e=function(){$t!==2&&$t!==9||ae!==t||($t=7),ma(t)},i.then(e,e);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:gd(i)?($t=0,Cn=null,cm(e)):($t=0,Cn=null,Zi(t,e,i,7));break;case 5:var u=null;switch(jt.tag){case 26:u=jt.memoizedState;case 5:case 27:var m=jt;if(u?Km(u):m.stateNode.complete){$t=0,Cn=null;var M=m.sibling;if(M!==null)jt=M;else{var O=m.return;O!==null?(jt=O,nc(O)):jt=null}break e}}$t=0,Cn=null,Zi(t,e,i,5);break;case 6:$t=0,Cn=null,Zi(t,e,i,6);break;case 8:no(),Se=6;break t;default:throw Error(o(462))}}jp();break}catch(H){am(t,H)}while(!0);return Ea=Kl=null,U.H=a,U.A=l,Qt=n,jt!==null?0:(ae=null,Ot=0,Mu(),Se)}function jp(){for(;jt!==null&&!su();)um(jt)}function um(t){var e=jf(t.alternate,t,Oa);t.memoizedProps=t.pendingProps,e===null?nc(t):jt=e}function cm(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Tf(n,e,e.pendingProps,e.type,void 0,Ot);break;case 11:e=Tf(n,e,e.pendingProps,e.type.render,e.ref,Ot);break;case 5:vr(e);default:Of(n,e),e=jt=id(e,Oa),e=jf(n,e,Oa)}t.memoizedProps=t.pendingProps,e===null?nc(t):jt=e}function Zi(t,e,n,a){Ea=Kl=null,vr(e),ki=null,Cs=0;var l=e.return;try{if(bp(t,l,e,n,Ot)){Se=1,Xu(t,Bn(n,t.current)),jt=null;return}}catch(i){if(l!==null)throw jt=l,i;Se=1,Xu(t,Bn(n,t.current)),jt=null;return}e.flags&32768?(Ut||a===1?t=!0:Yi||(Ot&536870912)!==0?t=!1:(fl=t=!0,(a===2||a===9||a===3||a===6)&&(a=An.current,a!==null&&a.tag===13&&(a.flags|=16384))),rm(e,t)):nc(e)}function nc(t){var e=t;do{if((e.flags&32768)!==0){rm(e,fl);return}t=e.return;var n=xp(e.alternate,e,Oa);if(n!==null){jt=n;return}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);Se===0&&(Se=5)}function rm(t,e){do{var n=Ep(t.alternate,t);if(n!==null){n.flags&=32767,jt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){jt=t;return}jt=t=n}while(t!==null);Se=6,jt=null}function om(t,e,n,a,l,i,u,m,M){t.cancelPendingCommit=null;do ac();while(ze!==0);if((Qt&6)!==0)throw Error(o(327));if(e!==null){if(e===t.current)throw Error(o(177));if(i=e.lanes|e.childLanes,i|=Qc,jl(t,n,i,u,m,M),t===ae&&(jt=ae=null,Ot=0),Vi=e,pl=t,_a=n,Pr=i,to=l,Pf=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kp(pa,function(){return pm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=U.T,U.T=null,l=P.p,P.p=2,u=Qt,Qt|=4;try{Ap(t,e,n)}finally{Qt=u,P.p=l,U.T=a}}ze=1,dm(),fm(),mm()}}function dm(){if(ze===1){ze=0;var t=pl,e=Vi,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=U.T,U.T=null;var a=P.p;P.p=2;var l=Qt;Qt|=4;try{Qf(e,t);var i=go,u=It(t.containerInfo),m=i.focusedElem,M=i.selectionRange;if(u!==m&&m&&m.ownerDocument&&Et(m.ownerDocument.documentElement,m)){if(M!==null&&ve(m)){var O=M.start,H=M.end;if(H===void 0&&(H=O),"selectionStart"in m)m.selectionStart=O,m.selectionEnd=Math.min(H,m.value.length);else{var Q=m.ownerDocument||document,_=Q&&Q.defaultView||window;if(_.getSelection){var k=_.getSelection(),st=m.textContent.length,yt=Math.min(M.start,st),te=M.end===void 0?yt:Math.min(M.end,st);!k.extend&&yt>te&&(u=te,te=yt,yt=u);var D=_n(m,yt),T=_n(m,te);if(D&&T&&(k.rangeCount!==1||k.anchorNode!==D.node||k.anchorOffset!==D.offset||k.focusNode!==T.node||k.focusOffset!==T.offset)){var j=Q.createRange();j.setStart(D.node,D.offset),k.removeAllRanges(),yt>te?(k.addRange(j),k.extend(T.node,T.offset)):(j.setEnd(T.node,T.offset),k.addRange(j))}}}}for(Q=[],k=m;k=k.parentNode;)k.nodeType===1&&Q.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<Q.length;m++){var G=Q[m];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}pc=!!po,go=po=null}finally{Qt=l,P.p=a,U.T=n}}t.current=e,ze=2}}function fm(){if(ze===2){ze=0;var t=pl,e=Vi,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=U.T,U.T=null;var a=P.p;P.p=2;var l=Qt;Qt|=4;try{Hf(t,e.alternate,e)}finally{Qt=l,P.p=a,U.T=n}}ze=3}}function mm(){if(ze===4||ze===3){ze=0,ui();var t=pl,e=Vi,n=_a,a=Pf;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ze=5:(ze=0,Vi=pl=null,hm(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(hl=null),vn(n),e=e.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(aa,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=U.T,l=P.p,P.p=2,U.T=null;try{for(var i=t.onRecoverableError,u=0;u<a.length;u++){var m=a[u];i(m.value,{componentStack:m.stack})}}finally{U.T=e,P.p=l}}(_a&3)!==0&&ac(),ma(t),l=t.pendingLanes,(n&261930)!==0&&(l&42)!==0?t===eo?Xs++:(Xs=0,eo=t):Xs=0,Vs(0)}}function hm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,As(e)))}function ac(){return dm(),fm(),mm(),pm()}function pm(){if(ze!==5)return!1;var t=pl,e=Pr;Pr=0;var n=vn(_a),a=U.T,l=P.p;try{P.p=32>n?32:n,U.T=null,n=to,to=null;var i=pl,u=_a;if(ze=0,Vi=pl=null,_a=0,(Qt&6)!==0)throw Error(o(331));var m=Qt;if(Qt|=4,Ff(i.current),Kf(i,i.current,u,n),Qt=m,Vs(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(aa,i)}catch{}return!0}finally{P.p=l,U.T=a,hm(t,e)}}function gm(t,e,n){e=Bn(n,e),e=Or(t.stateNode,e,2),t=cl(t,e,2),t!==null&&(yn(t,2),ma(t))}function Ft(t,e,n){if(t.tag===3)gm(t,t,n);else for(;e!==null;){if(e.tag===3){gm(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(hl===null||!hl.has(a))){t=Bn(n,t),n=yf(2),a=cl(e,n,2),a!==null&&(vf(n,a,e,t),yn(a,2),ma(a));break}}e=e.return}}function lo(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new wp;var l=new Set;a.set(e,l)}else l=a.get(e),l===void 0&&(l=new Set,a.set(e,l));l.has(n)||(Fr=!0,l.add(n),t=zp.bind(null,t,e,n),e.then(t,t))}function zp(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ae===t&&(Ot&n)===n&&(Se===4||Se===3&&(Ot&62914560)===Ot&&300>me()-Iu?(Qt&2)===0&&Qi(t,0):Ir|=n,Xi===Ot&&(Xi=0)),ma(t)}function ym(t,e){e===0&&(e=oi()),t=Vl(t,e),t!==null&&(yn(t,e),ma(t))}function Op(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ym(t,n)}function _p(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(e),ym(t,n)}function kp(t,e){return gn(t,e)}var lc=null,Ki=null,io=!1,ic=!1,so=!1,yl=0;function ma(t){t!==Ki&&t.next===null&&(Ki===null?lc=Ki=t:Ki=Ki.next=t),ic=!0,io||(io=!0,Bp())}function Vs(t,e){if(!so&&ic){so=!0;do for(var n=!1,a=lc;a!==null;){if(t!==0){var l=a.pendingLanes;if(l===0)var i=0;else{var u=a.suspendedLanes,m=a.pingedLanes;i=(1<<31-Ie(42|t)+1)-1,i&=l&~(u&~m),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Mm(a,i))}else i=Ot,i=Rl(a,a===ae?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Ga(a,i)||(n=!0,Mm(a,i));a=a.next}while(n);so=!1}}function Up(){vm()}function vm(){ic=io=!1;var t=0;yl!==0&&Kp()&&(t=yl);for(var e=me(),n=null,a=lc;a!==null;){var l=a.next,i=bm(a,e);i===0?(a.next=null,n===null?lc=l:n.next=l,l===null&&(Ki=n)):(n=a,(t!==0||(i&3)!==0)&&(ic=!0)),a=l}ze!==0&&ze!==5||Vs(t),yl!==0&&(yl=0)}function bm(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,l=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var u=31-Ie(i),m=1<<u,M=l[u];M===-1?((m&n)===0||(m&a)!==0)&&(l[u]=ru(m,e)):M<=e&&(t.expiredLanes|=m),i&=~m}if(e=ae,n=Ot,n=Rl(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&($t===2||$t===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Cl(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Ga(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&Cl(a),vn(n)){case 2:case 8:n=ri;break;case 32:n=pa;break;case 268435456:n=Oe;break;default:n=pa}return a=Sm.bind(null,t),n=gn(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&Cl(a),t.callbackPriority=2,t.callbackNode=null,2}function Sm(t,e){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(ac()&&t.callbackNode!==n)return null;var a=Ot;return a=Rl(t,t===ae?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(em(t,a,e),bm(t,me()),t.callbackNode!=null&&t.callbackNode===n?Sm.bind(null,t):null)}function Mm(t,e){if(ac())return null;em(t,e,!0)}function Bp(){$p(function(){(Qt&6)!==0?gn(Rn,Up):vm()})}function uo(){if(yl===0){var t=zi;t===0&&(t=Nl,Nl<<=1,(Nl&261888)===0&&(Nl=256)),yl=t}return yl}function xm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_l(""+t)}function Em(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Lp(t,e,n,a,l){if(e==="submit"&&n&&n.stateNode===l){var i=xm((l[ke]||null).action),u=a.submitter;u&&(e=(e=u[ke]||null)?xm(e.formAction):u.getAttribute("formAction"),e!==null&&(i=e,u=null));var m=new xi("action","action",null,a,l);t.push({event:m,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(yl!==0){var M=u?Em(l,u):new FormData(l);wr(n,{pending:!0,data:M,method:l.method,action:i},null,M)}}else typeof i=="function"&&(m.preventDefault(),M=u?Em(l,u):new FormData(l),wr(n,{pending:!0,data:M,method:l.method,action:i},i,M))},currentTarget:l}]})}}for(var co=0;co<Vc.length;co++){var ro=Vc[co],qp=ro.toLowerCase(),Hp=ro[0].toUpperCase()+ro.slice(1);Pn(qp,"on"+Hp)}Pn(Ss,"onAnimationEnd"),Pn(Ms,"onAnimationIteration"),Pn(bu,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(np,"onTransitionRun"),Pn(ap,"onTransitionStart"),Pn(lp,"onTransitionCancel"),Pn(nd,"onTransitionEnd"),sa("onMouseEnter",["mouseout","mouseover"]),sa("onMouseLeave",["mouseout","mouseover"]),sa("onPointerEnter",["pointerout","pointerover"]),sa("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qs));function Am(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],l=a.event;a=a.listeners;t:{var i=void 0;if(e)for(var u=a.length-1;0<=u;u--){var m=a[u],M=m.instance,O=m.currentTarget;if(m=m.listener,M!==i&&l.isPropagationStopped())break t;i=m,l.currentTarget=O;try{i(l)}catch(H){Su(H)}l.currentTarget=null,i=M}else for(u=0;u<a.length;u++){if(m=a[u],M=m.instance,O=m.currentTarget,m=m.listener,M!==i&&l.isPropagationStopped())break t;i=m,l.currentTarget=O;try{i(l)}catch(H){Su(H)}l.currentTarget=null,i=M}}}}function zt(t,e){var n=e[Ya];n===void 0&&(n=e[Ya]=new Set);var a=t+"__bubble";n.has(a)||(Tm(e,t,2,!1),n.add(a))}function oo(t,e,n){var a=0;e&&(a|=4),Tm(n,t,a,e)}var sc="_reactListening"+Math.random().toString(36).slice(2);function fo(t){if(!t[sc]){t[sc]=!0,sn.forEach(function(n){n!=="selectionchange"&&(Gp.has(n)||oo(n,!1,t),oo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sc]||(e[sc]=!0,oo("selectionchange",!1,e))}}function Tm(t,e,n,a){switch(th(e)){case 2:var l=pg;break;case 8:l=gg;break;default:l=wo}n=l.bind(null,e,n,t),l=void 0,!yi||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),a?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function mo(t,e,n,a,l){var i=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var m=a.stateNode.containerInfo;if(m===l)break;if(u===4)for(u=a.return;u!==null;){var M=u.tag;if((M===3||M===4)&&u.stateNode.containerInfo===l)return;u=u.return}for(;m!==null;){if(u=la(m),u===null)return;if(M=u.tag,M===5||M===6||M===26||M===27){a=i=u;continue t}m=m.parentNode}}a=a.return}kl(function(){var O=i,H=$a(n),Q=[];t:{var _=ad.get(t);if(_!==void 0){var k=xi,st=t;switch(t){case"keypress":if(bi(n)===0)break t;case"keydown":case"keyup":k=pu;break;case"focusin":st="focus",k=hs;break;case"focusout":st="blur",k=hs;break;case"beforeblur":case"afterblur":k=hs;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Pa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=ql;break;case Ss:case Ms:case bu:k=zc;break;case nd:k=Hc;break;case"scroll":case"scrollend":k=Ul;break;case"wheel":k=yu;break;case"copy":case"cut":case"paste":k=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=gu;break;case"toggle":case"beforetoggle":k=vu}var yt=(e&4)!==0,te=!yt&&(t==="scroll"||t==="scrollend"),D=yt?_!==null?_+"Capture":null:_;yt=[];for(var T=O,j;T!==null;){var G=T;if(j=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||j===null||D===null||(G=Pe(T,D),G!=null&&yt.push(Zs(T,G,j))),te)break;T=T.return}0<yt.length&&(_=new k(_,st,null,n,H),Q.push({event:_,listeners:yt}))}}if((e&7)===0){t:{if(_=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",_&&n!==gi&&(st=n.relatedTarget||n.fromElement)&&(la(st)||st[Jn]))break t;if((k||_)&&(_=H.window===H?H:(_=H.ownerDocument)?_.defaultView||_.parentWindow:window,k?(st=n.relatedTarget||n.toElement,k=O,st=st?la(st):null,st!==null&&(te=S(st),yt=st.tag,st!==te||yt!==5&&yt!==27&&yt!==6)&&(st=null)):(k=null,st=O),k!==st)){if(yt=Pa,G="onMouseLeave",D="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(yt=gu,G="onPointerLeave",D="onPointerEnter",T="pointer"),te=k==null?_:zn(k),j=st==null?_:zn(st),_=new yt(G,T+"leave",k,n,H),_.target=te,_.relatedTarget=j,G=null,la(H)===O&&(yt=new yt(D,T+"enter",st,n,H),yt.target=j,yt.relatedTarget=te,G=yt),te=G,k&&st)e:{for(yt=Yp,D=k,T=st,j=0,G=D;G;G=yt(G))j++;G=0;for(var mt=T;mt;mt=yt(mt))G++;for(;0<j-G;)D=yt(D),j--;for(;0<G-j;)T=yt(T),G--;for(;j--;){if(D===T||T!==null&&D===T.alternate){yt=D;break e}D=yt(D),T=yt(T)}yt=null}else yt=null;k!==null&&Cm(Q,_,k,yt,!1),st!==null&&te!==null&&Cm(Q,te,st,yt,!0)}}t:{if(_=O?zn(O):window,k=_.nodeName&&_.nodeName.toLowerCase(),k==="select"||k==="input"&&_.type==="file")var Gt=xe;else if(ot(_))if(cn)Gt=xt;else{Gt=Vt;var ct=Kt}else k=_.nodeName,!k||k.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?O&&Ja(O.elementType)&&(Gt=xe):Gt=Ee;if(Gt&&(Gt=Gt(t,O))){bt(Q,Gt,n,H);break t}ct&&ct(t,_,O),t==="focusout"&&O&&_.type==="number"&&O.memoizedProps.value!=null&&qe(_,"number",_.value)}switch(ct=O?zn(O):window,t){case"focusin":(ot(ct)||ct.contentEditable==="true")&&(kn=ct,Ti=O,el=null);break;case"focusout":el=Ti=kn=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,bs(Q,n,H);break;case"selectionchange":if(Yl)break;case"keydown":case"keyup":bs(Q,n,H)}var Nt;if(vs)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else X?R(t,n)&&(_t="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_t="onCompositionStart");_t&&(s&&n.locale!=="ko"&&(X||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&X&&(Nt=ds()):(ua=H,os="value"in ua?ua.value:ua.textContent,X=!0)),ct=uc(O,_t),0<ct.length&&(_t=new hu(_t,t,null,n,H),Q.push({event:_t,listeners:ct}),Nt?_t.data=Nt:(Nt=w(n),Nt!==null&&(_t.data=Nt)))),(Nt=Xc?z(t,n):V(t,n))&&(_t=uc(O,"onBeforeInput"),0<_t.length&&(ct=new hu("onBeforeInput","beforeinput",null,n,H),Q.push({event:ct,listeners:_t}),ct.data=Nt)),Lp(Q,t,O,n,H)}Am(Q,e)})}function Zs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uc(t,e){for(var n=e+"Capture",a=[];t!==null;){var l=t,i=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||i===null||(l=Pe(t,n),l!=null&&a.unshift(Zs(t,l,i)),l=Pe(t,e),l!=null&&a.push(Zs(t,l,i))),t.tag===3)return a;t=t.return}return[]}function Yp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cm(t,e,n,a,l){for(var i=e._reactName,u=[];n!==null&&n!==a;){var m=n,M=m.alternate,O=m.stateNode;if(m=m.tag,M!==null&&M===a)break;m!==5&&m!==26&&m!==27||O===null||(M=O,l?(O=Pe(n,i),O!=null&&u.unshift(Zs(n,O,M))):l||(O=Pe(n,i),O!=null&&u.push(Zs(n,O,M)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Xp=/\r\n?/g,Vp=/\u0000|\uFFFD/g;function wm(t){return(typeof t=="string"?t:""+t).replace(Xp,`
`).replace(Vp,"")}function Dm(t,e){return e=wm(e),wm(t)===e}function Pt(t,e,n,a,l,i){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||an(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&an(t,""+a);break;case"className":Va(t,"class",a);break;case"tabIndex":Va(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Va(t,n,a);break;case"style":cs(t,a,i);break;case"data":if(e!=="object"){Va(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=_l(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&Pt(t,e,"name",l.name,l,null),Pt(t,e,"formEncType",l.formEncType,l,null),Pt(t,e,"formMethod",l.formMethod,l,null),Pt(t,e,"formTarget",l.formTarget,l,null)):(Pt(t,e,"encType",l.encType,l,null),Pt(t,e,"method",l.method,l,null),Pt(t,e,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=_l(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=Mn);break;case"onScroll":a!=null&&zt("scroll",t);break;case"onScrollEnd":a!=null&&zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=_l(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":zt("beforetoggle",t),zt("toggle",t),va(t,"popover",a);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":va(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Nc.get(n)||n,va(t,n,a))}}function ho(t,e,n,a,l,i){switch(n){case"style":cs(t,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"children":typeof a=="string"?an(t,a):(typeof a=="number"||typeof a=="bigint")&&an(t,""+a);break;case"onScroll":a!=null&&zt("scroll",t);break;case"onScrollEnd":a!=null&&zt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xa.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),i=t[ke]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,l),typeof a=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,l);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):va(t,n,a)}}}function $e(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",t),zt("load",t);var a=!1,l=!1,i;for(i in n)if(n.hasOwnProperty(i)){var u=n[i];if(u!=null)switch(i){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:Pt(t,e,i,u,n,null)}}l&&Pt(t,e,"srcSet",n.srcSet,n,null),a&&Pt(t,e,"src",n.src,n,null);return;case"input":zt("invalid",t);var m=i=u=l=null,M=null,O=null;for(a in n)if(n.hasOwnProperty(a)){var H=n[a];if(H!=null)switch(a){case"name":l=H;break;case"type":u=H;break;case"checked":M=H;break;case"defaultChecked":O=H;break;case"value":i=H;break;case"defaultValue":m=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,e));break;default:Pt(t,e,a,H,n,null)}}ss(t,i,m,M,O,u,l,!1);return;case"select":zt("invalid",t),a=u=i=null;for(l in n)if(n.hasOwnProperty(l)&&(m=n[l],m!=null))switch(l){case"value":i=m;break;case"defaultValue":u=m;break;case"multiple":a=m;default:Pt(t,e,l,m,n,null)}e=i,n=u,t.multiple=!!a,e!=null?Sa(t,!!a,e,!1):n!=null&&Sa(t,!!a,n,!0);return;case"textarea":zt("invalid",t),i=l=a=null;for(u in n)if(n.hasOwnProperty(u)&&(m=n[u],m!=null))switch(u){case"value":a=m;break;case"defaultValue":l=m;break;case"children":i=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:Pt(t,e,u,m,n,null)}Ve(t,a,l,i);return;case"option":for(M in n)if(n.hasOwnProperty(M)&&(a=n[M],a!=null))switch(M){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Pt(t,e,M,a,n,null)}return;case"dialog":zt("beforetoggle",t),zt("toggle",t),zt("cancel",t),zt("close",t);break;case"iframe":case"object":zt("load",t);break;case"video":case"audio":for(a=0;a<Qs.length;a++)zt(Qs[a],t);break;case"image":zt("error",t),zt("load",t);break;case"details":zt("toggle",t);break;case"embed":case"source":case"link":zt("error",t),zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in n)if(n.hasOwnProperty(O)&&(a=n[O],a!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:Pt(t,e,O,a,n,null)}return;default:if(Ja(e)){for(H in n)n.hasOwnProperty(H)&&(a=n[H],a!==void 0&&ho(t,e,H,a,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!=null&&Pt(t,e,m,a,n,null))}function Qp(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,i=null,u=null,m=null,M=null,O=null,H=null;for(k in n){var Q=n[k];if(n.hasOwnProperty(k)&&Q!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":M=Q;default:a.hasOwnProperty(k)||Pt(t,e,k,null,a,Q)}}for(var _ in a){var k=a[_];if(Q=n[_],a.hasOwnProperty(_)&&(k!=null||Q!=null))switch(_){case"type":i=k;break;case"name":l=k;break;case"checked":O=k;break;case"defaultChecked":H=k;break;case"value":u=k;break;case"defaultValue":m=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(o(137,e));break;default:k!==Q&&Pt(t,e,_,k,a,Q)}}Za(t,u,m,M,O,H,i,l);return;case"select":k=u=m=_=null;for(i in n)if(M=n[i],n.hasOwnProperty(i)&&M!=null)switch(i){case"value":break;case"multiple":k=M;default:a.hasOwnProperty(i)||Pt(t,e,i,null,a,M)}for(l in a)if(i=a[l],M=n[l],a.hasOwnProperty(l)&&(i!=null||M!=null))switch(l){case"value":_=i;break;case"defaultValue":m=i;break;case"multiple":u=i;default:i!==M&&Pt(t,e,l,i,a,M)}e=m,n=u,a=k,_!=null?Sa(t,!!n,_,!1):!!a!=!!n&&(e!=null?Sa(t,!!n,e,!0):Sa(t,!!n,n?[]:"",!1));return;case"textarea":k=_=null;for(m in n)if(l=n[m],n.hasOwnProperty(m)&&l!=null&&!a.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:Pt(t,e,m,null,a,l)}for(u in a)if(l=a[u],i=n[u],a.hasOwnProperty(u)&&(l!=null||i!=null))switch(u){case"value":_=l;break;case"defaultValue":k=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(o(91));break;default:l!==i&&Pt(t,e,u,l,a,i)}q(t,_,k);return;case"option":for(var st in n)if(_=n[st],n.hasOwnProperty(st)&&_!=null&&!a.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Pt(t,e,st,null,a,_)}for(M in a)if(_=a[M],k=n[M],a.hasOwnProperty(M)&&_!==k&&(_!=null||k!=null))switch(M){case"selected":t.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:Pt(t,e,M,_,a,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in n)_=n[yt],n.hasOwnProperty(yt)&&_!=null&&!a.hasOwnProperty(yt)&&Pt(t,e,yt,null,a,_);for(O in a)if(_=a[O],k=n[O],a.hasOwnProperty(O)&&_!==k&&(_!=null||k!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(o(137,e));break;default:Pt(t,e,O,_,a,k)}return;default:if(Ja(e)){for(var te in n)_=n[te],n.hasOwnProperty(te)&&_!==void 0&&!a.hasOwnProperty(te)&&ho(t,e,te,void 0,a,_);for(H in a)_=a[H],k=n[H],!a.hasOwnProperty(H)||_===k||_===void 0&&k===void 0||ho(t,e,H,_,a,k);return}}for(var D in n)_=n[D],n.hasOwnProperty(D)&&_!=null&&!a.hasOwnProperty(D)&&Pt(t,e,D,null,a,_);for(Q in a)_=a[Q],k=n[Q],!a.hasOwnProperty(Q)||_===k||_==null&&k==null||Pt(t,e,Q,_,a,k)}function Nm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],i=l.transferSize,u=l.initiatorType,m=l.duration;if(i&&m&&Nm(u)){for(u=0,m=l.responseEnd,a+=1;a<n.length;a++){var M=n[a],O=M.startTime;if(O>m)break;var H=M.transferSize,Q=M.initiatorType;H&&Nm(Q)&&(M=M.responseEnd,u+=H*(M<m?1:(m-O)/(M-O)))}if(--a,e+=8*(i+u)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var po=null,go=null;function cc(t){return t.nodeType===9?t:t.ownerDocument}function Rm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function yo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vo=null;function Kp(){var t=window.event;return t&&t.type==="popstate"?t===vo?!1:(vo=t,!0):(vo=null,!1)}var zm=typeof setTimeout=="function"?setTimeout:void 0,Jp=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(t){return Om.resolve(null).then(t).catch(Fp)}:zm;function Fp(t){setTimeout(function(){throw t})}function vl(t){return t==="head"}function _m(t,e){var n=e,a=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(l),Ii(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ks(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Ks(n);for(var i=n.firstChild;i;){var u=i.nextSibling,m=i.nodeName;i[Ue]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=u}}else n==="body"&&Ks(t.ownerDocument.body);n=l}while(n);Ii(e)}function km(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function bo(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":bo(n),fi(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Ip(t,e,n,a){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Ue])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function Wp(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Yn(t.nextSibling),t===null))return null;return t}function Um(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Yn(t.nextSibling),t===null))return null;return t}function So(t){return t.data==="$?"||t.data==="$~"}function Mo(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Pp(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var xo=null;function Bm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Yn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Lm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function qm(t,e,n){switch(e=cc(n),t){case"html":if(t=e.documentElement,!t)throw Error(o(452));return t;case"head":if(t=e.head,!t)throw Error(o(453));return t;case"body":if(t=e.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Ks(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);fi(t)}var Xn=new Map,Hm=new Set;function rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ka=P.d;P.d={f:tg,r:eg,D:ng,C:ag,L:lg,m:ig,X:ug,S:sg,M:cg};function tg(){var t=ka.f(),e=tc();return t||e}function eg(t){var e=Be(t);e!==null&&e.tag===5&&e.type==="form"?nf(e):ka.r(t)}var Ji=typeof document>"u"?null:document;function Gm(t,e,n){var a=Ji;if(a&&typeof e=="string"&&e){var l=Le(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Hm.has(l)||(Hm.add(l),t={rel:t,crossOrigin:n,href:e},a.querySelector(l)===null&&(e=a.createElement("link"),$e(e,"link",t),oe(e),a.head.appendChild(e)))}}function ng(t){ka.D(t),Gm("dns-prefetch",t,null)}function ag(t,e){ka.C(t,e),Gm("preconnect",t,e)}function lg(t,e,n){ka.L(t,e,n);var a=Ji;if(a&&t&&e){var l='link[rel="preload"][as="'+Le(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Le(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Le(n.imageSizes)+'"]')):l+='[href="'+Le(t)+'"]';var i=l;switch(e){case"style":i=$i(t);break;case"script":i=Fi(t)}Xn.has(i)||(t=x({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Xn.set(i,t),a.querySelector(l)!==null||e==="style"&&a.querySelector(Js(i))||e==="script"&&a.querySelector($s(i))||(e=a.createElement("link"),$e(e,"link",t),oe(e),a.head.appendChild(e)))}}function ig(t,e){ka.m(t,e);var n=Ji;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+Le(a)+'"][href="'+Le(t)+'"]',i=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Fi(t)}if(!Xn.has(i)&&(t=x({rel:"modulepreload",href:t},e),Xn.set(i,t),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($s(i)))return}a=n.createElement("link"),$e(a,"link",t),oe(a),n.head.appendChild(a)}}}function sg(t,e,n){ka.S(t,e,n);var a=Ji;if(a&&t){var l=pe(a).hoistableStyles,i=$i(t);e=e||"default";var u=l.get(i);if(!u){var m={loading:0,preload:null};if(u=a.querySelector(Js(i)))m.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Xn.get(i))&&Eo(t,n);var M=u=a.createElement("link");oe(M),$e(M,"link",t),M._p=new Promise(function(O,H){M.onload=O,M.onerror=H}),M.addEventListener("load",function(){m.loading|=1}),M.addEventListener("error",function(){m.loading|=2}),m.loading|=4,oc(u,e,a)}u={type:"stylesheet",instance:u,count:1,state:m},l.set(i,u)}}}function ug(t,e){ka.X(t,e);var n=Ji;if(n&&t){var a=pe(n).hoistableScripts,l=Fi(t),i=a.get(l);i||(i=n.querySelector($s(l)),i||(t=x({src:t,async:!0},e),(e=Xn.get(l))&&Ao(t,e),i=n.createElement("script"),oe(i),$e(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(l,i))}}function cg(t,e){ka.M(t,e);var n=Ji;if(n&&t){var a=pe(n).hoistableScripts,l=Fi(t),i=a.get(l);i||(i=n.querySelector($s(l)),i||(t=x({src:t,async:!0,type:"module"},e),(e=Xn.get(l))&&Ao(t,e),i=n.createElement("script"),oe(i),$e(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(l,i))}}function Ym(t,e,n,a){var l=(l=Dt.current)?rc(l):null;if(!l)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=$i(n.href),n=pe(l).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=$i(n.href);var i=pe(l).hoistableStyles,u=i.get(t);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,u),(i=l.querySelector(Js(t)))&&!i._p&&(u.instance=i,u.state.loading=5),Xn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Xn.set(t,n),i||rg(l,t,n,u.state))),e&&a===null)throw Error(o(528,""));return u}if(e&&a!==null)throw Error(o(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Fi(n),n=pe(l).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function $i(t){return'href="'+Le(t)+'"'}function Js(t){return'link[rel="stylesheet"]['+t+"]"}function Xm(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function rg(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),$e(e,"link",n),oe(e),t.head.appendChild(e))}function Fi(t){return'[src="'+Le(t)+'"]'}function $s(t){return"script[async]"+t}function Vm(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+Le(n.href)+'"]');if(a)return e.instance=a,oe(a),a;var l=x({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),oe(a),$e(a,"style",l),oc(a,n.precedence,t),e.instance=a;case"stylesheet":l=$i(n.href);var i=t.querySelector(Js(l));if(i)return e.state.loading|=4,e.instance=i,oe(i),i;a=Xm(n),(l=Xn.get(l))&&Eo(a,l),i=(t.ownerDocument||t).createElement("link"),oe(i);var u=i;return u._p=new Promise(function(m,M){u.onload=m,u.onerror=M}),$e(i,"link",a),e.state.loading|=4,oc(i,n.precedence,t),e.instance=i;case"script":return i=Fi(n.src),(l=t.querySelector($s(i)))?(e.instance=l,oe(l),l):(a=n,(l=Xn.get(i))&&(a=x({},n),Ao(a,l)),t=t.ownerDocument||t,l=t.createElement("script"),oe(l),$e(l,"link",a),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(o(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,oc(a,n.precedence,t));return e.instance}function oc(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,i=l,u=0;u<a.length;u++){var m=a[u];if(m.dataset.precedence===e)i=m;else if(i!==l)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Eo(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ao(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var dc=null;function Qm(t,e,n){if(dc===null){var a=new Map,l=dc=new Map;l.set(n,a)}else l=dc,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var i=n[l];if(!(i[Ue]||i[ne]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var u=i.getAttribute(e)||"";u=t+u;var m=a.get(u);m?m.push(i):a.set(u,[i])}}return a}function Zm(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function og(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Km(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function dg(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=$i(a.href),i=e.querySelector(Js(l));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=fc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=i,oe(i);return}i=e.ownerDocument||e,a=Xm(a),(l=Xn.get(l))&&Eo(a,l),i=i.createElement("link"),oe(i);var u=i;u._p=new Promise(function(m,M){u.onload=m,u.onerror=M}),$e(i,"link",a),n.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=fc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var To=0;function fg(t,e){return t.stylesheets&&t.count===0&&hc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&hc(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&To===0&&(To=62500*Zp());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hc(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>To?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function fc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mc=null;function hc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mc=new Map,e.forEach(mg,t),mc=null,fc.call(t))}function mg(t,e){if(!(e.state.loading&4)){var n=mc.get(t);if(n)var a=n.get(null);else{n=new Map,mc.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<l.length;i++){var u=l[i];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),a=u)}a&&n.set(null,a)}l=e.instance,u=l.getAttribute("data-precedence"),i=n.get(u)||a,i===a&&n.set(null,l),n.set(u,l),this.count++,a=fc.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),i?i.parentNode.insertBefore(l,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var Fs={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function hg(t,e,n,a,l,i,u,m,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jn(0),this.hiddenUpdates=jn(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=i,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Jm(t,e,n,a,l,i,u,m,M,O,H,Q){return t=new hg(t,e,n,u,M,O,H,Q,m),e=1,i===!0&&(e|=24),i=En(3,null,null,e),t.current=i,i.stateNode=t,e=ar(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:e},ur(i),t}function $m(t){return t?(t=wi,t):wi}function Fm(t,e,n,a,l,i){l=$m(l),a.context===null?a.context=l:a.pendingContext=l,a=ul(e),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=cl(t,a,e),n!==null&&(mn(n,t,e),Ds(n,t,e))}function Im(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Co(t,e){Im(t,e),(t=t.alternate)&&Im(t,e)}function Wm(t){if(t.tag===13||t.tag===31){var e=Vl(t,67108864);e!==null&&mn(e,t,67108864),Co(t,67108864)}}function Pm(t){if(t.tag===13||t.tag===31){var e=Dn();e=ya(e);var n=Vl(t,e);n!==null&&mn(n,t,e),Co(t,e)}}var pc=!0;function pg(t,e,n,a){var l=U.T;U.T=null;var i=P.p;try{P.p=2,wo(t,e,n,a)}finally{P.p=i,U.T=l}}function gg(t,e,n,a){var l=U.T;U.T=null;var i=P.p;try{P.p=8,wo(t,e,n,a)}finally{P.p=i,U.T=l}}function wo(t,e,n,a){if(pc){var l=Do(a);if(l===null)mo(t,e,a,gc,n),eh(t,a);else if(vg(l,t,e,n,a))a.stopPropagation();else if(eh(t,a),e&4&&-1<yg.indexOf(t)){for(;l!==null;){var i=Be(l);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var u=Zn(i.pendingLanes);if(u!==0){var m=i;for(m.pendingLanes|=2,m.entangledLanes|=2;u;){var M=1<<31-Ie(u);m.entanglements[1]|=M,u&=~M}ma(i),(Qt&6)===0&&(Wu=me()+500,Vs(0))}}break;case 31:case 13:m=Vl(i,2),m!==null&&mn(m,i,2),tc(),Co(i,2)}if(i=Do(a),i===null&&mo(t,e,a,gc,n),i===l)break;l=i}l!==null&&a.stopPropagation()}else mo(t,e,a,null,n)}}function Do(t){return t=$a(t),No(t)}var gc=null;function No(t){if(gc=null,t=la(t),t!==null){var e=S(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=v(e),t!==null)return t;t=null}else if(n===31){if(t=A(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return gc=t,null}function th(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ci()){case Rn:return 2;case ri:return 8;case pa:case uu:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var Ro=!1,bl=null,Sl=null,Ml=null,Is=new Map,Ws=new Map,xl=[],yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eh(t,e){switch(t){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":Sl=null;break;case"mouseover":case"mouseout":Ml=null;break;case"pointerover":case"pointerout":Is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(e.pointerId)}}function Ps(t,e,n,a,l,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[l]},e!==null&&(e=Be(e),e!==null&&Wm(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function vg(t,e,n,a,l){switch(e){case"focusin":return bl=Ps(bl,t,e,n,a,l),!0;case"dragenter":return Sl=Ps(Sl,t,e,n,a,l),!0;case"mouseover":return Ml=Ps(Ml,t,e,n,a,l),!0;case"pointerover":var i=l.pointerId;return Is.set(i,Ps(Is.get(i)||null,t,e,n,a,l)),!0;case"gotpointercapture":return i=l.pointerId,Ws.set(i,Ps(Ws.get(i)||null,t,e,n,a,l)),!0}return!1}function nh(t){var e=la(t.target);if(e!==null){var n=S(e);if(n!==null){if(e=n.tag,e===13){if(e=v(n),e!==null){t.blockedOn=e,Kn(t.priority,function(){Pm(n)});return}}else if(e===31){if(e=A(n),e!==null){t.blockedOn=e,Kn(t.priority,function(){Pm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Do(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);gi=a,n.target.dispatchEvent(a),gi=null}else return e=Be(n),e!==null&&Wm(e),t.blockedOn=n,!1;e.shift()}return!0}function ah(t,e,n){yc(t)&&n.delete(e)}function bg(){Ro=!1,bl!==null&&yc(bl)&&(bl=null),Sl!==null&&yc(Sl)&&(Sl=null),Ml!==null&&yc(Ml)&&(Ml=null),Is.forEach(ah),Ws.forEach(ah)}function vc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ro||(Ro=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,bg)))}var bc=null;function lh(t){bc!==t&&(bc=t,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){bc===t&&(bc=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],l=t[e+2];if(typeof a!="function"){if(No(a||n)===null)continue;break}var i=Be(n);i!==null&&(t.splice(e,3),e-=3,wr(i,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function Ii(t){function e(M){return vc(M,t)}bl!==null&&vc(bl,t),Sl!==null&&vc(Sl,t),Ml!==null&&vc(Ml,t),Is.forEach(e),Ws.forEach(e);for(var n=0;n<xl.length;n++){var a=xl[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<xl.length&&(n=xl[0],n.blockedOn===null);)nh(n),n.blockedOn===null&&xl.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],i=n[a+1],u=l[ke]||null;if(typeof i=="function")u||lh(n);else if(u){var m=null;if(i&&i.hasAttribute("formAction")){if(l=i,u=i[ke]||null)m=u.formAction;else if(No(l)!==null)continue}else m=u.action;typeof m=="function"?n[a+1]=m:(n.splice(a,3),a-=3),lh(n)}}}function ih(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(u){return l=u})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function jo(t){this._internalRoot=t}Sc.prototype.render=jo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(o(409));var n=e.current,a=Dn();Fm(n,a,t,e,null,null)},Sc.prototype.unmount=jo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fm(t.current,2,null,t,null,null),tc(),e[Jn]=null}};function Sc(t){this._internalRoot=t}Sc.prototype.unstable_scheduleHydration=function(t){if(t){var e=as();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xl.length&&e!==0&&e<xl[n].priority;n++);xl.splice(n,0,t),n===0&&nh(t)}};var sh=c.version;if(sh!=="19.2.0")throw Error(o(527,sh,"19.2.0"));P.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(e),t=t!==null?C(t):null,t=t===null?null:t.stateNode,t};var Sg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{aa=Mc.inject(Sg),_e=Mc}catch{}}return eu.createRoot=function(t,e){if(!p(t))throw Error(o(299));var n=!1,a="",l=mf,i=hf,u=pf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(u=e.onRecoverableError)),e=Jm(t,1,!1,null,null,n,a,null,l,i,u,ih),t[Jn]=e.current,fo(t),new jo(e)},eu.hydrateRoot=function(t,e,n){if(!p(t))throw Error(o(299));var a=!1,l="",i=mf,u=hf,m=pf,M=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.formState!==void 0&&(M=n.formState)),e=Jm(t,1,!0,e,n??null,a,l,M,i,u,m,ih),e.context=$m(null),n=e.current,a=Dn(),a=ya(a),l=ul(a),l.callback=null,cl(n,l,a),n=a,e.current.lanes=n,yn(e,n),ma(e),t[Jn]=e.current,fo(t),new Sc(e)},eu.version="19.2.0",eu}var gh;function Rg(){if(gh)return _o.exports;gh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(c){console.error(c)}}return d(),_o.exports=Ng(),_o.exports}var jg=Rg();const zg="modulepreload",Og=function(d,c){return new URL(d,c).href},yh={},_g=function(c,f,o){let p=Promise.resolve();if(f&&f.length>0){let y=function(C){return Promise.all(C.map(x=>Promise.resolve(x).then(L=>({status:"fulfilled",value:L}),L=>({status:"rejected",reason:L}))))};const v=document.getElementsByTagName("link"),A=document.querySelector("meta[property=csp-nonce]"),b=A?.nonce||A?.getAttribute("nonce");p=y(f.map(C=>{if(C=Og(C,o),C in yh)return;yh[C]=!0;const x=C.endsWith(".css"),L=x?'[rel="stylesheet"]':"";if(o)for(let tt=v.length-1;tt>=0;tt--){const J=v[tt];if(J.href===C&&(!x||J.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${C}"]${L}`))return;const Z=document.createElement("link");if(Z.rel=x?"stylesheet":zg,x||(Z.as="script"),Z.crossOrigin="",Z.href=C,b&&Z.setAttribute("nonce",b),document.head.appendChild(Z),x)return new Promise((tt,J)=>{Z.addEventListener("load",tt),Z.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${C}`)))})}))}function S(v){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=v,window.dispatchEvent(A),!A.defaultPrevented)throw v}return p.then(v=>{for(const A of v||[])A.status==="rejected"&&S(A.reason);return c().catch(S)})};function kg(d={}){const{immediate:c=!1,onNeedRefresh:f,onOfflineReady:o,onRegistered:p,onRegisteredSW:S,onRegisterError:v}=d;let A,b;const y=async(x=!0)=>{await b};async function C(){if("serviceWorker"in navigator){if(A=await _g(async()=>{const{Workbox:x}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:x}},[],import.meta.url).then(({Workbox:x})=>new x("./sw.js",{scope:"./",type:"classic"})).catch(x=>{v?.(x)}),!A)return;A.addEventListener("activated",x=>{(x.isUpdate||x.isExternal)&&window.location.reload()}),A.addEventListener("installed",x=>{x.isUpdate||o?.()}),A.register({immediate:c}).then(x=>{S?S("./sw.js",x):p?.(x)}).catch(x=>{v?.(x)})}}return b=C(),y}const Ug=""+new URL("lame.all-C7RRJB7H.js",import.meta.url).href;let xc=null;async function Bg(){if(typeof window>"u")throw new Error("MP3 encoder can only load in a browser.");if(!window.lamejs?.Mp3Encoder)return xc||(xc=new Promise((d,c)=>{const f=document.createElement("script");f.src=Ug,f.async=!0,f.onload=()=>d(),f.onerror=()=>c(new Error("Failed to load MP3 encoder script.")),document.head.appendChild(f)}).then(()=>{if(!window.lamejs?.Mp3Encoder)throw new Error("MP3 encoder loaded but window.lamejs.Mp3Encoder is missing.")}),xc)}function Lg(){const d=window.lamejs?.Mp3Encoder;if(!d)throw new Error("MP3 encoder is not loaded yet.");return d}const es={frameDurationMs:50,minQuietDurationMs:600,minSegmentMs:5e3,targetSegmentMs:1e4,maxSegmentMs:6e4,silencePaddingMs:200,thresholdMultiplier:1.6,quietPercentile:.3,noisePercentile:.12,initialIgnoreMs:120},vh=(d,c)=>{if(d.length===0)return 0;const f=[...d].sort((S,v)=>S-v),o=Math.min(Math.max(c,0),1),p=o===1?f.length-1:Math.floor(o*f.length);return f[p]},qg=d=>{if(d.numberOfChannels===1)return d.getChannelData(0);const{length:c,numberOfChannels:f}=d,o=new Float32Array(c);for(let p=0;p<f;p+=1){const S=d.getChannelData(p);for(let v=0;v<c;v+=1)o[v]+=S[v]/f}return o},Hg=(d,c,f)=>{const o=Math.max(1,Math.round(f/1e3*c)),p=d.length,S=Math.ceil(p/o),v=new Array(S),A=new Array(S);let b=Number.POSITIVE_INFINITY,y=0;for(let C=0;C<S;C+=1){const x=C*o,L=Math.min(p,x+o),Z=L-x;if(Z<=0){v[C]={index:C,startMs:x/c*1e3,endMs:L/c*1e3,rms:0,normalized:0},A[C]=0;continue}let tt=0;for(let Mt=x;Mt<L;Mt+=1){const lt=d[Mt];tt+=lt*lt}const J=Math.sqrt(tt/Z);v[C]={index:C,startMs:x/c*1e3,endMs:L/c*1e3,rms:J,normalized:J},A[C]=J,J<b&&(b=J),J>y&&(y=J)}return Number.isFinite(b)||(b=0),{frames:v,rmsValues:A,minRms:b,maxRms:y}},Gg=({audioBuffer:d,frameDurationMs:c=es.frameDurationMs})=>{const f=qg(d),{frames:o}=Hg(f,d.sampleRate,c),p=o.reduce((C,x)=>Math.max(C,x.rms),0),S=p>0?.92/p:1,v=o.map(C=>Math.min(C.rms*S,1)),A=v.length,b=A>0?v.reduce((C,x)=>C+x,0)/A:0,y=A>0?Math.max(...v):0;return{normalizedFrames:v,scalingFactor:S,maxNormalized:y,averageNormalized:b,frameDurationMs:c}},Yg=(d,c,f,o)=>{const p=[];let S=null,v=Number.POSITIVE_INFINITY,A=0,b=0,y=0,C=!1;for(let x=0;x<d.length;x+=1){const L=d[x],Z=L.startMs>=o;Z&&L.rms>c&&(C=!0);const J=C&&Z&&L.rms<=c;if(J&&(S===null?(S=x,v=L.rms,A=L.rms,b=L.rms,y=1):(v=Math.min(v,L.rms),A=Math.max(A,L.rms),b+=L.rms,y+=1)),(!J&&S!==null||x===d.length-1&&J)&&S!==null){const lt=J?x:x-1,gt=d[S],ut=d[lt],Y=ut.endMs-gt.startMs;if(Y>=f){const I=(gt.startMs+ut.endMs)/2;p.push({index:p.length,startFrame:S,endFrame:lt,startMs:gt.startMs,endMs:ut.endMs,durationMs:Y,minRms:v,maxRms:A,averageRms:y>0?b/y:0,centerMs:I,normalizedMin:0,normalizedMax:0})}S=null,v=Number.POSITIVE_INFINITY,A=0,b=0,y=0}}return p},Xg=(d,c)=>d.map(f=>{const o=c.slice(f.startFrame,f.endFrame+1).map(v=>v.normalized),p=o.length>0?Math.min(...o):0,S=o.length>0?Math.max(...o):0;return{...f,normalizedMin:p,normalizedMax:S}}),Vg=(d,c,f)=>{const o=[];let p=0;for(const b of d){const y=b.centerMs-p;if(!(y<f.minSegmentMs)&&(y>=f.targetSegmentMs||y>=f.maxSegmentMs)){const C=Math.max(0,1-b.normalizedMax);o.push({index:o.length,positionMs:b.centerMs,precedingDurationMs:y,quietRegionIndex:b.index,score:C,reason:"pause"}),p=b.centerMs}}const S=[],v=[...o].sort((b,y)=>b.positionMs-y.positionMs);let A=0;return v.forEach((b,y)=>{const C=Math.min(b.positionMs,c),x=Math.max(0,C-A);S.push({index:y,startMs:A,endMs:C,durationMs:x,breakReason:"pause",boundaryIndex:b.index}),A=b.positionMs}),A<c&&S.push({index:S.length,startMs:A,endMs:c,durationMs:Math.max(0,c-A),breakReason:"end",boundaryIndex:null}),{boundaries:o,segments:S}};function Jh(d,c={}){const{totalDurationMs:f,config:o={},sampleRate:p=0,frameDurationMs:S}=c;if(d.length===0)return null;const v={...es,...o},A=d.map(Y=>Y.normalized),b=d.reduce((Y,I)=>Math.max(Y,I.rms),0),y=d.reduce((Y,I)=>Math.min(Y,I.rms),Number.POSITIVE_INFINITY),C=1,x=vh(A,v.noisePercentile),L=vh(A,v.quietPercentile),Z=Math.max(x*v.thresholdMultiplier,(x+L)/2),tt=Math.min(Z,b*.7),J=Math.min(tt,.98),Mt=Math.max(f??0,d[d.length-1]?.endMs??0),lt=Xg(Yg(d,tt,v.minQuietDurationMs,v.initialIgnoreMs),d),{boundaries:gt,segments:ut}=Vg(lt,Mt,v);return{frames:d,quietRegions:lt,boundaries:gt,segments:ut,stats:{sampleRate:p,totalDurationMs:Mt,frameDurationMs:S??v.frameDurationMs,frameCount:d.length,maxRms:b,minRms:Number.isFinite(y)?y:0,scalingFactor:C,noiseFloor:x,threshold:tt,normalizedThreshold:J}}}function Qg({frames:d,windowStartMs:c,windowEndMs:f,sampleRate:o,frameDurationMs:p,config:S}){const v=Math.max(0,Math.round(c)),A=Math.max(v,Math.round(f)),b=Math.max(0,A-v);if(d.length===0||b<=0)return{analysis:null,frames:[],windowStartMs:v,windowEndMs:A,windowDurationMs:b};const y=[];for(const x of d){if(x.endMs<=v||x.startMs>=A)continue;const L=Math.max(0,x.startMs-v),Z=Math.min(A,x.endMs)-v;Z<=L||y.push({...x,index:y.length,startMs:L,endMs:Z})}return{analysis:y.length>0?Jh(y,{totalDurationMs:b,sampleRate:o,frameDurationMs:p,config:S}):null,frames:y,windowStartMs:v,windowEndMs:A,windowDurationMs:b}}async function $h(d,c){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");const{chunkId:f,sessionId:o,seq:p,chunkStartMs:S,chunkEndMs:v,frameDurationMs:A}=c,b=new AudioContext;try{const y=await d.arrayBuffer(),C=await b.decodeAudioData(y.slice(0)),{normalizedFrames:x,scalingFactor:L,maxNormalized:Z,averageNormalized:tt}=Gg({audioBuffer:C,frameDurationMs:A});return{chunkId:f,sessionId:o,seq:p,chunkStartMs:S,chunkEndMs:v,durationMs:C.duration*1e3,sampleRate:C.sampleRate,frameDurationMs:A??50,frames:x,maxNormalized:Z,averageNormalized:tt,scalingFactor:L}}finally{await b.close().catch(()=>{})}}const Qo=(d,c)=>c.some(f=>d instanceof f);let bh,Sh;function Zg(){return bh||(bh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kg(){return Sh||(Sh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zo=new WeakMap,Lo=new WeakMap,Cc=new WeakMap;function Jg(d){const c=new Promise((f,o)=>{const p=()=>{d.removeEventListener("success",S),d.removeEventListener("error",v)},S=()=>{f(ii(d.result)),p()},v=()=>{o(d.error),p()};d.addEventListener("success",S),d.addEventListener("error",v)});return Cc.set(c,d),c}function $g(d){if(Zo.has(d))return;const c=new Promise((f,o)=>{const p=()=>{d.removeEventListener("complete",S),d.removeEventListener("error",v),d.removeEventListener("abort",v)},S=()=>{f(),p()},v=()=>{o(d.error||new DOMException("AbortError","AbortError")),p()};d.addEventListener("complete",S),d.addEventListener("error",v),d.addEventListener("abort",v)});Zo.set(d,c)}let Ko={get(d,c,f){if(d instanceof IDBTransaction){if(c==="done")return Zo.get(d);if(c==="store")return f.objectStoreNames[1]?void 0:f.objectStore(f.objectStoreNames[0])}return ii(d[c])},set(d,c,f){return d[c]=f,!0},has(d,c){return d instanceof IDBTransaction&&(c==="done"||c==="store")?!0:c in d}};function Fh(d){Ko=d(Ko)}function Fg(d){return Kg().includes(d)?function(...c){return d.apply(Jo(this),c),ii(this.request)}:function(...c){return ii(d.apply(Jo(this),c))}}function Ig(d){return typeof d=="function"?Fg(d):(d instanceof IDBTransaction&&$g(d),Qo(d,Zg())?new Proxy(d,Ko):d)}function ii(d){if(d instanceof IDBRequest)return Jg(d);if(Lo.has(d))return Lo.get(d);const c=Ig(d);return c!==d&&(Lo.set(d,c),Cc.set(c,d)),c}const Jo=d=>Cc.get(d);function Wg(d,c,{blocked:f,upgrade:o,blocking:p,terminated:S}={}){const v=indexedDB.open(d,c),A=ii(v);return o&&v.addEventListener("upgradeneeded",b=>{o(ii(v.result),b.oldVersion,b.newVersion,ii(v.transaction),b)}),f&&v.addEventListener("blocked",b=>f(b.oldVersion,b.newVersion,b)),A.then(b=>{S&&b.addEventListener("close",()=>S()),p&&b.addEventListener("versionchange",y=>p(y.oldVersion,y.newVersion,y))}).catch(()=>{}),A}const Pg=["get","getKey","getAll","getAllKeys","count"],ty=["put","add","delete","clear"],qo=new Map;function Mh(d,c){if(!(d instanceof IDBDatabase&&!(c in d)&&typeof c=="string"))return;if(qo.get(c))return qo.get(c);const f=c.replace(/FromIndex$/,""),o=c!==f,p=ty.includes(f);if(!(f in(o?IDBIndex:IDBObjectStore).prototype)||!(p||Pg.includes(f)))return;const S=async function(v,...A){const b=this.transaction(v,p?"readwrite":"readonly");let y=b.store;return o&&(y=y.index(A.shift())),(await Promise.all([y[f](...A),p&&b.done]))[0]};return qo.set(c,S),S}Fh(d=>({...d,get:(c,f,o)=>Mh(c,f)||d.get(c,f,o),has:(c,f)=>!!Mh(c,f)||d.has(c,f)}));const ey=["continue","continuePrimaryKey","advance"],xh={},$o=new WeakMap,Ih=new WeakMap,ny={get(d,c){if(!ey.includes(c))return d[c];let f=xh[c];return f||(f=xh[c]=function(...o){$o.set(this,Ih.get(this)[c](...o))}),f}};async function*ay(...d){let c=this;if(c instanceof IDBCursor||(c=await c.openCursor(...d)),!c)return;c=c;const f=new Proxy(c,ny);for(Ih.set(f,c),Cc.set(f,Jo(c));c;)yield f,c=await($o.get(f)||c.continue()),$o.delete(f)}function Eh(d,c){return c===Symbol.asyncIterator&&Qo(d,[IDBIndex,IDBObjectStore,IDBCursor])||c==="iterate"&&Qo(d,[IDBIndex,IDBObjectStore])}Fh(d=>({...d,get(c,f,o){return Eh(c,f)?ay:d.get(c,f,o)},has(c,f){return Eh(c,f)||d.has(c,f)}}));const Ge="unverified";function ly(d,c){let f=0;return c.map(o=>{const p=Number.isFinite(o.durationMs)&&o.durationMs>0?Math.round(o.durationMs):0,S=Math.round(d+f),v=Math.round(S+p);return f+=p,{...o,durationMs:p,startMs:S,endMs:v}})}const Ah=d=>{const c=Array.isArray(d.frames)?d.frames:[],f=c.length>0&&typeof c[0]=="number"?c:c.map(A=>{if(A&&typeof A=="object"){if(typeof A.normalized=="number")return Math.max(0,A.normalized);if(typeof A.rms=="number")return Math.max(0,A.rms)}return 0}),o=typeof d.frameDurationMs=="number"&&d.frameDurationMs>0?d.frameDurationMs:50,p=typeof d.durationMs=="number"&&d.durationMs>0?d.durationMs:f.length*o,S=typeof d.maxNormalized=="number"?d.maxNormalized:f.length>0?Math.max(...f):0,v=typeof d.averageNormalized=="number"?d.averageNormalized:f.length>0?f.reduce((A,b)=>A+b,0)/f.length:0;return{chunkId:d.chunkId,sessionId:d.sessionId,seq:d.seq??0,chunkStartMs:d.chunkStartMs??0,chunkEndMs:typeof d.chunkEndMs=="number"?d.chunkEndMs:(d.chunkStartMs??0)+p,durationMs:p,sampleRate:d.sampleRate??0,frameDurationMs:o,frames:f,maxNormalized:S,averageNormalized:v,scalingFactor:d.scalingFactor??1,id:d.id??d.chunkId,createdAt:d.createdAt??Date.now(),updatedAt:d.updatedAt??Date.now()}},nu=d=>{const c=Number.isFinite(d.startMs)?d.startMs:0,f=Number.isFinite(d.endMs)?d.endMs:c,o=Number.isFinite(d.durationMs)?d.durationMs:Math.max(0,f-c),p=typeof d.audioPurgedAt=="number"?d.audioPurgedAt:null,S=d.transcription?{...d.transcription,segments:Array.isArray(d.transcription.segments)?d.transcription.segments:[],text:d.transcription.text??""}:d.transcription;return{...d,index:Number.isFinite(d.index)?d.index:0,startMs:c,endMs:f,durationMs:o,breakReason:d.breakReason??null,boundaryIndex:typeof d.boundaryIndex=="number"?d.boundaryIndex:null,transcription:S??null,transcriptionError:d.transcriptionError??null,audioPurgedAt:p}},iy="durable-audio-recorder",sy=4,Th=50;let Ho=null;async function le(){return Ho||(Ho=Wg(iy,sy,{upgrade(d,c){if(c<1&&(d.createObjectStore("sessions",{keyPath:"id"}).createIndex("by-updated","updatedAt"),d.createObjectStore("chunks",{keyPath:"id"}).createIndex("by-session","sessionId")),c<2){d.createObjectStore("logSessions",{keyPath:"id"}).createIndex("by-started","startedAt");const o=d.createObjectStore("logEntries",{keyPath:"id",autoIncrement:!0});o.createIndex("by-session","sessionId"),o.createIndex("by-timestamp","timestamp")}if(c<3){const f=d.createObjectStore("chunkVolumes",{keyPath:"id"});f.createIndex("by-session","sessionId"),f.createIndex("by-chunk","chunkId")}c<4&&d.createObjectStore("snips",{keyPath:"id"}).createIndex("by-session","sessionId")}})),Ho}class uy{async init(){await le()}async createSession(c){await(await le()).put("sessions",{...c,timingStatus:c.timingStatus??Ge})}async updateSession(c,f){const p=(await le()).transaction("sessions","readwrite"),S=p.objectStore("sessions"),v=await S.get(c);if(!v)return await p.done,null;const A={...v,...f,timingStatus:f.timingStatus??v.timingStatus??Ge};return await S.put(A),await p.done,A}async appendChunk(c,f){const p=(await le()).transaction(["chunks","sessions"],"readwrite"),S=p.objectStore("chunks"),v=p.objectStore("sessions"),A={...c,blob:f,byteLength:f.size,createdAt:Date.now(),verifiedAudioMsec:c.seq===0&&/mp4|m4a/i.test(f.type)?0:null,timingStatus:Ge};await S.put(A);const b=await v.get(c.sessionId);if(b){const y=Math.max(b.durationMs,c.endMs-b.startedAt),C={...b,updatedAt:Date.now(),chunkCount:b.chunkCount+1,totalBytes:b.totalBytes+f.size,durationMs:y};await v.put(C)}await p.done}async listSessions(){return(await(await le()).getAll("sessions")).map(o=>({...o,timingStatus:o.timingStatus??Ge})).sort((o,p)=>p.startedAt-o.startedAt)}async getSession(c){const o=await(await le()).get("sessions",c);return o?{...o,timingStatus:o.timingStatus??Ge}:null}async getChunkMetadata(c){return(await(await le()).transaction("chunks").store.index("by-session").getAll(c)).map(({blob:S,timingStatus:v,...A})=>({...A,timingStatus:v??Ge})).sort((S,v)=>S.seq-v.seq)}async getChunkData(c){return(await(await le()).transaction("chunks").store.index("by-session").getAll(c)).sort((S,v)=>S.seq-v.seq).map(S=>({...S,timingStatus:S.timingStatus??Ge}))}async buildSessionBlob(c,f){const S=await(await le()).transaction("chunks").store.index("by-session").getAll(c);if(S.length===0)return null;const A=S.sort((b,y)=>b.seq-y.seq).map(b=>b.blob);return new Blob(A,{type:f})}async storeChunkVolumeProfile(c){const o=(await le()).transaction(["chunkVolumes","chunks"],"readwrite"),p=o.objectStore("chunkVolumes"),S=o.objectStore("chunks"),v=await p.get(c.chunkId),A=Date.now(),b={...c,id:c.chunkId,createdAt:v?.createdAt??A,updatedAt:A},y=Ah(b);await p.put(y);const C=await S.get(c.chunkId);C&&(C.verifiedAudioMsec=Math.round(c.durationMs),await S.put(C)),await o.done}async getChunkVolumeProfile(c){return await(await le()).get("chunkVolumes",c)??null}async listChunkVolumeProfiles(c){const o=(await le()).transaction("chunkVolumes").store;let p;return c?p=await o.index("by-session").getAll(c):p=await o.getAll(),p.map(v=>Ah(v)).sort((v,A)=>v.sessionId!==A.sessionId?v.sessionId.localeCompare(A.sessionId):v.seq!==A.seq?v.seq-A.seq:v.chunkStartMs-A.chunkStartMs)}async listSnips(c){const o=(await le()).transaction("snips").store;let p;return c?p=await o.index("by-session").getAll(c):p=await o.getAll(),p.map(v=>nu(v)).sort((v,A)=>v.sessionId!==A.sessionId?v.sessionId.localeCompare(A.sessionId):v.index-A.index)}async appendSnips(c,f){const p=(await le()).transaction("snips","readwrite"),S=p.objectStore("snips"),v=await S.index("by-session").getAll(c),A=new Map;v.forEach(C=>{A.set(C.index,C)});const b=Date.now();for(const C of f){if(A.has(C.index))continue;const x=Number.isFinite(C.startMs)?Math.max(0,C.startMs):0,L=Number.isFinite(C.endMs)?Math.max(x,C.endMs):x,Z=Number.isFinite(C.durationMs)?Math.max(0,C.durationMs):Math.max(0,L-x),tt={id:`${c}-snip-${C.index}`,sessionId:c,index:C.index,startMs:x,endMs:L,durationMs:Z,breakReason:C.breakReason??null,boundaryIndex:typeof C.boundaryIndex=="number"?C.boundaryIndex:null,createdAt:b,updatedAt:b,transcription:null,transcriptionError:null,audioPurgedAt:null};await S.put(tt),A.set(tt.index,tt)}return await p.done,Array.from(A.values()).map(C=>nu(C)).sort((C,x)=>C.index-x.index)}async updateSnipTranscription(c,f){const p=(await le()).transaction("snips","readwrite"),S=p.objectStore("snips"),v=await S.get(c);if(!v)return await p.done,null;const A=nu({...v,transcription:f.transcription!==void 0?f.transcription:v.transcription,transcriptionError:f.transcriptionError!==void 0?f.transcriptionError:v.transcriptionError,updatedAt:Date.now()});return await S.put(A),await p.done,A}async deleteSession(c){const o=(await le()).transaction(["sessions","chunks","chunkVolumes","snips"],"readwrite");await o.objectStore("sessions").delete(c);const S=o.objectStore("chunks").index("by-session");for(let C=await S.openCursor(c);C;C=await C.continue())await C.delete();const A=o.objectStore("chunkVolumes").index("by-session");for(let C=await A.openCursor(c);C;C=await C.continue())await C.delete();const y=o.objectStore("snips").index("by-session");for(let C=await y.openCursor(c);C;C=await C.continue())await C.delete();await o.done}async purgeLegacyMp4Sessions(){const f=(await this.listSessions()).filter(o=>/mp4|m4a/i.test(o.mimeType??""));for(const o of f)await this.deleteSession(o.id);return{deletedSessions:f.length}}async storageTotals(){const f=(await le()).transaction("chunks").store;let o=0,p=await f.openCursor();for(;p;)o+=p.value.byteLength,p=await p.continue();return{totalBytes:o}}async applyRetentionPolicy(c){const f=typeof c.now=="number"?c.now:Date.now(),p=(await le()).transaction(["chunks","snips","sessions"],"readwrite"),S=p.objectStore("chunks"),v=p.objectStore("snips"),A=p.objectStore("sessions"),[b,y,C]=await Promise.all([S.getAll(),v.getAll(),A.getAll()]),x=b.map(F=>({...F,timingStatus:F.timingStatus??Ge})),L=y.map(F=>nu(F)),Z=C.map(F=>({...F,timingStatus:F.timingStatus??Ge})),tt=x.reduce((F,ft)=>F+ft.byteLength,0);let J=tt;const Mt=Number.isFinite(c.limitBytes)?Math.max(0,c.limitBytes):tt;if(J<=Mt)return await p.done,{limitBytes:Mt,beforeBytes:tt,afterBytes:J,purgedChunkIds:[],purgedSnipIds:[],updatedSessionIds:[],ranAt:f};const lt=new Map(Z.map(F=>[F.id,F])),gt=new Map;x.forEach(F=>{gt.set(F.sessionId,(gt.get(F.sessionId)??0)+F.byteLength)});const ut=new Map;L.forEach(F=>{if(!F.transcription||F.transcriptionError)return;const ft=ut.get(F.sessionId);ft?ft.push(F):ut.set(F.sessionId,[F])}),ut.forEach(F=>F.sort((ft,Ht)=>ft.startMs-Ht.startMs));const Y=4,I=(F,ft)=>{const Ht=F.blob.type||ft?.mimeType||"";if(!/mp4|m4a/i.test(Ht))return!1;const ee=Math.max(0,F.endMs-F.startMs);return F.seq===0&&(ee<=10||F.byteLength<4096)},dt=(F,ft)=>{if(!F||F.length===0)return null;const Ht=ft.startMs,ee=ft.endMs;for(const he of F)if(!(Ht+Y<he.startMs)&&!(ee-Y>he.endMs))return he;return null},K=[];for(const F of x){if(F.byteLength<=0||F.blob.size<=0)continue;const ft=lt.get(F.sessionId)??null;if(I(F,ft))continue;const Ht=ut.get(F.sessionId),ee=dt(Ht,F);ee&&K.push({chunk:F,snip:ee,session:ft})}K.sort((F,ft)=>{const Ht=F.chunk.createdAt??F.chunk.startMs,ee=ft.chunk.createdAt??ft.chunk.startMs;return Ht!==ee?Ht-ee:F.chunk.seq-ft.chunk.seq});const it=[],kt=new Set,Zt=new Set;for(const F of K){if(J<=Mt)break;const ft=F.chunk,Ht=ft.byteLength;if(Ht<=0)continue;const ee=ft.blob.type||F.session?.mimeType||"",he={...ft,blob:new Blob([],{type:ee}),byteLength:0,audioPurgedAt:f};await S.put(he),it.push(ft.id),J=Math.max(0,J-Ht),gt.set(ft.sessionId,Math.max(0,(gt.get(ft.sessionId)??0)-Ht)),Zt.add(ft.sessionId),kt.add(F.snip.id)}for(const F of Zt){const ft=lt.get(F);if(!ft)continue;const Ht=Math.max(0,gt.get(F)??0);await A.put({...ft,totalBytes:Ht,updatedAt:f,timingStatus:ft.timingStatus??Ge})}for(const F of kt){const ft=await v.get(F);if(!ft)continue;const Ht=nu(ft);Ht.audioPurgedAt||await v.put({...Ht,audioPurgedAt:f,updatedAt:f})}return await p.done,{limitBytes:Mt,beforeBytes:tt,afterBytes:J,purgedChunkIds:it,purgedSnipIds:Array.from(kt),updatedSessionIds:Array.from(Zt),ranAt:f}}async verifySessionChunkTimings(c){const o=(await le()).transaction(["chunks","chunkVolumes","sessions"],"readwrite"),p=o.objectStore("chunks"),S=o.objectStore("chunkVolumes"),v=o.objectStore("sessions"),[A,b]=await Promise.all([v.get(c),p.index("by-session").getAll(c)]),y=A?{...A,timingStatus:A.timingStatus??Ge}:null;if(b.length===0)return await o.done,{sessionId:c,status:Ge,updatedChunkIds:[],missingChunkIds:[],totalVerifiedDurationMs:0,baseStartMs:y?.startedAt??null,verifiedChunkCount:0,session:y};const C=[...b].sort((K,it)=>K.seq-it.seq),x=new Array(C.length),L=[],Z=y?.mimeType??"",J=/mp4|m4a/i.test(Z)?C.find(K=>K.seq===0&&(K.endMs-K.startMs<=10||K.byteLength<4096))??null:null;for(let K=0;K<C.length;K+=1){const it=C[K];if(J?.id===it.id){x[K]=0;continue}const Zt=typeof it.verifiedAudioMsec=="number"&&it.verifiedAudioMsec>0?Math.round(it.verifiedAudioMsec):null;if(Zt!==null){x[K]=Zt;continue}const F=await S.get(it.id);if(F&&typeof F.durationMs=="number"&&F.durationMs>0){x[K]=Math.round(F.durationMs);continue}L.push(it.id)}const Mt=J?.startMs??y?.startedAt??C[0]?.startMs??Date.now(),lt=Number.isFinite(Mt)?Math.round(Mt):Date.now();if(L.length>0)return A&&A.timingStatus!==Ge&&await v.put({...A,timingStatus:Ge}),await o.done,{sessionId:c,status:Ge,updatedChunkIds:[],missingChunkIds:L,totalVerifiedDurationMs:0,baseStartMs:lt,verifiedChunkCount:C.filter((K,it)=>x[it]>0).length,session:y};const gt=ly(lt,C.map((K,it)=>({id:K.id,seq:K.seq,durationMs:x[it]}))),ut=[];let Y=0,I=0;for(let K=0;K<gt.length;K+=1){const it=C[K],kt=gt[K],Zt={...it,startMs:kt.startMs,endMs:kt.endMs,verifiedAudioMsec:kt.durationMs,timingStatus:"verified"};(it.startMs!==Zt.startMs||it.endMs!==Zt.endMs||(it.verifiedAudioMsec??0)!==Zt.verifiedAudioMsec||it.timingStatus!=="verified")&&(await p.put(Zt),ut.push(Zt.id)),C[K]=Zt,kt.durationMs>0&&(I+=1,Y+=Math.max(0,kt.durationMs))}let dt=y;if(A){const K=Math.max(0,Math.round(Y)),it={...A,timingStatus:"verified",durationMs:Math.max(A.durationMs,K),updatedAt:Date.now()};await v.put(it),dt={...it}}return await o.done,{sessionId:c,status:"verified",updatedChunkIds:ut,missingChunkIds:[],totalVerifiedDurationMs:Math.max(0,Math.round(Y)),baseStartMs:lt,verifiedChunkCount:I,session:dt}}async reconcileDanglingSessions(){const f=(await le()).transaction(["sessions","chunks"],"readwrite"),o=f.objectStore("sessions"),p=f.objectStore("chunks"),S=await o.getAll(),v=Date.now();for(const A of S){if(A.status!=="recording")continue;const b=await p.index("by-session").getAll(A.id);if(b.length===0)await o.put({...A,status:"error",notes:"No audio captured (session interrupted).",updatedAt:v,totalBytes:0,chunkCount:0,durationMs:0,timingStatus:A.timingStatus??Ge});else{const y=b.reduce((x,L)=>x+L.byteLength,0),C=Math.max(A.durationMs,Math.max(...b.map(x=>x.endMs))-A.startedAt);await o.put({...A,status:"ready",notes:A.notes,updatedAt:v,totalBytes:y,chunkCount:b.length,durationMs:C,timingStatus:A.timingStatus??Ge})}}await f.done}async getChunksForInspection(){const o=(await(await le()).transaction("chunks").store.getAll()).sort((p,S)=>p.startMs!==S.startMs?S.startMs-p.startMs:p.seq!==S.seq?S.seq-p.seq:(S.createdAt??0)-(p.createdAt??0));return Promise.all(o.map(async({blob:p,...S})=>{let v=null;try{v=(await p.arrayBuffer()).byteLength}catch(A){console.warn("[Manifest] Failed to read chunk blob for inspection",A)}return{...S,timingStatus:S.timingStatus??Ge,blobSize:p.size,blobType:p.type,verifiedByteLength:v,sizeMismatch:v!==null&&v!==p.size,startIso:new Date(S.startMs).toISOString(),endIso:new Date(S.endMs).toISOString(),blob:"[binary omitted]"}}))}async createLogSession(){const f=(await le()).transaction(["logSessions","logEntries"],"readwrite"),o=f.objectStore("logSessions"),S={id:crypto.randomUUID(),startedAt:Date.now()};await o.put(S);const v=await o.getAll();if(v.length>Th){const b=v.sort((C,x)=>C.startedAt-x.startedAt).slice(0,v.length-Th),y=f.objectStore("logEntries");for(const C of b){await o.delete(C.id);for(let x=await y.index("by-session").openCursor(C.id);x;x=await x.continue())await x.delete()}}return await f.done,S}async finishLogSession(c){const o=(await le()).transaction("logSessions","readwrite").objectStore("logSessions"),p=await o.get(c);p&&(p.endedAt=Date.now(),await o.put(p))}async appendLogEntry(c){await(await le()).transaction("logEntries","readwrite").objectStore("logEntries").add({...c})}async listLogSessions(){return(await(await le()).transaction("logSessions").store.getAll()).sort((o,p)=>p.startedAt-o.startedAt)}async getLogEntries(c,f=250){const p=(await le()).transaction("logEntries").store.index("by-session"),S=[];for(let v=await p.openCursor(c,"prev");v&&S.length<f;v=await v.continue())S.push(v.value);return S.sort((v,A)=>v.timestamp-A.timestamp)}}const pt=new uy,Ch=120,ts=[];let Tc=!1,Fo=null,Ua=null;async function cy(){return Ua||(Ua=await pt.createLogSession(),await Bt("Logger initialised")),dy(),Ua}async function ry(){Ua&&(await Bt("Logger shutting down"),await pt.finishLogSession(Ua.id),Ua=null),fy()}async function wc(d,c,f){if(Ua)try{await pt.appendLogEntry({sessionId:Ua.id,timestamp:Date.now(),level:d,message:c,details:f})}catch(o){console.warn("[Logger] Failed to persist log entry",o)}}function wh(d,c){return wc("debug",d,c)}function Bt(d,c){return wc("info",d,c)}function Ye(d,c){return wc("warn",d,c)}function Fe(d,c){return wc("error",d,c)}function Dh(){return Ua}const oy=d=>{if(!d)return"unknown";if(d instanceof HTMLElement){let c=d.tagName.toLowerCase();d.id?c+=`#${d.id}`:d.classList.length>0&&(c+=`.${d.classList[0]}`);const f=d;return f.src?c+=` src=${f.src}`:f.href&&(c+=` href=${f.href}`),c}return d.constructor?.name??"unknown"},Go=d=>{ts.push(d),ts.length>Ch&&ts.splice(0,ts.length-Ch)};function dy(){if(Tc||typeof window>"u")return;Tc=!0;const d=f=>{const o=Date.now();if(f instanceof ErrorEvent){Go({timestamp:o,type:"error",message:f.message||"Uncaught error",stack:f.error instanceof Error?f.error.stack:void 0,filename:f.filename||void 0,lineno:f.lineno||void 0,colno:f.colno||void 0});return}Go({timestamp:o,type:"resource",message:"Resource error",target:oy(f.target)})},c=f=>{const o=Date.now(),p=f.reason,S=p instanceof Error?p.message:String(p);Go({timestamp:o,type:"unhandledrejection",message:S||"Unhandled promise rejection",stack:p instanceof Error?p.stack:void 0,reason:p instanceof Error?void 0:String(p)})};window.addEventListener("error",d,!0),window.addEventListener("unhandledrejection",c),Fo=()=>{window.removeEventListener("error",d,!0),window.removeEventListener("unhandledrejection",c)}}function fy(){Tc&&(Fo?.(),Fo=null,Tc=!1)}function my(d){return Number.isFinite(d)?ts.filter(c=>c.timestamp>=d):[]}async function hy(d,c={}){if(!d||!Number.isFinite(d)){await Bt("Global error snapshot skipped (missing timestamp)",c);return}const f=my(d),o={...c,since:d,capturedCount:f.length,bufferSize:ts.length,entries:f.slice(-20)};if(f.length===0){await Bt("No global errors captured during recording start window",o);return}await Ye("Global errors captured during recording start window",o)}const py={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}},au="audio/mpeg",Nh=9e3,gy=d=>({id:d.id,label:d.label,enabled:d.enabled,muted:d.muted,readyState:d.readyState,settings:typeof d.getSettings=="function"?d.getSettings():void 0,constraints:typeof d.getConstraints=="function"?d.getConstraints():void 0}),Rh=d=>{if(!d)return null;const c=d.getAudioTracks();return{active:d.active,trackCount:c.length,tracks:c.map(f=>gy(f))}},jh=d=>{if(!d)return null;const c="outputLatency"in d?d.outputLatency:null;return{state:d.state,sampleRate:d.sampleRate,baseLatency:Number.isFinite(d.baseLatency)?d.baseLatency:null,outputLatency:Number.isFinite(c)?c:null}},yy=d=>{const c=new Int16Array(d.length);for(let f=0;f<d.length;f+=1){const o=Math.max(-1,Math.min(1,d[f]));c[f]=o<0?Math.round(o*32768):Math.round(o*32767)}return c};class vy{#t=null;#a=null;#n=null;#e=null;#s=null;#l=null;#f=0;#m=Promise.resolve();#r=0;#u=48e3;#g=64;#p=0;#h=0;#b=0;#M=0;#o=[];#c=0;#S=new Set;#i={sessionId:null,state:"idle",startedAt:null,lastChunkAt:null,capturedMs:0,bytesBuffered:0,mimeType:null,chunksRecorded:0};#y=null;#v=!1;get state(){return this.#i}#d(c){this.#i={...this.#i,...c},this.#S.forEach(f=>f(this.#i))}async start(c){if(this.#i.state==="recording"||this.#i.state==="starting")throw new Error("Recorder already running");this.#d({state:"starting",error:void 0,capturedMs:0}),await pt.init(),await Bt("Requesting microphone stream");const f=await navigator.mediaDevices.getUserMedia(py);await Bt("Microphone stream acquired",{stream:Rh(f)});const o=window.AudioContext||window.webkitAudioContext;if(typeof o!="function")throw new Error("AudioContext unavailable");const p=new o;await p.resume().catch(()=>{});const S=p.createMediaStreamSource(f),v=p.createScriptProcessor(4096,1,1),A=p.createGain();A.gain.value=0,S.connect(v),v.connect(A),A.connect(p.destination),this.#t=f,this.#a=p,this.#n=S,this.#e=v,this.#s=A,this.#l=c.sessionId,this.#f=0,this.#o=[],this.#c=0,this.#h=0,this.#b=0,this.#r=Date.now(),this.#u=p.sampleRate,this.#g=Math.max(8,Math.round(c.targetBitrate/1e3)),this.#p=Math.max(1,Math.round(c.chunkDurationMs/1e3*this.#u)),this.#M=Math.max(1,Math.round(this.#u/10)),this.#v=!1,await Bt("PCM capture started",{sessionId:c.sessionId,startedAt:this.#r,sampleRate:this.#u,chunkDurationMs:c.chunkDurationMs,mp3Kbps:this.#g,audioContext:jh(p)}),await Bg(),await pt.updateSession(c.sessionId,{startedAt:this.#r,updatedAt:this.#r,mimeType:au,status:"recording"}),this.#d({state:"recording",sessionId:c.sessionId,startedAt:this.#r,lastChunkAt:this.#r,capturedMs:0,mimeType:au,bytesBuffered:0,chunksRecorded:0}),v.onaudioprocess=b=>{if(!this.#l||this.#i.state!=="recording")return;this.#v=!0;const y=b.inputBuffer.getChannelData(0),C=yy(y);this.#o.push(C),this.#c+=C.length;const x=this.#h+this.#c;if(x-this.#b>=this.#M){this.#b=x;const L=Math.round(x/this.#u*1e3);this.#d({capturedMs:L})}this.#c>=this.#p&&this.#A().catch(L=>{console.error("[PCM Capture] chunk flush failed",L),this.#d({state:"error",error:L instanceof Error?L.message:String(L)}),Fe("PCM chunk flush failed",{sessionId:this.#l,error:L instanceof Error?L.message:String(L)})})},this.#w()}async#A(){if(!this.#l||this.#c<this.#p)return;const c=this.#p,f=[];let o=c;for(;o>0&&this.#o.length>0;){const p=this.#o[0];p.length<=o?(f.push(p),this.#o.shift(),o-=p.length):(f.push(p.subarray(0,o)),this.#o[0]=p.subarray(o),o=0)}this.#c-=c,await this.#x(f)}async#T(){if(!this.#l||this.#c<=0)return;const c=this.#o;this.#o=[],this.#c=0,await this.#x(c)}async#x(c){if(!this.#l)return;const f=this.#l,o=this.#f++,p=Lg(),S=new p(1,this.#u,this.#g),v=[];let A=0;for(const Z of c){if(Z.length===0)continue;A+=Z.length;const tt=S.encodeBuffer(Z);if(tt.length>0){const J=new Uint8Array(tt.length);J.set(tt),v.push(J)}}const b=S.flush();if(b.length>0){const Z=new Uint8Array(b.length);Z.set(b),v.push(Z)}const y=new Blob(v,{type:au}),C=this.#r+Math.round(this.#h/this.#u*1e3),x=this.#r+Math.round((this.#h+A)/this.#u*1e3);this.#h+=A;const L=`${f}-chunk-${o}`;wh("PCM chunk encoded",{sessionId:f,seq:o,sampleRate:this.#u,samples:A,durationMs:x-C,mp3Bytes:y.size,mp3Kbps:this.#g,chunkStartMs:C,chunkEndMs:x}),this.#m=this.#m.then(()=>pt.appendChunk({id:L,sessionId:f,seq:o,startMs:C,endMs:x,verifiedAudioMsec:null},y)).then(async()=>{this.#d({lastChunkAt:x,bytesBuffered:this.#i.bytesBuffered+y.size,chunksRecorded:this.#i.chunksRecorded+1}),await Bt("Chunk persisted",{sessionId:f,seq:o,size:y.size,startMs:C,endMs:x,mimeType:au});try{const Z=await $h(y,{chunkId:L,sessionId:f,seq:o,chunkStartMs:C,chunkEndMs:x});await pt.storeChunkVolumeProfile(Z),wh("Chunk volume profile stored",{sessionId:f,seq:o,frameCount:Z.frames.length})}catch(Z){Ye("Chunk volume profile failed",{sessionId:f,seq:o,error:Z instanceof Error?Z.message:String(Z)})}})}async stop(){if(this.#i.state!=="recording")return;this.#d({state:"stopping"}),this.#E(),await this.#T(),await this.flushPending();const c=this.#l;let f;if(c){const o=await pt.getChunkMetadata(c),p=o.some(y=>y.byteLength>0&&y.endMs>y.startMs),S=p?"ready":"error",v=o.length>0?o[o.length-1].endMs-o[0].startMs:0,A=o.reduce((y,C)=>y+C.byteLength,0);p||(f=o.length===0?"Error: no audio captured. Check microphone access and try again.":"Error: captured audio contained no playable samples.",await Fe("Session completed without playable audio",{sessionId:c,chunkCount:o.length,totalBytes:A,mimeType:au}));const b={status:S,updatedAt:Date.now(),durationMs:v,totalBytes:A,chunkCount:o.length};f&&(b.notes=f),await pt.updateSession(c,b),await Bt("Session timing reconciled",{sessionId:c,status:S,durationMs:v,totalBytes:A,chunkCount:o.length,hasPlayableChunk:p})}this.#C(),this.#l=null,this.#d({state:"idle",sessionId:null,startedAt:null,lastChunkAt:null,capturedMs:0,mimeType:null,chunksRecorded:0,bytesBuffered:0,error:f})}async flushPending(){await this.#m}attachAnalysisPort(c){}#C(){if(this.#e){this.#e.onaudioprocess=null;try{this.#e.disconnect()}catch{}this.#e=null}if(this.#n){try{this.#n.disconnect()}catch{}this.#n=null}if(this.#s){try{this.#s.disconnect()}catch{}this.#s=null}this.#a&&(this.#a.close().catch(()=>{}),this.#a=null),this.#t&&(this.#t.getTracks().forEach(c=>c.stop()),this.#t=null)}#w(){this.#E(),this.#y=window.setTimeout(()=>{!this.#v&&this.#i.state==="recording"&&(this.#d({error:"No audio detected  recording may be muted."}),Ye("No PCM audio callback detected within timeout",{sessionId:this.#l,timeoutMs:Nh,diagnostics:this.getDiagnostics()}))},Nh)}#E(){this.#y!==null&&(window.clearTimeout(this.#y),this.#y=null)}getDiagnostics(){const c=this.#e,f=!!(this.#n||this.#e||this.#s);return{sessionId:this.#l,state:this.#i.state,startedAt:this.#i.startedAt,audioContext:jh(this.#a),stream:Rh(this.#t),audioGraph:f?{hasSource:!!this.#n,hasProcessor:!!this.#e,hasMuteGain:!!this.#s,processorBufferSize:typeof c?.bufferSize=="number"?c.bufferSize:null,channelCount:typeof c?.channelCount=="number"?c.channelCount:null,channelCountMode:c?.channelCountMode??null,channelInterpretation:c?.channelInterpretation??null}:null,processing:{hasSeenAudioProcess:this.#v,pendingSamples:this.#c,totalSamplesWritten:this.#h,chunkTargetSamples:this.#p,sampleRate:this.#u}}}subscribe(c){return this.#S.add(c),c(this.#i),()=>this.#S.delete(c)}}const ai=new vy,nn={desiredActive:!1,sentinel:null,pending:!1,supportLogged:!1,listenersAttached:!1},Yo=()=>typeof document>"u"?"unknown":document.visibilityState??"unknown",by=()=>{if(typeof navigator>"u")return null;const d=navigator.wakeLock;return!d||typeof d.request!="function"?null:d},ed=async d=>{if(!nn.desiredActive||nn.pending||nn.sentinel)return;const c=by();if(!c){nn.supportLogged||(nn.supportLogged=!0,await Ye("Wake Lock API unavailable; screen may sleep during recording",{reason:d,userAgent:typeof navigator<"u"?navigator.userAgent:"unknown"}));return}if(typeof document<"u"&&document.visibilityState!=="visible"){await Bt("Wake lock request deferred until page is visible",{reason:d,visibility:Yo()});return}nn.pending=!0;try{const f=await c.request("screen");nn.sentinel=f,f.addEventListener("release",()=>{nn.sentinel=null,nn.desiredActive&&(Ye("Wake lock released unexpectedly; retrying",{visibility:Yo()}),ed("released"))}),await Bt("Wake lock acquired for recording",{reason:d})}catch(f){await Ye("Wake lock request failed",{reason:d,visibility:Yo(),error:f instanceof Error?f.message:String(f)})}finally{nn.pending=!1}},Sy=async d=>{const c=nn.sentinel;if(c){nn.sentinel=null;try{c.released||await c.release(),await Bt("Wake lock released after recording",{reason:d})}catch(f){await Ye("Wake lock release failed",{reason:d,error:f instanceof Error?f.message:String(f)})}}},My=()=>{nn.listenersAttached||typeof document>"u"||(nn.listenersAttached=!0,document.addEventListener("visibilitychange",()=>{nn.desiredActive&&document.visibilityState==="visible"&&ed("visibilitychange")}))},Ec=async(d,c)=>{if(nn.desiredActive=d,d){await ed(c);return}await Sy(c)},lu=d=>{if(!Number.isFinite(d)||d<=0)return"0.0s";const c=d/1e3;if(c<10)return`${c.toFixed(1)}s`;if(c<60)return`${c.toFixed(0)}s`;const f=Math.floor(c/60),o=c%60;return`${f}m ${o.toFixed(0).padStart(2,"0")}s`},xy=10,Ey=75e3,zh=720,Oh=12,Ay=.75,Ty=.1,_h=3,kh=7,Uh=(d,c=xy)=>{if(!Number.isFinite(d)||d<=0)return 0;const f=Math.min(1,Math.max(0,d)),o=Math.log10(1+(c-1)*f),p=Math.log10(c);if(!Number.isFinite(o)||!Number.isFinite(p)||p===0)return f;const S=o/p;return Math.min(1,Math.max(0,S))},Cy=1,wy=(d,c,f,o,p)=>{if(d.length===0||c<=0||o<=0)return[];const S=[...d].sort((x,L)=>x.startMs!==L.startMs?x.startMs-L.startMs:x.endMs!==L.endMs?x.endMs-L.endMs:x.index-L.index),v=[];let A=[],b=0,y=-1/0;const C=()=>{A.length>1&&(A.push(`L ${b.toFixed(2)} ${f}`),A.push("Z"),v.push(A.join(" "))),A=[]};return S.forEach((x,L)=>{const Z=(x.startMs+x.endMs)/2,tt=Math.min(o,Math.max(0,x.startMs/c*o)),J=Math.min(o,Math.max(0,x.endMs/c*o)),Mt=Math.min(o,Math.max(0,Z/c*o)),lt=p(x.normalized),gt=Math.max(0,Math.min(f,(1-lt)*f));(A.length===0||Z+Cy<y)&&(C(),A=[`M ${tt.toFixed(2)} ${f}`]),A.push(`L ${Mt.toFixed(2)} ${gt.toFixed(2)}`),b=Math.max(J,b),y=Z,L===S.length-1&&C()}),A.length>0&&C(),v},Dy=(d,c,f)=>d.map(o=>{const p=o.startMs/c*f,S=(o.endMs-o.startMs)/c*f;return{x:p,rectWidth:S}}),Ny=(d,c,f)=>d.map(o=>({x:o.positionMs/c*f})),Ry=d=>d.map(c=>({id:c.index,label:c.breakReason==="end"?"Tail":`Segment #${c.index+1}`,durationMs:c.durationMs,startMs:c.startMs,endMs:c.endMs,breakReason:c.breakReason})),jy=({analysis:d,targetRange:c,playback:f})=>{const o=N.useRef(null),p=N.useRef(null),[S,v]=N.useState(!1),[A,b]=N.useState(!1),[y,C]=N.useState(!1),x=120,L=d.stats.totalDurationMs,Z=L>0?L:d.stats.frameCount*d.stats.frameDurationMs,tt=typeof window<"u"?Math.min(960,Math.max(zh,Math.floor(window.innerWidth*.8))):zh,J=Z>0?Math.max(tt,Math.round(Z/Ey*tt)):tt,Mt=N.useId(),lt=f?.positionMs??null,gt=Z>0&&J>0,ut=lt===null||!gt?null:Math.min(Math.max(lt,0),Z),Y=ut===null||!gt?null:ut/Z,I=Y===null?null:Y*J,dt=N.useMemo(()=>{if(I===null||!gt)return null;const W=Math.min(J,Math.max(0,I)),rt=E=>Math.max(0,Math.min(Math.max(J-E,0),W-E/2));return{center:W,mainX:rt(_h),mainWidth:_h,glowX:rt(kh),glowWidth:kh}},[gt,I,J]),K=!!f?.isPlaying,it=N.useCallback(()=>{const W=o.current;if(!W){b(!1),C(!1);return}const{scrollLeft:rt,clientWidth:E,scrollWidth:B}=W;b(rt>Oh),C(rt+E<B-Oh)},[]),kt=N.useCallback(W=>{S&&W.preventDefault(),it()},[S,it]),Zt=N.useCallback(W=>{const rt=o.current;rt&&(rt.setPointerCapture(W.pointerId),p.current={pointerId:W.pointerId,startX:W.clientX,scrollLeft:rt.scrollLeft},v(!0))},[]),F=N.useCallback(W=>{const rt=o.current,E=p.current;if(!rt||!E||E.pointerId!==W.pointerId)return;W.preventDefault();const B=W.clientX-E.startX;rt.scrollLeft=E.scrollLeft-B,it()},[it]),ft=N.useCallback(W=>{const rt=o.current,E=p.current;!rt||!E||E.pointerId!==W.pointerId||(rt.releasePointerCapture(W.pointerId),p.current=null,v(!1),it())},[it]);N.useEffect(()=>{it()},[J,it]),N.useEffect(()=>{const W=o.current;if(!W||dt===null||S||!K)return;const rt=W.clientWidth;if(rt<=0)return;const E=Math.max(0,W.scrollWidth-rt);if(E<=0)return;const B=W.scrollLeft,et=B,at=B+rt,vt=rt*Ay,Dt=rt*Ty;let Tt=null;dt.center>=et+vt?Tt=Math.min(E,dt.center-vt):dt.center<=et?Tt=Math.max(0,dt.center-Dt):dt.center>=at&&(Tt=Math.min(E,dt.center-vt)),Tt!==null&&Math.abs(Tt-B)>.5&&(typeof W.scrollTo=="function"?W.scrollTo({left:Tt,behavior:"smooth"}):W.scrollLeft=Tt,typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(()=>{it()}):it())},[S,K,dt,it]);const Ht=N.useMemo(()=>wy(d.frames,Z,x,J,Uh),[d.frames,Z,x,J]),ee=N.useMemo(()=>Dy(d.quietRegions,Z,J),[d.quietRegions,Z,J]),he=N.useMemo(()=>Ny(d.boundaries,Z,J),[d.boundaries,Z,J]),U=N.useMemo(()=>Ry(d.segments),[d.segments]),P=(1-Uh(d.stats.normalizedThreshold))*x,ht=["chunking-graph-scroll",S?"is-dragging":"",A?"show-left-indicator":"",y?"show-right-indicator":""].filter(Boolean).join(" ");return h.jsxs("div",{className:"chunking-graph",children:[h.jsxs("header",{className:"chunking-graph-header",children:[h.jsx("h4",{children:"Volume histogram"}),h.jsxs("div",{className:"chunking-graph-meta",children:[h.jsxs("span",{children:["Frames: ",d.stats.frameCount]}),h.jsxs("span",{children:["Duration: ",lu(Z)]})]})]}),h.jsxs("div",{className:"chunking-graph-body",children:[h.jsx("div",{className:ht,ref:o,onScroll:kt,onPointerDown:Zt,onPointerMove:F,onPointerUp:ft,onPointerCancel:ft,onPointerLeave:W=>{S&&ft(W)},children:h.jsxs("svg",{className:"chunking-graph-svg",role:"img",viewBox:`0 0 ${J} ${x}`,width:J,height:x,"aria-label":"Volume histogram with proposed chunk boundaries",preserveAspectRatio:"none",children:[h.jsx("rect",{x:0,y:0,width:J,height:x,fill:"rgba(15, 23, 42, 0.85)"}),ee.map((W,rt)=>h.jsx("rect",{x:W.x,y:0,width:Math.max(1.5,W.rectWidth),height:x,fill:"rgba(56, 189, 248, 0.12)"},`quiet-${rt}`)),Ht.map((W,rt)=>h.jsx("path",{d:W,fill:`url(#${Mt})`,stroke:"rgba(94, 234, 212, 0.48)",strokeWidth:1},`histogram-${rt}`)),dt?h.jsxs("g",{className:"chunking-playback-indicator","aria-hidden":"true",children:[h.jsx("rect",{x:dt.glowX,y:0,width:dt.glowWidth,height:x,fill:"rgba(34, 197, 94, 0.28)"}),h.jsx("rect",{x:dt.mainX,y:0,width:dt.mainWidth,height:x,fill:"rgba(34, 197, 94, 0.95)"})]}):null,h.jsx("line",{x1:0,y1:P,x2:J,y2:P,strokeDasharray:"6 6",stroke:"rgba(250, 204, 21, 0.9)",strokeWidth:1}),he.map((W,rt)=>h.jsxs("g",{children:[h.jsx("rect",{x:W.x-2,y:0,width:4,height:x,fill:"rgba(251, 146, 60, 0.24)"}),h.jsx("line",{x1:W.x,y1:0,x2:W.x,y2:x,stroke:"#facc15",strokeWidth:1.5})]},`boundary-${rt}`)),h.jsx("defs",{children:h.jsxs("linearGradient",{id:Mt,x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"rgba(94, 234, 212, 0.55)"}),h.jsx("stop",{offset:"100%",stopColor:"rgba(56, 189, 248, 0.15)"})]})})]})}),c?h.jsxs("div",{className:"chunking-target-hint",children:["Target chunk length: ",lu(c.minMs),"  ",lu(c.maxMs)," (ideal"," ",lu(c.idealMs),")"]}):null,h.jsxs("dl",{className:"chunking-stats",children:[h.jsxs("div",{children:[h.jsx("dt",{children:"Noise floor"}),h.jsx("dd",{children:d.stats.noiseFloor.toFixed(5)})]}),h.jsxs("div",{children:[h.jsx("dt",{children:"Silence threshold"}),h.jsx("dd",{children:d.stats.threshold.toFixed(5)})]}),h.jsxs("div",{children:[h.jsx("dt",{children:"Peak RMS"}),h.jsx("dd",{children:d.stats.maxRms.toFixed(5)})]}),h.jsxs("div",{children:[h.jsx("dt",{children:"Quiet regions"}),h.jsx("dd",{children:d.quietRegions.length})]}),h.jsxs("div",{children:[h.jsx("dt",{children:"Proposed breaks"}),h.jsx("dd",{children:d.boundaries.length})]})]})]}),h.jsxs("div",{className:"chunking-chunk-list",children:[h.jsx("h5",{children:"Proposed chunks"}),U.length===0?h.jsx("p",{className:"chunking-empty",children:"No proposed breaks yet. Recording may be too short or lacks silence."}):h.jsx("ul",{children:U.map(W=>h.jsxs("li",{children:[h.jsx("span",{className:"chunking-chunk-label",children:W.label}),h.jsx("span",{children:lu(W.durationMs)})]},W.id))})]})]})},zy=N.memo(jy),Oy=/mp4|m4a/i,_y=3;class Io{#t;#a=!1;#n=new Map;#e=new Map;constructor(c=pt){this.#t=c}async#s(){this.#a||(await this.#t.init(),this.#a=!0)}async ensureTimings(c){await this.#s();const f=this.#n.get(c);if(f)return f;const o=this.#t.verifySessionChunkTimings(c).then(p=>(this.#n.delete(c),p)).catch(p=>{throw this.#n.delete(c),p});return this.#n.set(c,o),o}async prepareAnalysisForSession(c){const{session:f,forceRefresh:o=!1}=c;await this.#s();let p=await this.ensureTimings(f.id);p.status!=="verified"&&p.missingChunkIds.length>0&&(await this.#f(f,p.missingChunkIds,c.mimeTypeHint),p=await this.ensureTimings(f.id));const v=(await this.#t.listChunkVolumeProfiles(f.id)).filter(I=>I.sessionId===f.id&&I.seq>=0).sort((I,dt)=>I.seq-dt.seq),A=v.reduce((I,dt)=>Math.max(I,dt.updatedAt??dt.createdAt??0),0),b=[`timeline-v${_y}`,f.id,f.chunkCount,f.updatedAt??0,p.totalVerifiedDurationMs,p.status,A].join(":");if(!o){const I=this.#e.get(f.id);if(I&&I.cacheKey===b)return{sessionId:f.id,cacheKey:b,analysis:I.analysis,verification:p,frames:I.frames}}const y=await this.#t.getChunkMetadata(f.id),C=/mp4|m4a/i.test(f.mimeType??c.mimeTypeHint??""),x=[...y].filter(I=>I.seq>=0).sort((I,dt)=>I.seq-dt.seq).filter(I=>!C||I.seq!==0?!0:!(Math.max(0,I.endMs-I.startMs)<=10||I.byteLength<4096)),L=new Map;x.forEach(I=>{const dt=typeof I.verifiedAudioMsec=="number"&&I.verifiedAudioMsec>0?Math.round(I.verifiedAudioMsec):0,K=Math.max(0,Math.round(I.endMs-I.startMs)),it=dt>0?dt:K;L.set(I.seq,it)});const Z=typeof p.totalVerifiedDurationMs=="number"&&p.totalVerifiedDurationMs>0?Math.round(p.totalVerifiedDurationMs):x.reduce((I,dt)=>I+Math.max(0,Math.round(dt.endMs-dt.startMs)),0),tt=new Map;v.forEach(I=>{tt.set(I.seq,I)});const J=p.baseStartMs??f.startedAt,{frames:Mt,sampleRate:lt,frameDurationMs:gt,totalDurationMs:ut}=this.#l({orderedChunkSeq:x.map(I=>I.seq),profilesBySeq:tt,durationsBySeq:L,durationLimitMs:Z,baseStartMs:J}),Y=Mt.length>0?Jh(Mt,{totalDurationMs:ut,sampleRate:lt,frameDurationMs:gt}):null;return Y?this.#e.set(f.id,{cacheKey:b,analysis:Y,frames:Mt}):this.#e.delete(f.id),{sessionId:f.id,cacheKey:b,analysis:Y,verification:p,frames:Mt}}#l({orderedChunkSeq:c,profilesBySeq:f,durationsBySeq:o,durationLimitMs:p,baseStartMs:S}){let v=0;const A=[];let b=0,y=0,C=es.frameDurationMs;return c.forEach(x=>{const L=f.get(x)??null,Z=L&&Array.isArray(L.frames)?L.frames:[],tt=L&&L.frameDurationMs>0?L.frameDurationMs:es.frameDurationMs,J=o.get(x)??0,Mt=Math.max(0,Math.round((L?.durationMs??0)||Z.length*tt)),lt=J>0?J:Mt;if(p>0&&v>=p)return;const gt=v,ut=p>0?Math.max(0,Math.min(lt,p-v)):lt,Y=ut>0?Math.ceil(ut/tt):Z.length;let I=Z;if(L&&Z.length>0&&J>0){const K=Math.max(0,L.durationMs??Z.length*tt),it=Math.max(0,Math.round(L.chunkStartMs-S)),kt=Math.max(it,Math.round(L.chunkEndMs-S));if(K>J*1.5&&K>kt*.8){const F=Math.max(0,Math.floor(it/tt)),ft=Math.min(Z.length,Math.ceil(kt/tt));I=Z.slice(F,Math.max(F,ft))}}const dt=Math.max(0,Math.min(I.length,Y));for(let K=0;K<dt;K+=1){const it=I[K],kt=Number.isFinite(it)?Math.max(0,it):0,Zt=gt+K*tt,F=Math.min(gt+ut,Zt+tt);A.push({index:b,startMs:Zt,endMs:F,rms:kt,normalized:kt}),b+=1}for(let K=dt;K<Y;K+=1){const it=gt+K*tt,kt=Math.min(gt+ut,it+tt);if(kt<=it)break;A.push({index:b,startMs:it,endMs:kt,rms:0,normalized:0}),b+=1}v+=ut,C=tt,y===0&&L&&L.sampleRate>0&&(y=L.sampleRate)}),{frames:A,sampleRate:y,frameDurationMs:C,totalDurationMs:p>0?Math.min(v,p):v}}async#f(c,f,o){if(f.length===0)return;const p=await this.#t.getChunkData(c.id);if(p.length===0)return;const v=(p.find(y=>y.seq===0)??null)?.blob??null,A=v?.type??c.mimeType??o??"audio/mp4",b=p.filter(y=>y.seq>0&&y.blob.size>0&&f.includes(y.id));for(const y of b)try{let C=y.blob;v&&Oy.test(A)&&(C=new Blob([v,y.blob],{type:v.type||y.blob.type||A}));const x=await $h(C,{chunkId:y.id,sessionId:c.id,seq:y.seq,chunkStartMs:y.startMs,chunkEndMs:y.endMs});await this.#t.storeChunkVolumeProfile(x)}catch(C){console.warn("[SessionAnalysisProvider] Failed to regenerate chunk volume profile",{sessionId:c.id,chunkId:y.id,error:C})}}}const Bh=/mp4|m4a/i,ky=15e3,Ac=(d,c,f)=>{for(let o=0;o<f.length;o+=1)d.setUint8(c+o,f.charCodeAt(o))},Uy=(d,c)=>{const S=c*2,v=d.length*2,A=new ArrayBuffer(44+v),b=new DataView(A);Ac(b,0,"RIFF"),b.setUint32(4,36+v,!0),Ac(b,8,"WAVE"),Ac(b,12,"fmt "),b.setUint32(16,16,!0),b.setUint16(20,1,!0),b.setUint16(22,1,!0),b.setUint32(24,c,!0),b.setUint32(28,S,!0),b.setUint16(32,2,!0),b.setUint16(34,16,!0),Ac(b,36,"data"),b.setUint32(40,v,!0);let y=44;for(let C=0;C<d.length;C+=1){const x=Math.max(-1,Math.min(1,d[C])),L=x<0?Math.round(x*32768):Math.round(x*32767);b.setInt16(y,L,!0),y+=2}return new Blob([A],{type:"audio/wav"})},Lh=(d,c,f)=>{const o=d.sampleRate,p=Math.max(0,Math.floor(c/1e3*o)),S=Math.min(d.length,Math.ceil(f/1e3*o)),v=Math.max(0,S-p);if(v===0)return{samples:new Float32Array(0),sampleRate:o,durationMs:0,startMs:c,endMs:c};if(d.numberOfChannels===1){const y=d.getChannelData(0).slice(p,S),C=y.length/o*1e3;return{samples:y,sampleRate:o,durationMs:C,startMs:c,endMs:c+C}}const A=new Float32Array(v);for(let y=0;y<d.numberOfChannels;y+=1){const C=d.getChannelData(y);for(let x=0;x<v;x+=1)A[x]+=C[p+x]/d.numberOfChannels}const b=A.length/o*1e3;return{samples:A,sampleRate:o,durationMs:b,startMs:c,endMs:c+b}};class By{#t;#a;#n=null;constructor(c=pt,f){this.#t=c,this.#a=f??new Io(c)}async#e(){await this.#t.init()}async listChunks(c){return await this.#e(),await this.#t.getChunkData(c)}async listSnips(c,f){await this.#e();const o=await this.#t.listSnips(c.id),p=o.length>0?o[o.length-1].endMs:0,S=Math.max(0,c.durationMs??0),v=c.status==="recording",A=v?ky:0,b=v?es.minSegmentMs+A:0,y=Math.max(0,S-p);if(!(o.length===0||(v?y>=b:S>0&&p<Math.max(0,S-1e3))))return o;const x=await this.#a.prepareAnalysisForSession({session:c,mimeTypeHint:f??c.mimeType??null,forceRefresh:v}),L=x.analysis?.stats.totalDurationMs??x.frames[x.frames.length-1]?.endMs??0;if(L<=p+200)return o;const Z=Math.min(Math.max(0,p),L),tt=L,J=Math.max(0,tt-Z);if(J<=0||v&&J<b)return o;const lt=Qg({frames:x.frames,windowStartMs:Z,windowEndMs:tt,sampleRate:x.analysis?.stats.sampleRate??0,frameDurationMs:x.analysis?.stats.frameDurationMs??es.frameDurationMs}).analysis?.segments??[];if(lt.length===0)return o;const gt=v?Math.max(0,J-A):J,ut=o.reduce((I,dt)=>Math.max(I,dt.index),-1)+1,Y=[];return lt.forEach(I=>{I.endMs<=0||I.endMs>gt||Y.push({index:ut+Y.length,startMs:Z+I.startMs,endMs:Z+I.endMs,durationMs:I.durationMs,breakReason:I.breakReason,boundaryIndex:I.boundaryIndex})}),Y.length===0?o:await this.#t.appendSnips(c.id,Y)}async getChunkAudio(c,f){await this.#e();const o=await this.#t.getChunkData(c.id),p=o.find(J=>J.seq===f)??null;if(!p)return null;const S=o.find(J=>J.seq===0)??null,v=p.blob.type||c.mimeType||"audio/mpeg",b=S&&S.id!==p.id&&Bh.test(v)?new Blob([S.blob,p.blob],{type:v}):p.blob,y=p.startMs,C=p.endMs,x=Math.max(0,C-y),L=new Date(c.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-"),Z=String(f+1).padStart(2,"0"),tt=/mpeg/i.test(v)?"mp3":/webm/i.test(v)?"webm":/mp4|m4a/i.test(v)?"mp4":"bin";return{kind:"chunk",sessionId:c.id,startMs:y,endMs:C,durationMs:x,mimeType:b.type||v,blob:b,suggestedFilename:`${L}_chunk-${Z}.${tt}`}}async#s(){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");return this.#n?this.#n:(this.#n=new AudioContext,this.#n)}async#l(c){await this.#e();const f=await this.#t.getChunkData(c.id),o=c.mimeType??"",S=/mp4|m4a/i.test(o)?f.find(x=>x.seq===0&&(x.endMs-x.startMs<=10||x.byteLength<4096))??null:null,v=f.filter(x=>!S||x.id!==S.id).sort((x,L)=>x.seq-L.seq),A=S?.startMs??(v.length>0?v[0].startMs:c.startedAt??Date.now()),b=Number.isFinite(A)?Math.round(A):Date.now(),y=b>1e12,C=v.map(x=>{const L=y?x.startMs-b:x.startMs,Z=y?x.endMs-b:x.endMs;return{...x,startOffsetMs:Math.max(0,L),endOffsetMs:Math.max(0,Z)}});return{baseStartMs:b,headerChunk:S,playable:C}}async#f(c,f,o){const p=f.blob.type||c.mimeType||"audio/mp4",S=o&&o.id!==f.id&&Bh.test(p),v=S?new Blob([o.blob,f.blob],{type:p}):f.blob,A=await this.#s();try{const b=await v.arrayBuffer();return await A.decodeAudioData(b.slice(0))}catch(b){const y=b instanceof Error?b.message:String(b),C=[`session=${c.id}`,`chunk=${f.id}`,`seq=${f.seq}`,`bytes=${v.size}`,`mime=${p}`,S?"init=1":"init=0"].join(" ");throw new Error(`Failed to decode chunk audio (${C})${y?`: ${y}`:""}`)}}async#m(c,f,o){const p=Math.max(0,f),S=Math.max(p,o),{headerChunk:v,playable:A}=await this.#l(c);if(A.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const b=A.filter(lt=>lt.startOffsetMs<S&&lt.endOffsetMs>p).sort((lt,gt)=>lt.seq-gt.seq);if(b.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const y=[];for(const lt of b){const gt=await this.#f(c,lt,v),ut=Math.max(0,gt.duration*1e3),Y=Math.max(0,lt.endOffsetMs-lt.startOffsetMs),I=Y>0&&ut>Y*1.5&&ut>lt.endOffsetMs*.8;y.push({chunk:lt,buffer:gt,bufferDurationMs:ut,expectedChunkDurationMs:Y,isCumulative:I})}if(y.some(lt=>lt.isCumulative)){const lt=y.find(Y=>Y.bufferDurationMs>=S-10)??y[y.length-1],gt=lt.buffer.sampleRate,ut=Lh(lt.buffer,p,S);return{samples:ut.samples,sampleRate:gt,durationMs:ut.durationMs,startMs:p,endMs:p+ut.durationMs}}const x=[];let L=0,Z=0;for(const lt of y){const gt=lt.chunk,ut=lt.buffer;Z===0&&(Z=ut.sampleRate);const Y=ut.duration*1e3,I=Math.max(0,p-gt.startOffsetMs),dt=Math.min(Y,S-gt.startOffsetMs);if(dt<=I)continue;const K=Lh(ut,I,dt);x.push(K.samples),L+=K.samples.length}if(Z===0||L===0)return{samples:new Float32Array(0),sampleRate:Z,durationMs:0,startMs:p,endMs:p};const tt=new Float32Array(L);let J=0;x.forEach(lt=>{tt.set(lt,J),J+=lt.length});const Mt=tt.length/Z*1e3;return{samples:tt,sampleRate:Z,durationMs:Mt,startMs:p,endMs:p+Mt}}async getRangeAudio(c,f,o,p){const S=await this.#m(c,f,o),v=Uy(S.samples,S.sampleRate),A=new Date(c.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-");return{kind:"snip",sessionId:c.id,startMs:S.startMs,endMs:S.endMs,durationMs:S.durationMs,mimeType:v.type,blob:v,suggestedFilename:`${A}_snip-${Math.round(S.startMs)}-${Math.round(S.endMs)}.wav`}}async inspectRange(c,f,o,p){const S=await this.#m(c,f,o),{samples:v,sampleRate:A}=S,b=v.length;let y=0,C=0;for(let L=0;L<b;L+=1){const Z=v[L];y+=Z*Z;const tt=Math.abs(Z);tt>C&&(C=tt)}const x=b>0?Math.sqrt(y/b):0;return{startMs:S.startMs,endMs:S.endMs,durationMs:S.durationMs,sampleRate:A,sampleCount:b,rms:x,peak:C}}async getSnipAudio(c,f,o){const p=await this.listSnips(c,o),S=f-1,v=p[S];return v?await this.getRangeAudio(c,v.startMs,v.endMs,o):null}clearSession(c){}}const hn=new By,Ly=1024*1024,Wh={pauseSensitivity:.5,minPauseMs:400,maxPauseMs:2600,windowMs:3e4,overlapMs:800,targetBitrate:64e3,groqApiKey:"",developerMode:!1,storageLimitBytes:200*Ly},Ph="durable-recorder-settings";function qy(){if(typeof window>"u")return null;const d=window.localStorage.getItem(Ph);if(!d)return null;try{const c=JSON.parse(d);return c?{...Wh,...c}:null}catch(c){return console.warn("[SettingsStore] Failed to parse settings",c),null}}function Hy(d){typeof window>"u"||window.localStorage.setItem(Ph,JSON.stringify(d))}class Gy{#t;#a=new Set;constructor(){this.#t=qy()??{...Wh}}async get(){return this.#t}async set(c){return this.#t={...this.#t,...c},Hy(this.#t),this.#a.forEach(f=>f(this.#t)),this.#t}subscribe(c){return this.#a.add(c),c(this.#t),()=>this.#a.delete(c)}}const iu=new Gy,Yy="https://api.groq.com/openai/v1/audio/transcriptions",qh="whisper-large-v3-turbo",Xo=(d,c)=>{const f=(c??"").trim();return f?[Number.isFinite(d)?Math.max(0,(d??0)*1e3):0,f]:null},Xy=d=>{const c=[];if(Array.isArray(d.segments)&&d.segments.forEach(f=>{const o=Xo(f.start,f.text);o&&c.push(o)}),c.length===0&&Array.isArray(d.words)&&d.words.length>0){const f=d.words.map(o=>(o.word??o.text??"").trim()).filter(o=>o.length>0).join(" ").trim();if(f){const o=d.words.find(S=>Number.isFinite(S.start))?.start,p=Xo(o,f);p&&c.push(p)}}if(c.length===0&&typeof d.text=="string"){const f=Xo(0,d.text);f&&c.push(f)}return c};class Vy{async enqueue(c){throw console.info("[GroqTranscriptionService] enqueue",c.jobId),new Error("Queued transcription is not yet implemented.")}async cancel(c){console.info("[GroqTranscriptionService] cancel",c)}refreshSettings(){console.info("[GroqTranscriptionService] refreshSettings noop")}async transcribeAudio(c){const f=c.apiKey.trim();if(!f)throw new Error("Groq API key is missing. Add it in Settings to start transcription.");const o=`snip-${Date.now()}.wav`,p=c.audio instanceof File?c.audio:new File([c.audio],o,{type:c.audio.type||"audio/wav"}),S=new FormData;S.append("file",p),S.append("model",c.model??qh),S.append("response_format","verbose_json"),S.append("timestamp_granularities[]","word"),c.temperature!==void 0&&S.append("temperature",String(c.temperature)),c.language&&S.append("language",c.language);const v=await fetch(Yy,{method:"POST",headers:{Authorization:`Bearer ${f}`},body:S}),A=await v.text();if(!v.ok){let x=`Groq transcription failed (${v.status})`;try{const L=JSON.parse(A);L?.error?.message&&(x=L.error.message)}catch{A&&(x=`${x}: ${A}`)}throw new Error(x)}const b=JSON.parse(A),y=Xy(b);return{text:typeof b.text=="string"?b.text.trim():y.map(x=>x[1]).join(" ").trim(),segments:y,model:c.model??qh,language:b.language??c.language??null}}}const Qy=new Vy,Zy={recording:{label:"Recording",pillClass:"pill-progress"},transcribing:{label:"Transcribing",pillClass:"pill-progress"},ready:{label:"Ready",pillClass:"pill-synced"},partial:{label:"Part TX",pillClass:"pill-attention"},untranscribed:{label:"TX failed",pillClass:"pill-attention"},error:{label:"Error",pillClass:"pill-attention"}},Wo=1024*1024,Hh=200*Wo,Gh="whisper-large-v3-turbo",Yh=180,Ky=3e3,Jy=60,Xh=12e4,Pi=[3e3,5e3,1e4],Vh=Pi.length,Qh=12e4,Zh="Audio was purged to stay under the storage cap. Transcription retries are disabled.",Po=d=>new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit"}).format(new Date(d)),tp=d=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(new Date(d)),$y=d=>{const c=Math.max(0,Math.round(d/1e3)),f=Math.floor(c/60),o=c%60,p=Math.floor(f/60),S=f%60;return p>0?`${p}h ${S.toString().padStart(2,"0")}m`:`${S}m ${o.toString().padStart(2,"0")}s`},li=d=>{if(!Number.isFinite(d)||d<=0)return"0 B";const c=["B","KB","MB","GB","TB"];let f=d,o=0;for(;f>=1024&&o<c.length-1;)f/=1024,o+=1;return`${new Intl.NumberFormat(void 0,{maximumSignificantDigits:4,minimumSignificantDigits:1}).format(f)} ${c[o]}`},Fy=d=>{if(!Number.isFinite(d)||d<=0)return"0 B";const c=["B","KB","MB","GB","TB"];let f=d,o=0;for(;f>=1024&&o<c.length-1;)f/=1024,o+=1;return`${Math.round(f)} ${c[o]}`},Iy=(d,c)=>{const f=Number.isFinite(c)&&c>0?c:0,o=d+f,p=new Date(d),S=new Date(o);return p.toDateString()!==S.toDateString()?`${tp(o)} ${Po(o)}`:Po(o)},Wy=d=>{const c=Math.max(0,Math.round(d/1e3)),f=Math.floor(c/3600),o=Math.floor(c%3600/60),p=c%60;return f>0?`${f}:${o.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`:o>0?`${o}:${p.toString().padStart(2,"0")}`:`0:${p.toString().padStart(2,"0")}`},Py=d=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(d)),Wi=d=>{if(!Number.isFinite(d))return"0:00";const c=Math.max(0,d),f=Math.floor(c/60),o=Math.floor(c%60);return`${f}:${o.toString().padStart(2,"0")}`},t0=(d,c)=>{const f=d.trim();if(!f)return"";const o=f.split(/\s+/);return o.length<=c?f:o.slice(-c).join(" ")},ep={hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},e0=(()=>{try{return new Intl.DateTimeFormat(void 0,{...ep,fractionalSecondDigits:2})}catch{return null}})(),n0=new Intl.DateTimeFormat(void 0,ep),a0=d=>(e0??n0).format(new Date(d)),ha=d=>{const c=d.transcription?.text?.trim()??"";if(c)return c;const f=d.transcription?.segments??[];return f.length===0?"":f.map(o=>o[1]).join(" ").trim()},Kh=d=>{const c=d.map(f=>ha(f)).filter(f=>f.length>0).join(" ").trim();return c?c.length<=Yh?c:`${c.slice(0,Yh).trimEnd()}...`:""},Vo=d=>new Promise(c=>window.setTimeout(c,d));function l0(){const[d,c]=N.useState(null),[f,o]=N.useState([]),[p,S]=N.useState(null),[v,A]=N.useState([]),[b,y]=N.useState([]),[C,x]=N.useState({}),[L,Z]=N.useState({}),[tt,J]=N.useState({}),[Mt,lt]=N.useState({}),[gt,ut]=N.useState({}),[Y,I]=N.useState(ai.state),[dt,K]=N.useState(null),[it,kt]=N.useState({totalBytes:0,limitBytes:Hh}),[Zt,F]=N.useState([]),[ft,Ht]=N.useState(null),[ee,he]=N.useState(!1),[U,P]=N.useState(!1),[ht,W]=N.useState(null),[rt,E]=N.useState(null),[B,et]=N.useState(1),[at,vt]=N.useState(!1),[Dt,Tt]=N.useState(!1),[Xe,ie]=N.useState(!1),[Ba,Vn]=N.useState(!1),[si,La]=N.useState([]),[pn,na]=N.useState(null),[Al,Tl]=N.useState("tables"),[Nn,qa]=N.useState([]),[gn,Cl]=N.useState(null),[su,ui]=N.useState([]),[me,ci]=N.useState(!1),[Rn,ri]=N.useState("chunks"),[pa,uu]=N.useState(!1),[Oe,wl]=N.useState({chunkCoverageScan:!0,rangeAccessScan:!0,chunkDecodeScan:!0,sanityChecks:!0,snipScan:!0}),[Qn,aa]=N.useState(!1),[_e,se]=N.useState(null),[Ie,ns]=N.useState(null),[cu,Dl]=N.useState(null),[Nl,Ha]=N.useState(null),[Me,Zn]=N.useState(null),[Rl,Ga]=N.useState(!1),[ru,oi]=N.useState(null),[jn,yn]=N.useState({playing:!1,duration:0,position:0}),[jl,di]=N.useState(null),[ga,zl]=N.useState(!1),[ya,vn]=N.useState("idle"),[as,Kn]=N.useState(null),[bn,ne]=N.useState(null),[ke,Jn]=N.useState({}),[Ya,ou]=N.useState(!1),[Dc,ls]=N.useState(!1),Ue=N.useRef(null),fi=N.useRef(null),la=N.useRef(null),Be=N.useRef(null),zn=N.useRef(new Map),pe=N.useRef(new Map),oe=N.useRef(new Map),sn=N.useRef(new Map),Xa=N.useRef(new Map),ia=N.useRef(null),sa=N.useRef(null),mi=N.useRef(null),Ol=N.useRef(0),hi=N.useRef(new Map),is=N.useRef(!1),va=N.useRef(null),Va=N.useRef(new Set),Sn=N.useRef({sessionId:null,active:!1,pending:[],pendingIds:new Set,retryCounts:new Map,lastSuccessAt:0,lastMissingKeyWarnAt:0}),We=N.useRef(!1),pi=N.useRef(!1),du=N.useRef(0),je=d?.developerMode??!1,ba=d?.storageLimitBytes??Hh,Qa=N.useMemo(()=>{const s=Zt.map(g=>ha(g)).filter(g=>g.length>0);return s.length===0?[]:s.slice(-2).map(g=>t0(g,Jy)).filter(g=>g.length>0)},[Zt]),de=N.useCallback(s=>!!s.audioPurgedAt,[]),Le=N.useCallback(s=>!!s.audioPurgedAt||s.byteLength<=0||s.blob.size<=0,[]),Za=N.useCallback((s,r)=>{const g=Kh(r),R=r.filter(z=>!!z.transcriptionError).length,w=r.filter(z=>ha(z).length>0).length,X=r.length;x(z=>{if(!g){if(!(s in z))return z;const V={...z};return delete V[s],V}return z[s]===g?z:{...z,[s]:g}}),Z(z=>{if(R===0){if(!(s in z))return z;const V={...z};return delete V[s],V}return z[s]===R?z:{...z,[s]:R}}),J(z=>{if(X===0){if(!(s in z))return z;const $={...z};return delete $[s],$}const V=z[s];return V&&V.transcribedCount===w&&V.total===X?z:{...z,[s]:{transcribedCount:w,total:X}}})},[]),ss=N.useCallback(async s=>{try{const r=await Promise.all(s.map(async X=>{if(X.status!=="ready")return[X.id,"",0,0,0];const z=await pt.listSnips(X.id),V=z.filter(ot=>!!ot.transcriptionError).length,$=z.filter(ot=>ha(ot).length>0).length;return[X.id,Kh(z),V,$,z.length]})),g={},R={},w={};r.forEach(([X,z,V,$,ot])=>{z&&(g[X]=z),V>0&&(R[X]=V),ot>0&&(w[X]={transcribedCount:$,total:ot})}),x(g),Z(R),J(w)}catch(r){await Fe("Transcription preview load failed",{error:r instanceof Error?r.message:String(r)})}},[]),qe=N.useCallback(async()=>{await pt.init(),await pt.purgeLegacyMp4Sessions();const s=va.current??new Io;va.current=s;const[r,g]=await Promise.all([pt.listSessions(),pt.storageTotals()]),R=hi.current;let w=null;if(is.current)for(const z of r){if(z.status!=="ready"||z.chunkCount===0||!R.has(z.id))continue;const V=R.get(z.id);V!==void 0&&V!==z.updatedAt&&(!w||z.updatedAt>w.updatedAt)&&(w=z)}hi.current=new Map(r.map(z=>[z.id,z.updatedAt])),is.current?w&&Ht(w.id):is.current=!0,o(r),kt({totalBytes:g.totalBytes,limitBytes:ba}),ss(r),r.filter(z=>z.chunkCount>0&&(z.timingStatus??"unverified")!=="verified").forEach(z=>{s.ensureTimings(z.id).then(V=>{const $=V.session;V.status!=="verified"||!$||(o(ot=>ot.map(bt=>bt.id===$.id?{...bt,...$}:bt)),hi.current.set($.id,$.updatedAt))}).catch(V=>{console.warn("[UI] Session timing verification failed",{sessionId:z.id,error:V})})})},[ss,ba]),Sa=N.useCallback(async()=>{if(pi.current)return;const s=Date.now();if(!(s-du.current<Qh)){pi.current=!0,du.current=s;try{await pt.init();const r=await pt.applyRetentionPolicy({limitBytes:ba,now:s});r.purgedChunkIds.length>0&&await Bt("Storage retention purged audio",{beforeBytes:r.beforeBytes,afterBytes:r.afterBytes,limitBytes:r.limitBytes,purgedChunks:r.purgedChunkIds.length,purgedSnips:r.purgedSnipIds.length}),r.afterBytes>r.limitBytes&&await Ye("Storage retention unable to meet cap",{beforeBytes:r.beforeBytes,afterBytes:r.afterBytes,limitBytes:r.limitBytes,purgedChunks:r.purgedChunkIds.length}),kt({totalBytes:r.afterBytes,limitBytes:ba})}catch(r){await Fe("Storage retention pass failed",{error:r instanceof Error?r.message:String(r)})}finally{pi.current=!1}}},[ba]);N.useEffect(()=>iu.subscribe(s=>c({...s})),[]),N.useEffect(()=>(cy(),()=>{ry()}),[]),N.useEffect(()=>{My()},[]),N.useEffect(()=>{pt.reconcileDanglingSessions()},[]),N.useEffect(()=>ai.subscribe(r=>I({...r})),[]),N.useEffect(()=>{Y.state==="idle"&&(mi.current=null)},[Y.state]),N.useEffect(()=>{const s=Y.state==="recording";Ec(s,s?"recording-active":"recording-inactive")},[Y.state]),N.useEffect(()=>{if(Y.state!=="recording")return;let s=!1;const r=()=>{s||Sa()},g=window.setInterval(r,Qh);return r(),()=>{s=!0,window.clearInterval(g)}},[Y.state,Sa]),N.useEffect(()=>{const s=r=>{const g=r.target;let R="unknown";g instanceof HTMLElement&&(R=g.tagName.toLowerCase(),g.id?R+=`#${g.id}`:g.classList.length>0&&(R+=`.${g.classList[0]}`)),sa.current={type:r.type,target:R,timestamp:Date.now()}};return window.addEventListener("pointerdown",s,!0),window.addEventListener("keydown",s,!0),()=>{window.removeEventListener("pointerdown",s,!0),window.removeEventListener("keydown",s,!0)}},[]),N.useEffect(()=>{qe()},[qe]),N.useEffect(()=>{Y.state==="recording"&&!p?(he(!0),requestAnimationFrame(()=>P(!0))):P(!1)},[Y.state,p]),N.useEffect(()=>{Y.state!=="recording"&&F([])},[Y.state]),N.useEffect(()=>{if(!ft)return;const s=window.setTimeout(()=>Ht(null),2400);return()=>window.clearTimeout(s)},[ft]),N.useEffect(()=>{if(U||!ee)return;const s=window.setTimeout(()=>he(!1),400);return()=>window.clearTimeout(s)},[ee,U]),N.useEffect(()=>{if(!U)return;const s=ia.current;s&&(s.scrollTop=s.scrollHeight)},[U,Qa]),N.useEffect(()=>{if(typeof window>"u"||!("ontouchstart"in window))return;const s=g=>{g.touches.length>1&&g.preventDefault()},r=g=>{g.preventDefault()};return document.addEventListener("touchmove",s,{passive:!1}),document.addEventListener("gesturestart",r),document.addEventListener("gesturechange",r),document.addEventListener("gestureend",r),()=>{document.removeEventListener("touchmove",s),document.removeEventListener("gesturestart",r),document.removeEventListener("gesturechange",r),document.removeEventListener("gestureend",r)}},[]),N.useEffect(()=>{let s=!1;if(!p){A([]),y([]),Jn({}),ci(!1),zl(!1),Kn(null),vn("idle"),ne(null);return}return Jn({}),(async()=>{const[r,g]=await Promise.all([pt.getChunkData(p),pt.listSnips(p)]);s||(A(r),y(g))})(),()=>{s=!0}},[p]),N.useEffect(()=>{const s=Ue.current;if(!s)return;const r=()=>yn(z=>({...z,position:s.currentTime})),g=()=>yn(z=>({...z,duration:Number.isFinite(s.duration)?s.duration:0})),R=()=>yn(z=>({...z,playing:!0})),w=()=>yn(z=>({...z,playing:!1})),X=()=>yn(z=>({...z,playing:!1,position:s.duration||z.position}));return s.addEventListener("timeupdate",r),s.addEventListener("durationchange",g),s.addEventListener("play",R),s.addEventListener("pause",w),s.addEventListener("ended",X),()=>{s.removeEventListener("timeupdate",r),s.removeEventListener("durationchange",g),s.removeEventListener("play",R),s.removeEventListener("pause",w),s.removeEventListener("ended",X)}},[p]),N.useEffect(()=>{const s=zn.current,r=pe.current,g=new Set(v.map(R=>R.id));Array.from(s.entries()).forEach(([R,w])=>{g.has(R)||(URL.revokeObjectURL(w),s.delete(R))});for(const[R,w]of r.entries())g.has(R)||(w.cleanup(),w.audio.pause(),w.audio.currentTime=w.startTime,r.delete(R));W(R=>R&&g.has(R)?R:null)},[v]),N.useEffect(()=>{const s=oe.current,r=sn.current,g=new Set(b.map(R=>R.id));Array.from(s.entries()).forEach(([R,w])=>{g.has(R)||(URL.revokeObjectURL(w),s.delete(R))}),Array.from(Xa.current.keys()).forEach(R=>{g.has(R)||Xa.current.delete(R)});for(const[R,w]of r.entries())g.has(R)||(w.cleanup(),w.audio.pause(),w.audio.currentTime=w.startTime,r.delete(R));E(R=>R&&g.has(R)?R:null)},[b]),N.useEffect(()=>()=>{pe.current.forEach(s=>{s.cleanup(),s.audio.pause(),s.audio.currentTime=s.startTime}),pe.current.clear(),zn.current.forEach(s=>URL.revokeObjectURL(s)),zn.current.clear()},[]),N.useEffect(()=>{me||(pe.current.forEach(s=>{s.cleanup(),s.audio.pause(),s.audio.currentTime=s.startTime}),pe.current.clear(),W(null),sn.current.forEach(s=>{s.cleanup(),s.audio.pause(),s.audio.currentTime=s.startTime}),sn.current.clear(),E(null))},[me]),N.useEffect(()=>{pe.current.forEach(s=>{s.cleanup(),s.audio.pause(),s.audio.currentTime=s.startTime}),pe.current.clear(),W(null),sn.current.forEach(s=>{s.cleanup(),s.audio.pause(),s.audio.currentTime=s.startTime}),sn.current.clear(),E(null)},[Rn]),N.useEffect(()=>{const s=Ue.current;s&&(s.volume=B),pe.current.forEach(r=>{r.audio.volume=B}),sn.current.forEach(r=>{r.audio.volume=B})},[B]),N.useEffect(()=>{je||(ie(!1),ci(!1),zl(!1),Kn(null),vn("idle"),ne(null),La([]),na(null),Tl("tables"),qa([]),Cl(null),ui([]))},[je]),N.useEffect(()=>()=>{Be.current&&(URL.revokeObjectURL(Be.current),Be.current=null)},[]);const q=N.useMemo(()=>f.find(s=>s.id===p)??null,[f,p]),Ve=N.useMemo(()=>{const s=b.map(R=>ha(R)).filter(R=>R.length>0),r=b.filter(R=>!!R.transcriptionError).length,g=b.filter(R=>de(R)).length;return{text:s.join(" ").trim(),transcribedCount:s.length,errorCount:r,total:b.length,purgedCount:g,retryableCount:Math.max(0,b.length-g)}},[de,b]);N.useEffect(()=>{if(!q){di(null);return}di(q.durationMs)},[q]),N.useEffect(()=>{q?.id&&Za(q.id,b)},[q?.id,b,Za]),N.useEffect(()=>{if(!q?.id){la.current=null;return}if(!Ve.text||la.current===q.id)return;la.current=q.id;const s=window.setTimeout(()=>{const r=fi.current;r&&(r.focus(),r.select())},80);return()=>window.clearTimeout(s)},[q?.id,Ve.text]),N.useEffect(()=>{if(!(je&&q&&(ga||me&&Rn==="snips"))){vn("idle"),Kn(null),ne(null);return}if(q.chunkCount===0){vn("error"),ne("No audio chunks available yet. Capture a few seconds of audio and try again."),Kn(null);return}const r=va.current??new Io;va.current=r;let g=!1;return vn("loading"),ne(null),Kn(null),(async()=>{try{const R=await r.prepareAnalysisForSession({session:q,mimeTypeHint:q.mimeType??null});if(g)return;if(R.analysis){Kn(R.analysis),vn("ready"),ne(null);try{const w=await hn.listSnips(q,q.mimeType??null);g||y(w)}catch(w){g||await Fe("Failed to refresh snip segments",{sessionId:q.id,error:w instanceof Error?w.message:String(w)})}}else{Kn(null),vn("error");const w=R.verification.missingChunkIds.length;ne(w>0?`Waiting on verified audio durations for ${w} chunk${w===1?"":"s"}.`:"No volume profiles available yet. Capture additional audio and retry.")}}catch(R){if(g)return;const w=R instanceof Error?R.message:String(R);vn("error"),ne(w),Fe("Session analysis failed",{sessionId:q.id,error:w})}})(),()=>{g=!0}},[je,me,Rn,ga,q?.id,q?.updatedAt,q?.chunkCount,q?.mimeType]);const an=N.useCallback(s=>{const r=s.blob.type||q?.mimeType||"";if(!/mp4|m4a/i.test(r))return!1;const R=Math.max(0,s.endMs-s.startMs);return s.seq===0&&(R<=10||s.byteLength<4096)},[q?.mimeType]),Ka=N.useMemo(()=>v.find(an)??null,[v,an]),us=N.useMemo(()=>v.filter(s=>!an(s)).length,[v,an]),cs=N.useCallback(s=>{const r=s.blob.type||q?.mimeType||"audio/mp4";return!Ka||Ka.id===s.id||!/mp4|m4a/i.test(r)?s.blob:new Blob([Ka.blob,s.blob],{type:r})},[Ka,q?.mimeType]),Ja=N.useCallback(s=>{if(Le(s))return null;const r=zn.current,g=r.get(s.id);if(g)return g;const R=cs(s),w=URL.createObjectURL(R);return r.set(s.id,w),w},[cs,Le]),Nc=N.useCallback(s=>{const r=Ja(s);if(!r)return;const g=q?.startedAt??s.startMs??Date.now(),R=new Date(g).toISOString().replace(/[:.]/g,"-"),w=String(s.seq+1).padStart(2,"0"),X=s.blob.type||q?.mimeType||"application/octet-stream",z=/mpeg/i.test(X)?"mp3":/webm/i.test(X)?"webm":/mp4|m4a/i.test(X)?"mp4":"bin",V=document.createElement("a");V.href=r,V.download=`${R}_chunk-${w}.${z}`,V.rel="noopener",document.body.appendChild(V),V.click(),document.body.removeChild(V)},[Ja,q?.mimeType,q?.startedAt]),fu=N.useCallback(s=>{s.currentTarget.focus(),s.currentTarget.select()},[]),_l=N.useCallback(async()=>{const s=window.AudioContext||window.webkitAudioContext;if(typeof s!="function")return;const r=new s,g=r.createOscillator(),R=r.createGain();R.gain.value=.12,g.type="sine",g.frequency.value=880,g.connect(R),R.connect(r.destination);const w=r.currentTime+.35;g.start(),g.stop(w),g.onended=()=>{r.close().catch(()=>{})}},[]),Mn=N.useCallback(()=>{pe.current.forEach(s=>{s.cleanup(),s.audio.pause(),s.audio.currentTime=s.startTime}),pe.current.clear(),W(null),sn.current.forEach(s=>{s.cleanup(),s.audio.pause(),s.audio.currentTime=s.startTime}),sn.current.clear(),E(null),Ue.current&&Ue.current.pause()},[]),gi=N.useCallback(()=>{ls(!0),window.setTimeout(()=>ls(!1),1200)},[]);N.useEffect(()=>{const s=()=>{document.visibilityState!=="visible"&&Mn()},r=()=>Mn();return document.addEventListener("visibilitychange",s),window.addEventListener("pagehide",r),()=>{document.removeEventListener("visibilitychange",s),window.removeEventListener("pagehide",r)}},[Mn]);const $a=N.useCallback(async s=>{if(!q||de(s))return null;const r=s.id,g=Xa.current.get(r);if(g)return g;const R=await hn.getRangeAudio(q,s.startMs,s.endMs,q.mimeType??null);return Xa.current.set(r,R),R},[de,q]),$n=N.useCallback(async s=>{const r=s.id,g=oe.current.get(r),R=await $a(s);if(!R)return null;if(g)return{url:g,slice:R};const w=URL.createObjectURL(R.blob);return oe.current.set(r,w),{url:w,slice:R}},[$a]),Fa=N.useCallback(async(s,r)=>{if(de(s))return;const g=await $n(s);if(!g)return;const{url:R,slice:w}=g,X=document.createElement("a");X.href=R,X.download=w.suggestedFilename||`snip-${String(r).padStart(2,"0")}.wav`,X.rel="noopener",document.body.appendChild(X),X.click(),document.body.removeChild(X)},[$n,de]),rs=N.useCallback(async(s,r)=>de(r)?null:q?.id===s.id?await $a(r):await hn.getRangeAudio(s,r.startMs,r.endMs,s.mimeType??null),[$a,de,q?.id]),Ia=N.useCallback(async s=>{const r=await pt.listSnips(s);Za(s,r)},[Za]),kl=N.useCallback(s=>{const r=s.filter(R=>!de(R)),g=r.filter(R=>!!R.transcriptionError);return g.length>0?g:r},[de]),Pe=N.useCallback(async({session:s,snip:r,updateUi:g,force:R,ignoreBusy:w=!1,reportError:X=!0})=>{if(!R&&ha(r))return{ok:!0};if(de(r))return await Ye("Snip transcription blocked (audio purged)",{sessionId:s.id,snipId:r.id}),{ok:!1,error:Zh};if(g&&ke[r.id]&&!w)return{ok:!1};const z=d?.groqApiKey?.trim()??"";if(!z){const V="Groq API key missing. Add it in Settings before retrying.";await Ye("Snip transcription blocked (missing key)",{sessionId:s.id,snipId:r.id});const $=await pt.updateSnipTranscription(r.id,{transcriptionError:V});return g&&$&&y(ot=>ot.map(bt=>bt.id===$.id?$:bt)),{ok:!1,error:V}}g&&Jn(V=>({...V,[r.id]:!0}));try{const V=await rs(s,r);if(!V)throw new Error("Unable to resolve snip audio for transcription.");if(V.durationMs<=0||V.blob.size===0)throw new Error(`Snip audio slice is empty (snip=${r.id} start=${r.startMs} end=${r.endMs} duration=${V.durationMs} bytes=${V.blob.size})`);await Bt("Snip transcription started",{sessionId:s.id,snipId:r.id,model:Gh,startMs:r.startMs,endMs:r.endMs,sliceDurationMs:V.durationMs,sliceBytes:V.blob.size});const $=await Qy.transcribeAudio({apiKey:z,audio:V.blob,model:Gh,temperature:0}),ot={text:$.text,segments:$.segments,model:$.model,language:$.language??null,createdAt:Date.now()},bt=await pt.updateSnipTranscription(r.id,{transcription:ot,transcriptionError:null});return g&&bt&&y(Ct=>Ct.map(Rt=>Rt.id===bt.id?bt:Rt)),await Bt("Snip transcription completed",{sessionId:s.id,snipId:r.id,model:$.model,textLength:$.text.length,segmentCount:$.segments.length}),{ok:!0}}catch(V){const $=V instanceof Error?V.message:String(V);if(X){await Fe("Snip transcription failed",{sessionId:s.id,snipId:r.id,error:$,startMs:r.startMs,endMs:r.endMs,durationMs:r.durationMs});const ot=await pt.updateSnipTranscription(r.id,{transcriptionError:$});g&&ot&&y(bt=>bt.map(Ct=>Ct.id===ot.id?ot:Ct))}return{ok:!1,error:$}}finally{g&&Jn(V=>{const $={...V};return delete $[r.id],$}),await Ia(s.id)}},[Ia,rs,d?.groqApiKey,de,ke]),un=N.useCallback(s=>{const r=Sn.current;r.sessionId=s,r.active=!1,r.pending=[],r.pendingIds.clear(),r.retryCounts.clear(),r.lastSuccessAt=0,r.lastMissingKeyWarnAt=0},[]),yi=N.useCallback(async s=>{const r=Sn.current;if(!(r.active||r.sessionId!==s.id)){r.active=!0;try{for(;r.pending.length>0;){const g=r.pending.shift();if(!g)break;const R=g.snip;if(r.pendingIds.delete(R.id),r.sessionId!==s.id)break;if((await Pe({session:s,snip:R,updateUi:q?.id===s.id,force:!0,ignoreBusy:!0,reportError:!0})).ok){r.retryCounts.delete(R.id),r.lastSuccessAt=Date.now();continue}const X=(r.retryCounts.get(R.id)??0)+1;if(r.retryCounts.set(R.id,X),X<=Vh&&Date.now()-r.lastSuccessAt<Xh){const V=Pi[Math.min(X-1,Pi.length-1)];await Vo(V),r.pendingIds.has(R.id)||(r.pending.push({snip:R,attempt:X}),r.pendingIds.add(R.id))}}}finally{r.active=!1}}},[q?.id,Pe]),Wa=N.useCallback(async(s,r)=>{const g=Sn.current;if(g.sessionId!==s.id&&un(s.id),!(d?.groqApiKey?.trim()??"")){Date.now()-g.lastMissingKeyWarnAt>6e4&&(g.lastMissingKeyWarnAt=Date.now(),Ye("Live transcription blocked (missing key)",{sessionId:s.id}));return}const w=g.lastSuccessAt>0&&Date.now()-g.lastSuccessAt<Xh;[...r].sort((z,V)=>z.index-V.index).forEach(z=>{if(ha(z)||de(z)||g.pendingIds.has(z.id))return;const V=g.retryCounts.get(z.id)??0;z.transcriptionError&&(!w||V>=Vh)||(g.pending.push({snip:z,attempt:V}),g.pendingIds.add(z.id))}),!g.active&&g.pending.length>0&&yi(s)},[de,un,yi,d?.groqApiKey]);N.useEffect(()=>{Y.state!=="recording"&&un(null)},[Y.state,un]),N.useEffect(()=>{if(!Y.sessionId||Y.state!=="recording")return;const s=Y.sessionId;let r=!1;const g=async()=>{if(!(r||We.current)){We.current=!0;try{const w=await pt.getSession(s);if(!w||w.status!=="recording")return;const X=await hn.listSnips(w,w.mimeType??null);if(r)return;if(F(X),q?.id===s){const[z]=await Promise.all([pt.getChunkData(s)]);r||(A(z),y(X))}await Wa(w,X),await qe()}catch(w){if(!r){const X=w instanceof Error?w.message:String(w);Ye("Live snip refresh failed",{sessionId:s,error:X})}}finally{We.current=!1}}},R=window.setInterval(g,Ky);return g(),()=>{r=!0,window.clearInterval(R)}},[Y.sessionId,Y.state,Wa,qe,q?.id]);const ua=N.useCallback(async s=>{q&&(de(s)||await Pe({session:q,snip:s,updateUi:!0,force:!0}))},[de,q,Pe]),os=N.useCallback(async()=>{if(!q||Ya)return;const s=q.id;ou(!0),ut(r=>({...r,[s]:!0}));try{const r=await pt.listSnips(s),g=r.length>0?r:await hn.listSnips(q,q.mimeType??null);if(g.length===0)return;y(g);const R=kl(g);if(R.length===0)return;for(const w of R)await Pe({session:q,snip:w,updateUi:!0,force:!0,ignoreBusy:!0})}finally{ou(!1),ut(r=>{if(!r[s])return r;const g={...r};return delete g[s],g})}},[Ya,kl,q,Pe]),vi=N.useCallback(async s=>{if(!Mt[s]){lt(r=>({...r,[s]:!0})),ut(r=>({...r,[s]:!0}));try{const r=await pt.getSession(s);if(!r)return;const g=await pt.listSnips(s),R=g.length>0?g:await hn.listSnips(r,r.mimeType??null);if(R.length===0)return;q?.id===s&&y(R);const w=kl(R);if(w.length===0)return;for(const X of w)await Pe({session:r,snip:X,updateUi:q?.id===s,force:!0,ignoreBusy:!0})}finally{lt(r=>{if(!r[s])return r;const g={...r};return delete g[s],g}),ut(r=>{if(!r[s])return r;const g={...r};return delete g[s],g})}}},[Mt,kl,q?.id,Pe]),ds=N.useCallback(async s=>{if(!Va.current.has(s)){Va.current.add(s),ut(r=>({...r,[s]:!0}));try{await Vo(1200);const r=await pt.getSession(s);if(!r||r.status!=="ready")return;const g=await hn.listSnips(r,r.mimeType??null);if(g.length===0)return;if(!(d?.groqApiKey?.trim()??"")){const X="Groq API key missing. Add it in Settings before retrying.";await Ye("Auto transcription blocked (missing key)",{sessionId:s,snipCount:g.length});const z=[];for(const V of g){if(ha(V)||de(V))continue;const $=await pt.updateSnipTranscription(V.id,{transcriptionError:X});$&&z.push($)}q?.id===s&&z.length>0&&y(V=>V.map($=>z.find(ot=>ot.id===$.id)??$));return}const w=Pi.length+1;for(const X of g)if(!ha(X)&&!de(X))for(let z=0;z<w;z+=1){if(z>0){const $=Pi[Math.min(z-1,Pi.length-1)];await Vo($)}if((await Pe({session:r,snip:X,updateUi:q?.id===s,force:z>0,ignoreBusy:z>0,reportError:z===w-1})).ok)break}}finally{Va.current.delete(s),await Ia(s),ut(r=>{if(!r[s])return r;const g={...r};return delete g[s],g})}}},[de,Ia,q?.id,d?.groqApiKey,Pe]),bi=N.useCallback(async()=>{K(null),await qe()},[qe]),Si=N.useCallback(async()=>{if(Y.state==="recording")return;let s="";mi.current=Date.now(),Ec(!0,"recording-start-click");try{await Bt("Recorder start requested",{previousState:Y.state}),K(null);const r=await iu.get();s=window.crypto?.randomUUID?.()??`session-${Date.now()}`;const g=Date.now();await pt.createSession({id:s,title:`Recording ${new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1}).format(g)}`,startedAt:g,updatedAt:g,status:"recording",totalBytes:0,chunkCount:0,durationMs:0,mimeType:null,notes:"Transcription pending",timingStatus:"unverified"}),await ai.start({sessionId:s,targetBitrate:r.targetBitrate,chunkDurationMs:4e3}),await Bt("Recorder started",{sessionId:s,targetBitrate:r.targetBitrate,chunkDurationMs:4e3}),await qe()}catch(r){console.error("[UI] Failed to start recording",r),mi.current=null,Ec(!1,"recording-start-failed"),await Fe("Recorder failed to start",{sessionId:s,error:r instanceof Error?r.message:String(r)}),s&&await pt.updateSession(s,{status:"error",notes:"Recording failed to start.",updatedAt:Date.now()}),await qe(),K(r instanceof Error?r.message:String(r))}},[Y.state,qe]),Mi=N.useCallback(async()=>{if(Y.state!=="recording")return;const s=Y.sessionId;try{await Bt("Recorder stop requested",{sessionId:s}),await ai.stop(),await Bt("Recorder stopped",{sessionId:s})}catch(r){console.error("[UI] Failed to stop recording",r),K(r instanceof Error?r.message:String(r)),await Fe("Recorder failed to stop",{sessionId:s,error:r instanceof Error?r.message:String(r)})}finally{Ec(!1,"recording-stop-request"),await qe(),s&&ds(s)}},[ds,Y.sessionId,Y.state,qe]),tn=async()=>{Y.state==="recording"?await Mi():await Si()};N.useEffect(()=>{if(Y.state!=="recording"||!Y.startedAt)return;const s=window.setTimeout(()=>{const r=ai.state;if(r.state!=="recording"||r.chunksRecorded>0)return;const g=typeof ai.getDiagnostics=="function"?ai.getDiagnostics():null;Ye("No audio captured after timeout; stopping recording",{sessionId:r.sessionId,timeoutMs:15e3,error:r.error??null,diagnostics:g});const R=mi.current??r.startedAt??Date.now(),w=sa.current;hy(R,{sessionId:r.sessionId,timeoutMs:15e3,captureState:{state:r.state,chunksRecorded:r.chunksRecorded,error:r.error??null},diagnostics:g,lastUserInteraction:w??null}),gi(),_l(),Mi()},15e3);return()=>window.clearTimeout(s)},[Y.startedAt,Y.state,_l,Mi,gi]);const On=N.useCallback(async(s=!1)=>{if(!q)return!1;const r=q.mimeType??"audio/mp4",g=await pt.buildSessionBlob(q.id,r);if(!g)throw new Error("No audio available yet. Keep recording to capture chunks.");if(await Bt("Playback source prepared",{sessionId:q.id,blobSize:g.size,blobType:g.type}),Be.current&&!s)return!0;Be.current&&URL.revokeObjectURL(Be.current);const R=URL.createObjectURL(g);Be.current=R;const w=Ue.current;return w&&(w.src=R,w.currentTime=0,yn({playing:!1,duration:Number.isFinite(w.duration)?w.duration:0,position:0})),!0},[q]);N.useEffect(()=>{!q||q.status==="recording"||q.chunkCount===0||On(!0).catch(s=>{console.error("[UI] Failed to prepare playback on detail open",s)})},[On,q,q?.id,q?.updatedAt,q?.chunkCount,q?.status]);const xi=N.useCallback(async()=>{if(q){oi(null),Ga(!0);try{Be.current||await On();const s=Ue.current;if(!s)throw new Error("Audio element unavailable");s.paused?(await s.play(),await Bt("Playback started",{sessionId:q.id})):(s.pause(),await Bt("Playback paused",{sessionId:q.id}))}catch(s){console.error("[UI] Playback toggle failed",s),oi(s instanceof Error?s.message:String(s)),await Fe("Playback toggle failed",{sessionId:q.id,error:s instanceof Error?s.message:String(s)})}finally{Ga(!1)}}},[On,q]),Fn=async()=>{pe.current.forEach(s=>{s.cleanup(),s.audio.pause(),s.audio.currentTime=s.startTime}),pe.current.clear(),zn.current.forEach(s=>URL.revokeObjectURL(s)),zn.current.clear(),W(null),sn.current.forEach(s=>{s.cleanup(),s.audio.pause(),s.audio.currentTime=s.startTime}),sn.current.clear(),oe.current.forEach(s=>URL.revokeObjectURL(s)),oe.current.clear(),Xa.current.clear(),E(null),ri("chunks"),uu(!1),aa(!1),se(null),ns(null),Zn(null),vt(!1),S(null),A([]),di(null),ci(!1),zl(!1),Kn(null),vn("idle"),ne(null),oi(null),yn({playing:!1,duration:0,position:0}),p&&await Bt("Detail view closed",{sessionId:p}),p&&hn.clearSession(p),Be.current&&(URL.revokeObjectURL(Be.current),Be.current=null),Ue.current&&(Ue.current.pause(),Ue.current.currentTime=0),await bi()},Ul=N.useCallback(()=>{const s=Date.now(),r=sa.current,g=r?{...r,msAgo:Math.max(0,s-r.timestamp)}:null,R=navigator,w=R.userActivation?{isActive:R.userActivation.isActive,hasBeenActive:R.userActivation.hasBeenActive}:null,X=typeof document<"u"&&document.activeElement instanceof HTMLElement?document.activeElement.tagName.toLowerCase():null,z=typeof document<"u"?document.visibilityState:null,V=typeof document<"u"&&typeof document.hasFocus=="function"?document.hasFocus():null;return{visibilityState:z,hasFocus:V,activeElement:X,userActivation:w,lastInteraction:g}},[]),fs=async()=>{if(!q)return;const s=q.id;if(Bt("Delete recording requested",{sessionId:s,source:"detail"}),q.id===Y.sessionId&&Y.state==="recording"){K("Stop the active recording before deleting it."),await Ye("Delete blocked for active recording",{sessionId:s,source:"detail"});return}const r=Date.now(),g=Ul();Bt("Delete confirmation opened",{sessionId:s,source:"detail",...g});const R=window.confirm("Delete this recording? This cannot be undone."),w=Math.max(0,Date.now()-r),X=Ul();if(Bt("Delete confirmation resolved",{sessionId:s,source:"detail",confirmed:R,confirmDurationMs:w,before:g,after:X}),!R){Bt("Delete recording cancelled",{sessionId:s,source:"detail"});return}Bt("Delete recording confirmed",{sessionId:s,source:"detail"});try{await pt.init()}catch(z){console.error("[UI] Failed to init manifest for delete",z),await Fe("Delete init failed",{sessionId:q.id,error:z instanceof Error?z.message:String(z)});return}try{await pt.deleteSession(s),await pt.getSession(s)&&await Ye("Delete verification failed",{sessionId:s,source:"detail"}),await Bt("Recording deleted",{sessionId:s,source:"detail"}),await Fn(),await qe()}catch(z){console.error("[UI] Failed to delete recording",z),K(z instanceof Error?z.message:String(z)),await Fe("Recording delete failed",{sessionId:s,source:"detail",error:z instanceof Error?z.message:String(z)})}},ms=N.useCallback(async s=>{const r=s.id;if(Bt("Delete recording requested",{sessionId:r,source:"list"}),s.id===Y.sessionId&&Y.state==="recording"){K("Stop the active recording before deleting it."),await Ye("Delete blocked for active recording",{sessionId:r,source:"list"});return}const g=Date.now(),R=Ul();Bt("Delete confirmation opened",{sessionId:r,source:"list",...R});const w=window.confirm("Delete this recording? This cannot be undone."),X=Math.max(0,Date.now()-g),z=Ul();if(Bt("Delete confirmation resolved",{sessionId:r,source:"list",confirmed:w,confirmDurationMs:X,before:R,after:z}),!w){Bt("Delete recording cancelled",{sessionId:r,source:"list"});return}Bt("Delete recording confirmed",{sessionId:r,source:"list"});try{await pt.init()}catch(V){console.error("[UI] Failed to init manifest for delete",V),await Fe("Delete init failed",{sessionId:r,source:"list",error:V instanceof Error?V.message:String(V)});return}try{await pt.deleteSession(r),await pt.getSession(r)&&await Ye("Delete verification failed",{sessionId:r,source:"list"}),await Bt("Recording deleted",{sessionId:r,source:"list"}),q?.id===r&&await Fn(),await qe()}catch(V){console.error("[UI] Failed to delete recording",V),K(V instanceof Error?V.message:String(V)),await Fe("Recording delete failed",{sessionId:r,source:"list",error:V instanceof Error?V.message:String(V)})}},[Ul,Y.sessionId,Y.state,Fn,qe,q?.id]),ge=(s,r)=>r>0?`${Math.round(s/r*100)}%`:"0%",Qe=s=>{const r=Math.max(0,s/1e3),g=Math.floor(r/60),R=r-g*60,w=R<10?`0${R.toFixed(1)}`:R.toFixed(1);return`${g}:${w}`},Pa=s=>{const r={ok:0,warn:0,error:0,total:s.length};return s.forEach(g=>{g.status==="ok"?r.ok+=1:g.status==="warn"?r.warn+=1:r.error+=1}),r},Bl=s=>{const r=new Map;return s.forEach(g=>{const R=g.reason??"(no reason)",w=`${g.status}:${R}`,X=r.get(w);X?(X.count+=1,X.examples.length<6&&X.examples.push(g)):r.set(w,{reason:R,status:g.status,count:1,examples:[g]})}),Array.from(r.values()).sort((g,R)=>{const w={error:0,warn:1,ok:2};return w[g.status]!==w[R.status]?w[g.status]-w[R.status]:R.count-g.count})},Rc=s=>{const{session:r,doctorReports:g,logs:R}=s,w=[];if(w.push("Web Whisper  Doctor Report (compact)"),w.push(`Session: ${r.id}`),w.push(`StartedAt: ${new Date(r.startedAt).toISOString()}`),w.push(`DurationMs: ${r.durationMs}  (=${(r.durationMs/1e3).toFixed(1)}s)`),w.push(`Mime: ${r.mimeType??"unknown"}  Chunks: ${r.chunkCount}  Timing: ${r.timingStatus??"unverified"}`),w.push(""),g?.sanity){const $=g.sanity.metrics;w.push("Sanity:"),w.push(`- chunkTimebase=${$.chunkTimebase} session=${(($.sessionDurationMs??0)/1e3).toFixed(1)}s chunkMax=${(($.chunkMaxOffsetMs??0)/1e3).toFixed(1)}s chunkSum=${(($.chunkSumDurationMs??0)/1e3).toFixed(1)}s snips=${$.snipCount??0} snipMax=${(($.snipMaxEndMs??0)/1e3).toFixed(1)}s`),g.sanity.findings.forEach(ot=>w.push(`- ${ot.level.toUpperCase()}: ${ot.message}`)),w.push("")}const X=($,ot)=>{if(!ot)return;w.push(`${$}: OK=${ot.summary.ok} WARN=${ot.summary.warn} ERR=${ot.summary.error} TOTAL=${ot.summary.total}`),w.push(`- expected=${((ot.metrics.expectedDurationMs??0)/1e3).toFixed(1)}s observed=${((ot.metrics.observedDurationMs??0)/1e3).toFixed(1)}s items=${ot.metrics.observedItemCount??0}/${ot.metrics.expectedItemCount??0}`),Bl(ot.segments).filter(Ct=>Ct.status!=="ok").slice(0,5).forEach(Ct=>{const Rt=Ct.examples.slice(0,3).map(Xt=>`${Qe(Xt.startMs)}${Qe(Xt.endMs)}`).join(", ");w.push(`- ${Ct.status.toUpperCase()}: ${Ct.reason} (${Ct.count}) e.g. ${Rt}`)}),w.push("")};X("Chunk coverage",g?.chunkCoverage),X("Range access",g?.rangeAccess),X("Per-chunk decode",g?.chunkDecode),X("Snip scan",g?.snipScan),R.length>0&&(w.push("Recent logs (last 30):"),R.slice(-30).forEach($=>{const ot=typeof $.timestamp=="number"?new Date($.timestamp).toISOString():"",bt=$.level??"",Ct=($.message??"").replace(/\s+/g," ").slice(0,200);w.push(`- ${ot} ${bt} ${Ct}`.trim())}),w.push(""));let z=w.join(`
`);const V=45e3;return z.length>V&&(z=`${z.slice(0,V)}

[TRUNCATED: report exceeded ${V} chars]
`),z},Ll=(s,r)=>{const g=JSON.stringify(r,null,2),R=new Blob([g],{type:"application/json"}),w=URL.createObjectURL(R),X=document.createElement("a");X.href=w,X.download=`${s.replace(/\s+/g,"-").toLowerCase()}-doctor-report.json`,X.rel="noopener",document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(w)},hs=async s=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText){await navigator.clipboard.writeText(s);return}const r=document.createElement("textarea");r.value=s,r.style.position="fixed",r.style.left="-9999px",r.style.top="0",document.body.appendChild(r),r.focus(),r.select(),document.execCommand("copy"),document.body.removeChild(r)},jc=(s,r)=>{const g=s.find(R=>R.seq>=0)??null;return g?g.startMs>1e12&&r>1e12?"absolute":g.startMs>=0&&g.startMs<864e5?"offset":"unknown":"unknown"},zc=(s,r,g)=>g==="absolute"?{startMs:s.startMs-r,endMs:s.endMs-r}:{startMs:s.startMs,endMs:s.endMs},Oc=N.useCallback(async()=>{if(!q)return;const s=Ol.current+1;Ol.current=s;const r=()=>Ol.current!==s;aa(!0),ns(null),Zn(null),await pt.init();try{await pt.verifySessionChunkTimings(q.id)}catch{}hn.clearSession(q.id);const g=await pt.getSession(q.id)??q,R=await pt.getChunkData(q.id),w=R.filter(nt=>!an(nt)),X=R.find(nt=>nt.seq===0)?.startMs??w[0]?.startMs??g.startedAt,z=Number.isFinite(X)?Math.round(X):g.startedAt,V=jc(w,z),$=w.map(nt=>({...nt,...zc(nt,z,V)})),ot=jl??($.length>0?Math.max(...$.map(nt=>nt.endMs)):g.durationMs??0),bt=Math.max(0,ot),Ct=100,Rt=bt>0?Math.ceil(bt/Ct):0,Xt={},ye=async()=>{await new Promise(nt=>requestAnimationFrame(()=>nt()))},xe=async()=>{const nt=[];se({label:"Chunk coverage scan",completed:0,total:Rt});let ue=0;for(let Kt=0;Kt<Rt;Kt+=1){if(r())return;const Vt=Kt*Ct,Ee=Math.min(bt,Vt+Ct),xt=$.find(St=>St.startMs<=Vt&&St.endMs>Vt)??null;xt?!Number.isFinite(xt.byteLength)||xt.byteLength<=0?nt.push({index:Kt,startMs:Vt,endMs:Ee,status:"error",reason:"Chunk blob is empty",meta:{chunkId:xt.id,seq:xt.seq,byteLength:xt.byteLength}}):xt.endMs<=xt.startMs?nt.push({index:Kt,startMs:Vt,endMs:Ee,status:"warn",reason:"Chunk timing metadata looks invalid",meta:{chunkId:xt.id,seq:xt.seq,chunkStartMs:xt.startMs,chunkEndMs:xt.endMs}}):(ue+=Ee-Vt,nt.push({index:Kt,startMs:Vt,endMs:Ee,status:"ok",meta:{chunkId:xt.id,seq:xt.seq}})):nt.push({index:Kt,startMs:Vt,endMs:Ee,status:"error",reason:"No chunk covers this time range"}),Kt%50===0&&(se({label:"Chunk coverage scan",completed:Kt+1,total:Rt}),await ye())}se({label:"Chunk coverage scan",completed:Rt,total:Rt}),Xt.chunkCoverage={stepMs:Ct,totalDurationMs:bt,segments:nt,summary:Pa(nt),metrics:{expectedDurationMs:bt,observedDurationMs:ue,expectedItemCount:Rt,observedItemCount:Rt-Pa(nt).error}}},cn=async()=>{const nt=[];se({label:"Range access scan (0.1s)",completed:0,total:Rt});let ue=0,Kt=0;for(let Vt=0;Vt<Rt;Vt+=1){if(r())return;const Ee=Vt*Ct,xt=Math.min(bt,Ee+Ct);try{const St=await hn.inspectRange(g,Ee,xt,g.mimeType??null);ue+=St.durationMs,Kt+=1;const Jt=xt-Ee,Lt=St.durationMs<Math.min(Jt*.5,Jt-10),Ae=St.sampleCount>0&&St.rms<=1e-5&&St.peak<=5e-5,_n=Lt||Ae?"warn":"ok",Et=Lt?"Decoded slice shorter than expected":Ae?"Slice appears silent":void 0;nt.push({index:Vt,startMs:Ee,endMs:xt,status:_n,reason:Et,meta:{durationMs:St.durationMs,sampleCount:St.sampleCount,rms:St.rms,peak:St.peak}})}catch(St){nt.push({index:Vt,startMs:Ee,endMs:xt,status:"error",reason:St instanceof Error?St.message:String(St)})}Vt%20===0&&(se({label:"Range access scan (0.1s)",completed:Vt+1,total:Rt}),await ye())}se({label:"Range access scan (0.1s)",completed:Rt,total:Rt}),Xt.rangeAccess={stepMs:Ct,totalDurationMs:bt,segments:nt,summary:Pa(nt),metrics:{expectedDurationMs:bt,observedDurationMs:ue,expectedItemCount:Rt,observedItemCount:Kt}}},Hl=async()=>{se({label:"Per-chunk decode scan",completed:0,total:w.length});const nt=[];if(typeof window>"u"||typeof window.AudioContext>"u"){Xt.chunkDecode={stepMs:1,totalDurationMs:bt,segments:[{index:0,startMs:0,endMs:0,status:"error",reason:"AudioContext is not supported in this environment."}],summary:{ok:0,warn:0,error:1,total:1},metrics:{expectedDurationMs:null,observedDurationMs:null,expectedItemCount:null,observedItemCount:null}};return}const ue=new AudioContext;let Kt=0,Vt=0,Ee=0;try{for(let xt=0;xt<$.length;xt+=1){if(r())return;const St=$[xt],Jt=St.seq;Kt+=Math.max(0,St.endMs-St.startMs);try{const Lt=await hn.getChunkAudio(g,Jt);if(!Lt)nt.push({index:xt,startMs:St.startMs,endMs:St.endMs,status:"error",reason:"Chunk not found",meta:{seq:Jt}});else{const Ae=await Lt.blob.arrayBuffer(),_n=await ue.decodeAudioData(Ae.slice(0)),Et=Math.max(0,_n.duration*1e3);Vt+=Et,Ee+=1;const It=Math.max(0,St.endMs-St.startMs),ve=Math.abs(Et-It),Yl=ve>250?"warn":"ok",kn=ve>250?"Decoded duration differs from expected chunk timing":void 0;nt.push({index:xt,startMs:St.startMs,endMs:St.endMs,status:Yl,reason:kn,meta:{seq:Jt,blobType:Lt.mimeType,blobBytes:Lt.blob.size,decodedMs:Et,expectedMs:It,driftMs:ve,note:"Standalone chunk decoding can include timestamp offsets; compare against range scans."}})}}catch(Lt){nt.push({index:xt,startMs:St.startMs,endMs:St.endMs,status:"error",reason:Lt instanceof Error?Lt.message:String(Lt),meta:{seq:Jt}})}xt%5===0&&(se({label:"Per-chunk decode scan",completed:xt+1,total:w.length}),await ye())}}finally{await ue.close().catch(()=>{})}se({label:"Per-chunk decode scan",completed:w.length,total:w.length}),Xt.chunkDecode={stepMs:1,totalDurationMs:bt,segments:nt,summary:Pa(nt),metrics:{expectedDurationMs:Kt,observedDurationMs:Vt,expectedItemCount:w.length,observedItemCount:Ee}}},Gl=async()=>{const nt=[],ue=Number.isFinite(q.durationMs)?Math.max(0,q.durationMs):null,Kt=w.length>0?Math.max(...w.map(Et=>Et.endMs)):null,Vt=$.length>0?Math.max(...$.map(Et=>Et.endMs)):null,Ee=$.reduce((Et,It)=>Et+Math.max(0,It.endMs-It.startMs),0),xt=[...$].sort((Et,It)=>Et.seq-It.seq);let St=0,Jt=0;for(let Et=1;Et<xt.length;Et+=1){const It=xt[Et-1],ve=xt[Et];ve.startMs<It.endMs-5&&(St+=1),ve.startMs>It.endMs+50&&(Jt+=1)}if(St>0&&nt.push({level:"warn",message:`Chunk timings overlap in ${St} places.`,meta:{overlaps:St}}),Jt>0&&nt.push({level:"warn",message:`Chunk timings have gaps in ${Jt} places.`,meta:{gaps:Jt}}),ue!==null&&Vt!==null){const Et=Vt-ue;Math.abs(Et)>1e3?nt.push({level:(Et>0,"warn"),message:"Session duration and chunk max end differ by >1s.",meta:{sessionDurationMs:ue,chunkMaxOffsetMs:Vt,driftMs:Et,chunkTimebase:V}}):nt.push({level:"info",message:"Session duration and chunk max end are close.",meta:{sessionDurationMs:ue,chunkMaxOffsetMs:Vt,driftMs:Et,chunkTimebase:V}})}let Lt=null,Ae=null,_n=null;try{const Et=await hn.listSnips(g,g.mimeType??null);Lt=Et.length,Ae=Et.length>0?Math.max(...Et.map(ve=>ve.endMs)):0,_n=Et.reduce((ve,Yl)=>ve+Math.max(0,Yl.durationMs),0);const It=Vt??ue??bt;It>0&&Ae>It+2e3?nt.push({level:"error",message:"Snips extend beyond the expected session duration by >2s.",meta:{baselineDurationMs:It,snipMaxEndMs:Ae,driftMs:Ae-It}}):It>0&&Et.length>0&&Ae<It-2e3?nt.push({level:"error",message:"Snips do not cover the full expected session duration (end too early).",meta:{baselineDurationMs:It,snipMaxEndMs:Ae,driftMs:Ae-It}}):nt.push({level:"info",message:"Snip end times are within expected duration.",meta:{baselineDurationMs:It,snipMaxEndMs:Ae}})}catch(Et){nt.push({level:"error",message:"Failed to compute snips for sanity checks.",meta:{error:Et instanceof Error?Et.message:String(Et)}})}try{const Et=await pt.listChunkVolumeProfiles(q.id),It=new Set($.map(qt=>qt.seq)),ve=Et.filter(qt=>It.has(qt.seq)).sort((qt,Wn)=>qt.seq-Wn.seq),Yl=new Set(ve.map(qt=>qt.seq)),kn=[...It].filter(qt=>!Yl.has(qt)),Ti=ve.filter(qt=>!(typeof qt.durationMs=="number"&&qt.durationMs>0)),el=ve.filter(qt=>!Array.isArray(qt.frames)||qt.frames.length===0),Xl=ve.filter(qt=>{const Wn=Array.isArray(qt.frames)?qt.frames:[];return Wn.length===0?!1:Wn.every(xn=>!Number.isFinite(xn)||xn<=0)}),bs=ve.filter(qt=>!(typeof qt.sampleRate=="number"&&qt.sampleRate>0)),ra=ve.filter(qt=>!(typeof qt.frameDurationMs=="number"&&qt.frameDurationMs>0)),In=[];ve.forEach(qt=>{const Wn=$.find(bu=>bu.seq===qt.seq)??null;if(!Wn)return;const xn=Math.max(0,Wn.endMs-Wn.startMs),Ss=Math.max(0,qt.durationMs??0),Ms=Ss-xn;Math.abs(Ms)>250&&In.push({seq:qt.seq,expectedMs:xn,profileMs:Ss,driftMs:Ms})}),kn.length>0?nt.push({level:"warn",message:`Missing chunk volume profiles for ${kn.length} chunk(s).`,meta:{examples:kn.slice(0,10)}}):nt.push({level:"info",message:"Chunk volume profiles exist for all chunks."}),Ti.length>0||el.length>0||bs.length>0||ra.length>0?nt.push({level:"warn",message:"Some chunk volume profiles have invalid metadata (duration/frames/sampleRate/frameDuration).",meta:{zeroDuration:Ti.length,zeroFrames:el.length,invalidSampleRate:bs.length,invalidFrameDuration:ra.length}}):nt.push({level:"info",message:"Chunk volume profile metadata looks well-formed."}),Xl.length>0&&nt.push({level:"warn",message:`Some chunk volume profiles are all zeros (silent/failed decode) (${Xl.length}).`,meta:{examples:Xl.slice(0,6).map(qt=>qt.seq)}}),In.length>0?nt.push({level:"warn",message:`Chunk volume profile durations differ from chunk timings for ${In.length} chunk(s).`,meta:{examples:In.slice(0,6)}}):nt.push({level:"info",message:"Chunk volume profile durations match chunk timings (within 250ms)."})}catch(Et){nt.push({level:"warn",message:"Unable to validate chunk volume profiles.",meta:{error:Et instanceof Error?Et.message:String(Et)}})}Xt.sanity={findings:nt,metrics:{sessionDurationMs:ue,chunkMaxEndMs:Kt,chunkSumDurationMs:Ee,snipCount:Lt,snipMaxEndMs:Ae,snipSumDurationMs:_n,chunkTimebase:V,chunkMaxOffsetMs:Vt}}},Ai=async()=>{se({label:"Snip scan (each snip)",completed:0,total:1});const nt=await hn.listSnips(g,g.mimeType??null),ue=[],Kt=nt.reduce((xt,St)=>xt+Math.max(0,St.durationMs),0);let Vt=0,Ee=0;se({label:"Snip scan (each snip)",completed:0,total:nt.length});for(let xt=0;xt<nt.length;xt+=1){if(r())return;const St=nt[xt],Jt=xt+1;try{const Lt=await hn.inspectRange(g,St.startMs,St.endMs,g.mimeType??null);Vt+=Lt.durationMs,Ee+=1;const Ae=Math.abs(Lt.durationMs-Math.max(0,St.durationMs)),_n=Lt.sampleCount>0&&Lt.rms<=1e-5&&Lt.peak<=5e-5,Et=Ae>500||_n?"warn":"ok",It=Ae>500?"Decoded snip duration differs from expected":_n?"Snip appears silent":void 0;ue.push({index:xt,startMs:St.startMs,endMs:St.endMs,status:Et,reason:It,meta:{snipNumber:Jt,expectedMs:St.durationMs,decodedMs:Lt.durationMs,driftMs:Ae,rms:Lt.rms,peak:Lt.peak,sampleCount:Lt.sampleCount}})}catch(Lt){ue.push({index:xt,startMs:St.startMs,endMs:St.endMs,status:"error",reason:Lt instanceof Error?Lt.message:String(Lt),meta:{snipNumber:Jt}})}xt%5===0&&(se({label:"Snip scan (each snip)",completed:xt+1,total:nt.length}),await ye())}se({label:"Snip scan (each snip)",completed:nt.length,total:nt.length}),Xt.snipScan={stepMs:0,totalDurationMs:nt.length>0?nt[nt.length-1].endMs:0,segments:ue,summary:Pa(ue),metrics:{expectedDurationMs:Kt,observedDurationMs:Vt,expectedItemCount:nt.length,observedItemCount:Ee}}};try{if(Oe.sanityChecks&&await Gl(),Oe.chunkCoverageScan&&await xe(),Oe.rangeAccessScan&&await cn(),Oe.chunkDecodeScan&&await Hl(),Oe.snipScan&&await Ai(),r())return;Zn(Xt)}catch(nt){if(r())return;ns(nt instanceof Error?nt.message:String(nt))}finally{r()||(aa(!1),se(null))}},[Oe.chunkCoverageScan,Oe.chunkDecodeScan,Oe.rangeAccessScan,Oe.sanityChecks,Oe.snipScan,q,jl]),mu=()=>{ie(!1),La([]),na(null),Tl("tables"),qa([]),Cl(null),ui([])},_c=async s=>{const r=Number(s);!Number.isFinite(r)||r<=0||await iu.set({storageLimitBytes:Math.round(r*Wo)})},hu=async s=>{await iu.set({developerMode:s})},kc=async s=>{await iu.set({groqApiKey:s})},Uc=N.useCallback(async s=>{const{id:r}=s,g=pe.current,R=g.get(r),w=(Xt,ye)=>{ye.cleanup(),ye.audio.pause(),ye.audio.currentTime=ye.startTime,g.delete(Xt)};if(ht===r){R&&w(r,R),W(null);return}for(const[Xt,ye]of g.entries())w(Xt,ye);if(W(null),an(s)||Le(s))return;const X=new Audio,z=Ja(s);if(!z){console.error("[UI] Missing chunk URL for playback",r);return}X.src=z,X.volume=B;const V=0,$=0;Ue.current?.pause();function ot(){X.removeEventListener("ended",Ct),X.removeEventListener("error",Ct)}function bt(){ot(),X.pause(),X.currentTime=V,g.delete(r),W(Xt=>Xt===r?null:Xt)}function Ct(){bt()}X.addEventListener("ended",Ct),X.addEventListener("error",Ct);const Rt=()=>ot();g.set(r,{audio:X,cleanup:Rt,startTime:V,endTime:$});try{X.currentTime=V,await X.play(),W(r)}catch(Xt){console.error("[UI] Failed to play chunk",Xt),bt()}},[ht,Ja,Le,an,B]),Bc=N.useCallback(async s=>{if(!q||de(s))return;const r=s.id,g=sn.current,R=g.get(r),w=(xe,cn)=>{cn.cleanup(),cn.audio.pause(),cn.audio.currentTime=cn.startTime,g.delete(xe)};if(rt===r){R&&w(r,R),E(null);return}pe.current.forEach((xe,cn)=>{xe.cleanup(),xe.audio.pause(),xe.audio.currentTime=xe.startTime,pe.current.delete(cn)}),W(null);for(const[xe,cn]of g.entries())w(xe,cn);E(null);const X=await $n(s);if(!X)return;const z=new Audio;z.src=X.url,z.volume=B;const V=Math.max(0,s.durationMs/1e3),$=0,ot=V;Ue.current?.pause();function bt(){z.removeEventListener("timeupdate",Xt),z.removeEventListener("ended",Rt),z.removeEventListener("error",Rt)}function Ct(){bt(),z.pause(),z.currentTime=$,g.delete(r),E(xe=>xe===r?null:xe)}function Rt(){Ct()}function Xt(){V>0&&z.currentTime>=ot-.05&&Ct()}z.addEventListener("timeupdate",Xt),z.addEventListener("ended",Rt),z.addEventListener("error",Rt);const ye=()=>bt();g.set(r,{audio:z,cleanup:ye,startTime:$,endTime:ot});try{await z.play(),E(r)}catch(xe){console.error("[UI] Failed to play snip",xe),Ct()}},[$n,de,B,q,rt]),ps=N.useCallback(async()=>{try{const[s,r,g,R]=await Promise.all([pt.listSessions(),pt.getChunksForInspection(),pt.listChunkVolumeProfiles(),pt.listSnips()]);La([{name:"sessions",rows:s.map(w=>({...w}))},{name:"chunks",rows:r.map(w=>({...w}))},{name:"chunkVolumes",rows:g.map(w=>({...w,framesPreview:w.frames.slice(0,24),framesTotal:w.frames.length}))},{name:"snips",rows:R.map(w=>({...w,segmentsPreview:w.transcription?.segments?.slice(0,6)??[],segmentsCount:w.transcription?.segments?.length??0}))}]),na(w=>w??"sessions")}catch(s){console.error("[UI] Failed to load developer tables",s),La([]),na("sessions"),await Fe("Developer table load failed",{error:s instanceof Error?s.message:String(s)})}},[]),ca=N.useCallback(async s=>{if(Cl(s),s){const r=await pt.getLogEntries(s.id);ui(r)}else ui([])},[]),gs=N.useCallback(async()=>{try{const s=await pt.listLogSessions();qa(s);const g=Dh()??s[0]??null;await ca(g)}catch(s){console.error("[UI] Failed to load log sessions",s),qa([]),await ca(null),await Fe("Log session load failed",{error:s instanceof Error?s.message:String(s)})}},[ca]),pu=N.useCallback(async s=>{if(!gn)return;const r=Nn.findIndex(R=>R.id===gn.id);if(r===-1)return;const g=Nn[r+s];g&&await ca(g)},[ca,Nn,gn]),Lc=N.useCallback(async()=>{Tl("tables"),ie(!0),Vn(!0);try{await ps(),await gs()}catch(s){console.error("[UI] Failed to load developer data",s),La([]),na(null),await Fe("Developer overlay failed to load",{error:s instanceof Error?s.message:String(s)})}finally{Vn(!1)}},[ps,gs]),gu=`${li(it.totalBytes)} / ${li(it.limitBytes)}`,Ei=Y.state==="recording"&&Y.capturedMs>0,ql=Math.max(0,Y.capturedMs),qc=`${(ql/1e3).toFixed(1)}s`,Hc=Y.state==="recording"&&d?.targetBitrate?Math.round(ql/1e3*(d.targetBitrate/8)):0,Gc=Y.state==="recording"?Math.max(Y.bytesBuffered,Hc):Y.bytesBuffered,yu=q?.id===Y.sessionId&&Y.state==="recording",Yc=ee&&!p,vu=yu?ql:jl??q?.durationMs??0,ys=Math.max(jl!==null?jl/1e3:vu/1e3,jn.duration),vs=ys>0?jn.position/ys*100:0,tl=/mp4|m4a/i.test(Y.mimeType??"")&&Y.chunksRecorded>0,Xc=Math.max(0,Y.chunksRecorded-(tl?1:0));return h.jsxs("div",{className:"app-shell",children:[Dc?h.jsx("div",{className:"no-audio-flash","aria-hidden":"true"}):null,h.jsxs("header",{className:"app-header",children:[h.jsx("div",{className:"brand",children:h.jsx("h1",{children:"Web Whisper"})}),h.jsxs("div",{className:"header-controls",children:[h.jsxs("div",{className:"buffer-card",role:"status","aria-live":"polite",children:[h.jsx("p",{className:"buffer-label",children:"Data"}),h.jsx("p",{className:"buffer-value",children:gu})]}),je?h.jsx("button",{className:"dev-trigger",type:"button",onClick:Lc,"aria-label":"Open developer console",children:""}):null,h.jsx("button",{className:"settings-button",type:"button",onClick:()=>Tt(!0),children:"Settings"})]})]}),dt?h.jsxs("div",{className:"alert-banner",role:"alert",children:[h.jsx("p",{children:dt}),h.jsx("button",{type:"button",onClick:()=>K(null),children:"Dismiss"})]}):null,h.jsxs("main",{className:"content-grid",children:[h.jsx("aside",{className:"controls-panel","aria-label":"Capture controls",children:h.jsxs("div",{className:"controls-card",children:[h.jsx("h2",{children:"Capture"}),h.jsx("button",{className:`record-toggle ${Y.state==="recording"?Ei?"record-toggle-stop":"record-toggle-starting":"record-toggle-start"}`,type:"button",onClick:tn,"aria-pressed":Y.state==="recording",disabled:Y.state==="recording"&&!Ei,children:Y.state==="recording"?Ei?"Stop recording":"Starting":"Start recording"}),h.jsx("p",{className:"controls-copy",children:Y.state==="recording"?Ei?`Recording  ${Wi(Math.floor(ql/1e3))} elapsed`:"Starting recorder":"Recorder idle  tap start to begin a durable session."})]})}),je&&Y.state==="recording"?h.jsxs("div",{className:"dev-strip capture-strip",role:"status","aria-live":"polite",children:[h.jsxs("span",{children:["Audio: ",qc," / ",Xc," seg",tl?" + init":""]}),h.jsxs("span",{children:["Data: ",li(Gc)]})]}):null,h.jsx("section",{className:"session-section","aria-label":"Recording sessions",children:h.jsx("ul",{className:"session-list",children:f.map(s=>{const r=s.id===Y.sessionId&&Y.state==="recording",g=r?Wi(Math.floor(ql/1e3)):Wy(s.durationMs),R=C[s.id]??"",w=L[s.id]??0,X=tt[s.id],z=X?.transcribedCount??0,V=X?.total??0,$=z>0,ot=w>0,bt=V>0||ot,Ct=s.status==="error"?s.notes??"Recording error.":"",Rt=!!Mt[s.id],Xt=!r&&!!(gt[s.id]||Rt),ye=s.status==="error"?"error":r?"recording":Xt?"transcribing":ot&&bt?$?"partial":"untranscribed":s.status,xe=Zy[ye],Hl=!(s.chunkCount>0&&s.totalBytes>0&&(s.durationMs??0)>0)||s.status==="error",Gl=`${Py(s.startedAt)}  ${Fy(s.totalBytes)}`,Ai=s.id===ft,nt=["session-card"];Ai&&nt.push("is-new"),s.status==="error"&&nt.push("has-error");const ue=r?"Recording in progress...":Ct||(Xt?"Finishing transcription...":R||(ot?$?`Partially transcribed (${z}/${V})`:"Transcription failed for all snips.":"Transcription pending..."));return h.jsx("li",{children:h.jsxs("article",{className:nt.join(" "),role:"button",tabIndex:0,onClick:()=>S(s.id),onKeyDown:Kt=>{(Kt.key==="Enter"||Kt.key===" ")&&(Kt.preventDefault(),S(s.id))},children:[h.jsxs("header",{className:"session-topline",children:[h.jsxs("div",{className:"session-topline-left",children:[h.jsx("span",{className:`session-pill ${xe.pillClass}`,children:xe.label}),h.jsx("span",{className:"session-duration-label",children:g})]}),h.jsx("div",{className:"session-topline-right",children:h.jsx("span",{className:"session-meta",children:Gl})})]}),h.jsxs("div",{className:"session-preview-row",children:[h.jsx("p",{className:"session-preview",children:ue}),Xt?h.jsx("span",{className:"session-spinner","aria-label":"Transcribing"}):null,!Xt&&(ot||!R&&!Ct)&&s.status==="ready"?h.jsx("button",{type:"button",className:"session-retry",onClick:Kt=>{Kt.stopPropagation(),vi(s.id)},disabled:Rt,"aria-label":`Retry transcription for ${s.title}`,children:Rt?"Retrying":"Retry TX"}):null,Hl?h.jsx("button",{type:"button",className:"session-delete",onClick:Kt=>{Kt.stopPropagation(),ms(s)},disabled:s.id===Y.sessionId&&Y.state==="recording","aria-label":`Delete ${s.title}`,title:s.id===Y.sessionId&&Y.state==="recording"?"Stop the active recording before deleting it.":"Delete recording",children:""}):null]})]})},s.id)})})})]}),Yc?h.jsxs("section",{className:`transcription-panel${U?" is-visible":""}`,"aria-live":"polite","aria-label":"Live transcription preview",children:[h.jsx("header",{className:"transcription-header",children:h.jsx("h2",{children:"Live transcription"})}),h.jsxs("div",{className:"transcription-stream",ref:ia,children:[Qa.length===0?h.jsx("p",{className:"transcription-empty",children:"Pending - first words arrive in about 30 seconds."}):Qa.map((s,r)=>h.jsx("p",{className:"transcription-line",children:s},`${r}-${s.slice(0,12)}`)),h.jsx("div",{className:"transcription-fade","aria-hidden":"true"})]})]}):null,h.jsx("audio",{ref:Ue,hidden:!0,preload:"none"}),q?h.jsx("div",{className:"detail-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"recording-detail-title",onClick:s=>{s.target===s.currentTarget&&Fn()},children:h.jsxs("div",{className:"detail-panel",onClick:s=>s.stopPropagation(),children:[h.jsxs("header",{className:"detail-header",children:[h.jsxs("div",{children:[h.jsx("p",{className:"detail-label",children:q.id===Y.sessionId&&Y.state==="recording"?"Recording in progress":"Recorded session"}),h.jsx("h2",{id:"recording-detail-title",children:$y(vu)})]}),h.jsxs("div",{className:"detail-actions",children:[je?h.jsx("button",{className:`detail-graph-toggle ${ga?"is-active":""}`,type:"button",onClick:()=>zl(s=>!s),"aria-pressed":ga,"aria-label":ga?"Hide audio chunking analysis":"Show audio chunking analysis",children:""}):null,je?h.jsx("button",{className:`detail-doctor-toggle ${pa?"is-active":""}`,type:"button",onClick:()=>uu(s=>!s),"aria-pressed":pa,"aria-label":pa?"Hide recording doctor diagnostics":"Show recording doctor diagnostics",children:""}):null,je?h.jsx("button",{className:`detail-debug-toggle ${me?"is-active":""}`,type:"button",onClick:()=>ci(s=>!s),"aria-pressed":me,"aria-label":me?"Hide developer details":"Show developer details",children:""}):null,h.jsx("button",{className:"detail-delete",type:"button",onClick:()=>void fs(),"aria-label":"Delete recording",disabled:q.id===Y.sessionId&&Y.state==="recording",title:q.id===Y.sessionId&&Y.state==="recording"?"Stop the active recording before deleting it.":"Delete recording",children:""}),h.jsx("button",{className:"detail-close",type:"button",onClick:Fn,children:"Close"})]})]}),h.jsxs("div",{className:"detail-body",children:[h.jsxs("div",{className:"detail-summary",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Captured:"})," ",tp(q.startedAt)," ",Po(q.startedAt)," "," ",Iy(q.startedAt,q.durationMs)]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Size:"})," ",li(q.totalBytes)]}),je&&me?h.jsxs("p",{children:[h.jsx("strong",{children:"Format:"})," ",q.mimeType??"pending"," "," ",h.jsx("strong",{children:"Chunks:"})," ",us,Ka?" + init":""]}):null]}),h.jsxs("div",{className:"playback-controls",children:[h.jsx("button",{className:"playback-button",type:"button",onClick:xi,disabled:Rl||q.chunkCount===0,"aria-pressed":jn.playing,children:Rl?"":jn.playing?"":""}),h.jsx("div",{className:"playback-progress","aria-hidden":"true",children:h.jsx("div",{className:"playback-progress-bar",style:{width:`${vs}%`}})}),h.jsxs("span",{className:"playback-timestamps",children:[Wi(jn.position)," / ",Wi(ys)]}),h.jsxs("div",{className:`volume-control ${at?"is-open":""}`,children:[h.jsx("button",{type:"button",className:"volume-button","aria-pressed":at,"aria-label":at?"Hide volume slider":"Show volume slider",onClick:()=>vt(s=>!s),children:B===0?"":B<.5?"":""}),at?h.jsx("input",{className:"volume-slider",type:"range",min:0,max:100,value:Math.round(B*100),onChange:s=>et(Number(s.target.value)/100),"aria-label":"Playback volume"}):null]})]}),ru?h.jsx("p",{className:"detail-notes",role:"alert",children:ru}):null,je&&ga?h.jsx("div",{className:"detail-analysis",children:ya==="loading"?h.jsx("p",{className:"detail-analysis-status",children:"Analyzing audio for pauses"}):ya==="error"?h.jsx("p",{className:"detail-analysis-status",role:"alert",children:bn??"Unable to analyze audio."}):as?h.jsx(zy,{analysis:as,targetRange:{minMs:5e3,idealMs:1e4,maxMs:6e4},playback:{positionMs:Math.max(0,jn.position*1e3),isPlaying:jn.playing}}):h.jsx("p",{className:"detail-analysis-status",children:"Preparing analysis"})}):null,h.jsxs("div",{className:"detail-transcription",children:[h.jsx("h3",{children:"Transcription"}),h.jsx("div",{className:"detail-transcription-actions",children:h.jsx("button",{type:"button",className:"detail-transcription-retry",onClick:()=>void os(),disabled:Ya||b.length===0||Ve.retryableCount===0,children:Ya?"Retrying":"Retry TX"})}),b.length===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"No snips recorded yet."}):Ve.transcribedCount===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"No snip transcriptions yet. Open the snip list to retry each segment."}):h.jsx("textarea",{ref:fi,className:"detail-transcription-text",readOnly:!0,value:Ve.text,onClick:fu,"aria-label":"Session transcription text",rows:Math.min(8,Math.max(3,Math.ceil(Ve.text.length/90)))}),b.length>0?h.jsxs("p",{className:"detail-transcription-meta",children:["Transcribed ",Ve.transcribedCount," of ",Ve.total," snips."]}):null,Ve.errorCount>0?h.jsxs("p",{className:"detail-transcription-error",role:"alert",children:[Ve.errorCount," snip transcription error",Ve.errorCount===1?"":"s"," recorded. See the snip list for details."]}):null,Ve.purgedCount>0?h.jsxs("p",{className:"detail-transcription-note",children:["Audio purged for ",Ve.purgedCount," snip",Ve.purgedCount===1?"":"s"," to stay under the storage cap. Retries are disabled for purged audio."]}):null]}),je&&pa?h.jsxs("div",{className:"detail-doctor",children:[h.jsxs("div",{className:"detail-doctor-header",children:[h.jsx("h3",{children:"Doctor diagnostics"}),h.jsxs("div",{className:"detail-doctor-actions",children:[h.jsx("button",{type:"button",onClick:async()=>{if(q){Dl(null),Ha(null);try{await pt.init();const r=Dh()?.id??null,g=r?await pt.getLogEntries(r,400):[],R=Rc({session:q,doctorReports:Me,logs:g.map(w=>({level:w.level,message:w.message,timestamp:w.timestamp}))});Ha(R);try{await hs(R),Dl("Copied compact report to clipboard."),window.setTimeout(()=>Dl(null),2500)}catch{Dl("Clipboard copy blocked; compact report shown below (tap Select all).")}}catch(s){Dl(`Copy failed: ${s instanceof Error?s.message:String(s)}`)}}},disabled:Qn,children:"Copy compact report"}),h.jsx("button",{type:"button",onClick:()=>{Ol.current+=1,aa(!1),se(null)},disabled:!Qn,children:"Cancel"}),h.jsx("button",{type:"button",onClick:()=>void Oc(),disabled:Qn,children:Qn?"Running":"Run selected tests"})]})]}),cu?h.jsx("p",{className:"detail-transcription-placeholder",children:cu}):null,Nl?h.jsxs("div",{className:"doctor-export",children:[h.jsxs("div",{className:"doctor-export-actions",children:[h.jsx("button",{type:"button",onClick:()=>{const s=document.getElementById("doctor-export-textarea");s&&(s.focus(),s.select())},children:"Select all"}),h.jsx("button",{type:"button",onClick:()=>Ha(null),children:"Hide"})]}),h.jsx("textarea",{id:"doctor-export-textarea",className:"doctor-export-textarea",readOnly:!0,value:Nl,rows:10})]}):null,h.jsx("p",{className:"detail-transcription-placeholder",children:"Runs quick integrity checks to help identify whether corruption is in stored chunks or in range access/decoding."}),h.jsxs("div",{className:"doctor-test-list",children:[h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Oe.sanityChecks,disabled:Qn,onChange:s=>wl(r=>({...r,sanityChecks:s.target.checked}))}),h.jsx("span",{children:"Sanity checks (durations, snip bounds, chunk timing)"})]}),h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Oe.chunkCoverageScan,disabled:Qn,onChange:s=>wl(r=>({...r,chunkCoverageScan:s.target.checked}))}),h.jsx("span",{children:"Chunk coverage scan (IndexedDB timings/coverage, 0.1s)"})]}),h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Oe.rangeAccessScan,disabled:Qn,onChange:s=>wl(r=>({...r,rangeAccessScan:s.target.checked}))}),h.jsx("span",{children:"Range access scan via slice API (decode+inspect, 0.1s)"})]}),h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Oe.chunkDecodeScan,disabled:Qn,onChange:s=>wl(r=>({...r,chunkDecodeScan:s.target.checked}))}),h.jsx("span",{children:"Per-chunk decode scan (decode each chunk blob)"})]}),h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Oe.snipScan,disabled:Qn,onChange:s=>wl(r=>({...r,snipScan:s.target.checked}))}),h.jsx("span",{children:"Snip scan (inspect each snip range)"})]})]}),_e?h.jsxs("p",{className:"detail-transcription-placeholder",children:[_e.label,": ",_e.completed,"/",_e.total]}):null,Ie?h.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:Ie}):null,Me?.sanity?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Sanity checks"}),h.jsxs("p",{className:"doctor-summary",children:["Session duration: ",((Me.sanity.metrics.sessionDurationMs??0)/1e3).toFixed(1),"s  Chunk timebase: ",Me.sanity.metrics.chunkTimebase,"  Chunk max end:"," ",((Me.sanity.metrics.chunkMaxOffsetMs??0)/1e3).toFixed(1),"s  Chunk sum:"," ",((Me.sanity.metrics.chunkSumDurationMs??0)/1e3).toFixed(1),"s  Snips:"," ",Me.sanity.metrics.snipCount??0,"  Snip max end:"," ",((Me.sanity.metrics.snipMaxEndMs??0)/1e3).toFixed(1),"s  Snip sum:"," ",((Me.sanity.metrics.snipSumDurationMs??0)/1e3).toFixed(1),"s"]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Ll(`sanity-${q.id}`,{sessionId:q.id,mimeType:q.mimeType,report:Me.sanity}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:Me.sanity.findings.length===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"No findings."}):Me.sanity.findings.map((s,r)=>h.jsx("div",{className:`doctor-detail-row is-${s.level==="info"?"ok":s.level}`,children:h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:s.level.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:s.message})]})},r))})]}):null,(()=>{const s=Me?.chunkCoverage;return s?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Chunk coverage scan"}),h.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Chunk coverage results timeline",children:s.segments.map(r=>h.jsx("span",{className:`doctor-segment is-${r.status}`,title:`${Qe(r.startMs)}${Qe(r.endMs)}${r.reason?`  ${r.reason}`:""}`},r.index))}),h.jsxs("p",{className:"doctor-summary",children:["OK ",s.summary.ok," (",ge(s.summary.ok,s.summary.total),")  Warn"," ",s.summary.warn," (",ge(s.summary.warn,s.summary.total),")  Error"," ",s.summary.error," (",ge(s.summary.error,s.summary.total),")"]}),h.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((s.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((s.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected segments:"," ",s.metrics.expectedItemCount??0,"  Observed segments: ",s.metrics.observedItemCount??0]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Ll(`chunk-coverage-${q.id}`,{sessionId:q.id,mimeType:q.mimeType,report:s}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:Bl(s.segments).filter(r=>r.status!=="ok").map(r=>h.jsxs("div",{className:`doctor-detail-row is-${r.status}`,children:[h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:r.status.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:r.reason}),h.jsxs("span",{className:"doctor-detail-count",children:[r.count," (",ge(r.count,s.summary.total),")"]})]}),h.jsx("div",{className:"doctor-detail-examples",children:r.examples.map(g=>h.jsxs("span",{className:"doctor-detail-example",children:[Qe(g.startMs),"",Qe(g.endMs)]},g.index))})]},`${r.status}:${r.reason}`))})]}):null})(),(()=>{const s=Me?.rangeAccess;return s?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Range access scan (0.1s)"}),h.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Range access results timeline",children:s.segments.map(r=>h.jsx("span",{className:`doctor-segment is-${r.status}`,title:`${Qe(r.startMs)}${Qe(r.endMs)}${r.reason?`  ${r.reason}`:""}`},r.index))}),h.jsxs("p",{className:"doctor-summary",children:["OK ",s.summary.ok," (",ge(s.summary.ok,s.summary.total),")  Warn"," ",s.summary.warn," (",ge(s.summary.warn,s.summary.total),")  Error"," ",s.summary.error," (",ge(s.summary.error,s.summary.total),")"]}),h.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((s.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((s.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected windows:"," ",s.metrics.expectedItemCount??0,"  Decoded windows: ",s.metrics.observedItemCount??0]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Ll(`range-access-${q.id}`,{sessionId:q.id,mimeType:q.mimeType,report:s}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:Bl(s.segments).filter(r=>r.status!=="ok").map(r=>h.jsxs("div",{className:`doctor-detail-row is-${r.status}`,children:[h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:r.status.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:r.reason}),h.jsxs("span",{className:"doctor-detail-count",children:[r.count," (",ge(r.count,s.summary.total),")"]})]}),h.jsx("div",{className:"doctor-detail-examples",children:r.examples.map(g=>h.jsxs("span",{className:"doctor-detail-example",children:[Qe(g.startMs),"",Qe(g.endMs)]},g.index))})]},`${r.status}:${r.reason}`))})]}):null})(),(()=>{const s=Me?.chunkDecode;return s?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Per-chunk decode scan"}),h.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Per-chunk decode results timeline",children:s.segments.map(r=>h.jsx("span",{className:`doctor-segment is-${r.status}`,title:`Chunk #${r.index+1}${r.reason?`  ${r.reason}`:""}`},r.index))}),h.jsxs("p",{className:"doctor-summary",children:["OK ",s.summary.ok," (",ge(s.summary.ok,s.summary.total),")  Warn"," ",s.summary.warn," (",ge(s.summary.warn,s.summary.total),")  Error"," ",s.summary.error," (",ge(s.summary.error,s.summary.total),")"]}),h.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((s.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Decoded audio:"," ",((s.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected chunks:"," ",s.metrics.expectedItemCount??0,"  Decoded chunks: ",s.metrics.observedItemCount??0]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Ll(`chunk-decode-${q.id}`,{sessionId:q.id,mimeType:q.mimeType,report:s}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:Bl(s.segments).filter(r=>r.status!=="ok").map(r=>h.jsxs("div",{className:`doctor-detail-row is-${r.status}`,children:[h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:r.status.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:r.reason}),h.jsxs("span",{className:"doctor-detail-count",children:[r.count," (",ge(r.count,s.summary.total),")"]})]}),h.jsx("div",{className:"doctor-detail-examples",children:r.examples.map(g=>h.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${r.status}:${r.reason}`))})]}):null})(),(()=>{const s=Me?.snipScan;return s?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Snip scan (each snip)"}),h.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Snip scan results timeline",children:s.segments.map(r=>h.jsx("span",{className:`doctor-segment is-${r.status}`,title:`Snip #${r.index+1}  ${Qe(r.startMs)}${Qe(r.endMs)}${r.reason?`  ${r.reason}`:""}`},r.index))}),h.jsxs("p",{className:"doctor-summary",children:["OK ",s.summary.ok," (",ge(s.summary.ok,s.summary.total),")  Warn"," ",s.summary.warn," (",ge(s.summary.warn,s.summary.total),")  Error"," ",s.summary.error," (",ge(s.summary.error,s.summary.total),")"]}),h.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((s.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((s.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected snips:"," ",s.metrics.expectedItemCount??0,"  Decoded snips: ",s.metrics.observedItemCount??0]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Ll(`snip-scan-${q.id}`,{sessionId:q.id,mimeType:q.mimeType,report:s}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:Bl(s.segments).filter(r=>r.status!=="ok").map(r=>h.jsxs("div",{className:`doctor-detail-row is-${r.status}`,children:[h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:r.status.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:r.reason}),h.jsxs("span",{className:"doctor-detail-count",children:[r.count," (",ge(r.count,s.summary.total),")"]})]}),h.jsx("div",{className:"doctor-detail-examples",children:r.examples.map(g=>h.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${r.status}:${r.reason}`))})]}):null})()]}):null,je&&me?h.jsxs("div",{className:"detail-chunks",children:[h.jsxs("div",{className:"detail-slices-header",children:[h.jsxs("h3",{children:[Rn==="chunks"?`Chunks (${us}${Ka?" + init":""})`:`Snips (${b.length})`," "," ",q.mimeType??"pending"]}),h.jsxs("div",{className:"detail-slice-toggle",role:"tablist","aria-label":"Slice mode",children:[h.jsx("button",{type:"button",role:"tab","aria-selected":Rn==="chunks",className:Rn==="chunks"?"is-selected":"",onClick:()=>ri("chunks"),children:"Chunks"}),h.jsx("button",{type:"button",role:"tab","aria-selected":Rn==="snips",className:Rn==="snips"?"is-selected":"",onClick:()=>ri("snips"),children:"Snips"})]})]}),Rn==="chunks"?v.length===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"No chunks persisted yet."}):h.jsx("ul",{className:"chunk-list",children:v.map(s=>{const r=Math.max(0,(s.endMs-s.startMs)/1e3),g=r<10?2:1,R=`${r.toFixed(g)} s`,w=an(s),X=ht===s.id,z=s.seq+1,V=Le(s),$=w?`Chunk ${z} is an init segment without audio`:V?`Chunk ${z} audio purged`:X?`Pause chunk ${z}`:`Play chunk ${z}`;return h.jsxs("li",{className:`chunk-item ${w?"header-chunk":""}`,children:[h.jsx("button",{type:"button",className:`chunk-play ${X?"is-playing":""}`,onClick:()=>void Uc(s),"aria-pressed":X,"aria-label":$,disabled:w||V,title:w?"Init segment (no audio payload)":V?"Audio purged to stay under the storage cap":void 0,children:w?"NA":X?"":""}),h.jsxs("span",{children:["#",z]}),h.jsx("span",{children:R}),h.jsx("span",{children:li(s.byteLength)}),h.jsx("button",{type:"button",className:"chunk-download",onClick:()=>Nc(s),"aria-label":`Download chunk ${z}`,disabled:w||V,title:w?"Init segment (typically no downloadable audio)":V?"Audio purged to stay under the storage cap":void 0,children:""}),w?h.jsx("span",{className:"chunk-flag",children:"init segment"}):null,V?h.jsx("span",{className:"chunk-flag is-purged",children:"purged"}):null]},s.id)})}):ya==="loading"&&b.length===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"Analyzing audio for snips"}):ya==="error"&&b.length===0?h.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:bn??"Unable to analyze audio."}):b.length?h.jsxs(h.Fragment,{children:[ya==="error"&&bn?h.jsxs("p",{className:"detail-transcription-placeholder",role:"alert",children:["Snip refresh failed: ",bn]}):null,h.jsx("ul",{className:"chunk-list",children:b.map(s=>{const r=s.index+1,g=Math.max(0,s.durationMs/1e3),R=g<10?2:1,w=`${g.toFixed(R)} s`,X=s.id,z=rt===X,V=!!ke[s.id],$=ha(s),ot=$.length>0,bt=de(s),Ct=bt?`Snip ${r} audio purged`:z?`Pause snip ${r}`:`Play snip ${r}`,Rt=bt?`Snip ${r} audio purged`:V?`Transcribing snip ${r}`:ot?`Retry transcription for snip ${r}`:`Transcribe snip ${r}`,Xt=bt?"Audio purged":V&&!yu?"Transcribing":ot?"Transcribed":"Pending",ye=bt?"is-purged":ot?"is-ready":"is-pending";return h.jsxs("li",{className:"chunk-item",children:[h.jsx("button",{type:"button",className:`chunk-play ${z?"is-playing":""}`,onClick:()=>void Bc(s),"aria-pressed":z,"aria-label":Ct,disabled:bt,children:z?"":""}),h.jsxs("span",{children:["#",r]}),h.jsx("span",{children:w}),h.jsxs("span",{children:[Wi(Math.round(s.startMs/1e3)),"  ",Wi(Math.round(s.endMs/1e3))]}),h.jsx("span",{className:`snip-transcription-status ${ye}`,children:Xt}),h.jsx("button",{type:"button",className:"chunk-download",onClick:()=>void Fa(s,r),"aria-label":`Download snip ${r}`,disabled:bt,children:""}),h.jsx("button",{type:"button",className:"snip-transcribe",onClick:()=>void ua(s),"aria-label":Rt,disabled:V||bt,children:ot?"Retry":"Tx"}),$?h.jsx("textarea",{className:"snip-transcription-text",readOnly:!0,value:$,onClick:fu,"aria-label":`Snip ${r} transcription`,rows:Math.min(6,Math.max(2,Math.ceil($.length/80)))}):null,s.transcriptionError?h.jsx("span",{className:"snip-transcription-error",role:"alert",children:s.transcriptionError}):null,bt?h.jsx("span",{className:"snip-retention-note",children:Zh}):null]},X)})})]}):h.jsx("p",{className:"detail-transcription-placeholder",children:"No snips available yet."})]}):null,q.status==="error"&&q.notes?h.jsx("p",{className:"detail-notes",children:q.notes}):null]})]})}):null,Dt?h.jsx("div",{className:"settings-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",onClick:s=>{s.target===s.currentTarget&&Tt(!1)},children:h.jsxs("div",{className:"settings-dialog",onClick:s=>s.stopPropagation(),children:[h.jsxs("header",{className:"settings-header",children:[h.jsx("h2",{id:"settings-title",children:"Settings"}),h.jsx("button",{type:"button",className:"settings-close",onClick:()=>Tt(!1),children:"Close"})]}),h.jsxs("div",{className:"settings-body",children:[h.jsxs("label",{className:"settings-field",children:[h.jsx("span",{children:"Groq API key"}),h.jsx("input",{type:"text",value:d?.groqApiKey??"",onChange:s=>void kc(s.target.value),placeholder:"sk-",autoComplete:"off"})]}),h.jsxs("label",{className:"settings-field settings-checkbox",children:[h.jsx("input",{type:"checkbox",checked:je,onChange:s=>void hu(s.target.checked)}),h.jsx("span",{children:"Enable developer mode"})]}),h.jsxs("label",{className:"settings-field",children:[h.jsx("span",{children:"Storage cap (MB)"}),h.jsx("input",{type:"number",min:1,value:Math.round(ba/Wo),onChange:s=>void _c(s.target.value)})]})]})]})}):null,je&&Xe?h.jsx("div",{className:"dev-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"dev-console-title",onClick:s=>{s.target===s.currentTarget&&mu()},children:h.jsxs("div",{className:"dev-panel",onClick:s=>s.stopPropagation(),children:[h.jsxs("header",{className:"dev-panel-header",children:[h.jsx("h2",{id:"dev-console-title",children:"Developer Console"}),h.jsx("button",{type:"button",className:"dev-close",onClick:mu,children:"Close"})]}),h.jsxs("div",{className:"dev-panel-toolbar",children:[h.jsx("button",{type:"button",className:Al==="tables"?"is-selected":"",onClick:()=>{Tl("tables"),Vn(!0),ps().finally(()=>Vn(!1))},children:"IndexedDB"}),h.jsx("button",{type:"button",className:Al==="logs"?"is-selected":"",onClick:()=>{Tl("logs"),Vn(!0),gs().finally(()=>Vn(!1))},children:"Logs"})]}),Al==="tables"?h.jsxs("div",{className:"dev-panel-body",children:[h.jsx("div",{className:"dev-table-buttons",children:si.map(s=>h.jsxs("button",{type:"button",className:pn===s.name?"is-selected":"",onClick:()=>na(s.name),children:[s.name,h.jsx("span",{className:"dev-table-count",children:s.rows.length})]},s.name))}),h.jsx("div",{className:"dev-table-rows",children:Ba?h.jsx("p",{children:"Loading"}):pn?(()=>{const s=si.find(r=>r.name===pn);return s?s.rows.length===0?h.jsx("p",{children:"No rows."}):pn==="chunks"?s.rows.map((g,R)=>{const w=typeof g.id=="string"?g.id:`${g.sessionId??"chunk"}-${g.seq??R}`,X=typeof g.blobSize=="number"?g.blobSize:null,z=typeof g.verifiedByteLength=="number"?g.verifiedByteLength:null,V=X!==null?`${X} B (${li(X)})`:"unknown",$=z!==null?`${z} B (${li(z)})`:"unverified",ot=!!(g.sizeMismatch??(z!==null&&X!==null&&z!==X));return h.jsxs("div",{className:`dev-table-chunk ${ot?"has-mismatch":""}`,children:[h.jsx("pre",{children:JSON.stringify(g,null,2)}),h.jsxs("p",{className:"dev-chunk-extra",children:[h.jsxs("span",{children:["blob.size: ",V]}),h.jsxs("span",{children:["verified: ",$]}),h.jsx("span",{className:ot?"dev-chunk-warning":"dev-chunk-ok",children:ot?" size mismatch":" sizes match"})]})]},w)}):pn==="chunkVolumes"?s.rows.map((g,R)=>{const w=`${g.sessionId}-${g.chunkId}-${R}`,X=g.framesTotal??g.frames.length,z=typeof g.averageNormalized=="number"?g.averageNormalized:0,V=typeof g.maxNormalized=="number"?g.maxNormalized:0,$=typeof g.durationMs=="number"?(g.durationMs/1e3).toFixed(2):"0.00";return h.jsxs("div",{className:"dev-table-chunk",children:[h.jsx("pre",{children:JSON.stringify(g,null,2)}),h.jsxs("p",{className:"dev-chunk-extra",children:[h.jsxs("span",{children:["frames: ",X]}),h.jsxs("span",{children:["duration: ",$,"s"]}),h.jsxs("span",{children:["avg volume: ",z.toFixed(4)]}),h.jsxs("span",{children:["peak volume: ",V.toFixed(4)]})]})]},w)}):s.rows.map((r,g)=>h.jsx("pre",{children:JSON.stringify(r,null,2)},g)):h.jsx("p",{children:"No rows."})})():h.jsx("p",{children:"Select a table to inspect rows."})})]}):h.jsxs("div",{className:"dev-log-body",children:[h.jsxs("div",{className:"dev-log-header",children:[h.jsx("button",{type:"button",onClick:()=>void pu(-1),disabled:!gn||Nn.findIndex(s=>s.id===gn.id)===Nn.length-1,children:""}),h.jsxs("select",{value:gn?.id??"",onChange:s=>{const r=Nn.find(g=>g.id===s.target.value)??null;ca(r)},children:[Nn.length===0?h.jsx("option",{value:"",children:"No sessions"}):null,Nn.map(s=>h.jsx("option",{value:s.id,children:new Date(s.startedAt).toLocaleString()},s.id))]}),h.jsx("button",{type:"button",onClick:()=>void pu(1),disabled:!gn||Nn.findIndex(s=>s.id===gn.id)<=0,children:""})]}),h.jsx("div",{className:"dev-log-entries",children:Ba?h.jsx("p",{children:"Loading"}):gn?su.length===0?h.jsx("p",{children:"No entries for this session."}):su.map(s=>h.jsxs("article",{className:`dev-log-entry level-${s.level}`,children:[h.jsxs("header",{children:[h.jsx("span",{className:"dev-log-message",children:s.message}),h.jsxs("span",{className:"dev-log-meta",children:[h.jsx("span",{className:"dev-log-level",children:s.level.toUpperCase()}),h.jsx("time",{dateTime:new Date(s.timestamp).toISOString(),children:a0(s.timestamp)})]})]}),s.details?h.jsx("code",{className:"dev-log-details",children:typeof s.details=="string"?s.details:JSON.stringify(s.details)}):null]},s.id??`${s.timestamp}`)):h.jsx("p",{children:"No log sessions found."})})]})]})}):null]})}document.title="Web Whisper";kg({immediate:!0});jg.createRoot(document.getElementById("root")).render(h.jsx(N.StrictMode,{children:h.jsx(l0,{})}));
