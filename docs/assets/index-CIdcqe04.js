(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))o(p);new MutationObserver(p=>{for(const M of p)if(M.type==="childList")for(const y of M.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&o(y)}).observe(document,{childList:!0,subtree:!0});function f(p){const M={};return p.integrity&&(M.integrity=p.integrity),p.referrerPolicy&&(M.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?M.credentials="include":p.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function o(p){if(p.ep)return;p.ep=!0;const M=f(p);fetch(p.href,M)}})();var Bo={exports:{}},lu={};var oh;function xg(){if(oh)return lu;oh=1;var d=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function f(o,p,M){var y=null;if(M!==void 0&&(y=""+M),p.key!==void 0&&(y=""+p.key),"key"in p){M={};for(var T in p)T!=="key"&&(M[T]=p[T])}else M=p;return p=M.ref,{$$typeof:d,type:o,key:y,ref:p!==void 0?p:null,props:M}}return lu.Fragment=r,lu.jsx=f,lu.jsxs=f,lu}var dh;function Eg(){return dh||(dh=1,Bo.exports=xg()),Bo.exports}var h=Eg(),Lo={exports:{}},At={};var fh;function Ag(){if(fh)return At;fh=1;var d=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),y=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),q=Symbol.iterator;function J(S){return S===null||typeof S!="object"?null:(S=q&&S[q]||S["@@iterator"],typeof S=="function"?S:null)}var nt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,xt={};function ut(S,k,tt){this.props=S,this.context=k,this.refs=xt,this.updater=tt||nt}ut.prototype.isReactComponent={},ut.prototype.setState=function(S,k){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,k,"setState")},ut.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function bt(){}bt.prototype=ut.prototype;function ot(S,k,tt){this.props=S,this.context=k,this.refs=xt,this.updater=tt||nt}var H=ot.prototype=new bt;H.constructor=ot,I(H,ut.prototype),H.isPureReactComponent=!0;var P=Array.isArray;function ft(){}var F={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function Gt(S,k,tt){var lt=tt.ref;return{$$typeof:d,type:S,key:k,ref:lt!==void 0?lt:null,props:tt}}function ne(S,k){return Gt(S.type,k,S.props)}function $t(S){return typeof S=="object"&&S!==null&&S.$$typeof===d}function Ft(S){var k={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(tt){return k[tt]})}var ln=/\/+/g;function Ce(S,k){return typeof S=="object"&&S!==null&&S.key!=null?Ft(""+S.key):k.toString(36)}function xe(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(ft,ft):(S.status="pending",S.then(function(k){S.status==="pending"&&(S.status="fulfilled",S.value=k)},function(k){S.status==="pending"&&(S.status="rejected",S.reason=k)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function A(S,k,tt,lt,yt){var Ct=typeof S;(Ct==="undefined"||Ct==="boolean")&&(S=null);var Tt=!1;if(S===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(S.$$typeof){case d:case r:Tt=!0;break;case D:return Tt=S._init,A(Tt(S._payload),k,tt,lt,yt)}}if(Tt)return yt=yt(S),Tt=lt===""?"."+Ce(S,0):lt,P(yt)?(tt="",Tt!=null&&(tt=Tt.replace(ln,"$&/")+"/"),A(yt,k,tt,"",function(Qa){return Qa})):yt!=null&&($t(yt)&&(yt=ne(yt,tt+(yt.key==null||S&&S.key===yt.key?"":(""+yt.key).replace(ln,"$&/")+"/")+Tt)),k.push(yt)),1;Tt=0;var He=lt===""?".":lt+":";if(P(S))for(var ce=0;ce<S.length;ce++)lt=S[ce],Ct=He+Ce(lt,ce),Tt+=A(lt,k,tt,Ct,yt);else if(ce=J(S),typeof ce=="function")for(S=ce.call(S),ce=0;!(lt=S.next()).done;)lt=lt.value,Ct=He+Ce(lt,ce++),Tt+=A(lt,k,tt,Ct,yt);else if(Ct==="object"){if(typeof S.then=="function")return A(xe(S),k,tt,lt,yt);throw k=String(S),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function V(S,k,tt){if(S==null)return S;var lt=[],yt=0;return A(S,lt,"","",function(Ct){return k.call(tt,Ct,yt++)}),lt}function W(S){if(S._status===-1){var k=S._result;k=k(),k.then(function(tt){(S._status===0||S._status===-1)&&(S._status=1,S._result=tt)},function(tt){(S._status===0||S._status===-1)&&(S._status=2,S._result=tt)}),S._status===-1&&(S._status=0,S._result=k)}if(S._status===1)return S._result.default;throw S._result}var $=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},it={map:V,forEach:function(S,k,tt){V(S,function(){k.apply(this,arguments)},tt)},count:function(S){var k=0;return V(S,function(){k++}),k},toArray:function(S){return V(S,function(k){return k})||[]},only:function(S){if(!$t(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return At.Activity=E,At.Children=it,At.Component=ut,At.Fragment=f,At.Profiler=p,At.PureComponent=ot,At.StrictMode=o,At.Suspense=b,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,At.__COMPILER_RUNTIME={__proto__:null,c:function(S){return F.H.useMemoCache(S)}},At.cache=function(S){return function(){return S.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(S,k,tt){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var lt=I({},S.props),yt=S.key;if(k!=null)for(Ct in k.key!==void 0&&(yt=""+k.key),k)!ct.call(k,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&k.ref===void 0||(lt[Ct]=k[Ct]);var Ct=arguments.length-2;if(Ct===1)lt.children=tt;else if(1<Ct){for(var Tt=Array(Ct),He=0;He<Ct;He++)Tt[He]=arguments[He+2];lt.children=Tt}return Gt(S.type,yt,lt)},At.createContext=function(S){return S={$$typeof:y,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:M,_context:S},S},At.createElement=function(S,k,tt){var lt,yt={},Ct=null;if(k!=null)for(lt in k.key!==void 0&&(Ct=""+k.key),k)ct.call(k,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(yt[lt]=k[lt]);var Tt=arguments.length-2;if(Tt===1)yt.children=tt;else if(1<Tt){for(var He=Array(Tt),ce=0;ce<Tt;ce++)He[ce]=arguments[ce+2];yt.children=He}if(S&&S.defaultProps)for(lt in Tt=S.defaultProps,Tt)yt[lt]===void 0&&(yt[lt]=Tt[lt]);return Gt(S,Ct,yt)},At.createRef=function(){return{current:null}},At.forwardRef=function(S){return{$$typeof:T,render:S}},At.isValidElement=$t,At.lazy=function(S){return{$$typeof:D,_payload:{_status:-1,_result:S},_init:W}},At.memo=function(S,k){return{$$typeof:v,type:S,compare:k===void 0?null:k}},At.startTransition=function(S){var k=F.T,tt={};F.T=tt;try{var lt=S(),yt=F.S;yt!==null&&yt(tt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(ft,$)}catch(Ct){$(Ct)}finally{k!==null&&tt.types!==null&&(k.types=tt.types),F.T=k}},At.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},At.use=function(S){return F.H.use(S)},At.useActionState=function(S,k,tt){return F.H.useActionState(S,k,tt)},At.useCallback=function(S,k){return F.H.useCallback(S,k)},At.useContext=function(S){return F.H.useContext(S)},At.useDebugValue=function(){},At.useDeferredValue=function(S,k){return F.H.useDeferredValue(S,k)},At.useEffect=function(S,k){return F.H.useEffect(S,k)},At.useEffectEvent=function(S){return F.H.useEffectEvent(S)},At.useId=function(){return F.H.useId()},At.useImperativeHandle=function(S,k,tt){return F.H.useImperativeHandle(S,k,tt)},At.useInsertionEffect=function(S,k){return F.H.useInsertionEffect(S,k)},At.useLayoutEffect=function(S,k){return F.H.useLayoutEffect(S,k)},At.useMemo=function(S,k){return F.H.useMemo(S,k)},At.useOptimistic=function(S,k){return F.H.useOptimistic(S,k)},At.useReducer=function(S,k,tt){return F.H.useReducer(S,k,tt)},At.useRef=function(S){return F.H.useRef(S)},At.useState=function(S){return F.H.useState(S)},At.useSyncExternalStore=function(S,k,tt){return F.H.useSyncExternalStore(S,k,tt)},At.useTransition=function(){return F.H.useTransition()},At.version="19.2.0",At}var mh;function sd(){return mh||(mh=1,Lo.exports=Ag()),Lo.exports}var N=sd(),qo={exports:{}},su={},Ho={exports:{}},Go={};var hh;function Tg(){return hh||(hh=1,(function(d){function r(A,V){var W=A.length;A.push(V);t:for(;0<W;){var $=W-1>>>1,it=A[$];if(0<p(it,V))A[$]=V,A[W]=it,W=$;else break t}}function f(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var V=A[0],W=A.pop();if(W!==V){A[0]=W;t:for(var $=0,it=A.length,S=it>>>1;$<S;){var k=2*($+1)-1,tt=A[k],lt=k+1,yt=A[lt];if(0>p(tt,W))lt<it&&0>p(yt,tt)?(A[$]=yt,A[lt]=W,$=lt):(A[$]=tt,A[k]=W,$=k);else if(lt<it&&0>p(yt,W))A[$]=yt,A[lt]=W,$=lt;else break t}}return V}function p(A,V){var W=A.sortIndex-V.sortIndex;return W!==0?W:A.id-V.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var M=performance;d.unstable_now=function(){return M.now()}}else{var y=Date,T=y.now();d.unstable_now=function(){return y.now()-T}}var b=[],v=[],D=1,E=null,q=3,J=!1,nt=!1,I=!1,xt=!1,ut=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function H(A){for(var V=f(v);V!==null;){if(V.callback===null)o(v);else if(V.startTime<=A)o(v),V.sortIndex=V.expirationTime,r(b,V);else break;V=f(v)}}function P(A){if(I=!1,H(A),!nt)if(f(b)!==null)nt=!0,ft||(ft=!0,Ft());else{var V=f(v);V!==null&&xe(P,V.startTime-A)}}var ft=!1,F=-1,ct=5,Gt=-1;function ne(){return xt?!0:!(d.unstable_now()-Gt<ct)}function $t(){if(xt=!1,ft){var A=d.unstable_now();Gt=A;var V=!0;try{t:{nt=!1,I&&(I=!1,bt(F),F=-1),J=!0;var W=q;try{e:{for(H(A),E=f(b);E!==null&&!(E.expirationTime>A&&ne());){var $=E.callback;if(typeof $=="function"){E.callback=null,q=E.priorityLevel;var it=$(E.expirationTime<=A);if(A=d.unstable_now(),typeof it=="function"){E.callback=it,H(A),V=!0;break e}E===f(b)&&o(b),H(A)}else o(b);E=f(b)}if(E!==null)V=!0;else{var S=f(v);S!==null&&xe(P,S.startTime-A),V=!1}}break t}finally{E=null,q=W,J=!1}V=void 0}}finally{V?Ft():ft=!1}}}var Ft;if(typeof ot=="function")Ft=function(){ot($t)};else if(typeof MessageChannel<"u"){var ln=new MessageChannel,Ce=ln.port2;ln.port1.onmessage=$t,Ft=function(){Ce.postMessage(null)}}else Ft=function(){ut($t,0)};function xe(A,V){F=ut(function(){A(d.unstable_now())},V)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(A){A.callback=null},d.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<A?Math.floor(1e3/A):5},d.unstable_getCurrentPriorityLevel=function(){return q},d.unstable_next=function(A){switch(q){case 1:case 2:case 3:var V=3;break;default:V=q}var W=q;q=V;try{return A()}finally{q=W}},d.unstable_requestPaint=function(){xt=!0},d.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=q;q=A;try{return V()}finally{q=W}},d.unstable_scheduleCallback=function(A,V,W){var $=d.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,A){case 1:var it=-1;break;case 2:it=250;break;case 5:it=1073741823;break;case 4:it=1e4;break;default:it=5e3}return it=W+it,A={id:D++,callback:V,priorityLevel:A,startTime:W,expirationTime:it,sortIndex:-1},W>$?(A.sortIndex=W,r(v,A),f(b)===null&&A===f(v)&&(I?(bt(F),F=-1):I=!0,xe(P,W-$))):(A.sortIndex=it,r(b,A),nt||J||(nt=!0,ft||(ft=!0,Ft()))),A},d.unstable_shouldYield=ne,d.unstable_wrapCallback=function(A){var V=q;return function(){var W=q;q=V;try{return A.apply(this,arguments)}finally{q=W}}}})(Go)),Go}var ph;function wg(){return ph||(ph=1,Ho.exports=Tg()),Ho.exports}var Yo={exports:{}},nn={};var gh;function Cg(){if(gh)return nn;gh=1;var d=sd();function r(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)v+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var o={d:{f,r:function(){throw Error(r(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},p=Symbol.for("react.portal");function M(b,v,D){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:E==null?null:""+E,children:b,containerInfo:v,implementation:D}}var y=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,nn.createPortal=function(b,v){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(r(299));return M(b,v,null,D)},nn.flushSync=function(b){var v=y.T,D=o.p;try{if(y.T=null,o.p=2,b)return b()}finally{y.T=v,o.p=D,o.d.f()}},nn.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,o.d.C(b,v))},nn.prefetchDNS=function(b){typeof b=="string"&&o.d.D(b)},nn.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var D=v.as,E=T(D,v.crossOrigin),q=typeof v.integrity=="string"?v.integrity:void 0,J=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;D==="style"?o.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:q,fetchPriority:J}):D==="script"&&o.d.X(b,{crossOrigin:E,integrity:q,fetchPriority:J,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},nn.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var D=T(v.as,v.crossOrigin);o.d.M(b,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&o.d.M(b)},nn.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var D=v.as,E=T(D,v.crossOrigin);o.d.L(b,D,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},nn.preloadModule=function(b,v){if(typeof b=="string")if(v){var D=T(v.as,v.crossOrigin);o.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else o.d.m(b)},nn.requestFormReset=function(b){o.d.r(b)},nn.unstable_batchedUpdates=function(b,v){return b(v)},nn.useFormState=function(b,v,D){return y.H.useFormState(b,v,D)},nn.useFormStatus=function(){return y.H.useHostTransitionStatus()},nn.version="19.2.0",nn}var yh;function Dg(){if(yh)return Yo.exports;yh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(r){console.error(r)}}return d(),Yo.exports=Cg(),Yo.exports}var vh;function Ng(){if(vh)return su;vh=1;var d=wg(),r=sd(),f=Dg();function o(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function M(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function y(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(M(t)!==t)throw Error(o(188))}function v(t){var e=t.alternate;if(!e){if(e=M(t),e===null)throw Error(o(188));return e!==t?null:t}for(var n=t,a=e;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return b(l),t;if(s===a)return b(l),e;s=s.sibling}throw Error(o(188))}if(n.return!==a.return)n=l,a=s;else{for(var u=!1,m=l.child;m;){if(m===n){u=!0,n=l,a=s;break}if(m===a){u=!0,a=l,n=s;break}m=m.sibling}if(!u){for(m=s.child;m;){if(m===n){u=!0,n=s,a=l;break}if(m===a){u=!0,a=s,n=l;break}m=m.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?t:e}function D(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=D(t),e!==null)return e;t=t.sibling}return null}var E=Object.assign,q=Symbol.for("react.element"),J=Symbol.for("react.transitional.element"),nt=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),xt=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),Gt=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),$t=Symbol.iterator;function Ft(t){return t===null||typeof t!="object"?null:(t=$t&&t[$t]||t["@@iterator"],typeof t=="function"?t:null)}var ln=Symbol.for("react.client.reference");function Ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ln?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case ut:return"Profiler";case xt:return"StrictMode";case P:return"Suspense";case ft:return"SuspenseList";case Gt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case nt:return"Portal";case ot:return t.displayName||"Context";case bt:return(t._context.displayName||"Context")+".Consumer";case H:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case F:return e=t.displayName||null,e!==null?e:Ce(t.type)||"Memo";case ct:e=t._payload,t=t._init;try{return Ce(t(e))}catch{}}return null}var xe=Array.isArray,A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},$=[],it=-1;function S(t){return{current:t}}function k(t){0>it||(t.current=$[it],$[it]=null,it--)}function tt(t,e){it++,$[it]=t.current,t.current=e}var lt=S(null),yt=S(null),Ct=S(null),Tt=S(null);function He(t,e){switch(tt(Ct,e),tt(yt,t),tt(lt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Om(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Om(e),t=_m(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}k(lt),tt(lt,t)}function ce(){k(lt),k(yt),k(Ct)}function Qa(t){t.memoizedState!==null&&tt(Tt,t);var e=lt.current,n=_m(e,t.type);e!==n&&(tt(yt,t),tt(lt,n))}function Kn(t){yt.current===t&&(k(lt),k(yt)),Tt.current===t&&(k(Tt),tu._currentValue=W)}var rs,Za;function bn(t){if(rs===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rs=e&&e[1]||"",Za=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+t+Za}var la=!1;function Nl(t,e){if(!t||la)return"";la=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(U){var _=U}Reflect.construct(t,[],K)}else{try{K.call()}catch(U){_=U}t.call(K.prototype)}}else{try{throw Error()}catch(U){_=U}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(U){if(U&&_&&typeof U.stack=="string")return[U.stack,_.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),u=s[0],m=s[1];if(u&&m){var x=u.split(`
`),O=m.split(`
`);for(l=a=0;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;for(;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;if(a===x.length||l===O.length)for(a=x.length-1,l=O.length-1;1<=a&&0<=l&&x[a]!==O[l];)l--;for(;1<=a&&0<=l;a--,l--)if(x[a]!==O[l]){if(a!==1||l!==1)do if(a--,l--,0>l||x[a]!==O[l]){var X=`
`+x[a].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=a&&0<=l);break}}}finally{la=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?bn(n):""}function Rl(t,e){switch(t.tag){case 26:case 27:case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return t.child!==e&&e!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return Nl(t.type,!1);case 11:return Nl(t.type.render,!1);case 1:return Nl(t.type,!0);case 31:return bn("Activity");default:return""}}function Un(t){try{var e="",n=null;do e+=Rl(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ka=Object.prototype.hasOwnProperty,Sn=d.unstable_scheduleCallback,jl=d.unstable_cancelCallback,ou=d.unstable_shouldYield,os=d.unstable_requestPaint,pe=d.unstable_now,ds=d.unstable_getCurrentPriorityLevel,Bn=d.unstable_ImmediatePriority,fs=d.unstable_UserBlockingPriority,ga=d.unstable_NormalPriority,du=d.unstable_LowPriority,Re=d.unstable_IdlePriority,zl=d.log,Jn=d.unstable_setDisableYieldValue,sa=null,je=null;function re(t){if(typeof zl=="function"&&Jn(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(sa,t)}catch{}}var Ie=Math.clz32?Math.clz32:Ol,ci=Math.log,fu=Math.LN2;function Ol(t){return t>>>=0,t===0?32:31-(ci(t)/fu|0)|0}var _l=256,Ja=262144,be=4194304;function $n(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function kl(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,s=t.suspendedLanes,u=t.pingedLanes;t=t.warmLanes;var m=a&134217727;return m!==0?(a=m&~s,a!==0?l=$n(a):(u&=m,u!==0?l=$n(u):n||(n=m&~t,n!==0&&(l=$n(n))))):(m=a&~s,m!==0?l=$n(m):u!==0?l=$n(u):n||(n=a&~t,n!==0&&(l=$n(n)))),l===0?0:e!==0&&e!==l&&(e&s)===0&&(s=l&-l,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:l}function $a(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function mu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fa(){var t=be;return be<<=1,(be&62914560)===0&&(be=4194304),t}function Mn(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ul(t,e,n,a,l,s){var u=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var m=t.entanglements,x=t.expirationTimes,O=t.hiddenUpdates;for(n=u&~n;0<n;){var X=31-Ie(n),K=1<<X;m[X]=0,x[X]=-1;var _=O[X];if(_!==null)for(O[X]=null,X=0;X<_.length;X++){var U=_[X];U!==null&&(U.lane&=-536870913)}n&=~K}a!==0&&ms(t,a,0),s!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=s&~(u&~e))}function ms(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-Ie(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function ya(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-Ie(n),l=1<<a;l&e|t[a]&e&&(t[a]|=e),n&=~l}}function Bl(t,e){var n=e&-e;return n=(n&42)!==0?1:va(n),(n&(t.suspendedLanes|e))!==0?0:n}function va(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ri(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:ah(t.type))}function Fn(t,e){var n=V.p;try{return V.p=t,e()}finally{V.p=n}}var En=Math.random().toString(36).slice(2),ae="__reactFiber$"+En,ze="__reactProps$"+En,In="__reactContainer$"+En,Ia="__reactEvents$"+En,hu="__reactListeners$"+En,kc="__reactHandles$"+En,oi="__reactResources$"+En,Oe="__reactMarker$"+En;function hs(t){delete t[ae],delete t[ze],delete t[Ia],delete t[hu],delete t[kc]}function ia(t){var e=t[ae];if(e)return e;for(var n=t.parentNode;n;){if(e=n[In]||n[ae]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gm(t);t!==null;){if(n=t[ae])return n;t=Gm(t)}return e}t=n,n=t.parentNode}return null}function _e(t){if(t=t[ae]||t[In]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Wn(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(o(33))}function An(t){var e=t[oi];return e||(e=t[oi]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function qt(t){t[Oe]=!0}var Wa=new Set,rn={};function Tn(t,e){ba(t,e),ba(t+"Capture",e)}function ba(t,e){for(rn[t]=e,t=0;t<e.length;t++)Wa.add(e[t])}var di=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},ql={};function fi(t){return Ka.call(ql,t)?!0:Ka.call(Ll,t)?!1:di.test(t)?ql[t]=!0:(Ll[t]=!0,!1)}function Pa(t,e,n){if(fi(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Sa(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function wn(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function We(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ps(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mi(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,s=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(u){n=""+u,s.call(this,u)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gs(t){if(!t._valueTracker){var e=ps(t)?"checked":"value";t._valueTracker=mi(t,e,""+t[e])}}function ys(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=ps(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function Ma(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ge=/[\n"\\]/g;function De(t){return t.replace(Ge,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Hl(t,e,n,a,l,s,u,m){t.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.type=u:t.removeAttribute("type"),e!=null?u==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+We(e)):t.value!==""+We(e)&&(t.value=""+We(e)):u!=="submit"&&u!=="reset"||t.removeAttribute("value"),e!=null?Ye(t,u,We(e)):n!=null?Ye(t,u,We(n)):a!=null&&t.removeAttribute("value"),l==null&&s!=null&&(t.defaultChecked=!!s),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.name=""+We(m):t.removeAttribute("name")}function Zt(t,e,n,a,l,s,u,m){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){gs(t);return}n=n!=null?""+We(n):"",e=e!=null?""+We(e):n,m||e===t.value||(t.value=e),t.defaultValue=e}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=m?t.checked:!!a,t.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.name=u),gs(t)}function Ye(t,e,n){e==="number"&&Ma(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Pn(t,e,n,a){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&a&&(t[n].defaultSelected=!0)}else{for(n=""+We(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,a&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function hi(t,e,n){if(e!=null&&(e=""+We(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+We(n):""}function Xe(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(o(92));if(xe(a)){if(1<a.length)throw Error(o(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=We(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),gs(t)}function Cn(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var G=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ve(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||G.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function ke(t,e,n){if(e!=null&&typeof e!="object")throw Error(o(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var l in e)a=e[l],e.hasOwnProperty(l)&&n[l]!==a&&Ve(t,l,a)}else for(var s in e)e.hasOwnProperty(s)&&Ve(t,s,e[s])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(t){return gu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ta(){}var vs=null;function bs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ca=null,Ea=null;function Gl(t){var e=_e(t);if(e&&(t=e.stateNode)){var n=t[ze]||null;t:switch(t=e.stateNode,e.type){case"input":if(Hl(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+De(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var l=a[ze]||null;if(!l)throw Error(o(90));Hl(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&ys(a)}break t;case"textarea":hi(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&Pn(t,!!n.multiple,e,!1)}}}var tl=!1;function yu(t,e,n){if(tl)return t(e,n);tl=!0;try{var a=t(e);return a}finally{if(tl=!1,(ca!==null||Ea!==null)&&(uc(),ca&&(e=ca,t=Ea,Ea=ca=null,Gl(e),t)))for(e=0;e<t.length;e++)Gl(t[e])}}function el(t,e){var n=t.stateNode;if(n===null)return null;var a=n[ze]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(o(231,e,typeof n));return n}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nl=!1;if(on)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){nl=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch{nl=!1}var Dn=null,Ss=null,Yl=null;function vu(){if(Yl)return Yl;var t,e=Ss,n=e.length,a,l="value"in Dn?Dn.value:Dn.textContent,s=l.length;for(t=0;t<n&&e[t]===l[t];t++);var u=n-t;for(a=1;a<=u&&e[n-a]===l[s-a];a++);return Yl=l.slice(t,1<a?1-a:void 0)}function Ms(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xs(){return!0}function pi(){return!1}function tn(t){function e(n,a,l,s,u){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var m in t)t.hasOwnProperty(m)&&(n=t[m],this[m]=n?n(s):s[m]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xs:pi,this.isPropagationStopped=pi,this}return E(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),e}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=tn(Aa),Xl=E({},Aa,{view:0,detail:0}),Es=tn(Xl),gi,Ta,ea,As=E({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ea&&(ea&&t.type==="mousemove"?(gi=t.screenX-ea.screenX,Ta=t.screenY-ea.screenY):Ta=gi=0,ea=t),gi)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),bu=tn(As),Ue=E({},As,{dataTransfer:0}),dn=tn(Ue),Vl=E({},Xl,{relatedTarget:0}),wa=tn(Vl),Uc=E({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ql=tn(Uc),Bc=E({},Aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lc=tn(Bc),qc=E({},Aa,{data:0}),Su=tn(qc),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yc(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gc[t])?!!e[t]:!1}function yi(){return Yc}var Xc=E({},Xl,{key:function(t){if(t.key){var e=Mu[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yi,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vi=tn(Xc),ll=E({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ts=tn(ll),xu=E({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yi}),Vc=tn(xu),Qc=E({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),ws=tn(Qc),Zl=E({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zc=tn(Zl),Kc=E({},Aa,{newState:0,oldState:0}),Jc=tn(Kc),Eu=[9,13,27,32],bi=on&&"CompositionEvent"in window,sl=null;on&&"documentMode"in document&&(sl=document.documentMode);var Si=on&&"TextEvent"in window&&!sl,en=on&&(!bi||sl&&8<sl&&11>=sl),Cs=" ",Mi=!1;function Au(t,e){switch(t){case"keyup":return Eu.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function $c(t,e){switch(t){case"compositionend":return Tu(e);case"keypress":return e.which!==32?null:(Mi=!0,Cs);case"textInput":return t=e.data,t===Cs&&Mi?null:t;default:return null}}function i(t,e){if(Ca)return t==="compositionend"||!bi&&Au(t,e)?(t=vu(),Yl=Ss=Dn=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return en&&e.locale!=="ko"?null:e.data;default:return null}}var c={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c[t.type]:e==="textarea"}function C(t,e,n,a){ca?Ea?Ea.push(a):Ea=[a]:ca=a,e=hc(e,"onChange"),0<e.length&&(n=new al("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var R=null,Q=null;function B(t){Cm(t,0)}function Y(t){var e=Wn(t);if(ys(e))return t}function L(t,e){if(t==="change")return e}var at=!1;if(on){var st;if(on){var vt="oninput"in document;if(!vt){var Nt=document.createElement("div");Nt.setAttribute("oninput","return;"),vt=typeof Nt.oninput=="function"}st=vt}else st=!1;at=st&&(!document.documentMode||9<document.documentMode)}function Ht(){R&&(R.detachEvent("onpropertychange",le),Q=R=null)}function le(t){if(t.propertyName==="value"&&Y(Q)){var e=[];C(e,Q,t,bs(t)),yu(B,e)}}function mt(t,e,n){t==="focusin"?(Ht(),R=e,Q=n,R.attachEvent("onpropertychange",le)):t==="focusout"&&Ht()}function Rt(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Y(Q)}function fn(t,e){if(t==="click")return Y(e)}function Ds(t,e){if(t==="input"||t==="change")return Y(e)}function wu(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:wu;function It(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!Ka.call(e,l)||!et(t[l],e[l]))return!1}return!0}function fe(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ot(t,e){var n=fe(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=fe(n)}}function me(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?me(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pt(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ma(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ma(t.document)}return e}function Mt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Qe=on&&"documentMode"in document&&11>=document.documentMode,Ut=null,ge=null,sn=null,Et=!1;function Wt(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Et||Ut==null||Ut!==Ma(a)||(a=Ut,"selectionStart"in a&&Mt(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),sn&&It(sn,a)||(sn=a,a=hc(ge,"onSelect"),0<a.length&&(e=new al("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=Ut)))}function ie(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ln={animationend:ie("Animation","AnimationEnd"),animationiteration:ie("Animation","AnimationIteration"),animationstart:ie("Animation","AnimationStart"),transitionrun:ie("Transition","TransitionRun"),transitionstart:ie("Transition","TransitionStart"),transitioncancel:ie("Transition","TransitionCancel"),transitionend:ie("Transition","TransitionEnd")},Da={},xi={};on&&(xi=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function ra(t){if(Da[t])return Da[t];if(!Ln[t])return t;var e=Ln[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xi)return Da[t]=e[n];return t}var Ns=ra("animationend"),Ei=ra("animationiteration"),Ai=ra("animationstart"),Rs=ra("transitionrun"),Yt=ra("transitionstart"),oa=ra("transitioncancel"),il=ra("transitionend"),Ti=new Map,js="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");js.push("scrollEnd");function Nn(t,e){Ti.set(t,e),Tn(e,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},qn=[],zs=0,Fc=0;function Du(){for(var t=zs,e=Fc=zs=0;e<t;){var n=qn[e];qn[e++]=null;var a=qn[e];qn[e++]=null;var l=qn[e];qn[e++]=null;var s=qn[e];if(qn[e++]=null,a!==null&&l!==null){var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}s!==0&&ud(n,l,s)}}function Nu(t,e,n,a){qn[zs++]=t,qn[zs++]=e,qn[zs++]=n,qn[zs++]=a,Fc|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Ic(t,e,n,a){return Nu(t,e,n,a),Ru(t)}function Kl(t,e){return Nu(t,null,null,e),Ru(t)}function ud(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var l=!1,s=t.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(l=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,l&&e!==null&&(l=31-Ie(n),t=s.hiddenUpdates,a=t[l],a===null?t[l]=[e]:a.push(e),e.lane=n|536870912),s):null}function Ru(t){if(50<Ki)throw Ki=0,io=null,Error(o(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Os={};function sp(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,a){return new sp(t,e,n,a)}function Wc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Na(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function cd(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ju(t,e,n,a,l,s){var u=0;if(a=t,typeof t=="function")Wc(t)&&(u=1);else if(typeof t=="string")u=og(t,n,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Gt:return t=Rn(31,n,e,l),t.elementType=Gt,t.lanes=s,t;case I:return Jl(n.children,l,s,e);case xt:u=8,l|=24;break;case ut:return t=Rn(12,n,e,l|2),t.elementType=ut,t.lanes=s,t;case P:return t=Rn(13,n,e,l),t.elementType=P,t.lanes=s,t;case ft:return t=Rn(19,n,e,l),t.elementType=ft,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:u=10;break t;case bt:u=9;break t;case H:u=11;break t;case F:u=14;break t;case ct:u=16,a=null;break t}u=29,n=Error(o(130,t===null?"null":typeof t,"")),a=null}return e=Rn(u,n,e,l),e.elementType=t,e.type=a,e.lanes=s,e}function Jl(t,e,n,a){return t=Rn(7,t,a,e),t.lanes=n,t}function Pc(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function rd(t){var e=Rn(18,null,null,0);return e.stateNode=t,e}function tr(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var od=new WeakMap;function Hn(t,e){if(typeof t=="object"&&t!==null){var n=od.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Un(e)},od.set(t,e),e)}return{value:t,source:e,stack:Un(e)}}var _s=[],ks=0,zu=null,wi=0,Gn=[],Yn=0,ul=null,da=1,fa="";function Ra(t,e){_s[ks++]=wi,_s[ks++]=zu,zu=t,wi=e}function dd(t,e,n){Gn[Yn++]=da,Gn[Yn++]=fa,Gn[Yn++]=ul,ul=t;var a=da;t=fa;var l=32-Ie(a)-1;a&=~(1<<l),n+=1;var s=32-Ie(e)+l;if(30<s){var u=l-l%5;s=(a&(1<<u)-1).toString(32),a>>=u,l-=u,da=1<<32-Ie(e)+l|n<<l|a,fa=s+t}else da=1<<s|n<<l|a,fa=t}function er(t){t.return!==null&&(Ra(t,1),dd(t,1,0))}function nr(t){for(;t===zu;)zu=_s[--ks],_s[ks]=null,wi=_s[--ks],_s[ks]=null;for(;t===ul;)ul=Gn[--Yn],Gn[Yn]=null,fa=Gn[--Yn],Gn[Yn]=null,da=Gn[--Yn],Gn[Yn]=null}function fd(t,e){Gn[Yn++]=da,Gn[Yn++]=fa,Gn[Yn++]=ul,da=e.id,fa=e.overflow,ul=t}var Ze=null,oe=null,Bt=!1,cl=null,Xn=!1,ar=Error(o(519));function rl(t){var e=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ci(Hn(e,t)),ar}function md(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[ae]=t,e[ze]=a,n){case"dialog":zt("cancel",e),zt("close",e);break;case"iframe":case"object":case"embed":zt("load",e);break;case"video":case"audio":for(n=0;n<$i.length;n++)zt($i[n],e);break;case"source":zt("error",e);break;case"img":case"image":case"link":zt("error",e),zt("load",e);break;case"details":zt("toggle",e);break;case"input":zt("invalid",e),Zt(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":zt("invalid",e);break;case"textarea":zt("invalid",e),Xe(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||jm(e.textContent,n)?(a.popover!=null&&(zt("beforetoggle",e),zt("toggle",e)),a.onScroll!=null&&zt("scroll",e),a.onScrollEnd!=null&&zt("scrollend",e),a.onClick!=null&&(e.onclick=ta),e=!0):e=!1,e||rl(t,!0)}function hd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Ze=Ze.return}}function Us(t){if(t!==Ze)return!1;if(!Bt)return hd(t),Bt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||xo(t.type,t.memoizedProps)),n=!n),n&&oe&&rl(t),hd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));oe=Hm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));oe=Hm(t)}else e===27?(e=oe,El(t.type)?(t=Co,Co=null,oe=t):oe=e):oe=Ze?Qn(t.stateNode.nextSibling):null;return!0}function $l(){oe=Ze=null,Bt=!1}function lr(){var t=cl;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),cl=null),t}function Ci(t){cl===null?cl=[t]:cl.push(t)}var sr=S(null),Fl=null,ja=null;function ol(t,e,n){tt(sr,e._currentValue),e._currentValue=n}function za(t){t._currentValue=sr.current,k(sr)}function ir(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function ur(t,e,n,a){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){var u=l.child;s=s.firstContext;t:for(;s!==null;){var m=s;s=l;for(var x=0;x<e.length;x++)if(m.context===e[x]){s.lanes|=n,m=s.alternate,m!==null&&(m.lanes|=n),ir(s.return,n,t),a||(u=null);break t}s=m.next}}else if(l.tag===18){if(u=l.return,u===null)throw Error(o(341));u.lanes|=n,s=u.alternate,s!==null&&(s.lanes|=n),ir(u,n,t),u=null}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}}function Bs(t,e,n,a){t=null;for(var l=e,s=!1;l!==null;){if(!s){if((l.flags&524288)!==0)s=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var u=l.alternate;if(u===null)throw Error(o(387));if(u=u.memoizedProps,u!==null){var m=l.type;et(l.pendingProps.value,u.value)||(t!==null?t.push(m):t=[m])}}else if(l===Tt.current){if(u=l.alternate,u===null)throw Error(o(387));u.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(tu):t=[tu])}l=l.return}t!==null&&ur(e,t,n,a),e.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!et(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Il(t){Fl=t,ja=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ke(t){return pd(Fl,t)}function _u(t,e){return Fl===null&&Il(t),pd(t,e)}function pd(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ja===null){if(t===null)throw Error(o(308));ja=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ja=ja.next=e;return n}var ip=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},up=d.unstable_scheduleCallback,cp=d.unstable_NormalPriority,Ee={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cr(){return{controller:new ip,data:new Map,refCount:0}}function Di(t){t.refCount--,t.refCount===0&&up(cp,function(){t.controller.abort()})}var Ni=null,rr=0,Ls=0,qs=null;function rp(t,e){if(Ni===null){var n=Ni=[];rr=0,Ls=mo(),qs={status:"pending",value:void 0,then:function(a){n.push(a)}}}return rr++,e.then(gd,gd),e}function gd(){if(--rr===0&&Ni!==null){qs!==null&&(qs.status="fulfilled");var t=Ni;Ni=null,Ls=0,qs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function op(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var yd=A.S;A.S=function(t,e){em=pe(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&rp(t,e),yd!==null&&yd(t,e)};var Wl=S(null);function or(){var t=Wl.current;return t!==null?t:se.pooledCache}function ku(t,e){e===null?tt(Wl,Wl.current):tt(Wl,e.pool)}function vd(){var t=or();return t===null?null:{parent:Ee._currentValue,pool:t}}var Hs=Error(o(460)),dr=Error(o(474)),Uu=Error(o(542)),Bu={then:function(){}};function bd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sd(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ta,ta),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,xd(t),t;default:if(typeof e.status=="string")e.then(ta,ta);else{if(t=se,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=a}},function(a){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,xd(t),t}throw ts=e,Hs}}function Pl(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ts=n,Hs):n}}var ts=null;function Md(){if(ts===null)throw Error(o(459));var t=ts;return ts=null,t}function xd(t){if(t===Hs||t===Uu)throw Error(o(483))}var Gs=null,Ri=0;function Lu(t){var e=Ri;return Ri+=1,Gs===null&&(Gs=[]),Sd(Gs,t,e)}function ji(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function qu(t,e){throw e.$$typeof===q?Error(o(525)):(t=Object.prototype.toString.call(e),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Ed(t){function e(j,w){if(t){var z=j.deletions;z===null?(j.deletions=[w],j.flags|=16):z.push(w)}}function n(j,w){if(!t)return null;for(;w!==null;)e(j,w),w=w.sibling;return null}function a(j){for(var w=new Map;j!==null;)j.key!==null?w.set(j.key,j):w.set(j.index,j),j=j.sibling;return w}function l(j,w){return j=Na(j,w),j.index=0,j.sibling=null,j}function s(j,w,z){return j.index=z,t?(z=j.alternate,z!==null?(z=z.index,z<w?(j.flags|=67108866,w):z):(j.flags|=67108866,w)):(j.flags|=1048576,w)}function u(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function m(j,w,z,Z){return w===null||w.tag!==6?(w=Pc(z,j.mode,Z),w.return=j,w):(w=l(w,z),w.return=j,w)}function x(j,w,z,Z){var ht=z.type;return ht===I?X(j,w,z.props.children,Z,z.key):w!==null&&(w.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ct&&Pl(ht)===w.type)?(w=l(w,z.props),ji(w,z),w.return=j,w):(w=ju(z.type,z.key,z.props,null,j.mode,Z),ji(w,z),w.return=j,w)}function O(j,w,z,Z){return w===null||w.tag!==4||w.stateNode.containerInfo!==z.containerInfo||w.stateNode.implementation!==z.implementation?(w=tr(z,j.mode,Z),w.return=j,w):(w=l(w,z.children||[]),w.return=j,w)}function X(j,w,z,Z,ht){return w===null||w.tag!==7?(w=Jl(z,j.mode,Z,ht),w.return=j,w):(w=l(w,z),w.return=j,w)}function K(j,w,z){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Pc(""+w,j.mode,z),w.return=j,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case J:return z=ju(w.type,w.key,w.props,null,j.mode,z),ji(z,w),z.return=j,z;case nt:return w=tr(w,j.mode,z),w.return=j,w;case ct:return w=Pl(w),K(j,w,z)}if(xe(w)||Ft(w))return w=Jl(w,j.mode,z,null),w.return=j,w;if(typeof w.then=="function")return K(j,Lu(w),z);if(w.$$typeof===ot)return K(j,_u(j,w),z);qu(j,w)}return null}function _(j,w,z,Z){var ht=w!==null?w.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ht!==null?null:m(j,w,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case J:return z.key===ht?x(j,w,z,Z):null;case nt:return z.key===ht?O(j,w,z,Z):null;case ct:return z=Pl(z),_(j,w,z,Z)}if(xe(z)||Ft(z))return ht!==null?null:X(j,w,z,Z,null);if(typeof z.then=="function")return _(j,w,Lu(z),Z);if(z.$$typeof===ot)return _(j,w,_u(j,z),Z);qu(j,z)}return null}function U(j,w,z,Z,ht){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(z)||null,m(w,j,""+Z,ht);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case J:return j=j.get(Z.key===null?z:Z.key)||null,x(w,j,Z,ht);case nt:return j=j.get(Z.key===null?z:Z.key)||null,O(w,j,Z,ht);case ct:return Z=Pl(Z),U(j,w,z,Z,ht)}if(xe(Z)||Ft(Z))return j=j.get(z)||null,X(w,j,Z,ht,null);if(typeof Z.then=="function")return U(j,w,z,Lu(Z),ht);if(Z.$$typeof===ot)return U(j,w,z,_u(w,Z),ht);qu(w,Z)}return null}function rt(j,w,z,Z){for(var ht=null,Xt=null,dt=w,Dt=w=0,kt=null;dt!==null&&Dt<z.length;Dt++){dt.index>Dt?(kt=dt,dt=null):kt=dt.sibling;var Vt=_(j,dt,z[Dt],Z);if(Vt===null){dt===null&&(dt=kt);break}t&&dt&&Vt.alternate===null&&e(j,dt),w=s(Vt,w,Dt),Xt===null?ht=Vt:Xt.sibling=Vt,Xt=Vt,dt=kt}if(Dt===z.length)return n(j,dt),Bt&&Ra(j,Dt),ht;if(dt===null){for(;Dt<z.length;Dt++)dt=K(j,z[Dt],Z),dt!==null&&(w=s(dt,w,Dt),Xt===null?ht=dt:Xt.sibling=dt,Xt=dt);return Bt&&Ra(j,Dt),ht}for(dt=a(dt);Dt<z.length;Dt++)kt=U(dt,j,Dt,z[Dt],Z),kt!==null&&(t&&kt.alternate!==null&&dt.delete(kt.key===null?Dt:kt.key),w=s(kt,w,Dt),Xt===null?ht=kt:Xt.sibling=kt,Xt=kt);return t&&dt.forEach(function(Dl){return e(j,Dl)}),Bt&&Ra(j,Dt),ht}function St(j,w,z,Z){if(z==null)throw Error(o(151));for(var ht=null,Xt=null,dt=w,Dt=w=0,kt=null,Vt=z.next();dt!==null&&!Vt.done;Dt++,Vt=z.next()){dt.index>Dt?(kt=dt,dt=null):kt=dt.sibling;var Dl=_(j,dt,Vt.value,Z);if(Dl===null){dt===null&&(dt=kt);break}t&&dt&&Dl.alternate===null&&e(j,dt),w=s(Dl,w,Dt),Xt===null?ht=Dl:Xt.sibling=Dl,Xt=Dl,dt=kt}if(Vt.done)return n(j,dt),Bt&&Ra(j,Dt),ht;if(dt===null){for(;!Vt.done;Dt++,Vt=z.next())Vt=K(j,Vt.value,Z),Vt!==null&&(w=s(Vt,w,Dt),Xt===null?ht=Vt:Xt.sibling=Vt,Xt=Vt);return Bt&&Ra(j,Dt),ht}for(dt=a(dt);!Vt.done;Dt++,Vt=z.next())Vt=U(dt,j,Dt,Vt.value,Z),Vt!==null&&(t&&Vt.alternate!==null&&dt.delete(Vt.key===null?Dt:Vt.key),w=s(Vt,w,Dt),Xt===null?ht=Vt:Xt.sibling=Vt,Xt=Vt);return t&&dt.forEach(function(Mg){return e(j,Mg)}),Bt&&Ra(j,Dt),ht}function ee(j,w,z,Z){if(typeof z=="object"&&z!==null&&z.type===I&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case J:t:{for(var ht=z.key;w!==null;){if(w.key===ht){if(ht=z.type,ht===I){if(w.tag===7){n(j,w.sibling),Z=l(w,z.props.children),Z.return=j,j=Z;break t}}else if(w.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ct&&Pl(ht)===w.type){n(j,w.sibling),Z=l(w,z.props),ji(Z,z),Z.return=j,j=Z;break t}n(j,w);break}else e(j,w);w=w.sibling}z.type===I?(Z=Jl(z.props.children,j.mode,Z,z.key),Z.return=j,j=Z):(Z=ju(z.type,z.key,z.props,null,j.mode,Z),ji(Z,z),Z.return=j,j=Z)}return u(j);case nt:t:{for(ht=z.key;w!==null;){if(w.key===ht)if(w.tag===4&&w.stateNode.containerInfo===z.containerInfo&&w.stateNode.implementation===z.implementation){n(j,w.sibling),Z=l(w,z.children||[]),Z.return=j,j=Z;break t}else{n(j,w);break}else e(j,w);w=w.sibling}Z=tr(z,j.mode,Z),Z.return=j,j=Z}return u(j);case ct:return z=Pl(z),ee(j,w,z,Z)}if(xe(z))return rt(j,w,z,Z);if(Ft(z)){if(ht=Ft(z),typeof ht!="function")throw Error(o(150));return z=ht.call(z),St(j,w,z,Z)}if(typeof z.then=="function")return ee(j,w,Lu(z),Z);if(z.$$typeof===ot)return ee(j,w,_u(j,z),Z);qu(j,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,w!==null&&w.tag===6?(n(j,w.sibling),Z=l(w,z),Z.return=j,j=Z):(n(j,w),Z=Pc(z,j.mode,Z),Z.return=j,j=Z),u(j)):n(j,w)}return function(j,w,z,Z){try{Ri=0;var ht=ee(j,w,z,Z);return Gs=null,ht}catch(dt){if(dt===Hs||dt===Uu)throw dt;var Xt=Rn(29,dt,null,j.mode);return Xt.lanes=Z,Xt.return=j,Xt}finally{}}}var es=Ed(!0),Ad=Ed(!1),dl=!1;function fr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ml(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(Qt&2)!==0){var l=a.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),a.pending=e,e=Ru(t),ud(t,null,n),e}return Nu(t,a,e,n),Ru(t)}function zi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,ya(t,n)}}function hr(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?l=s=e:s=s.next=e}else l=s=e;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var pr=!1;function Oi(){if(pr){var t=qs;if(t!==null)throw t}}function _i(t,e,n,a){pr=!1;var l=t.updateQueue;dl=!1;var s=l.firstBaseUpdate,u=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var x=m,O=x.next;x.next=null,u===null?s=O:u.next=O,u=x;var X=t.alternate;X!==null&&(X=X.updateQueue,m=X.lastBaseUpdate,m!==u&&(m===null?X.firstBaseUpdate=O:m.next=O,X.lastBaseUpdate=x))}if(s!==null){var K=l.baseState;u=0,X=O=x=null,m=s;do{var _=m.lane&-536870913,U=_!==m.lane;if(U?(_t&_)===_:(a&_)===_){_!==0&&_===Ls&&(pr=!0),X!==null&&(X=X.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});t:{var rt=t,St=m;_=e;var ee=n;switch(St.tag){case 1:if(rt=St.payload,typeof rt=="function"){K=rt.call(ee,K,_);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=St.payload,_=typeof rt=="function"?rt.call(ee,K,_):rt,_==null)break t;K=E({},K,_);break t;case 2:dl=!0}}_=m.callback,_!==null&&(t.flags|=64,U&&(t.flags|=8192),U=l.callbacks,U===null?l.callbacks=[_]:U.push(_))}else U={lane:_,tag:m.tag,payload:m.payload,callback:m.callback,next:null},X===null?(O=X=U,x=K):X=X.next=U,u|=_;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;U=m,m=U.next,U.next=null,l.lastBaseUpdate=U,l.shared.pending=null}}while(!0);X===null&&(x=K),l.baseState=x,l.firstBaseUpdate=O,l.lastBaseUpdate=X,s===null&&(l.shared.lanes=0),vl|=u,t.lanes=u,t.memoizedState=K}}function Td(t,e){if(typeof t!="function")throw Error(o(191,t));t.call(e)}function wd(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Td(n[t],e)}var Ys=S(null),Hu=S(0);function Cd(t,e){t=Ga,tt(Hu,t),tt(Ys,e),Ga=t|e.baseLanes}function gr(){tt(Hu,Ga),tt(Ys,Ys.current)}function yr(){Ga=Hu.current,k(Ys),k(Hu)}var jn=S(null),Vn=null;function hl(t){var e=t.alternate;tt(Se,Se.current&1),tt(jn,t),Vn===null&&(e===null||Ys.current!==null||e.memoizedState!==null)&&(Vn=t)}function vr(t){tt(Se,Se.current),tt(jn,t),Vn===null&&(Vn=t)}function Dd(t){t.tag===22?(tt(Se,Se.current),tt(jn,t),Vn===null&&(Vn=t)):pl()}function pl(){tt(Se,Se.current),tt(jn,jn.current)}function zn(t){k(jn),Vn===t&&(Vn=null),k(Se)}var Se=S(0);function Gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||To(n)||wo(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oa=0,wt=null,Pt=null,Ae=null,Yu=!1,Xs=!1,ns=!1,Xu=0,ki=0,Vs=null,dp=0;function ye(){throw Error(o(321))}function br(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!et(t[n],e[n]))return!1;return!0}function Sr(t,e,n,a,l,s){return Oa=s,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,A.H=t===null||t.memoizedState===null?ff:kr,ns=!1,s=n(a,l),ns=!1,Xs&&(s=Rd(e,n,a,l)),Nd(t),s}function Nd(t){A.H=Li;var e=Pt!==null&&Pt.next!==null;if(Oa=0,Ae=Pt=wt=null,Yu=!1,ki=0,Vs=null,e)throw Error(o(300));t===null||Te||(t=t.dependencies,t!==null&&Ou(t)&&(Te=!0))}function Rd(t,e,n,a){wt=t;var l=0;do{if(Xs&&(Vs=null),ki=0,Xs=!1,25<=l)throw Error(o(301));if(l+=1,Ae=Pt=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}A.H=mf,s=e(n,a)}while(Xs);return s}function fp(){var t=A.H,e=t.useState()[0];return e=typeof e.then=="function"?Ui(e):e,t=t.useState()[0],(Pt!==null?Pt.memoizedState:null)!==t&&(wt.flags|=1024),e}function Mr(){var t=Xu!==0;return Xu=0,t}function xr(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Er(t){if(Yu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Yu=!1}Oa=0,Ae=Pt=wt=null,Xs=!1,ki=Xu=0,Vs=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?wt.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function Me(){if(Pt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Ae===null?wt.memoizedState:Ae.next;if(e!==null)Ae=e,Pt=t;else{if(t===null)throw wt.alternate===null?Error(o(467)):Error(o(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ae===null?wt.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ui(t){var e=ki;return ki+=1,Vs===null&&(Vs=[]),t=Sd(Vs,t,e),e=wt,(Ae===null?e.memoizedState:Ae.next)===null&&(e=e.alternate,A.H=e===null||e.memoizedState===null?ff:kr),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ui(t);if(t.$$typeof===ot)return Ke(t)}throw Error(o(438,String(t)))}function Ar(t){var e=null,n=wt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=wt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Vu(),wt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=ne;return e.index++,n}function _a(t,e){return typeof e=="function"?e(t):e}function Zu(t){var e=Me();return Tr(e,Pt,t)}function Tr(t,e,n){var a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var l=t.baseQueue,s=a.pending;if(s!==null){if(l!==null){var u=l.next;l.next=s.next,s.next=u}e.baseQueue=l=s,a.pending=null}if(s=t.baseState,l===null)t.memoizedState=s;else{e=l.next;var m=u=null,x=null,O=e,X=!1;do{var K=O.lane&-536870913;if(K!==O.lane?(_t&K)===K:(Oa&K)===K){var _=O.revertLane;if(_===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),K===Ls&&(X=!0);else if((Oa&_)===_){O=O.next,_===Ls&&(X=!0);continue}else K={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(m=x=K,u=s):x=x.next=K,wt.lanes|=_,vl|=_;K=O.action,ns&&n(s,K),s=O.hasEagerState?O.eagerState:n(s,K)}else _={lane:K,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(m=x=_,u=s):x=x.next=_,wt.lanes|=K,vl|=K;O=O.next}while(O!==null&&O!==e);if(x===null?u=s:x.next=m,!et(s,t.memoizedState)&&(Te=!0,X&&(n=qs,n!==null)))throw n;t.memoizedState=s,t.baseState=u,t.baseQueue=x,a.lastRenderedState=s}return l===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function wr(t){var e=Me(),n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=t;var a=n.dispatch,l=n.pending,s=e.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do s=t(s,u.action),u=u.next;while(u!==l);et(s,e.memoizedState)||(Te=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,a]}function jd(t,e,n){var a=wt,l=Me(),s=Bt;if(s){if(n===void 0)throw Error(o(407));n=n()}else n=e();var u=!et((Pt||l).memoizedState,n);if(u&&(l.memoizedState=n,Te=!0),l=l.queue,Nr(_d.bind(null,a,l,t),[t]),l.getSnapshot!==e||u||Ae!==null&&Ae.memoizedState.tag&1){if(a.flags|=2048,Qs(9,{destroy:void 0},Od.bind(null,a,l,n,e),null),se===null)throw Error(o(349));s||(Oa&127)!==0||zd(a,e,n)}return n}function zd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e=Vu(),wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Od(t,e,n,a){e.value=n,e.getSnapshot=a,kd(e)&&Ud(t)}function _d(t,e,n){return n(function(){kd(e)&&Ud(t)})}function kd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!et(t,n)}catch{return!0}}function Ud(t){var e=Kl(t,2);e!==null&&yn(e,t,2)}function Cr(t){var e=un();if(typeof t=="function"){var n=t;if(t=n(),ns){re(!0);try{n()}finally{re(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:t},e}function Bd(t,e,n,a){return t.baseState=n,Tr(t,Pt,typeof a=="function"?a:_a)}function mp(t,e,n,a,l){if($u(t))throw Error(o(485));if(t=e.action,t!==null){var s={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){s.listeners.push(u)}};A.T!==null?n(!0):s.isTransition=!1,a(s),n=e.pending,n===null?(s.next=e.pending=s,Ld(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Ld(t,e){var n=e.action,a=e.payload,l=t.state;if(e.isTransition){var s=A.T,u={};A.T=u;try{var m=n(l,a),x=A.S;x!==null&&x(u,m),qd(t,e,m)}catch(O){Dr(t,e,O)}finally{s!==null&&u.types!==null&&(s.types=u.types),A.T=s}}else try{s=n(l,a),qd(t,e,s)}catch(O){Dr(t,e,O)}}function qd(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Hd(t,e,a)},function(a){return Dr(t,e,a)}):Hd(t,e,n)}function Hd(t,e,n){e.status="fulfilled",e.value=n,Gd(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Ld(t,n)))}function Dr(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,Gd(e),e=e.next;while(e!==a)}t.action=null}function Gd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Yd(t,e){return e}function Xd(t,e){if(Bt){var n=se.formState;if(n!==null){t:{var a=wt;if(Bt){if(oe){e:{for(var l=oe,s=Xn;l.nodeType!==8;){if(!s){l=null;break e}if(l=Qn(l.nextSibling),l===null){l=null;break e}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){oe=Qn(l.nextSibling),a=l.data==="F!";break t}}rl(a)}a=!1}a&&(e=n[0])}}return n=un(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:e},n.queue=a,n=rf.bind(null,wt,a),a.dispatch=n,a=Cr(!1),s=_r.bind(null,wt,!1,a.queue),a=un(),l={state:e,dispatch:null,action:t,pending:null},a.queue=l,n=mp.bind(null,wt,l,s,n),l.dispatch=n,a.memoizedState=t,[e,n,!1]}function Vd(t){var e=Me();return Qd(e,Pt,t)}function Qd(t,e,n){if(e=Tr(t,e,Yd)[0],t=Zu(_a)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Ui(e)}catch(u){throw u===Hs?Uu:u}else a=e;e=Me();var l=e.queue,s=l.dispatch;return n!==e.memoizedState&&(wt.flags|=2048,Qs(9,{destroy:void 0},hp.bind(null,l,n),null)),[a,s,t]}function hp(t,e){t.action=e}function Zd(t){var e=Me(),n=Pt;if(n!==null)return Qd(e,n,t);Me(),e=e.memoizedState,n=Me();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function Qs(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=wt.updateQueue,e===null&&(e=Vu(),wt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function Kd(){return Me().memoizedState}function Ku(t,e,n,a){var l=un();wt.flags|=t,l.memoizedState=Qs(1|e,{destroy:void 0},n,a===void 0?null:a)}function Ju(t,e,n,a){var l=Me();a=a===void 0?null:a;var s=l.memoizedState.inst;Pt!==null&&a!==null&&br(a,Pt.memoizedState.deps)?l.memoizedState=Qs(e,s,n,a):(wt.flags|=t,l.memoizedState=Qs(1|e,s,n,a))}function Jd(t,e){Ku(8390656,8,t,e)}function Nr(t,e){Ju(2048,8,t,e)}function pp(t){wt.flags|=4;var e=wt.updateQueue;if(e===null)e=Vu(),wt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function $d(t){var e=Me().memoizedState;return pp({ref:e,nextImpl:t}),function(){if((Qt&2)!==0)throw Error(o(440));return e.impl.apply(void 0,arguments)}}function Fd(t,e){return Ju(4,2,t,e)}function Id(t,e){return Ju(4,4,t,e)}function Wd(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pd(t,e,n){n=n!=null?n.concat([t]):null,Ju(4,4,Wd.bind(null,e,t),n)}function Rr(){}function tf(t,e){var n=Me();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&br(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function ef(t,e){var n=Me();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&br(e,a[1]))return a[0];if(a=t(),ns){re(!0);try{t()}finally{re(!1)}}return n.memoizedState=[a,e],a}function jr(t,e,n){return n===void 0||(Oa&1073741824)!==0&&(_t&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=am(),wt.lanes|=t,vl|=t,n)}function nf(t,e,n,a){return et(n,e)?n:Ys.current!==null?(t=jr(t,n,a),et(t,e)||(Te=!0),t):(Oa&42)===0||(Oa&1073741824)!==0&&(_t&261930)===0?(Te=!0,t.memoizedState=n):(t=am(),wt.lanes|=t,vl|=t,e)}function af(t,e,n,a,l){var s=V.p;V.p=s!==0&&8>s?s:8;var u=A.T,m={};A.T=m,_r(t,!1,e,n);try{var x=l(),O=A.S;if(O!==null&&O(m,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var X=op(x,a);Bi(t,e,X,kn(t))}else Bi(t,e,a,kn(t))}catch(K){Bi(t,e,{then:function(){},status:"rejected",reason:K},kn())}finally{V.p=s,u!==null&&m.types!==null&&(u.types=m.types),A.T=u}}function gp(){}function zr(t,e,n,a){if(t.tag!==5)throw Error(o(476));var l=lf(t).queue;af(t,l,e,W,n===null?gp:function(){return sf(t),n(a)})}function lf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:W},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function sf(t){var e=lf(t);e.next===null&&(e=t.alternate.memoizedState),Bi(t,e.next.queue,{},kn())}function Or(){return Ke(tu)}function uf(){return Me().memoizedState}function cf(){return Me().memoizedState}function yp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=kn();t=fl(n);var a=ml(e,t,n);a!==null&&(yn(a,e,n),zi(a,e,n)),e={cache:cr()},t.payload=e;return}e=e.return}}function vp(t,e,n){var a=kn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},$u(t)?of(e,n):(n=Ic(t,e,n,a),n!==null&&(yn(n,t,a),df(n,e,a)))}function rf(t,e,n){var a=kn();Bi(t,e,n,a)}function Bi(t,e,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if($u(t))of(e,l);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var u=e.lastRenderedState,m=s(u,n);if(l.hasEagerState=!0,l.eagerState=m,et(m,u))return Nu(t,e,l,0),se===null&&Du(),!1}catch{}finally{}if(n=Ic(t,e,l,a),n!==null)return yn(n,t,a),df(n,e,a),!0}return!1}function _r(t,e,n,a){if(a={lane:2,revertLane:mo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(e)throw Error(o(479))}else e=Ic(t,n,a,2),e!==null&&yn(e,t,2)}function $u(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function of(t,e){Xs=Yu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function df(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,ya(t,n)}}var Li={readContext:Ke,use:Qu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Li.useEffectEvent=ye;var ff={readContext:Ke,use:Qu,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:Ke,useEffect:Jd,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ku(4194308,4,Wd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ku(4194308,4,t,e)},useInsertionEffect:function(t,e){Ku(4,2,t,e)},useMemo:function(t,e){var n=un();e=e===void 0?null:e;var a=t();if(ns){re(!0);try{t()}finally{re(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=un();if(n!==void 0){var l=n(e);if(ns){re(!0);try{n(e)}finally{re(!1)}}}else l=e;return a.memoizedState=a.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},a.queue=t,t=t.dispatch=vp.bind(null,wt,t),[a.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:function(t){t=Cr(t);var e=t.queue,n=rf.bind(null,wt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Rr,useDeferredValue:function(t,e){var n=un();return jr(n,t,e)},useTransition:function(){var t=Cr(!1);return t=af.bind(null,wt,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=wt,l=un();if(Bt){if(n===void 0)throw Error(o(407));n=n()}else{if(n=e(),se===null)throw Error(o(349));(_t&127)!==0||zd(a,e,n)}l.memoizedState=n;var s={value:n,getSnapshot:e};return l.queue=s,Jd(_d.bind(null,a,s,t),[t]),a.flags|=2048,Qs(9,{destroy:void 0},Od.bind(null,a,s,n,e),null),n},useId:function(){var t=un(),e=se.identifierPrefix;if(Bt){var n=fa,a=da;n=(a&~(1<<32-Ie(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Xu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=dp++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Or,useFormState:Xd,useActionState:Xd,useOptimistic:function(t){var e=un();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=_r.bind(null,wt,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ar,useCacheRefresh:function(){return un().memoizedState=yp.bind(null,wt)},useEffectEvent:function(t){var e=un(),n={impl:t};return e.memoizedState=n,function(){if((Qt&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}},kr={readContext:Ke,use:Qu,useCallback:tf,useContext:Ke,useEffect:Nr,useImperativeHandle:Pd,useInsertionEffect:Fd,useLayoutEffect:Id,useMemo:ef,useReducer:Zu,useRef:Kd,useState:function(){return Zu(_a)},useDebugValue:Rr,useDeferredValue:function(t,e){var n=Me();return nf(n,Pt.memoizedState,t,e)},useTransition:function(){var t=Zu(_a)[0],e=Me().memoizedState;return[typeof t=="boolean"?t:Ui(t),e]},useSyncExternalStore:jd,useId:uf,useHostTransitionStatus:Or,useFormState:Vd,useActionState:Vd,useOptimistic:function(t,e){var n=Me();return Bd(n,Pt,t,e)},useMemoCache:Ar,useCacheRefresh:cf};kr.useEffectEvent=$d;var mf={readContext:Ke,use:Qu,useCallback:tf,useContext:Ke,useEffect:Nr,useImperativeHandle:Pd,useInsertionEffect:Fd,useLayoutEffect:Id,useMemo:ef,useReducer:wr,useRef:Kd,useState:function(){return wr(_a)},useDebugValue:Rr,useDeferredValue:function(t,e){var n=Me();return Pt===null?jr(n,t,e):nf(n,Pt.memoizedState,t,e)},useTransition:function(){var t=wr(_a)[0],e=Me().memoizedState;return[typeof t=="boolean"?t:Ui(t),e]},useSyncExternalStore:jd,useId:uf,useHostTransitionStatus:Or,useFormState:Zd,useActionState:Zd,useOptimistic:function(t,e){var n=Me();return Pt!==null?Bd(n,Pt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ar,useCacheRefresh:cf};mf.useEffectEvent=$d;function Ur(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:E({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Br={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=kn(),l=fl(a);l.payload=e,n!=null&&(l.callback=n),e=ml(t,l,a),e!==null&&(yn(e,t,a),zi(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=kn(),l=fl(a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=ml(t,l,a),e!==null&&(yn(e,t,a),zi(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kn(),a=fl(n);a.tag=2,e!=null&&(a.callback=e),e=ml(t,a,n),e!==null&&(yn(e,t,n),zi(e,t,n))}};function hf(t,e,n,a,l,s,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,s,u):e.prototype&&e.prototype.isPureReactComponent?!It(n,a)||!It(l,s):!0}function pf(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&Br.enqueueReplaceState(e,e.state,null)}function as(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=E({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function gf(t){Cu(t)}function yf(t){console.error(t)}function vf(t){Cu(t)}function Fu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function bf(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Lr(t,e,n){return n=fl(n),n.tag=3,n.payload={element:null},n.callback=function(){Fu(t,e)},n}function Sf(t){return t=fl(t),t.tag=3,t}function Mf(t,e,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=a.value;t.payload=function(){return l(s)},t.callback=function(){bf(e,n,a)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){bf(e,n,a),typeof l!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var m=a.stack;this.componentDidCatch(a.value,{componentStack:m!==null?m:""})})}function bp(t,e,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&Bs(e,n,l,!0),n=jn.current,n!==null){switch(n.tag){case 31:case 13:return Vn===null?cc():n.alternate===null&&ve===0&&(ve=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Bu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),ro(t,a,l)),!1;case 22:return n.flags|=65536,a===Bu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),ro(t,a,l)),!1}throw Error(o(435,n.tag))}return ro(t,a,l),cc(),!1}if(Bt)return e=jn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,a!==ar&&(t=Error(o(422),{cause:a}),Ci(Hn(t,n)))):(a!==ar&&(e=Error(o(423),{cause:a}),Ci(Hn(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,a=Hn(a,n),l=Lr(t.stateNode,a,l),hr(t,l),ve!==4&&(ve=2)),!1;var s=Error(o(520),{cause:a});if(s=Hn(s,n),Zi===null?Zi=[s]:Zi.push(s),ve!==4&&(ve=2),e===null)return!0;a=Hn(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=Lr(n.stateNode,a,t),hr(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(bl===null||!bl.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Sf(l),Mf(l,t,n,a),hr(n,l),!1}n=n.return}while(n!==null);return!1}var qr=Error(o(461)),Te=!1;function Je(t,e,n,a){e.child=t===null?Ad(e,null,n,a):es(e,t.child,n,a)}function xf(t,e,n,a,l){n=n.render;var s=e.ref;if("ref"in a){var u={};for(var m in a)m!=="ref"&&(u[m]=a[m])}else u=a;return Il(e),a=Sr(t,e,n,u,s,l),m=Mr(),t!==null&&!Te?(xr(t,e,l),ka(t,e,l)):(Bt&&m&&er(e),e.flags|=1,Je(t,e,a,l),e.child)}function Ef(t,e,n,a,l){if(t===null){var s=n.type;return typeof s=="function"&&!Wc(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,Af(t,e,s,a,l)):(t=ju(n.type,null,a,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Kr(t,l)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:It,n(u,a)&&t.ref===e.ref)return ka(t,e,l)}return e.flags|=1,t=Na(s,a),t.ref=e.ref,t.return=e,e.child=t}function Af(t,e,n,a,l){if(t!==null){var s=t.memoizedProps;if(It(s,a)&&t.ref===e.ref)if(Te=!1,e.pendingProps=a=s,Kr(t,l))(t.flags&131072)!==0&&(Te=!0);else return e.lanes=t.lanes,ka(t,e,l)}return Hr(t,e,n,a,l)}function Tf(t,e,n,a){var l=a.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,t!==null){for(a=e.child=t.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~s}else a=0,e.child=null;return wf(t,e,s,n,a)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(e,s!==null?s.cachePool:null),s!==null?Cd(e,s):gr(),Dd(e);else return a=e.lanes=536870912,wf(t,e,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(ku(e,s.cachePool),Cd(e,s),pl(),e.memoizedState=null):(t!==null&&ku(e,null),gr(),pl());return Je(t,e,l,n),e.child}function qi(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function wf(t,e,n,a,l){var s=or();return s=s===null?null:{parent:Ee._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&ku(e,null),gr(),Dd(e),t!==null&&Bs(t,e,a,!0),e.childLanes=l,null}function Iu(t,e){return e=Pu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Cf(t,e,n){return es(e,t.child,null,n),t=Iu(e,e.pendingProps),t.flags|=2,zn(e),e.memoizedState=null,t}function Sp(t,e,n){var a=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Bt){if(a.mode==="hidden")return t=Iu(e,a),e.lanes=536870912,qi(null,t);if(vr(e),(t=oe)?(t=qm(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ul!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},n=rd(t),n.return=e,e.child=n,Ze=e,oe=null)):t=null,t===null)throw rl(e);return e.lanes=536870912,null}return Iu(e,a)}var s=t.memoizedState;if(s!==null){var u=s.dehydrated;if(vr(e),l)if(e.flags&256)e.flags&=-257,e=Cf(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(o(558));else if(Te||Bs(t,e,n,!1),l=(n&t.childLanes)!==0,Te||l){if(a=se,a!==null&&(u=Bl(a,n),u!==0&&u!==s.retryLane))throw s.retryLane=u,Kl(t,u),yn(a,t,u),qr;cc(),e=Cf(t,e,n)}else t=s.treeContext,oe=Qn(u.nextSibling),Ze=e,Bt=!0,cl=null,Xn=!1,t!==null&&fd(e,t),e=Iu(e,a),e.flags|=4096;return e}return t=Na(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Wu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Hr(t,e,n,a,l){return Il(e),n=Sr(t,e,n,a,void 0,l),a=Mr(),t!==null&&!Te?(xr(t,e,l),ka(t,e,l)):(Bt&&a&&er(e),e.flags|=1,Je(t,e,n,l),e.child)}function Df(t,e,n,a,l,s){return Il(e),e.updateQueue=null,n=Rd(e,a,n,l),Nd(t),a=Mr(),t!==null&&!Te?(xr(t,e,s),ka(t,e,s)):(Bt&&a&&er(e),e.flags|=1,Je(t,e,n,s),e.child)}function Nf(t,e,n,a,l){if(Il(e),e.stateNode===null){var s=Os,u=n.contextType;typeof u=="object"&&u!==null&&(s=Ke(u)),s=new n(a,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Br,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=a,s.state=e.memoizedState,s.refs={},fr(e),u=n.contextType,s.context=typeof u=="object"&&u!==null?Ke(u):Os,s.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(Ur(e,n,u,a),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(u=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),u!==s.state&&Br.enqueueReplaceState(s,s.state,null),_i(e,a,s,l),Oi(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){s=e.stateNode;var m=e.memoizedProps,x=as(n,m);s.props=x;var O=s.context,X=n.contextType;u=Os,typeof X=="object"&&X!==null&&(u=Ke(X));var K=n.getDerivedStateFromProps;X=typeof K=="function"||typeof s.getSnapshotBeforeUpdate=="function",m=e.pendingProps!==m,X||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(m||O!==u)&&pf(e,s,a,u),dl=!1;var _=e.memoizedState;s.state=_,_i(e,a,s,l),Oi(),O=e.memoizedState,m||_!==O||dl?(typeof K=="function"&&(Ur(e,n,K,a),O=e.memoizedState),(x=dl||hf(e,n,x,a,_,O,u))?(X||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=O),s.props=a,s.state=O,s.context=u,a=x):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{s=e.stateNode,mr(t,e),u=e.memoizedProps,X=as(n,u),s.props=X,K=e.pendingProps,_=s.context,O=n.contextType,x=Os,typeof O=="object"&&O!==null&&(x=Ke(O)),m=n.getDerivedStateFromProps,(O=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==K||_!==x)&&pf(e,s,a,x),dl=!1,_=e.memoizedState,s.state=_,_i(e,a,s,l),Oi();var U=e.memoizedState;u!==K||_!==U||dl||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof m=="function"&&(Ur(e,n,m,a),U=e.memoizedState),(X=dl||hf(e,n,X,a,_,U,x)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(O||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,U,x),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,U,x)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=U),s.props=a,s.state=U,s.context=x,a=X):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),a=!1)}return s=a,Wu(t,e),a=(e.flags&128)!==0,s||a?(s=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&a?(e.child=es(e,t.child,null,l),e.child=es(e,null,n,l)):Je(t,e,n,l),e.memoizedState=s.state,t=e.child):t=ka(t,e,l),t}function Rf(t,e,n,a){return $l(),e.flags|=256,Je(t,e,n,a),e.child}var Gr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yr(t){return{baseLanes:t,cachePool:vd()}}function Xr(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=_n),t}function jf(t,e,n){var a=e.pendingProps,l=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),u&&(l=!0,e.flags&=-129),u=(e.flags&32)!==0,e.flags&=-33,t===null){if(Bt){if(l?hl(e):pl(),(t=oe)?(t=qm(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ul!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},n=rd(t),n.return=e,e.child=n,Ze=e,oe=null)):t=null,t===null)throw rl(e);return wo(t)?e.lanes=32:e.lanes=536870912,null}var m=a.children;return a=a.fallback,l?(pl(),l=e.mode,m=Pu({mode:"hidden",children:m},l),a=Jl(a,l,n,null),m.return=e,a.return=e,m.sibling=a,e.child=m,a=e.child,a.memoizedState=Yr(n),a.childLanes=Xr(t,u,n),e.memoizedState=Gr,qi(null,a)):(hl(e),Vr(e,m))}var x=t.memoizedState;if(x!==null&&(m=x.dehydrated,m!==null)){if(s)e.flags&256?(hl(e),e.flags&=-257,e=Qr(t,e,n)):e.memoizedState!==null?(pl(),e.child=t.child,e.flags|=128,e=null):(pl(),m=a.fallback,l=e.mode,a=Pu({mode:"visible",children:a.children},l),m=Jl(m,l,n,null),m.flags|=2,a.return=e,m.return=e,a.sibling=m,e.child=a,es(e,t.child,null,n),a=e.child,a.memoizedState=Yr(n),a.childLanes=Xr(t,u,n),e.memoizedState=Gr,e=qi(null,a));else if(hl(e),wo(m)){if(u=m.nextSibling&&m.nextSibling.dataset,u)var O=u.dgst;u=O,a=Error(o(419)),a.stack="",a.digest=u,Ci({value:a,source:null,stack:null}),e=Qr(t,e,n)}else if(Te||Bs(t,e,n,!1),u=(n&t.childLanes)!==0,Te||u){if(u=se,u!==null&&(a=Bl(u,n),a!==0&&a!==x.retryLane))throw x.retryLane=a,Kl(t,a),yn(u,t,a),qr;To(m)||cc(),e=Qr(t,e,n)}else To(m)?(e.flags|=192,e.child=t.child,e=null):(t=x.treeContext,oe=Qn(m.nextSibling),Ze=e,Bt=!0,cl=null,Xn=!1,t!==null&&fd(e,t),e=Vr(e,a.children),e.flags|=4096);return e}return l?(pl(),m=a.fallback,l=e.mode,x=t.child,O=x.sibling,a=Na(x,{mode:"hidden",children:a.children}),a.subtreeFlags=x.subtreeFlags&65011712,O!==null?m=Na(O,m):(m=Jl(m,l,n,null),m.flags|=2),m.return=e,a.return=e,a.sibling=m,e.child=a,qi(null,a),a=e.child,m=t.child.memoizedState,m===null?m=Yr(n):(l=m.cachePool,l!==null?(x=Ee._currentValue,l=l.parent!==x?{parent:x,pool:x}:l):l=vd(),m={baseLanes:m.baseLanes|n,cachePool:l}),a.memoizedState=m,a.childLanes=Xr(t,u,n),e.memoizedState=Gr,qi(t.child,a)):(hl(e),n=t.child,t=n.sibling,n=Na(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(u=e.deletions,u===null?(e.deletions=[t],e.flags|=16):u.push(t)),e.child=n,e.memoizedState=null,n)}function Vr(t,e){return e=Pu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Pu(t,e){return t=Rn(22,t,null,e),t.lanes=0,t}function Qr(t,e,n){return es(e,t.child,null,n),t=Vr(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zf(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),ir(t.return,e,n)}function Zr(t,e,n,a,l,s){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:s}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=n,u.tailMode=l,u.treeForkCount=s)}function Of(t,e,n){var a=e.pendingProps,l=a.revealOrder,s=a.tail;a=a.children;var u=Se.current,m=(u&2)!==0;if(m?(u=u&1|2,e.flags|=128):u&=1,tt(Se,u),Je(t,e,a,n),a=Bt?wi:0,!m&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zf(t,n,e);else if(t.tag===19)zf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&Gu(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Zr(e,!1,l,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Gu(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Zr(e,!0,n,null,s,a);break;case"together":Zr(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function ka(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vl|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Bs(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(o(153));if(e.child!==null){for(t=e.child,n=Na(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Na(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kr(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function Mp(t,e,n){switch(e.tag){case 3:He(e,e.stateNode.containerInfo),ol(e,Ee,t.memoizedState.cache),$l();break;case 27:case 5:Qa(e);break;case 4:He(e,e.stateNode.containerInfo);break;case 10:ol(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,vr(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(hl(e),e.flags|=128,null):(n&e.child.childLanes)!==0?jf(t,e,n):(hl(e),t=ka(t,e,n),t!==null?t.sibling:null);hl(e);break;case 19:var l=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(Bs(t,e,n,!1),a=(n&e.childLanes)!==0),l){if(a)return Of(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),tt(Se,Se.current),a)break;return null;case 22:return e.lanes=0,Tf(t,e,n,e.pendingProps);case 24:ol(e,Ee,t.memoizedState.cache)}return ka(t,e,n)}function _f(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Te=!0;else{if(!Kr(t,n)&&(e.flags&128)===0)return Te=!1,Mp(t,e,n);Te=(t.flags&131072)!==0}else Te=!1,Bt&&(e.flags&1048576)!==0&&dd(e,wi,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=Pl(e.elementType),e.type=t,typeof t=="function")Wc(t)?(a=as(t,a),e.tag=1,e=Nf(null,e,t,a,n)):(e.tag=0,e=Hr(null,e,t,a,n));else{if(t!=null){var l=t.$$typeof;if(l===H){e.tag=11,e=xf(null,e,t,a,n);break t}else if(l===F){e.tag=14,e=Ef(null,e,t,a,n);break t}}throw e=Ce(t)||t,Error(o(306,e,""))}}return e;case 0:return Hr(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,l=as(a,e.pendingProps),Nf(t,e,a,l,n);case 3:t:{if(He(e,e.stateNode.containerInfo),t===null)throw Error(o(387));a=e.pendingProps;var s=e.memoizedState;l=s.element,mr(t,e),_i(e,a,null,n);var u=e.memoizedState;if(a=u.cache,ol(e,Ee,a),a!==s.cache&&ur(e,[Ee],n,!0),Oi(),a=u.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:u.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Rf(t,e,a,n);break t}else if(a!==l){l=Hn(Error(o(424)),e),Ci(l),e=Rf(t,e,a,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=Qn(t.firstChild),Ze=e,Bt=!0,cl=null,Xn=!0,n=Ad(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if($l(),a===l){e=ka(t,e,n);break t}Je(t,e,a,n)}e=e.child}return e;case 26:return Wu(t,e),t===null?(n=Qm(e.type,null,e.pendingProps,null))?e.memoizedState=n:Bt||(n=e.type,t=e.pendingProps,a=pc(Ct.current).createElement(n),a[ae]=e,a[ze]=t,$e(a,n,t),qt(a),e.stateNode=a):e.memoizedState=Qm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Qa(e),t===null&&Bt&&(a=e.stateNode=Ym(e.type,e.pendingProps,Ct.current),Ze=e,Xn=!0,l=oe,El(e.type)?(Co=l,oe=Qn(a.firstChild)):oe=l),Je(t,e,e.pendingProps.children,n),Wu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Bt&&((l=a=oe)&&(a=Ip(a,e.type,e.pendingProps,Xn),a!==null?(e.stateNode=a,Ze=e,oe=Qn(a.firstChild),Xn=!1,l=!0):l=!1),l||rl(e)),Qa(e),l=e.type,s=e.pendingProps,u=t!==null?t.memoizedProps:null,a=s.children,xo(l,s)?a=null:u!==null&&xo(l,u)&&(e.flags|=32),e.memoizedState!==null&&(l=Sr(t,e,fp,null,null,n),tu._currentValue=l),Wu(t,e),Je(t,e,a,n),e.child;case 6:return t===null&&Bt&&((t=n=oe)&&(n=Wp(n,e.pendingProps,Xn),n!==null?(e.stateNode=n,Ze=e,oe=null,t=!0):t=!1),t||rl(e)),null;case 13:return jf(t,e,n);case 4:return He(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=es(e,null,a,n):Je(t,e,a,n),e.child;case 11:return xf(t,e,e.type,e.pendingProps,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,ol(e,e.type,a.value),Je(t,e,a.children,n),e.child;case 9:return l=e.type._context,a=e.pendingProps.children,Il(e),l=Ke(l),a=a(l),e.flags|=1,Je(t,e,a,n),e.child;case 14:return Ef(t,e,e.type,e.pendingProps,n);case 15:return Af(t,e,e.type,e.pendingProps,n);case 19:return Of(t,e,n);case 31:return Sp(t,e,n);case 22:return Tf(t,e,n,e.pendingProps);case 24:return Il(e),a=Ke(Ee),t===null?(l=or(),l===null&&(l=se,s=cr(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),e.memoizedState={parent:a,cache:l},fr(e),ol(e,Ee,l)):((t.lanes&n)!==0&&(mr(t,e),_i(e,null,null,n),Oi()),l=t.memoizedState,s=e.memoizedState,l.parent!==a?(l={parent:a,cache:a},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),ol(e,Ee,a)):(a=s.cache,ol(e,Ee,a),a!==l.cache&&ur(e,[Ee],n,!0))),Je(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(o(156,e.tag))}function Ua(t){t.flags|=4}function Jr(t,e,n,a,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(um())t.flags|=8192;else throw ts=Bu,dr}else t.flags&=-16777217}function kf(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Fm(e))if(um())t.flags|=8192;else throw ts=Bu,dr}function tc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Fa():536870912,t.lanes|=e,$s|=e)}function Hi(t,e){if(!Bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function de(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function xp(t,e,n){var a=e.pendingProps;switch(nr(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(e),null;case 1:return de(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),za(Ee),ce(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Us(e)?Ua(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,lr())),de(e),null;case 26:var l=e.type,s=e.memoizedState;return t===null?(Ua(e),s!==null?(de(e),kf(e,s)):(de(e),Jr(e,l,null,a,n))):s?s!==t.memoizedState?(Ua(e),de(e),kf(e,s)):(de(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&Ua(e),de(e),Jr(e,l,t,a,n)),null;case 27:if(Kn(e),n=Ct.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ua(e);else{if(!a){if(e.stateNode===null)throw Error(o(166));return de(e),null}t=lt.current,Us(e)?md(e):(t=Ym(l,a,n),e.stateNode=t,Ua(e))}return de(e),null;case 5:if(Kn(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ua(e);else{if(!a){if(e.stateNode===null)throw Error(o(166));return de(e),null}if(s=lt.current,Us(e))md(e);else{var u=pc(Ct.current);switch(s){case 1:s=u.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=u.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=u.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?u.createElement(l,{is:a.is}):u.createElement(l)}}s[ae]=e,s[ze]=a;t:for(u=e.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break t;for(;u.sibling===null;){if(u.return===null||u.return===e)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}e.stateNode=s;t:switch($e(s,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Ua(e)}}return de(e),Jr(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Ua(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(o(166));if(t=Ct.current,Us(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,l=Ze,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}t[ae]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||jm(t.nodeValue,n)),t||rl(e,!0)}else t=pc(t).createTextNode(a),t[ae]=e,e.stateNode=t}return de(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=Us(e),n!==null){if(t===null){if(!a)throw Error(o(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[ae]=e}else $l(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;de(e),t=!1}else n=lr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(zn(e),e):(zn(e),null);if((e.flags&128)!==0)throw Error(o(558))}return de(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Us(e),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(o(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o(317));l[ae]=e}else $l(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;de(e),l=!1}else l=lr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(zn(e),e):(zn(e),null)}return zn(e),(e.flags&128)!==0?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),tc(e,e.updateQueue),de(e),null);case 4:return ce(),t===null&&yo(e.stateNode.containerInfo),de(e),null;case 10:return za(e.type),de(e),null;case 19:if(k(Se),a=e.memoizedState,a===null)return de(e),null;if(l=(e.flags&128)!==0,s=a.rendering,s===null)if(l)Hi(a,!1);else{if(ve!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=Gu(t),s!==null){for(e.flags|=128,Hi(a,!1),t=s.updateQueue,e.updateQueue=t,tc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)cd(n,t),n=n.sibling;return tt(Se,Se.current&1|2),Bt&&Ra(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&pe()>sc&&(e.flags|=128,l=!0,Hi(a,!1),e.lanes=4194304)}else{if(!l)if(t=Gu(s),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,tc(e,t),Hi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Bt)return de(e),null}else 2*pe()-a.renderingStartTime>sc&&n!==536870912&&(e.flags|=128,l=!0,Hi(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(t=a.last,t!==null?t.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=pe(),t.sibling=null,n=Se.current,tt(Se,l?n&1|2:n&1),Bt&&Ra(e,a.treeForkCount),t):(de(e),null);case 22:case 23:return zn(e),yr(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(de(e),e.subtreeFlags&6&&(e.flags|=8192)):de(e),n=e.updateQueue,n!==null&&tc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&k(Wl),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),za(Ee),de(e),null;case 25:return null;case 30:return null}throw Error(o(156,e.tag))}function Ep(t,e){switch(nr(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return za(Ee),ce(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Kn(e),null;case 31:if(e.memoizedState!==null){if(zn(e),e.alternate===null)throw Error(o(340));$l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(zn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(o(340));$l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return k(Se),null;case 4:return ce(),null;case 10:return za(e.type),null;case 22:case 23:return zn(e),yr(),t!==null&&k(Wl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return za(Ee),null;case 25:return null;default:return null}}function Uf(t,e){switch(nr(e),e.tag){case 3:za(Ee),ce();break;case 26:case 27:case 5:Kn(e);break;case 4:ce();break;case 31:e.memoizedState!==null&&zn(e);break;case 13:zn(e);break;case 19:k(Se);break;case 10:za(e.type);break;case 22:case 23:zn(e),yr(),t!==null&&k(Wl);break;case 24:za(Ee)}}function Gi(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&t)===t){a=void 0;var s=n.create,u=n.inst;a=s(),u.destroy=a}n=n.next}while(n!==l)}}catch(m){Jt(e,e.return,m)}}function gl(t,e,n){try{var a=e.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&t)===t){var u=a.inst,m=u.destroy;if(m!==void 0){u.destroy=void 0,l=e;var x=n,O=m;try{O()}catch(X){Jt(l,x,X)}}}a=a.next}while(a!==s)}}catch(X){Jt(e,e.return,X)}}function Bf(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{wd(e,n)}catch(a){Jt(t,t.return,a)}}}function Lf(t,e,n){n.props=as(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){Jt(t,e,a)}}function Yi(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(l){Jt(t,e,l)}}function ma(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){Jt(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Jt(t,e,l)}else n.current=null}function qf(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){Jt(t,t.return,l)}}function $r(t,e,n){try{var a=t.stateNode;Qp(a,t.type,n,e),a[ze]=e}catch(l){Jt(t,t.return,l)}}function Hf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&El(t.type)||t.tag===4}function Fr(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Hf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&El(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ir(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ta));else if(a!==4&&(a===27&&El(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ir(t,e,n),t=t.sibling;t!==null;)Ir(t,e,n),t=t.sibling}function ec(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&El(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(ec(t,e,n),t=t.sibling;t!==null;)ec(t,e,n),t=t.sibling}function Gf(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);$e(e,a,n),e[ae]=t,e[ze]=n}catch(s){Jt(t,t.return,s)}}var Ba=!1,we=!1,Wr=!1,Yf=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Ap(t,e){if(t=t.containerInfo,So=xc,t=pt(t),Mt(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var u=0,m=-1,x=-1,O=0,X=0,K=t,_=null;e:for(;;){for(var U;K!==n||l!==0&&K.nodeType!==3||(m=u+l),K!==s||a!==0&&K.nodeType!==3||(x=u+a),K.nodeType===3&&(u+=K.nodeValue.length),(U=K.firstChild)!==null;)_=K,K=U;for(;;){if(K===t)break e;if(_===n&&++O===l&&(m=u),_===s&&++X===a&&(x=u),(U=K.nextSibling)!==null)break;K=_,_=K.parentNode}K=U}n=m===-1||x===-1?null:{start:m,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mo={focusedElem:t,selectionRange:n},xc=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){switch(e=Be,s=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)l=t[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&s!==null){t=void 0,n=e,l=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var rt=as(n.type,l);t=a.getSnapshotBeforeUpdate(rt,s),a.__reactInternalSnapshotBeforeUpdate=t}catch(St){Jt(n,n.return,St)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Ao(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ao(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}}function Xf(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:qa(t,n),a&4&&Gi(5,n);break;case 1:if(qa(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(u){Jt(n,n.return,u)}else{var l=as(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(u){Jt(n,n.return,u)}}a&64&&Bf(n),a&512&&Yi(n,n.return);break;case 3:if(qa(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{wd(t,e)}catch(u){Jt(n,n.return,u)}}break;case 27:e===null&&a&4&&Gf(n);case 26:case 5:qa(t,n),e===null&&a&4&&qf(n),a&512&&Yi(n,n.return);break;case 12:qa(t,n);break;case 31:qa(t,n),a&4&&Zf(t,n);break;case 13:qa(t,n),a&4&&Kf(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Op.bind(null,n),Pp(t,n))));break;case 22:if(a=n.memoizedState!==null||Ba,!a){e=e!==null&&e.memoizedState!==null||we,l=Ba;var s=we;Ba=a,(we=e)&&!s?Ha(t,n,(n.subtreeFlags&8772)!==0):qa(t,n),Ba=l,we=s}break;case 30:break;default:qa(t,n)}}function Vf(t){var e=t.alternate;e!==null&&(t.alternate=null,Vf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&hs(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var he=null,mn=!1;function La(t,e,n){for(n=n.child;n!==null;)Qf(t,e,n),n=n.sibling}function Qf(t,e,n){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(sa,n)}catch{}switch(n.tag){case 26:we||ma(n,e),La(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:we||ma(n,e);var a=he,l=mn;El(n.type)&&(he=n.stateNode,mn=!1),La(t,e,n),Ii(n.stateNode),he=a,mn=l;break;case 5:we||ma(n,e);case 6:if(a=he,l=mn,he=null,La(t,e,n),he=a,mn=l,he!==null)if(mn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(n.stateNode)}catch(s){Jt(n,e,s)}else try{he.removeChild(n.stateNode)}catch(s){Jt(n,e,s)}break;case 18:he!==null&&(mn?(t=he,Bm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ai(t)):Bm(he,n.stateNode));break;case 4:a=he,l=mn,he=n.stateNode.containerInfo,mn=!0,La(t,e,n),he=a,mn=l;break;case 0:case 11:case 14:case 15:gl(2,n,e),we||gl(4,n,e),La(t,e,n);break;case 1:we||(ma(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Lf(n,e,a)),La(t,e,n);break;case 21:La(t,e,n);break;case 22:we=(a=we)||n.memoizedState!==null,La(t,e,n),we=a;break;default:La(t,e,n)}}function Zf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ai(t)}catch(n){Jt(e,e.return,n)}}}function Kf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ai(t)}catch(n){Jt(e,e.return,n)}}function Tp(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Yf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Yf),e;default:throw Error(o(435,t.tag))}}function nc(t,e){var n=Tp(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var l=_p.bind(null,t,a);a.then(l,l)}})}function hn(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],s=t,u=e,m=u;t:for(;m!==null;){switch(m.tag){case 27:if(El(m.type)){he=m.stateNode,mn=!1;break t}break;case 5:he=m.stateNode,mn=!1;break t;case 3:case 4:he=m.stateNode.containerInfo,mn=!0;break t}m=m.return}if(he===null)throw Error(o(160));Qf(s,u,l),he=null,mn=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Jf(e,t),e=e.sibling}var na=null;function Jf(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(e,t),pn(t),a&4&&(gl(3,t,t.return),Gi(3,t),gl(5,t,t.return));break;case 1:hn(e,t),pn(t),a&512&&(we||n===null||ma(n,n.return)),a&64&&Ba&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=na;if(hn(e,t),pn(t),a&512&&(we||n===null||ma(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,l=l.ownerDocument||l;e:switch(a){case"title":s=l.getElementsByTagName("title")[0],(!s||s[Oe]||s[ae]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(a),l.head.insertBefore(s,l.querySelector("head > title"))),$e(s,a,n),s[ae]=t,qt(s),a=s;break t;case"link":var u=Jm("link","href",l).get(a+(n.href||""));if(u){for(var m=0;m<u.length;m++)if(s=u[m],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(m,1);break e}}s=l.createElement(a),$e(s,a,n),l.head.appendChild(s);break;case"meta":if(u=Jm("meta","content",l).get(a+(n.content||""))){for(m=0;m<u.length;m++)if(s=u[m],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(m,1);break e}}s=l.createElement(a),$e(s,a,n),l.head.appendChild(s);break;default:throw Error(o(468,a))}s[ae]=t,qt(s),a=s}t.stateNode=a}else $m(l,t.type,t.stateNode);else t.stateNode=Km(l,a,t.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?$m(l,t.type,t.stateNode):Km(l,a,t.memoizedProps)):a===null&&t.stateNode!==null&&$r(t,t.memoizedProps,n.memoizedProps)}break;case 27:hn(e,t),pn(t),a&512&&(we||n===null||ma(n,n.return)),n!==null&&a&4&&$r(t,t.memoizedProps,n.memoizedProps);break;case 5:if(hn(e,t),pn(t),a&512&&(we||n===null||ma(n,n.return)),t.flags&32){l=t.stateNode;try{Cn(l,"")}catch(rt){Jt(t,t.return,rt)}}a&4&&t.stateNode!=null&&(l=t.memoizedProps,$r(t,l,n!==null?n.memoizedProps:l)),a&1024&&(Wr=!0);break;case 6:if(hn(e,t),pn(t),a&4){if(t.stateNode===null)throw Error(o(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(rt){Jt(t,t.return,rt)}}break;case 3:if(vc=null,l=na,na=gc(e.containerInfo),hn(e,t),na=l,pn(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(e.containerInfo)}catch(rt){Jt(t,t.return,rt)}Wr&&(Wr=!1,$f(t));break;case 4:a=na,na=gc(t.stateNode.containerInfo),hn(e,t),pn(t),na=a;break;case 12:hn(e,t),pn(t);break;case 31:hn(e,t),pn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,nc(t,a)));break;case 13:hn(e,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(lc=pe()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,nc(t,a)));break;case 22:l=t.memoizedState!==null;var x=n!==null&&n.memoizedState!==null,O=Ba,X=we;if(Ba=O||l,we=X||x,hn(e,t),we=X,Ba=O,pn(t),a&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||x||Ba||we||ls(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){x=n=e;try{if(s=x.stateNode,l)u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{m=x.stateNode;var K=x.memoizedProps.style,_=K!=null&&K.hasOwnProperty("display")?K.display:null;m.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(rt){Jt(x,x.return,rt)}}}else if(e.tag===6){if(n===null){x=e;try{x.stateNode.nodeValue=l?"":x.memoizedProps}catch(rt){Jt(x,x.return,rt)}}}else if(e.tag===18){if(n===null){x=e;try{var U=x.stateNode;l?Lm(U,!0):Lm(x.stateNode,!1)}catch(rt){Jt(x,x.return,rt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,nc(t,n))));break;case 19:hn(e,t),pn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,nc(t,a)));break;case 30:break;case 21:break;default:hn(e,t),pn(t)}}function pn(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(Hf(a)){n=a;break}a=a.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var l=n.stateNode,s=Fr(t);ec(t,s,l);break;case 5:var u=n.stateNode;n.flags&32&&(Cn(u,""),n.flags&=-33);var m=Fr(t);ec(t,m,u);break;case 3:case 4:var x=n.stateNode.containerInfo,O=Fr(t);Ir(t,O,x);break;default:throw Error(o(161))}}catch(X){Jt(t,t.return,X)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $f(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;$f(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function qa(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Xf(t,e.alternate,e),e=e.sibling}function ls(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:gl(4,e,e.return),ls(e);break;case 1:ma(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Lf(e,e.return,n),ls(e);break;case 27:Ii(e.stateNode);case 26:case 5:ma(e,e.return),ls(e);break;case 22:e.memoizedState===null&&ls(e);break;case 30:ls(e);break;default:ls(e)}t=t.sibling}}function Ha(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,l=t,s=e,u=s.flags;switch(s.tag){case 0:case 11:case 15:Ha(l,s,n),Gi(4,s);break;case 1:if(Ha(l,s,n),a=s,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(O){Jt(a,a.return,O)}if(a=s,l=a.updateQueue,l!==null){var m=a.stateNode;try{var x=l.shared.hiddenCallbacks;if(x!==null)for(l.shared.hiddenCallbacks=null,l=0;l<x.length;l++)Td(x[l],m)}catch(O){Jt(a,a.return,O)}}n&&u&64&&Bf(s),Yi(s,s.return);break;case 27:Gf(s);case 26:case 5:Ha(l,s,n),n&&a===null&&u&4&&qf(s),Yi(s,s.return);break;case 12:Ha(l,s,n);break;case 31:Ha(l,s,n),n&&u&4&&Zf(l,s);break;case 13:Ha(l,s,n),n&&u&4&&Kf(l,s);break;case 22:s.memoizedState===null&&Ha(l,s,n),Yi(s,s.return);break;case 30:break;default:Ha(l,s,n)}e=e.sibling}}function Pr(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Di(n))}function to(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Di(t))}function aa(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ff(t,e,n,a),e=e.sibling}function Ff(t,e,n,a){var l=e.flags;switch(e.tag){case 0:case 11:case 15:aa(t,e,n,a),l&2048&&Gi(9,e);break;case 1:aa(t,e,n,a);break;case 3:aa(t,e,n,a),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Di(t)));break;case 12:if(l&2048){aa(t,e,n,a),t=e.stateNode;try{var s=e.memoizedProps,u=s.id,m=s.onPostCommit;typeof m=="function"&&m(u,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Jt(e,e.return,x)}}else aa(t,e,n,a);break;case 31:aa(t,e,n,a);break;case 13:aa(t,e,n,a);break;case 23:break;case 22:s=e.stateNode,u=e.alternate,e.memoizedState!==null?s._visibility&2?aa(t,e,n,a):Xi(t,e):s._visibility&2?aa(t,e,n,a):(s._visibility|=2,Zs(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),l&2048&&Pr(u,e);break;case 24:aa(t,e,n,a),l&2048&&to(e.alternate,e);break;default:aa(t,e,n,a)}}function Zs(t,e,n,a,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,u=e,m=n,x=a,O=u.flags;switch(u.tag){case 0:case 11:case 15:Zs(s,u,m,x,l),Gi(8,u);break;case 23:break;case 22:var X=u.stateNode;u.memoizedState!==null?X._visibility&2?Zs(s,u,m,x,l):Xi(s,u):(X._visibility|=2,Zs(s,u,m,x,l)),l&&O&2048&&Pr(u.alternate,u);break;case 24:Zs(s,u,m,x,l),l&&O&2048&&to(u.alternate,u);break;default:Zs(s,u,m,x,l)}e=e.sibling}}function Xi(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,l=a.flags;switch(a.tag){case 22:Xi(n,a),l&2048&&Pr(a.alternate,a);break;case 24:Xi(n,a),l&2048&&to(a.alternate,a);break;default:Xi(n,a)}e=e.sibling}}var Vi=8192;function Ks(t,e,n){if(t.subtreeFlags&Vi)for(t=t.child;t!==null;)If(t,e,n),t=t.sibling}function If(t,e,n){switch(t.tag){case 26:Ks(t,e,n),t.flags&Vi&&t.memoizedState!==null&&dg(n,na,t.memoizedState,t.memoizedProps);break;case 5:Ks(t,e,n);break;case 3:case 4:var a=na;na=gc(t.stateNode.containerInfo),Ks(t,e,n),na=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Vi,Vi=16777216,Ks(t,e,n),Vi=a):Ks(t,e,n));break;default:Ks(t,e,n)}}function Wf(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Qi(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Be=a,tm(a,t)}Wf(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pf(t),t=t.sibling}function Pf(t){switch(t.tag){case 0:case 11:case 15:Qi(t),t.flags&2048&&gl(9,t,t.return);break;case 3:Qi(t);break;case 12:Qi(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ac(t)):Qi(t);break;default:Qi(t)}}function ac(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Be=a,tm(a,t)}Wf(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:gl(8,e,e.return),ac(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ac(e));break;default:ac(e)}t=t.sibling}}function tm(t,e){for(;Be!==null;){var n=Be;switch(n.tag){case 0:case 11:case 15:gl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Di(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Be=a;else t:for(n=t;Be!==null;){a=Be;var l=a.sibling,s=a.return;if(Vf(a),a===n){Be=null;break t}if(l!==null){l.return=s,Be=l;break t}Be=s}}}var wp={getCacheForType:function(t){var e=Ke(Ee),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Ke(Ee).controller.signal}},Cp=typeof WeakMap=="function"?WeakMap:Map,Qt=0,se=null,jt=null,_t=0,Kt=0,On=null,yl=!1,Js=!1,eo=!1,Ga=0,ve=0,vl=0,ss=0,no=0,_n=0,$s=0,Zi=null,gn=null,ao=!1,lc=0,em=0,sc=1/0,ic=null,bl=null,Ne=0,Sl=null,Fs=null,Ya=0,lo=0,so=null,nm=null,Ki=0,io=null;function kn(){return(Qt&2)!==0&&_t!==0?_t&-_t:A.T!==null?mo():ri()}function am(){if(_n===0)if((_t&536870912)===0||Bt){var t=Ja;Ja<<=1,(Ja&3932160)===0&&(Ja=262144),_n=t}else _n=536870912;return t=jn.current,t!==null&&(t.flags|=32),_n}function yn(t,e,n){(t===se&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(Is(t,0),Ml(t,_t,_n,!1)),cn(t,n),((Qt&2)===0||t!==se)&&(t===se&&((Qt&2)===0&&(ss|=n),ve===4&&Ml(t,_t,_n,!1)),ha(t))}function lm(t,e,n){if((Qt&6)!==0)throw Error(o(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||$a(t,e),l=a?Rp(t,e):co(t,e,!0),s=a;do{if(l===0){Js&&!a&&Ml(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!Dp(n)){l=co(t,e,!1),s=!1;continue}if(l===2){if(s=e,t.errorRecoveryDisabledLanes&s)var u=0;else u=t.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){e=u;t:{var m=t;l=Zi;var x=m.current.memoizedState.isDehydrated;if(x&&(Is(m,u).flags|=256),u=co(m,u,!1),u!==2){if(eo&&!x){m.errorRecoveryDisabledLanes|=s,ss|=s,l=4;break t}s=gn,gn=l,s!==null&&(gn===null?gn=s:gn.push.apply(gn,s))}l=u}if(s=!1,l!==2)continue}}if(l===1){Is(t,0),Ml(t,e,0,!0);break}t:{switch(a=t,s=l,s){case 0:case 1:throw Error(o(345));case 4:if((e&4194048)!==e)break;case 6:Ml(a,e,_n,!yl);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((e&62914560)===e&&(l=lc+300-pe(),10<l)){if(Ml(a,e,_n,!yl),kl(a,0,!0)!==0)break t;Ya=e,a.timeoutHandle=km(sm.bind(null,a,n,gn,ic,ao,e,_n,ss,$s,yl,s,"Throttled",-0,0),l);break t}sm(a,n,gn,ic,ao,e,_n,ss,$s,yl,s,null,-0,0)}}break}while(!0);ha(t)}function sm(t,e,n,a,l,s,u,m,x,O,X,K,_,U){if(t.timeoutHandle=-1,K=e.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ta},If(e,s,K);var rt=(s&62914560)===s?lc-pe():(s&4194048)===s?em-pe():0;if(rt=fg(K,rt),rt!==null){Ya=s,t.cancelPendingCommit=rt(mm.bind(null,t,e,s,n,a,l,u,m,x,X,K,null,_,U)),Ml(t,s,u,!O);return}}mm(t,e,s,n,a,l,u,m,x)}function Dp(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],s=l.getSnapshot;l=l.value;try{if(!et(s(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ml(t,e,n,a){e&=~no,e&=~ss,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var l=e;0<l;){var s=31-Ie(l),u=1<<s;a[s]=-1,l&=~u}n!==0&&ms(t,n,e)}function uc(){return(Qt&6)===0?(Ji(0),!1):!0}function uo(){if(jt!==null){if(Kt===0)var t=jt.return;else t=jt,ja=Fl=null,Er(t),Gs=null,Ri=0,t=jt;for(;t!==null;)Uf(t.alternate,t),t=t.return;jt=null}}function Is(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Jp(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ya=0,uo(),se=t,jt=n=Na(t.current,null),_t=e,Kt=0,On=null,yl=!1,Js=$a(t,e),eo=!1,$s=_n=no=ss=vl=ve=0,gn=Zi=null,ao=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var l=31-Ie(a),s=1<<l;e|=t[l],a&=~s}return Ga=e,Du(),n}function im(t,e){wt=null,A.H=Li,e===Hs||e===Uu?(e=Md(),Kt=3):e===dr?(e=Md(),Kt=4):Kt=e===qr?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,On=e,jt===null&&(ve=1,Fu(t,Hn(e,t.current)))}function um(){var t=jn.current;return t===null?!0:(_t&4194048)===_t?Vn===null:(_t&62914560)===_t||(_t&536870912)!==0?t===Vn:!1}function cm(){var t=A.H;return A.H=Li,t===null?Li:t}function rm(){var t=A.A;return A.A=wp,t}function cc(){ve=4,yl||(_t&4194048)!==_t&&jn.current!==null||(Js=!0),(vl&134217727)===0&&(ss&134217727)===0||se===null||Ml(se,_t,_n,!1)}function co(t,e,n){var a=Qt;Qt|=2;var l=cm(),s=rm();(se!==t||_t!==e)&&(ic=null,Is(t,e)),e=!1;var u=ve;t:do try{if(Kt!==0&&jt!==null){var m=jt,x=On;switch(Kt){case 8:uo(),u=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(e=!0);var O=Kt;if(Kt=0,On=null,Ws(t,m,x,O),n&&Js){u=0;break t}break;default:O=Kt,Kt=0,On=null,Ws(t,m,x,O)}}Np(),u=ve;break}catch(X){im(t,X)}while(!0);return e&&t.shellSuspendCounter++,ja=Fl=null,Qt=a,A.H=l,A.A=s,jt===null&&(se=null,_t=0,Du()),u}function Np(){for(;jt!==null;)om(jt)}function Rp(t,e){var n=Qt;Qt|=2;var a=cm(),l=rm();se!==t||_t!==e?(ic=null,sc=pe()+500,Is(t,e)):Js=$a(t,e);t:do try{if(Kt!==0&&jt!==null){e=jt;var s=On;e:switch(Kt){case 1:Kt=0,On=null,Ws(t,e,s,1);break;case 2:case 9:if(bd(s)){Kt=0,On=null,dm(e);break}e=function(){Kt!==2&&Kt!==9||se!==t||(Kt=7),ha(t)},s.then(e,e);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:bd(s)?(Kt=0,On=null,dm(e)):(Kt=0,On=null,Ws(t,e,s,7));break;case 5:var u=null;switch(jt.tag){case 26:u=jt.memoizedState;case 5:case 27:var m=jt;if(u?Fm(u):m.stateNode.complete){Kt=0,On=null;var x=m.sibling;if(x!==null)jt=x;else{var O=m.return;O!==null?(jt=O,rc(O)):jt=null}break e}}Kt=0,On=null,Ws(t,e,s,5);break;case 6:Kt=0,On=null,Ws(t,e,s,6);break;case 8:uo(),ve=6;break t;default:throw Error(o(462))}}jp();break}catch(X){im(t,X)}while(!0);return ja=Fl=null,A.H=a,A.A=l,Qt=n,jt!==null?0:(se=null,_t=0,Du(),ve)}function jp(){for(;jt!==null&&!ou();)om(jt)}function om(t){var e=_f(t.alternate,t,Ga);t.memoizedProps=t.pendingProps,e===null?rc(t):jt=e}function dm(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Df(n,e,e.pendingProps,e.type,void 0,_t);break;case 11:e=Df(n,e,e.pendingProps,e.type.render,e.ref,_t);break;case 5:Er(e);default:Uf(n,e),e=jt=cd(e,Ga),e=_f(n,e,Ga)}t.memoizedProps=t.pendingProps,e===null?rc(t):jt=e}function Ws(t,e,n,a){ja=Fl=null,Er(e),Gs=null,Ri=0;var l=e.return;try{if(bp(t,l,e,n,_t)){ve=1,Fu(t,Hn(n,t.current)),jt=null;return}}catch(s){if(l!==null)throw jt=l,s;ve=1,Fu(t,Hn(n,t.current)),jt=null;return}e.flags&32768?(Bt||a===1?t=!0:Js||(_t&536870912)!==0?t=!1:(yl=t=!0,(a===2||a===9||a===3||a===6)&&(a=jn.current,a!==null&&a.tag===13&&(a.flags|=16384))),fm(e,t)):rc(e)}function rc(t){var e=t;do{if((e.flags&32768)!==0){fm(e,yl);return}t=e.return;var n=xp(e.alternate,e,Ga);if(n!==null){jt=n;return}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);ve===0&&(ve=5)}function fm(t,e){do{var n=Ep(t.alternate,t);if(n!==null){n.flags&=32767,jt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){jt=t;return}jt=t=n}while(t!==null);ve=6,jt=null}function mm(t,e,n,a,l,s,u,m,x){t.cancelPendingCommit=null;do oc();while(Ne!==0);if((Qt&6)!==0)throw Error(o(327));if(e!==null){if(e===t.current)throw Error(o(177));if(s=e.lanes|e.childLanes,s|=Fc,Ul(t,n,s,u,m,x),t===se&&(jt=se=null,_t=0),Fs=e,Sl=t,Ya=n,lo=s,so=l,nm=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kp(ga,function(){return vm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=A.T,A.T=null,l=V.p,V.p=2,u=Qt,Qt|=4;try{Ap(t,e,n)}finally{Qt=u,V.p=l,A.T=a}}Ne=1,hm(),pm(),gm()}}function hm(){if(Ne===1){Ne=0;var t=Sl,e=Fs,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=A.T,A.T=null;var a=V.p;V.p=2;var l=Qt;Qt|=4;try{Jf(e,t);var s=Mo,u=pt(t.containerInfo),m=s.focusedElem,x=s.selectionRange;if(u!==m&&m&&m.ownerDocument&&me(m.ownerDocument.documentElement,m)){if(x!==null&&Mt(m)){var O=x.start,X=x.end;if(X===void 0&&(X=O),"selectionStart"in m)m.selectionStart=O,m.selectionEnd=Math.min(X,m.value.length);else{var K=m.ownerDocument||document,_=K&&K.defaultView||window;if(_.getSelection){var U=_.getSelection(),rt=m.textContent.length,St=Math.min(x.start,rt),ee=x.end===void 0?St:Math.min(x.end,rt);!U.extend&&St>ee&&(u=ee,ee=St,St=u);var j=Ot(m,St),w=Ot(m,ee);if(j&&w&&(U.rangeCount!==1||U.anchorNode!==j.node||U.anchorOffset!==j.offset||U.focusNode!==w.node||U.focusOffset!==w.offset)){var z=K.createRange();z.setStart(j.node,j.offset),U.removeAllRanges(),St>ee?(U.addRange(z),U.extend(w.node,w.offset)):(z.setEnd(w.node,w.offset),U.addRange(z))}}}}for(K=[],U=m;U=U.parentNode;)U.nodeType===1&&K.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<K.length;m++){var Z=K[m];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}xc=!!So,Mo=So=null}finally{Qt=l,V.p=a,A.T=n}}t.current=e,Ne=2}}function pm(){if(Ne===2){Ne=0;var t=Sl,e=Fs,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=A.T,A.T=null;var a=V.p;V.p=2;var l=Qt;Qt|=4;try{Xf(t,e.alternate,e)}finally{Qt=l,V.p=a,A.T=n}}Ne=3}}function gm(){if(Ne===4||Ne===3){Ne=0,os();var t=Sl,e=Fs,n=Ya,a=nm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ne=5:(Ne=0,Fs=Sl=null,ym(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(bl=null),xn(n),e=e.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(sa,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=A.T,l=V.p,V.p=2,A.T=null;try{for(var s=t.onRecoverableError,u=0;u<a.length;u++){var m=a[u];s(m.value,{componentStack:m.stack})}}finally{A.T=e,V.p=l}}(Ya&3)!==0&&oc(),ha(t),l=t.pendingLanes,(n&261930)!==0&&(l&42)!==0?t===io?Ki++:(Ki=0,io=t):Ki=0,Ji(0)}}function ym(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Di(e)))}function oc(){return hm(),pm(),gm(),vm()}function vm(){if(Ne!==5)return!1;var t=Sl,e=lo;lo=0;var n=xn(Ya),a=A.T,l=V.p;try{V.p=32>n?32:n,A.T=null,n=so,so=null;var s=Sl,u=Ya;if(Ne=0,Fs=Sl=null,Ya=0,(Qt&6)!==0)throw Error(o(331));var m=Qt;if(Qt|=4,Pf(s.current),Ff(s,s.current,u,n),Qt=m,Ji(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(sa,s)}catch{}return!0}finally{V.p=l,A.T=a,ym(t,e)}}function bm(t,e,n){e=Hn(n,e),e=Lr(t.stateNode,e,2),t=ml(t,e,2),t!==null&&(cn(t,2),ha(t))}function Jt(t,e,n){if(t.tag===3)bm(t,t,n);else for(;e!==null;){if(e.tag===3){bm(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(bl===null||!bl.has(a))){t=Hn(n,t),n=Sf(2),a=ml(e,n,2),a!==null&&(Mf(n,a,e,t),cn(a,2),ha(a));break}}e=e.return}}function ro(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new Cp;var l=new Set;a.set(e,l)}else l=a.get(e),l===void 0&&(l=new Set,a.set(e,l));l.has(n)||(eo=!0,l.add(n),t=zp.bind(null,t,e,n),e.then(t,t))}function zp(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,se===t&&(_t&n)===n&&(ve===4||ve===3&&(_t&62914560)===_t&&300>pe()-lc?(Qt&2)===0&&Is(t,0):no|=n,$s===_t&&($s=0)),ha(t)}function Sm(t,e){e===0&&(e=Fa()),t=Kl(t,e),t!==null&&(cn(t,e),ha(t))}function Op(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sm(t,n)}function _p(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(e),Sm(t,n)}function kp(t,e){return Sn(t,e)}var dc=null,Ps=null,oo=!1,fc=!1,fo=!1,xl=0;function ha(t){t!==Ps&&t.next===null&&(Ps===null?dc=Ps=t:Ps=Ps.next=t),fc=!0,oo||(oo=!0,Bp())}function Ji(t,e){if(!fo&&fc){fo=!0;do for(var n=!1,a=dc;a!==null;){if(t!==0){var l=a.pendingLanes;if(l===0)var s=0;else{var u=a.suspendedLanes,m=a.pingedLanes;s=(1<<31-Ie(42|t)+1)-1,s&=l&~(u&~m),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Am(a,s))}else s=_t,s=kl(a,a===se?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||$a(a,s)||(n=!0,Am(a,s));a=a.next}while(n);fo=!1}}function Up(){Mm()}function Mm(){fc=oo=!1;var t=0;xl!==0&&Kp()&&(t=xl);for(var e=pe(),n=null,a=dc;a!==null;){var l=a.next,s=xm(a,e);s===0?(a.next=null,n===null?dc=l:n.next=l,l===null&&(Ps=n)):(n=a,(t!==0||(s&3)!==0)&&(fc=!0)),a=l}Ne!==0&&Ne!==5||Ji(t),xl!==0&&(xl=0)}function xm(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,l=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var u=31-Ie(s),m=1<<u,x=l[u];x===-1?((m&n)===0||(m&a)!==0)&&(l[u]=mu(m,e)):x<=e&&(t.expiredLanes|=m),s&=~m}if(e=se,n=_t,n=kl(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&jl(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||$a(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&jl(a),xn(n)){case 2:case 8:n=fs;break;case 32:n=ga;break;case 268435456:n=Re;break;default:n=ga}return a=Em.bind(null,t),n=Sn(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&jl(a),t.callbackPriority=2,t.callbackNode=null,2}function Em(t,e){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(oc()&&t.callbackNode!==n)return null;var a=_t;return a=kl(t,t===se?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(lm(t,a,e),xm(t,pe()),t.callbackNode!=null&&t.callbackNode===n?Em.bind(null,t):null)}function Am(t,e){if(oc())return null;lm(t,e,!0)}function Bp(){$p(function(){(Qt&6)!==0?Sn(Bn,Up):Mm()})}function mo(){if(xl===0){var t=Ls;t===0&&(t=_l,_l<<=1,(_l&261888)===0&&(_l=256)),xl=t}return xl}function Tm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xa(""+t)}function wm(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Lp(t,e,n,a,l){if(e==="submit"&&n&&n.stateNode===l){var s=Tm((l[ze]||null).action),u=a.submitter;u&&(e=(e=u[ze]||null)?Tm(e.formAction):u.getAttribute("formAction"),e!==null&&(s=e,u=null));var m=new al("action","action",null,a,l);t.push({event:m,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(xl!==0){var x=u?wm(l,u):new FormData(l);zr(n,{pending:!0,data:x,method:l.method,action:s},null,x)}}else typeof s=="function"&&(m.preventDefault(),x=u?wm(l,u):new FormData(l),zr(n,{pending:!0,data:x,method:l.method,action:s},s,x))},currentTarget:l}]})}}for(var ho=0;ho<js.length;ho++){var po=js[ho],qp=po.toLowerCase(),Hp=po[0].toUpperCase()+po.slice(1);Nn(qp,"on"+Hp)}Nn(Ns,"onAnimationEnd"),Nn(Ei,"onAnimationIteration"),Nn(Ai,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Rs,"onTransitionRun"),Nn(Yt,"onTransitionStart"),Nn(oa,"onTransitionCancel"),Nn(il,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($i));function Cm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],l=a.event;a=a.listeners;t:{var s=void 0;if(e)for(var u=a.length-1;0<=u;u--){var m=a[u],x=m.instance,O=m.currentTarget;if(m=m.listener,x!==s&&l.isPropagationStopped())break t;s=m,l.currentTarget=O;try{s(l)}catch(X){Cu(X)}l.currentTarget=null,s=x}else for(u=0;u<a.length;u++){if(m=a[u],x=m.instance,O=m.currentTarget,m=m.listener,x!==s&&l.isPropagationStopped())break t;s=m,l.currentTarget=O;try{s(l)}catch(X){Cu(X)}l.currentTarget=null,s=x}}}}function zt(t,e){var n=e[Ia];n===void 0&&(n=e[Ia]=new Set);var a=t+"__bubble";n.has(a)||(Dm(e,t,2,!1),n.add(a))}function go(t,e,n){var a=0;e&&(a|=4),Dm(n,t,a,e)}var mc="_reactListening"+Math.random().toString(36).slice(2);function yo(t){if(!t[mc]){t[mc]=!0,Wa.forEach(function(n){n!=="selectionchange"&&(Gp.has(n)||go(n,!1,t),go(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mc]||(e[mc]=!0,go("selectionchange",!1,e))}}function Dm(t,e,n,a){switch(ah(e)){case 2:var l=pg;break;case 8:l=gg;break;default:l=zo}n=l.bind(null,e,n,t),l=void 0,!nl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),a?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function vo(t,e,n,a,l){var s=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var m=a.stateNode.containerInfo;if(m===l)break;if(u===4)for(u=a.return;u!==null;){var x=u.tag;if((x===3||x===4)&&u.stateNode.containerInfo===l)return;u=u.return}for(;m!==null;){if(u=ia(m),u===null)return;if(x=u.tag,x===5||x===6||x===26||x===27){a=s=u;continue t}m=m.parentNode}}a=a.return}yu(function(){var O=s,X=bs(n),K=[];t:{var _=Ti.get(t);if(_!==void 0){var U=al,rt=t;switch(t){case"keypress":if(Ms(n)===0)break t;case"keydown":case"keyup":U=vi;break;case"focusin":rt="focus",U=wa;break;case"focusout":rt="blur",U=wa;break;case"beforeblur":case"afterblur":U=wa;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Vc;break;case Ns:case Ei:case Ai:U=Ql;break;case il:U=ws;break;case"scroll":case"scrollend":U=Es;break;case"wheel":U=Zc;break;case"copy":case"cut":case"paste":U=Lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Ts;break;case"toggle":case"beforetoggle":U=Jc}var St=(e&4)!==0,ee=!St&&(t==="scroll"||t==="scrollend"),j=St?_!==null?_+"Capture":null:_;St=[];for(var w=O,z;w!==null;){var Z=w;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||j===null||(Z=el(w,j),Z!=null&&St.push(Fi(w,Z,z))),ee)break;w=w.return}0<St.length&&(_=new U(_,rt,null,n,X),K.push({event:_,listeners:St}))}}if((e&7)===0){t:{if(_=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",_&&n!==vs&&(rt=n.relatedTarget||n.fromElement)&&(ia(rt)||rt[In]))break t;if((U||_)&&(_=X.window===X?X:(_=X.ownerDocument)?_.defaultView||_.parentWindow:window,U?(rt=n.relatedTarget||n.toElement,U=O,rt=rt?ia(rt):null,rt!==null&&(ee=M(rt),St=rt.tag,rt!==ee||St!==5&&St!==27&&St!==6)&&(rt=null)):(U=null,rt=O),U!==rt)){if(St=bu,Z="onMouseLeave",j="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(St=Ts,Z="onPointerLeave",j="onPointerEnter",w="pointer"),ee=U==null?_:Wn(U),z=rt==null?_:Wn(rt),_=new St(Z,w+"leave",U,n,X),_.target=ee,_.relatedTarget=z,Z=null,ia(X)===O&&(St=new St(j,w+"enter",rt,n,X),St.target=z,St.relatedTarget=ee,Z=St),ee=Z,U&&rt)e:{for(St=Yp,j=U,w=rt,z=0,Z=j;Z;Z=St(Z))z++;Z=0;for(var ht=w;ht;ht=St(ht))Z++;for(;0<z-Z;)j=St(j),z--;for(;0<Z-z;)w=St(w),Z--;for(;z--;){if(j===w||w!==null&&j===w.alternate){St=j;break e}j=St(j),w=St(w)}St=null}else St=null;U!==null&&Nm(K,_,U,St,!1),rt!==null&&ee!==null&&Nm(K,ee,rt,St,!0)}}t:{if(_=O?Wn(O):window,U=_.nodeName&&_.nodeName.toLowerCase(),U==="select"||U==="input"&&_.type==="file")var Xt=L;else if(g(_))if(at)Xt=Ds;else{Xt=Rt;var dt=mt}else U=_.nodeName,!U||U.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?O&&ua(O.elementType)&&(Xt=L):Xt=fn;if(Xt&&(Xt=Xt(t,O))){C(K,Xt,n,X);break t}dt&&dt(t,_,O),t==="focusout"&&O&&_.type==="number"&&O.memoizedProps.value!=null&&Ye(_,"number",_.value)}switch(dt=O?Wn(O):window,t){case"focusin":(g(dt)||dt.contentEditable==="true")&&(Ut=dt,ge=O,sn=null);break;case"focusout":sn=ge=Ut=null;break;case"mousedown":Et=!0;break;case"contextmenu":case"mouseup":case"dragend":Et=!1,Wt(K,n,X);break;case"selectionchange":if(Qe)break;case"keydown":case"keyup":Wt(K,n,X)}var Dt;if(bi)t:{switch(t){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Ca?Au(t,n)&&(kt="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(kt="onCompositionStart");kt&&(en&&n.locale!=="ko"&&(Ca||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Ca&&(Dt=vu()):(Dn=X,Ss="value"in Dn?Dn.value:Dn.textContent,Ca=!0)),dt=hc(O,kt),0<dt.length&&(kt=new Su(kt,t,null,n,X),K.push({event:kt,listeners:dt}),Dt?kt.data=Dt:(Dt=Tu(n),Dt!==null&&(kt.data=Dt)))),(Dt=Si?$c(t,n):i(t,n))&&(kt=hc(O,"onBeforeInput"),0<kt.length&&(dt=new Su("onBeforeInput","beforeinput",null,n,X),K.push({event:dt,listeners:kt}),dt.data=Dt)),Lp(K,t,O,n,X)}Cm(K,e)})}function Fi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hc(t,e){for(var n=e+"Capture",a=[];t!==null;){var l=t,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=el(t,n),l!=null&&a.unshift(Fi(t,l,s)),l=el(t,e),l!=null&&a.push(Fi(t,l,s))),t.tag===3)return a;t=t.return}return[]}function Yp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Nm(t,e,n,a,l){for(var s=e._reactName,u=[];n!==null&&n!==a;){var m=n,x=m.alternate,O=m.stateNode;if(m=m.tag,x!==null&&x===a)break;m!==5&&m!==26&&m!==27||O===null||(x=O,l?(O=el(n,s),O!=null&&u.unshift(Fi(n,O,x))):l||(O=el(n,s),O!=null&&u.push(Fi(n,O,x)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Xp=/\r\n?/g,Vp=/\u0000|\uFFFD/g;function Rm(t){return(typeof t=="string"?t:""+t).replace(Xp,`
`).replace(Vp,"")}function jm(t,e){return e=Rm(e),Rm(t)===e}function te(t,e,n,a,l,s){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||Cn(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&Cn(t,""+a);break;case"className":Sa(t,"class",a);break;case"tabIndex":Sa(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Sa(t,n,a);break;case"style":ke(t,a,s);break;case"data":if(e!=="object"){Sa(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=xa(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&te(t,e,"name",l.name,l,null),te(t,e,"formEncType",l.formEncType,l,null),te(t,e,"formMethod",l.formMethod,l,null),te(t,e,"formTarget",l.formTarget,l,null)):(te(t,e,"encType",l.encType,l,null),te(t,e,"method",l.method,l,null),te(t,e,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=xa(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=ta);break;case"onScroll":a!=null&&zt("scroll",t);break;case"onScrollEnd":a!=null&&zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=xa(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":zt("beforetoggle",t),zt("toggle",t),Pa(t,"popover",a);break;case"xlinkActuate":wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":wn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":wn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":wn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":wn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Pa(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=pu.get(n)||n,Pa(t,n,a))}}function bo(t,e,n,a,l,s){switch(n){case"style":ke(t,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(o(60));t.innerHTML=n}}break;case"children":typeof a=="string"?Cn(t,a):(typeof a=="number"||typeof a=="bigint")&&Cn(t,""+a);break;case"onScroll":a!=null&&zt("scroll",t);break;case"onScrollEnd":a!=null&&zt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rn.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),s=t[ze]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,l),typeof a=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,l);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):Pa(t,n,a)}}}function $e(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",t),zt("load",t);var a=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:te(t,e,s,u,n,null)}}l&&te(t,e,"srcSet",n.srcSet,n,null),a&&te(t,e,"src",n.src,n,null);return;case"input":zt("invalid",t);var m=s=u=l=null,x=null,O=null;for(a in n)if(n.hasOwnProperty(a)){var X=n[a];if(X!=null)switch(a){case"name":l=X;break;case"type":u=X;break;case"checked":x=X;break;case"defaultChecked":O=X;break;case"value":s=X;break;case"defaultValue":m=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,e));break;default:te(t,e,a,X,n,null)}}Zt(t,s,m,x,O,u,l,!1);return;case"select":zt("invalid",t),a=u=s=null;for(l in n)if(n.hasOwnProperty(l)&&(m=n[l],m!=null))switch(l){case"value":s=m;break;case"defaultValue":u=m;break;case"multiple":a=m;default:te(t,e,l,m,n,null)}e=s,n=u,t.multiple=!!a,e!=null?Pn(t,!!a,e,!1):n!=null&&Pn(t,!!a,n,!0);return;case"textarea":zt("invalid",t),s=l=a=null;for(u in n)if(n.hasOwnProperty(u)&&(m=n[u],m!=null))switch(u){case"value":a=m;break;case"defaultValue":l=m;break;case"children":s=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:te(t,e,u,m,n,null)}Xe(t,a,l,s);return;case"option":for(x in n)if(n.hasOwnProperty(x)&&(a=n[x],a!=null))switch(x){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:te(t,e,x,a,n,null)}return;case"dialog":zt("beforetoggle",t),zt("toggle",t),zt("cancel",t),zt("close",t);break;case"iframe":case"object":zt("load",t);break;case"video":case"audio":for(a=0;a<$i.length;a++)zt($i[a],t);break;case"image":zt("error",t),zt("load",t);break;case"details":zt("toggle",t);break;case"embed":case"source":case"link":zt("error",t),zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in n)if(n.hasOwnProperty(O)&&(a=n[O],a!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:te(t,e,O,a,n,null)}return;default:if(ua(e)){for(X in n)n.hasOwnProperty(X)&&(a=n[X],a!==void 0&&bo(t,e,X,a,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(a=n[m],a!=null&&te(t,e,m,a,n,null))}function Qp(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,u=null,m=null,x=null,O=null,X=null;for(U in n){var K=n[U];if(n.hasOwnProperty(U)&&K!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":x=K;default:a.hasOwnProperty(U)||te(t,e,U,null,a,K)}}for(var _ in a){var U=a[_];if(K=n[_],a.hasOwnProperty(_)&&(U!=null||K!=null))switch(_){case"type":s=U;break;case"name":l=U;break;case"checked":O=U;break;case"defaultChecked":X=U;break;case"value":u=U;break;case"defaultValue":m=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,e));break;default:U!==K&&te(t,e,_,U,a,K)}}Hl(t,u,m,x,O,X,s,l);return;case"select":U=u=m=_=null;for(s in n)if(x=n[s],n.hasOwnProperty(s)&&x!=null)switch(s){case"value":break;case"multiple":U=x;default:a.hasOwnProperty(s)||te(t,e,s,null,a,x)}for(l in a)if(s=a[l],x=n[l],a.hasOwnProperty(l)&&(s!=null||x!=null))switch(l){case"value":_=s;break;case"defaultValue":m=s;break;case"multiple":u=s;default:s!==x&&te(t,e,l,s,a,x)}e=m,n=u,a=U,_!=null?Pn(t,!!n,_,!1):!!a!=!!n&&(e!=null?Pn(t,!!n,e,!0):Pn(t,!!n,n?[]:"",!1));return;case"textarea":U=_=null;for(m in n)if(l=n[m],n.hasOwnProperty(m)&&l!=null&&!a.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:te(t,e,m,null,a,l)}for(u in a)if(l=a[u],s=n[u],a.hasOwnProperty(u)&&(l!=null||s!=null))switch(u){case"value":_=l;break;case"defaultValue":U=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(o(91));break;default:l!==s&&te(t,e,u,l,a,s)}hi(t,_,U);return;case"option":for(var rt in n)if(_=n[rt],n.hasOwnProperty(rt)&&_!=null&&!a.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:te(t,e,rt,null,a,_)}for(x in a)if(_=a[x],U=n[x],a.hasOwnProperty(x)&&_!==U&&(_!=null||U!=null))switch(x){case"selected":t.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:te(t,e,x,_,a,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in n)_=n[St],n.hasOwnProperty(St)&&_!=null&&!a.hasOwnProperty(St)&&te(t,e,St,null,a,_);for(O in a)if(_=a[O],U=n[O],a.hasOwnProperty(O)&&_!==U&&(_!=null||U!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(o(137,e));break;default:te(t,e,O,_,a,U)}return;default:if(ua(e)){for(var ee in n)_=n[ee],n.hasOwnProperty(ee)&&_!==void 0&&!a.hasOwnProperty(ee)&&bo(t,e,ee,void 0,a,_);for(X in a)_=a[X],U=n[X],!a.hasOwnProperty(X)||_===U||_===void 0&&U===void 0||bo(t,e,X,_,a,U);return}}for(var j in n)_=n[j],n.hasOwnProperty(j)&&_!=null&&!a.hasOwnProperty(j)&&te(t,e,j,null,a,_);for(K in a)_=a[K],U=n[K],!a.hasOwnProperty(K)||_===U||_==null&&U==null||te(t,e,K,_,a,U)}function zm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],s=l.transferSize,u=l.initiatorType,m=l.duration;if(s&&m&&zm(u)){for(u=0,m=l.responseEnd,a+=1;a<n.length;a++){var x=n[a],O=x.startTime;if(O>m)break;var X=x.transferSize,K=x.initiatorType;X&&zm(K)&&(x=x.responseEnd,u+=X*(x<m?1:(m-O)/(x-O)))}if(--a,e+=8*(s+u)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var So=null,Mo=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function Om(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _m(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function xo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Eo=null;function Kp(){var t=window.event;return t&&t.type==="popstate"?t===Eo?!1:(Eo=t,!0):(Eo=null,!1)}var km=typeof setTimeout=="function"?setTimeout:void 0,Jp=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(t){return Um.resolve(null).then(t).catch(Fp)}:km;function Fp(t){setTimeout(function(){throw t})}function El(t){return t==="head"}function Bm(t,e){var n=e,a=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(l),ai(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Ii(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Ii(n);for(var s=n.firstChild;s;){var u=s.nextSibling,m=s.nodeName;s[Oe]||m==="SCRIPT"||m==="STYLE"||m==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=u}}else n==="body"&&Ii(t.ownerDocument.body);n=l}while(n);ai(e)}function Lm(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function Ao(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ao(n),hs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Ip(t,e,n,a){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Oe])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function Wp(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Qn(t.nextSibling),t===null))return null;return t}function qm(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Qn(t.nextSibling),t===null))return null;return t}function To(t){return t.data==="$?"||t.data==="$~"}function wo(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Pp(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Qn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Co=null;function Hm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Qn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Gm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Ym(t,e,n){switch(e=pc(n),t){case"html":if(t=e.documentElement,!t)throw Error(o(452));return t;case"head":if(t=e.head,!t)throw Error(o(453));return t;case"body":if(t=e.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Ii(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);hs(t)}var Zn=new Map,Xm=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xa=V.d;V.d={f:tg,r:eg,D:ng,C:ag,L:lg,m:sg,X:ug,S:ig,M:cg};function tg(){var t=Xa.f(),e=uc();return t||e}function eg(t){var e=_e(t);e!==null&&e.tag===5&&e.type==="form"?sf(e):Xa.r(t)}var ti=typeof document>"u"?null:document;function Vm(t,e,n){var a=ti;if(a&&typeof e=="string"&&e){var l=De(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Xm.has(l)||(Xm.add(l),t={rel:t,crossOrigin:n,href:e},a.querySelector(l)===null&&(e=a.createElement("link"),$e(e,"link",t),qt(e),a.head.appendChild(e)))}}function ng(t){Xa.D(t),Vm("dns-prefetch",t,null)}function ag(t,e){Xa.C(t,e),Vm("preconnect",t,e)}function lg(t,e,n){Xa.L(t,e,n);var a=ti;if(a&&t&&e){var l='link[rel="preload"][as="'+De(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+De(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+De(n.imageSizes)+'"]')):l+='[href="'+De(t)+'"]';var s=l;switch(e){case"style":s=ei(t);break;case"script":s=ni(t)}Zn.has(s)||(t=E({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Zn.set(s,t),a.querySelector(l)!==null||e==="style"&&a.querySelector(Wi(s))||e==="script"&&a.querySelector(Pi(s))||(e=a.createElement("link"),$e(e,"link",t),qt(e),a.head.appendChild(e)))}}function sg(t,e){Xa.m(t,e);var n=ti;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+De(a)+'"][href="'+De(t)+'"]',s=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ni(t)}if(!Zn.has(s)&&(t=E({rel:"modulepreload",href:t},e),Zn.set(s,t),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pi(s)))return}a=n.createElement("link"),$e(a,"link",t),qt(a),n.head.appendChild(a)}}}function ig(t,e,n){Xa.S(t,e,n);var a=ti;if(a&&t){var l=An(a).hoistableStyles,s=ei(t);e=e||"default";var u=l.get(s);if(!u){var m={loading:0,preload:null};if(u=a.querySelector(Wi(s)))m.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Zn.get(s))&&Do(t,n);var x=u=a.createElement("link");qt(x),$e(x,"link",t),x._p=new Promise(function(O,X){x.onload=O,x.onerror=X}),x.addEventListener("load",function(){m.loading|=1}),x.addEventListener("error",function(){m.loading|=2}),m.loading|=4,yc(u,e,a)}u={type:"stylesheet",instance:u,count:1,state:m},l.set(s,u)}}}function ug(t,e){Xa.X(t,e);var n=ti;if(n&&t){var a=An(n).hoistableScripts,l=ni(t),s=a.get(l);s||(s=n.querySelector(Pi(l)),s||(t=E({src:t,async:!0},e),(e=Zn.get(l))&&No(t,e),s=n.createElement("script"),qt(s),$e(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function cg(t,e){Xa.M(t,e);var n=ti;if(n&&t){var a=An(n).hoistableScripts,l=ni(t),s=a.get(l);s||(s=n.querySelector(Pi(l)),s||(t=E({src:t,async:!0,type:"module"},e),(e=Zn.get(l))&&No(t,e),s=n.createElement("script"),qt(s),$e(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function Qm(t,e,n,a){var l=(l=Ct.current)?gc(l):null;if(!l)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ei(n.href),n=An(l).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ei(n.href);var s=An(l).hoistableStyles,u=s.get(t);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,u),(s=l.querySelector(Wi(t)))&&!s._p&&(u.instance=s,u.state.loading=5),Zn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Zn.set(t,n),s||rg(l,t,n,u.state))),e&&a===null)throw Error(o(528,""));return u}if(e&&a!==null)throw Error(o(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ni(n),n=An(l).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function ei(t){return'href="'+De(t)+'"'}function Wi(t){return'link[rel="stylesheet"]['+t+"]"}function Zm(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function rg(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),$e(e,"link",n),qt(e),t.head.appendChild(e))}function ni(t){return'[src="'+De(t)+'"]'}function Pi(t){return"script[async]"+t}function Km(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+De(n.href)+'"]');if(a)return e.instance=a,qt(a),a;var l=E({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),qt(a),$e(a,"style",l),yc(a,n.precedence,t),e.instance=a;case"stylesheet":l=ei(n.href);var s=t.querySelector(Wi(l));if(s)return e.state.loading|=4,e.instance=s,qt(s),s;a=Zm(n),(l=Zn.get(l))&&Do(a,l),s=(t.ownerDocument||t).createElement("link"),qt(s);var u=s;return u._p=new Promise(function(m,x){u.onload=m,u.onerror=x}),$e(s,"link",a),e.state.loading|=4,yc(s,n.precedence,t),e.instance=s;case"script":return s=ni(n.src),(l=t.querySelector(Pi(s)))?(e.instance=l,qt(l),l):(a=n,(l=Zn.get(s))&&(a=E({},n),No(a,l)),t=t.ownerDocument||t,l=t.createElement("script"),qt(l),$e(l,"link",a),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(o(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,yc(a,n.precedence,t));return e.instance}function yc(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,s=l,u=0;u<a.length;u++){var m=a[u];if(m.dataset.precedence===e)s=m;else if(s!==l)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Do(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function No(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var vc=null;function Jm(t,e,n){if(vc===null){var a=new Map,l=vc=new Map;l.set(n,a)}else l=vc,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var s=n[l];if(!(s[Oe]||s[ae]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var u=s.getAttribute(e)||"";u=t+u;var m=a.get(u);m?m.push(s):a.set(u,[s])}}return a}function $m(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function og(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Fm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function dg(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=ei(a.href),s=e.querySelector(Wi(l));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=bc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,qt(s);return}s=e.ownerDocument||e,a=Zm(a),(l=Zn.get(l))&&Do(a,l),s=s.createElement("link"),qt(s);var u=s;u._p=new Promise(function(m,x){u.onload=m,u.onerror=x}),$e(s,"link",a),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=bc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Ro=0;function fg(t,e){return t.stylesheets&&t.count===0&&Mc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Ro===0&&(Ro=62500*Zp());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Ro?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sc=null;function Mc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sc=new Map,e.forEach(mg,t),Sc=null,bc.call(t))}function mg(t,e){if(!(e.state.loading&4)){var n=Sc.get(t);if(n)var a=n.get(null);else{n=new Map,Sc.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var u=l[s];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),a=u)}a&&n.set(null,a)}l=e.instance,u=l.getAttribute("data-precedence"),s=n.get(u)||a,s===a&&n.set(null,l),n.set(u,l),this.count++,a=bc.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),s?s.parentNode.insertBefore(l,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var tu={$$typeof:ot,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function hg(t,e,n,a,l,s,u,m,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mn(0),this.hiddenUpdates=Mn(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Im(t,e,n,a,l,s,u,m,x,O,X,K){return t=new hg(t,e,n,u,x,O,X,K,m),e=1,s===!0&&(e|=24),s=Rn(3,null,null,e),t.current=s,s.stateNode=t,e=cr(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:e},fr(s),t}function Wm(t){return t?(t=Os,t):Os}function Pm(t,e,n,a,l,s){l=Wm(l),a.context===null?a.context=l:a.pendingContext=l,a=fl(e),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=ml(t,a,e),n!==null&&(yn(n,t,e),zi(n,t,e))}function th(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jo(t,e){th(t,e),(t=t.alternate)&&th(t,e)}function eh(t){if(t.tag===13||t.tag===31){var e=Kl(t,67108864);e!==null&&yn(e,t,67108864),jo(t,67108864)}}function nh(t){if(t.tag===13||t.tag===31){var e=kn();e=va(e);var n=Kl(t,e);n!==null&&yn(n,t,e),jo(t,e)}}var xc=!0;function pg(t,e,n,a){var l=A.T;A.T=null;var s=V.p;try{V.p=2,zo(t,e,n,a)}finally{V.p=s,A.T=l}}function gg(t,e,n,a){var l=A.T;A.T=null;var s=V.p;try{V.p=8,zo(t,e,n,a)}finally{V.p=s,A.T=l}}function zo(t,e,n,a){if(xc){var l=Oo(a);if(l===null)vo(t,e,a,Ec,n),lh(t,a);else if(vg(l,t,e,n,a))a.stopPropagation();else if(lh(t,a),e&4&&-1<yg.indexOf(t)){for(;l!==null;){var s=_e(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var u=$n(s.pendingLanes);if(u!==0){var m=s;for(m.pendingLanes|=2,m.entangledLanes|=2;u;){var x=1<<31-Ie(u);m.entanglements[1]|=x,u&=~x}ha(s),(Qt&6)===0&&(sc=pe()+500,Ji(0))}}break;case 31:case 13:m=Kl(s,2),m!==null&&yn(m,s,2),uc(),jo(s,2)}if(s=Oo(a),s===null&&vo(t,e,a,Ec,n),s===l)break;l=s}l!==null&&a.stopPropagation()}else vo(t,e,a,null,n)}}function Oo(t){return t=bs(t),_o(t)}var Ec=null;function _o(t){if(Ec=null,t=ia(t),t!==null){var e=M(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=y(e),t!==null)return t;t=null}else if(n===31){if(t=T(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ec=t,null}function ah(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ds()){case Bn:return 2;case fs:return 8;case ga:case du:return 32;case Re:return 268435456;default:return 32}default:return 32}}var ko=!1,Al=null,Tl=null,wl=null,eu=new Map,nu=new Map,Cl=[],yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lh(t,e){switch(t){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":Tl=null;break;case"mouseover":case"mouseout":wl=null;break;case"pointerover":case"pointerout":eu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(e.pointerId)}}function au(t,e,n,a,l,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[l]},e!==null&&(e=_e(e),e!==null&&eh(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function vg(t,e,n,a,l){switch(e){case"focusin":return Al=au(Al,t,e,n,a,l),!0;case"dragenter":return Tl=au(Tl,t,e,n,a,l),!0;case"mouseover":return wl=au(wl,t,e,n,a,l),!0;case"pointerover":var s=l.pointerId;return eu.set(s,au(eu.get(s)||null,t,e,n,a,l)),!0;case"gotpointercapture":return s=l.pointerId,nu.set(s,au(nu.get(s)||null,t,e,n,a,l)),!0}return!1}function sh(t){var e=ia(t.target);if(e!==null){var n=M(e);if(n!==null){if(e=n.tag,e===13){if(e=y(n),e!==null){t.blockedOn=e,Fn(t.priority,function(){nh(n)});return}}else if(e===31){if(e=T(n),e!==null){t.blockedOn=e,Fn(t.priority,function(){nh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oo(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);vs=a,n.target.dispatchEvent(a),vs=null}else return e=_e(n),e!==null&&eh(e),t.blockedOn=n,!1;e.shift()}return!0}function ih(t,e,n){Ac(t)&&n.delete(e)}function bg(){ko=!1,Al!==null&&Ac(Al)&&(Al=null),Tl!==null&&Ac(Tl)&&(Tl=null),wl!==null&&Ac(wl)&&(wl=null),eu.forEach(ih),nu.forEach(ih)}function Tc(t,e){t.blockedOn===e&&(t.blockedOn=null,ko||(ko=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,bg)))}var wc=null;function uh(t){wc!==t&&(wc=t,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],l=t[e+2];if(typeof a!="function"){if(_o(a||n)===null)continue;break}var s=_e(n);s!==null&&(t.splice(e,3),e-=3,zr(s,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function ai(t){function e(x){return Tc(x,t)}Al!==null&&Tc(Al,t),Tl!==null&&Tc(Tl,t),wl!==null&&Tc(wl,t),eu.forEach(e),nu.forEach(e);for(var n=0;n<Cl.length;n++){var a=Cl[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Cl.length&&(n=Cl[0],n.blockedOn===null);)sh(n),n.blockedOn===null&&Cl.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],s=n[a+1],u=l[ze]||null;if(typeof s=="function")u||uh(n);else if(u){var m=null;if(s&&s.hasAttribute("formAction")){if(l=s,u=s[ze]||null)m=u.formAction;else if(_o(l)!==null)continue}else m=u.action;typeof m=="function"?n[a+1]=m:(n.splice(a,3),a-=3),uh(n)}}}function ch(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(u){return l=u})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function Uo(t){this._internalRoot=t}Cc.prototype.render=Uo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(o(409));var n=e.current,a=kn();Pm(n,a,t,e,null,null)},Cc.prototype.unmount=Uo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pm(t.current,2,null,t,null,null),uc(),e[In]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ri();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cl.length&&e!==0&&e<Cl[n].priority;n++);Cl.splice(n,0,t),n===0&&sh(t)}};var rh=r.version;if(rh!=="19.2.0")throw Error(o(527,rh,"19.2.0"));V.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=v(e),t=t!==null?D(t):null,t=t===null?null:t.stateNode,t};var Sg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{sa=Dc.inject(Sg),je=Dc}catch{}}return su.createRoot=function(t,e){if(!p(t))throw Error(o(299));var n=!1,a="",l=gf,s=yf,u=vf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(u=e.onRecoverableError)),e=Im(t,1,!1,null,null,n,a,null,l,s,u,ch),t[In]=e.current,yo(t),new Uo(e)},su.hydrateRoot=function(t,e,n){if(!p(t))throw Error(o(299));var a=!1,l="",s=gf,u=yf,m=vf,x=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.formState!==void 0&&(x=n.formState)),e=Im(t,1,!0,e,n??null,a,l,x,s,u,m,ch),e.context=Wm(null),n=e.current,a=kn(),a=va(a),l=fl(a),l.callback=null,ml(n,l,a),n=a,e.current.lanes=n,cn(e,n),ha(e),t[In]=e.current,yo(t),new Cc(e)},su.version="19.2.0",su}var bh;function Rg(){if(bh)return qo.exports;bh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(r){console.error(r)}}return d(),qo.exports=Ng(),qo.exports}var jg=Rg();const zg="modulepreload",Og=function(d,r){return new URL(d,r).href},Sh={},_g=function(r,f,o){let p=Promise.resolve();if(f&&f.length>0){let v=function(D){return Promise.all(D.map(E=>Promise.resolve(E).then(q=>({status:"fulfilled",value:q}),q=>({status:"rejected",reason:q}))))};const y=document.getElementsByTagName("link"),T=document.querySelector("meta[property=csp-nonce]"),b=T?.nonce||T?.getAttribute("nonce");p=v(f.map(D=>{if(D=Og(D,o),D in Sh)return;Sh[D]=!0;const E=D.endsWith(".css"),q=E?'[rel="stylesheet"]':"";if(o)for(let nt=y.length-1;nt>=0;nt--){const I=y[nt];if(I.href===D&&(!E||I.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${D}"]${q}`))return;const J=document.createElement("link");if(J.rel=E?"stylesheet":zg,E||(J.as="script"),J.crossOrigin="",J.href=D,b&&J.setAttribute("nonce",b),document.head.appendChild(J),E)return new Promise((nt,I)=>{J.addEventListener("load",nt),J.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${D}`)))})}))}function M(y){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=y,window.dispatchEvent(T),!T.defaultPrevented)throw y}return p.then(y=>{for(const T of y||[])T.status==="rejected"&&M(T.reason);return r().catch(M)})};function kg(d={}){const{immediate:r=!1,onNeedRefresh:f,onOfflineReady:o,onRegistered:p,onRegisteredSW:M,onRegisterError:y}=d;let T,b;const v=async(E=!0)=>{await b};async function D(){if("serviceWorker"in navigator){if(T=await _g(async()=>{const{Workbox:E}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:E}},[],import.meta.url).then(({Workbox:E})=>new E("./sw.js",{scope:"./",type:"classic"})).catch(E=>{y?.(E)}),!T)return;T.addEventListener("activated",E=>{(E.isUpdate||E.isExternal)&&window.location.reload()}),T.addEventListener("installed",E=>{E.isUpdate||o?.()}),T.register({immediate:r}).then(E=>{M?M("./sw.js",E):p?.(E)}).catch(E=>{y?.(E)})}}return b=D(),v}const Ug=""+new URL("lame.all-C7RRJB7H.js",import.meta.url).href;let Nc=null;async function Bg(){if(typeof window>"u")throw new Error("MP3 encoder can only load in a browser.");if(!window.lamejs?.Mp3Encoder)return Nc||(Nc=new Promise((d,r)=>{const f=document.createElement("script");f.src=Ug,f.async=!0,f.onload=()=>d(),f.onerror=()=>r(new Error("Failed to load MP3 encoder script.")),document.head.appendChild(f)}).then(()=>{if(!window.lamejs?.Mp3Encoder)throw new Error("MP3 encoder loaded but window.lamejs.Mp3Encoder is missing.")}),Nc)}function Lg(){const d=window.lamejs?.Mp3Encoder;if(!d)throw new Error("MP3 encoder is not loaded yet.");return d}const ui={frameDurationMs:50,minQuietDurationMs:600,minSegmentMs:5e3,targetSegmentMs:1e4,maxSegmentMs:6e4,silencePaddingMs:200,thresholdMultiplier:1.6,quietPercentile:.3,noisePercentile:.12,initialIgnoreMs:120},Mh=(d,r)=>{if(d.length===0)return 0;const f=[...d].sort((M,y)=>M-y),o=Math.min(Math.max(r,0),1),p=o===1?f.length-1:Math.floor(o*f.length);return f[p]},qg=d=>{if(d.numberOfChannels===1)return d.getChannelData(0);const{length:r,numberOfChannels:f}=d,o=new Float32Array(r);for(let p=0;p<f;p+=1){const M=d.getChannelData(p);for(let y=0;y<r;y+=1)o[y]+=M[y]/f}return o},Hg=(d,r,f)=>{const o=Math.max(1,Math.round(f/1e3*r)),p=d.length,M=Math.ceil(p/o),y=new Array(M),T=new Array(M);let b=Number.POSITIVE_INFINITY,v=0;for(let D=0;D<M;D+=1){const E=D*o,q=Math.min(p,E+o),J=q-E;if(J<=0){y[D]={index:D,startMs:E/r*1e3,endMs:q/r*1e3,rms:0,normalized:0},T[D]=0;continue}let nt=0;for(let xt=E;xt<q;xt+=1){const ut=d[xt];nt+=ut*ut}const I=Math.sqrt(nt/J);y[D]={index:D,startMs:E/r*1e3,endMs:q/r*1e3,rms:I,normalized:I},T[D]=I,I<b&&(b=I),I>v&&(v=I)}return Number.isFinite(b)||(b=0),{frames:y,rmsValues:T,minRms:b,maxRms:v}},Gg=({audioBuffer:d,frameDurationMs:r=ui.frameDurationMs})=>{const f=qg(d),{frames:o}=Hg(f,d.sampleRate,r),p=o.reduce((D,E)=>Math.max(D,E.rms),0),M=p>0?.92/p:1,y=o.map(D=>Math.min(D.rms*M,1)),T=y.length,b=T>0?y.reduce((D,E)=>D+E,0)/T:0,v=T>0?Math.max(...y):0;return{normalizedFrames:y,scalingFactor:M,maxNormalized:v,averageNormalized:b,frameDurationMs:r}},Yg=(d,r,f,o)=>{const p=[];let M=null,y=Number.POSITIVE_INFINITY,T=0,b=0,v=0,D=!1;for(let E=0;E<d.length;E+=1){const q=d[E],J=q.startMs>=o;J&&q.rms>r&&(D=!0);const I=D&&J&&q.rms<=r;if(I&&(M===null?(M=E,y=q.rms,T=q.rms,b=q.rms,v=1):(y=Math.min(y,q.rms),T=Math.max(T,q.rms),b+=q.rms,v+=1)),(!I&&M!==null||E===d.length-1&&I)&&M!==null){const ut=I?E:E-1,bt=d[M],ot=d[ut],H=ot.endMs-bt.startMs;if(H>=f){const P=(bt.startMs+ot.endMs)/2;p.push({index:p.length,startFrame:M,endFrame:ut,startMs:bt.startMs,endMs:ot.endMs,durationMs:H,minRms:y,maxRms:T,averageRms:v>0?b/v:0,centerMs:P,normalizedMin:0,normalizedMax:0})}M=null,y=Number.POSITIVE_INFINITY,T=0,b=0,v=0}}return p},Xg=(d,r)=>d.map(f=>{const o=r.slice(f.startFrame,f.endFrame+1).map(y=>y.normalized),p=o.length>0?Math.min(...o):0,M=o.length>0?Math.max(...o):0;return{...f,normalizedMin:p,normalizedMax:M}}),Vg=(d,r,f)=>{const o=[];let p=0;for(const b of d){const v=b.centerMs-p;if(!(v<f.minSegmentMs)&&(v>=f.targetSegmentMs||v>=f.maxSegmentMs)){const D=Math.max(0,1-b.normalizedMax);o.push({index:o.length,positionMs:b.centerMs,precedingDurationMs:v,quietRegionIndex:b.index,score:D,reason:"pause"}),p=b.centerMs}}const M=[],y=[...o].sort((b,v)=>b.positionMs-v.positionMs);let T=0;return y.forEach((b,v)=>{const D=Math.min(b.positionMs,r),E=Math.max(0,D-T);M.push({index:v,startMs:T,endMs:D,durationMs:E,breakReason:"pause",boundaryIndex:b.index}),T=b.positionMs}),T<r&&M.push({index:M.length,startMs:T,endMs:r,durationMs:Math.max(0,r-T),breakReason:"end",boundaryIndex:null}),{boundaries:o,segments:M}};function Ih(d,r={}){const{totalDurationMs:f,config:o={},sampleRate:p=0,frameDurationMs:M}=r;if(d.length===0)return null;const y={...ui,...o},T=d.map(H=>H.normalized),b=d.reduce((H,P)=>Math.max(H,P.rms),0),v=d.reduce((H,P)=>Math.min(H,P.rms),Number.POSITIVE_INFINITY),D=1,E=Mh(T,y.noisePercentile),q=Mh(T,y.quietPercentile),J=Math.max(E*y.thresholdMultiplier,(E+q)/2),nt=Math.min(J,b*.7),I=Math.min(nt,.98),xt=Math.max(f??0,d[d.length-1]?.endMs??0),ut=Xg(Yg(d,nt,y.minQuietDurationMs,y.initialIgnoreMs),d),{boundaries:bt,segments:ot}=Vg(ut,xt,y);return{frames:d,quietRegions:ut,boundaries:bt,segments:ot,stats:{sampleRate:p,totalDurationMs:xt,frameDurationMs:M??y.frameDurationMs,frameCount:d.length,maxRms:b,minRms:Number.isFinite(v)?v:0,scalingFactor:D,noiseFloor:E,threshold:nt,normalizedThreshold:I}}}function Qg({frames:d,windowStartMs:r,windowEndMs:f,sampleRate:o,frameDurationMs:p,config:M}){const y=Math.max(0,Math.round(r)),T=Math.max(y,Math.round(f)),b=Math.max(0,T-y);if(d.length===0||b<=0)return{analysis:null,frames:[],windowStartMs:y,windowEndMs:T,windowDurationMs:b};const v=[];for(const E of d){if(E.endMs<=y||E.startMs>=T)continue;const q=Math.max(0,E.startMs-y),J=Math.min(T,E.endMs)-y;J<=q||v.push({...E,index:v.length,startMs:q,endMs:J})}return{analysis:v.length>0?Ih(v,{totalDurationMs:b,sampleRate:o,frameDurationMs:p,config:M}):null,frames:v,windowStartMs:y,windowEndMs:T,windowDurationMs:b}}async function Wh(d,r){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");const{chunkId:f,sessionId:o,seq:p,chunkStartMs:M,chunkEndMs:y,frameDurationMs:T}=r,b=new AudioContext;try{const v=await d.arrayBuffer(),D=await b.decodeAudioData(v.slice(0)),{normalizedFrames:E,scalingFactor:q,maxNormalized:J,averageNormalized:nt}=Gg({audioBuffer:D,frameDurationMs:T});return{chunkId:f,sessionId:o,seq:p,chunkStartMs:M,chunkEndMs:y,durationMs:D.duration*1e3,sampleRate:D.sampleRate,frameDurationMs:T??50,frames:E,maxNormalized:J,averageNormalized:nt,scalingFactor:q}}finally{await b.close().catch(()=>{})}}const Fo=(d,r)=>r.some(f=>d instanceof f);let xh,Eh;function Zg(){return xh||(xh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kg(){return Eh||(Eh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Io=new WeakMap,Xo=new WeakMap,Oc=new WeakMap;function Jg(d){const r=new Promise((f,o)=>{const p=()=>{d.removeEventListener("success",M),d.removeEventListener("error",y)},M=()=>{f(cs(d.result)),p()},y=()=>{o(d.error),p()};d.addEventListener("success",M),d.addEventListener("error",y)});return Oc.set(r,d),r}function $g(d){if(Io.has(d))return;const r=new Promise((f,o)=>{const p=()=>{d.removeEventListener("complete",M),d.removeEventListener("error",y),d.removeEventListener("abort",y)},M=()=>{f(),p()},y=()=>{o(d.error||new DOMException("AbortError","AbortError")),p()};d.addEventListener("complete",M),d.addEventListener("error",y),d.addEventListener("abort",y)});Io.set(d,r)}let Wo={get(d,r,f){if(d instanceof IDBTransaction){if(r==="done")return Io.get(d);if(r==="store")return f.objectStoreNames[1]?void 0:f.objectStore(f.objectStoreNames[0])}return cs(d[r])},set(d,r,f){return d[r]=f,!0},has(d,r){return d instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in d}};function Ph(d){Wo=d(Wo)}function Fg(d){return Kg().includes(d)?function(...r){return d.apply(Po(this),r),cs(this.request)}:function(...r){return cs(d.apply(Po(this),r))}}function Ig(d){return typeof d=="function"?Fg(d):(d instanceof IDBTransaction&&$g(d),Fo(d,Zg())?new Proxy(d,Wo):d)}function cs(d){if(d instanceof IDBRequest)return Jg(d);if(Xo.has(d))return Xo.get(d);const r=Ig(d);return r!==d&&(Xo.set(d,r),Oc.set(r,d)),r}const Po=d=>Oc.get(d);function Wg(d,r,{blocked:f,upgrade:o,blocking:p,terminated:M}={}){const y=indexedDB.open(d,r),T=cs(y);return o&&y.addEventListener("upgradeneeded",b=>{o(cs(y.result),b.oldVersion,b.newVersion,cs(y.transaction),b)}),f&&y.addEventListener("blocked",b=>f(b.oldVersion,b.newVersion,b)),T.then(b=>{M&&b.addEventListener("close",()=>M()),p&&b.addEventListener("versionchange",v=>p(v.oldVersion,v.newVersion,v))}).catch(()=>{}),T}const Pg=["get","getKey","getAll","getAllKeys","count"],ty=["put","add","delete","clear"],Vo=new Map;function Ah(d,r){if(!(d instanceof IDBDatabase&&!(r in d)&&typeof r=="string"))return;if(Vo.get(r))return Vo.get(r);const f=r.replace(/FromIndex$/,""),o=r!==f,p=ty.includes(f);if(!(f in(o?IDBIndex:IDBObjectStore).prototype)||!(p||Pg.includes(f)))return;const M=async function(y,...T){const b=this.transaction(y,p?"readwrite":"readonly");let v=b.store;return o&&(v=v.index(T.shift())),(await Promise.all([v[f](...T),p&&b.done]))[0]};return Vo.set(r,M),M}Ph(d=>({...d,get:(r,f,o)=>Ah(r,f)||d.get(r,f,o),has:(r,f)=>!!Ah(r,f)||d.has(r,f)}));const ey=["continue","continuePrimaryKey","advance"],Th={},td=new WeakMap,tp=new WeakMap,ny={get(d,r){if(!ey.includes(r))return d[r];let f=Th[r];return f||(f=Th[r]=function(...o){td.set(this,tp.get(this)[r](...o))}),f}};async function*ay(...d){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...d)),!r)return;r=r;const f=new Proxy(r,ny);for(tp.set(f,r),Oc.set(f,Po(r));r;)yield f,r=await(td.get(f)||r.continue()),td.delete(f)}function wh(d,r){return r===Symbol.asyncIterator&&Fo(d,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&Fo(d,[IDBIndex,IDBObjectStore])}Ph(d=>({...d,get(r,f,o){return wh(r,f)?ay:d.get(r,f,o)},has(r,f){return wh(r,f)||d.has(r,f)}}));const Le="unverified";function ly(d,r){let f=0;return r.map(o=>{const p=Number.isFinite(o.durationMs)&&o.durationMs>0?Math.round(o.durationMs):0,M=Math.round(d+f),y=Math.round(M+p);return f+=p,{...o,durationMs:p,startMs:M,endMs:y}})}const Ch=d=>{const r=Array.isArray(d.frames)?d.frames:[],f=r.length>0&&typeof r[0]=="number"?r:r.map(T=>{if(T&&typeof T=="object"){if(typeof T.normalized=="number")return Math.max(0,T.normalized);if(typeof T.rms=="number")return Math.max(0,T.rms)}return 0}),o=typeof d.frameDurationMs=="number"&&d.frameDurationMs>0?d.frameDurationMs:50,p=typeof d.durationMs=="number"&&d.durationMs>0?d.durationMs:f.length*o,M=typeof d.maxNormalized=="number"?d.maxNormalized:f.length>0?Math.max(...f):0,y=typeof d.averageNormalized=="number"?d.averageNormalized:f.length>0?f.reduce((T,b)=>T+b,0)/f.length:0;return{chunkId:d.chunkId,sessionId:d.sessionId,seq:d.seq??0,chunkStartMs:d.chunkStartMs??0,chunkEndMs:typeof d.chunkEndMs=="number"?d.chunkEndMs:(d.chunkStartMs??0)+p,durationMs:p,sampleRate:d.sampleRate??0,frameDurationMs:o,frames:f,maxNormalized:M,averageNormalized:y,scalingFactor:d.scalingFactor??1,id:d.id??d.chunkId,createdAt:d.createdAt??Date.now(),updatedAt:d.updatedAt??Date.now()}},iu=d=>{const r=Number.isFinite(d.startMs)?d.startMs:0,f=Number.isFinite(d.endMs)?d.endMs:r,o=Number.isFinite(d.durationMs)?d.durationMs:Math.max(0,f-r),p=typeof d.audioPurgedAt=="number"?d.audioPurgedAt:null,M=d.transcription?{...d.transcription,segments:Array.isArray(d.transcription.segments)?d.transcription.segments:[],text:d.transcription.text??""}:d.transcription;return{...d,index:Number.isFinite(d.index)?d.index:0,startMs:r,endMs:f,durationMs:o,breakReason:d.breakReason??null,boundaryIndex:typeof d.boundaryIndex=="number"?d.boundaryIndex:null,transcription:M??null,transcriptionError:d.transcriptionError??null,audioPurgedAt:p}},sy="durable-audio-recorder",iy=4,Dh=50;let Qo=null;async function ue(){return Qo||(Qo=Wg(sy,iy,{upgrade(d,r){if(r<1&&(d.createObjectStore("sessions",{keyPath:"id"}).createIndex("by-updated","updatedAt"),d.createObjectStore("chunks",{keyPath:"id"}).createIndex("by-session","sessionId")),r<2){d.createObjectStore("logSessions",{keyPath:"id"}).createIndex("by-started","startedAt");const o=d.createObjectStore("logEntries",{keyPath:"id",autoIncrement:!0});o.createIndex("by-session","sessionId"),o.createIndex("by-timestamp","timestamp")}if(r<3){const f=d.createObjectStore("chunkVolumes",{keyPath:"id"});f.createIndex("by-session","sessionId"),f.createIndex("by-chunk","chunkId")}r<4&&d.createObjectStore("snips",{keyPath:"id"}).createIndex("by-session","sessionId")}})),Qo}class uy{async init(){await ue()}async createSession(r){await(await ue()).put("sessions",{...r,timingStatus:r.timingStatus??Le})}async updateSession(r,f){const p=(await ue()).transaction("sessions","readwrite"),M=p.objectStore("sessions"),y=await M.get(r);if(!y)return await p.done,null;const T={...y,...f,timingStatus:f.timingStatus??y.timingStatus??Le};return await M.put(T),await p.done,T}async appendChunk(r,f){const p=(await ue()).transaction(["chunks","sessions"],"readwrite"),M=p.objectStore("chunks"),y=p.objectStore("sessions"),T={...r,blob:f,byteLength:f.size,createdAt:Date.now(),verifiedAudioMsec:r.seq===0&&/mp4|m4a/i.test(f.type)?0:null,timingStatus:Le};await M.put(T);const b=await y.get(r.sessionId);if(b){const v=Math.max(b.durationMs,r.endMs-b.startedAt),D={...b,updatedAt:Date.now(),chunkCount:b.chunkCount+1,totalBytes:b.totalBytes+f.size,durationMs:v};await y.put(D)}await p.done}async listSessions(){return(await(await ue()).getAll("sessions")).map(o=>({...o,timingStatus:o.timingStatus??Le})).sort((o,p)=>p.startedAt-o.startedAt)}async getSession(r){const o=await(await ue()).get("sessions",r);return o?{...o,timingStatus:o.timingStatus??Le}:null}async getChunkMetadata(r){return(await(await ue()).transaction("chunks").store.index("by-session").getAll(r)).map(({blob:M,timingStatus:y,...T})=>({...T,timingStatus:y??Le})).sort((M,y)=>M.seq-y.seq)}async getChunkData(r){return(await(await ue()).transaction("chunks").store.index("by-session").getAll(r)).sort((M,y)=>M.seq-y.seq).map(M=>({...M,timingStatus:M.timingStatus??Le}))}async buildSessionBlob(r,f){const M=await(await ue()).transaction("chunks").store.index("by-session").getAll(r);if(M.length===0)return null;const T=M.sort((b,v)=>b.seq-v.seq).map(b=>b.blob);return new Blob(T,{type:f})}async storeChunkVolumeProfile(r){const o=(await ue()).transaction(["chunkVolumes","chunks"],"readwrite"),p=o.objectStore("chunkVolumes"),M=o.objectStore("chunks"),y=await p.get(r.chunkId),T=Date.now(),b={...r,id:r.chunkId,createdAt:y?.createdAt??T,updatedAt:T},v=Ch(b);await p.put(v);const D=await M.get(r.chunkId);D&&(D.verifiedAudioMsec=Math.round(r.durationMs),await M.put(D)),await o.done}async getChunkVolumeProfile(r){return await(await ue()).get("chunkVolumes",r)??null}async listChunkVolumeProfiles(r){const o=(await ue()).transaction("chunkVolumes").store;let p;return r?p=await o.index("by-session").getAll(r):p=await o.getAll(),p.map(y=>Ch(y)).sort((y,T)=>y.sessionId!==T.sessionId?y.sessionId.localeCompare(T.sessionId):y.seq!==T.seq?y.seq-T.seq:y.chunkStartMs-T.chunkStartMs)}async listSnips(r){const o=(await ue()).transaction("snips").store;let p;return r?p=await o.index("by-session").getAll(r):p=await o.getAll(),p.map(y=>iu(y)).sort((y,T)=>y.sessionId!==T.sessionId?y.sessionId.localeCompare(T.sessionId):y.index-T.index)}async appendSnips(r,f){const p=(await ue()).transaction("snips","readwrite"),M=p.objectStore("snips"),y=await M.index("by-session").getAll(r),T=new Map;y.forEach(D=>{T.set(D.index,D)});const b=Date.now();for(const D of f){if(T.has(D.index))continue;const E=Number.isFinite(D.startMs)?Math.max(0,D.startMs):0,q=Number.isFinite(D.endMs)?Math.max(E,D.endMs):E,J=Number.isFinite(D.durationMs)?Math.max(0,D.durationMs):Math.max(0,q-E),nt={id:`${r}-snip-${D.index}`,sessionId:r,index:D.index,startMs:E,endMs:q,durationMs:J,breakReason:D.breakReason??null,boundaryIndex:typeof D.boundaryIndex=="number"?D.boundaryIndex:null,createdAt:b,updatedAt:b,transcription:null,transcriptionError:null,audioPurgedAt:null};await M.put(nt),T.set(nt.index,nt)}return await p.done,Array.from(T.values()).map(D=>iu(D)).sort((D,E)=>D.index-E.index)}async updateSnipTranscription(r,f){const p=(await ue()).transaction("snips","readwrite"),M=p.objectStore("snips"),y=await M.get(r);if(!y)return await p.done,null;const T=iu({...y,transcription:f.transcription!==void 0?f.transcription:y.transcription,transcriptionError:f.transcriptionError!==void 0?f.transcriptionError:y.transcriptionError,updatedAt:Date.now()});return await M.put(T),await p.done,T}async deleteSession(r){const o=(await ue()).transaction(["sessions","chunks","chunkVolumes","snips"],"readwrite");await o.objectStore("sessions").delete(r);const M=o.objectStore("chunks").index("by-session");for(let D=await M.openCursor(r);D;D=await D.continue())await D.delete();const T=o.objectStore("chunkVolumes").index("by-session");for(let D=await T.openCursor(r);D;D=await D.continue())await D.delete();const v=o.objectStore("snips").index("by-session");for(let D=await v.openCursor(r);D;D=await D.continue())await D.delete();await o.done}async purgeLegacyMp4Sessions(){const f=(await this.listSessions()).filter(o=>/mp4|m4a/i.test(o.mimeType??""));for(const o of f)await this.deleteSession(o.id);return{deletedSessions:f.length}}async storageTotals(){const f=(await ue()).transaction("chunks").store;let o=0,p=await f.openCursor();for(;p;)o+=p.value.byteLength,p=await p.continue();return{totalBytes:o}}async applyRetentionPolicy(r){const f=typeof r.now=="number"?r.now:Date.now(),p=(await ue()).transaction(["chunks","snips","sessions"],"readwrite"),M=p.objectStore("chunks"),y=p.objectStore("snips"),T=p.objectStore("sessions"),[b,v,D]=await Promise.all([M.getAll(),y.getAll(),T.getAll()]),E=b.map(A=>({...A,timingStatus:A.timingStatus??Le})),q=v.map(A=>iu(A)),J=D.map(A=>({...A,timingStatus:A.timingStatus??Le})),nt=E.reduce((A,V)=>A+V.byteLength,0);let I=nt;const xt=Number.isFinite(r.limitBytes)?Math.max(0,r.limitBytes):nt;if(I<=xt)return await p.done,{limitBytes:xt,beforeBytes:nt,afterBytes:I,purgedChunkIds:[],purgedSnipIds:[],updatedSessionIds:[],ranAt:f};const ut=new Map(J.map(A=>[A.id,A])),bt=new Map;E.forEach(A=>{bt.set(A.sessionId,(bt.get(A.sessionId)??0)+A.byteLength)});const ot=new Map;q.forEach(A=>{const V=ot.get(A.sessionId);V?V.push(A):ot.set(A.sessionId,[A])}),ot.forEach(A=>A.sort((V,W)=>V.startMs-W.startMs));const H=1e12,P=new Map;E.forEach(A=>{const V=P.get(A.sessionId);(V===void 0||A.startMs<V)&&P.set(A.sessionId,A.startMs)});const ft=new Map;ot.forEach((A,V)=>{ft.set(V,A.some(W=>W.startMs>H||W.endMs>H))});const F=new Map;J.forEach(A=>{const V=Number.isFinite(A.startedAt)?Math.round(A.startedAt):P.get(A.id)??0,W=Number.isFinite(V)?V:0;F.set(A.id,{baseStartMs:W,baseIsAbsolute:W>H,snipIsAbsolute:ft.get(A.id)??!1})});const ct=4,Gt=(A,V)=>{const W=A.blob.type||V?.mimeType||"";if(!/mp4|m4a/i.test(W))return!1;const $=Math.max(0,A.endMs-A.startMs);return A.seq===0&&($<=10||A.byteLength<4096)},ne=(A,V)=>{const{baseStartMs:W,baseIsAbsolute:$,snipIsAbsolute:it}=V,S=$&&A.startMs>H,k=it?S?A.startMs:$?W+A.startMs:A.startMs:S?A.startMs-W:A.startMs,tt=it?S?A.endMs:$?W+A.endMs:A.endMs:S?A.endMs-W:A.endMs,lt=Number.isFinite(k)?k:0,yt=Number.isFinite(tt)?tt:lt;return{startMs:it?lt:Math.max(0,lt),endMs:it?yt:Math.max(Math.max(0,lt),yt)}},$t=(A,V,W)=>{if(!A||A.length===0)return[];const $=V+ct,it=W-ct;if(it<=$)return[];const S=[];for(const k of A)if(!(k.endMs<=$)){if(k.startMs>=it)break;S.push(k)}return S},Ft=[];for(const A of E){if(A.byteLength<=0||A.blob.size<=0)continue;const V=ut.get(A.sessionId)??null;if(Gt(A,V))continue;const W=ot.get(A.sessionId),$=F.get(A.sessionId)??{baseStartMs:0,baseIsAbsolute:!1,snipIsAbsolute:!1},it=ne(A,$),S=$t(W,it.startMs,it.endMs);S.length!==0&&S.every(k=>k.transcription&&!k.transcriptionError)&&Ft.push({chunk:A,snipIds:S.map(k=>k.id),session:V})}Ft.sort((A,V)=>{const W=A.chunk.createdAt??A.chunk.startMs,$=V.chunk.createdAt??V.chunk.startMs;return W!==$?W-$:A.chunk.seq-V.chunk.seq});const ln=[],Ce=new Set,xe=new Set;for(const A of Ft){if(I<=xt)break;const V=A.chunk,W=V.byteLength;if(W<=0)continue;const $=V.blob.type||A.session?.mimeType||"",it={...V,blob:new Blob([],{type:$}),byteLength:0,audioPurgedAt:f};await M.put(it),ln.push(V.id),I=Math.max(0,I-W),bt.set(V.sessionId,Math.max(0,(bt.get(V.sessionId)??0)-W)),xe.add(V.sessionId),A.snipIds.forEach(S=>Ce.add(S))}for(const A of xe){const V=ut.get(A);if(!V)continue;const W=Math.max(0,bt.get(A)??0);await T.put({...V,totalBytes:W,updatedAt:f,timingStatus:V.timingStatus??Le})}for(const A of Ce){const V=await y.get(A);if(!V)continue;const W=iu(V);W.audioPurgedAt||await y.put({...W,audioPurgedAt:f,updatedAt:f})}return await p.done,{limitBytes:xt,beforeBytes:nt,afterBytes:I,purgedChunkIds:ln,purgedSnipIds:Array.from(Ce),updatedSessionIds:Array.from(xe),ranAt:f}}async verifySessionChunkTimings(r){const o=(await ue()).transaction(["chunks","chunkVolumes","sessions"],"readwrite"),p=o.objectStore("chunks"),M=o.objectStore("chunkVolumes"),y=o.objectStore("sessions"),[T,b]=await Promise.all([y.get(r),p.index("by-session").getAll(r)]),v=T?{...T,timingStatus:T.timingStatus??Le}:null;if(b.length===0)return await o.done,{sessionId:r,status:Le,updatedChunkIds:[],missingChunkIds:[],totalVerifiedDurationMs:0,baseStartMs:v?.startedAt??null,verifiedChunkCount:0,session:v};const D=[...b].sort((F,ct)=>F.seq-ct.seq),E=new Array(D.length),q=[],J=v?.mimeType??"",I=/mp4|m4a/i.test(J)?D.find(F=>F.seq===0&&(F.endMs-F.startMs<=10||F.byteLength<4096))??null:null;for(let F=0;F<D.length;F+=1){const ct=D[F];if(I?.id===ct.id){E[F]=0;continue}const ne=typeof ct.verifiedAudioMsec=="number"&&ct.verifiedAudioMsec>0?Math.round(ct.verifiedAudioMsec):null;if(ne!==null){E[F]=ne;continue}const $t=await M.get(ct.id);if($t&&typeof $t.durationMs=="number"&&$t.durationMs>0){E[F]=Math.round($t.durationMs);continue}q.push(ct.id)}const xt=I?.startMs??v?.startedAt??D[0]?.startMs??Date.now(),ut=Number.isFinite(xt)?Math.round(xt):Date.now();if(q.length>0)return T&&T.timingStatus!==Le&&await y.put({...T,timingStatus:Le}),await o.done,{sessionId:r,status:Le,updatedChunkIds:[],missingChunkIds:q,totalVerifiedDurationMs:0,baseStartMs:ut,verifiedChunkCount:D.filter((F,ct)=>E[ct]>0).length,session:v};const bt=ly(ut,D.map((F,ct)=>({id:F.id,seq:F.seq,durationMs:E[ct]}))),ot=[];let H=0,P=0;for(let F=0;F<bt.length;F+=1){const ct=D[F],Gt=bt[F],ne={...ct,startMs:Gt.startMs,endMs:Gt.endMs,verifiedAudioMsec:Gt.durationMs,timingStatus:"verified"};(ct.startMs!==ne.startMs||ct.endMs!==ne.endMs||(ct.verifiedAudioMsec??0)!==ne.verifiedAudioMsec||ct.timingStatus!=="verified")&&(await p.put(ne),ot.push(ne.id)),D[F]=ne,Gt.durationMs>0&&(P+=1,H+=Math.max(0,Gt.durationMs))}let ft=v;if(T){const F=Math.max(0,Math.round(H)),ct={...T,timingStatus:"verified",durationMs:Math.max(T.durationMs,F),updatedAt:Date.now()};await y.put(ct),ft={...ct}}return await o.done,{sessionId:r,status:"verified",updatedChunkIds:ot,missingChunkIds:[],totalVerifiedDurationMs:Math.max(0,Math.round(H)),baseStartMs:ut,verifiedChunkCount:P,session:ft}}async reconcileDanglingSessions(){const f=(await ue()).transaction(["sessions","chunks"],"readwrite"),o=f.objectStore("sessions"),p=f.objectStore("chunks"),M=await o.getAll(),y=Date.now();for(const T of M){if(T.status!=="recording")continue;const b=await p.index("by-session").getAll(T.id);if(b.length===0)await o.put({...T,status:"error",notes:"No audio captured (session interrupted).",updatedAt:y,totalBytes:0,chunkCount:0,durationMs:0,timingStatus:T.timingStatus??Le});else{const v=b.reduce((E,q)=>E+q.byteLength,0),D=Math.max(T.durationMs,Math.max(...b.map(E=>E.endMs))-T.startedAt);await o.put({...T,status:"ready",notes:T.notes,updatedAt:y,totalBytes:v,chunkCount:b.length,durationMs:D,timingStatus:T.timingStatus??Le})}}await f.done}async getChunksForInspection(){const o=(await(await ue()).transaction("chunks").store.getAll()).sort((p,M)=>p.startMs!==M.startMs?M.startMs-p.startMs:p.seq!==M.seq?M.seq-p.seq:(M.createdAt??0)-(p.createdAt??0));return Promise.all(o.map(async({blob:p,...M})=>{let y=null;try{y=(await p.arrayBuffer()).byteLength}catch(T){console.warn("[Manifest] Failed to read chunk blob for inspection",T)}return{...M,timingStatus:M.timingStatus??Le,blobSize:p.size,blobType:p.type,verifiedByteLength:y,sizeMismatch:y!==null&&y!==p.size,startIso:new Date(M.startMs).toISOString(),endIso:new Date(M.endMs).toISOString(),blob:"[binary omitted]"}}))}async createLogSession(){const f=(await ue()).transaction(["logSessions","logEntries"],"readwrite"),o=f.objectStore("logSessions"),M={id:crypto.randomUUID(),startedAt:Date.now()};await o.put(M);const y=await o.getAll();if(y.length>Dh){const b=y.sort((D,E)=>D.startedAt-E.startedAt).slice(0,y.length-Dh),v=f.objectStore("logEntries");for(const D of b){await o.delete(D.id);for(let E=await v.index("by-session").openCursor(D.id);E;E=await E.continue())await E.delete()}}return await f.done,M}async finishLogSession(r){const o=(await ue()).transaction("logSessions","readwrite").objectStore("logSessions"),p=await o.get(r);p&&(p.endedAt=Date.now(),await o.put(p))}async appendLogEntry(r){await(await ue()).transaction("logEntries","readwrite").objectStore("logEntries").add({...r})}async listLogSessions(){return(await(await ue()).transaction("logSessions").store.getAll()).sort((o,p)=>p.startedAt-o.startedAt)}async getLogEntries(r,f=250){const p=(await ue()).transaction("logEntries").store.index("by-session"),M=[];for(let y=await p.openCursor(r,"prev");y&&M.length<f;y=await y.continue())M.push(y.value);return M.sort((y,T)=>y.timestamp-T.timestamp)}}const gt=new uy,Nh=120,ii=[];let zc=!1,ed=null,Va=null;async function cy(){return Va||(Va=await gt.createLogSession(),await Lt("Logger initialised")),dy(),Va}async function ry(){Va&&(await Lt("Logger shutting down"),await gt.finishLogSession(Va.id),Va=null),fy()}async function _c(d,r,f){if(Va)try{await gt.appendLogEntry({sessionId:Va.id,timestamp:Date.now(),level:d,message:r,details:f})}catch(o){console.warn("[Logger] Failed to persist log entry",o)}}function Rh(d,r){return _c("debug",d,r)}function Lt(d,r){return _c("info",d,r)}function qe(d,r){return _c("warn",d,r)}function Fe(d,r){return _c("error",d,r)}function jh(){return Va}const oy=d=>{if(!d)return"unknown";if(d instanceof HTMLElement){let r=d.tagName.toLowerCase();d.id?r+=`#${d.id}`:d.classList.length>0&&(r+=`.${d.classList[0]}`);const f=d;return f.src?r+=` src=${f.src}`:f.href&&(r+=` href=${f.href}`),r}return d.constructor?.name??"unknown"},Zo=d=>{ii.push(d),ii.length>Nh&&ii.splice(0,ii.length-Nh)};function dy(){if(zc||typeof window>"u")return;zc=!0;const d=f=>{const o=Date.now();if(f instanceof ErrorEvent){Zo({timestamp:o,type:"error",message:f.message||"Uncaught error",stack:f.error instanceof Error?f.error.stack:void 0,filename:f.filename||void 0,lineno:f.lineno||void 0,colno:f.colno||void 0});return}Zo({timestamp:o,type:"resource",message:"Resource error",target:oy(f.target)})},r=f=>{const o=Date.now(),p=f.reason,M=p instanceof Error?p.message:String(p);Zo({timestamp:o,type:"unhandledrejection",message:M||"Unhandled promise rejection",stack:p instanceof Error?p.stack:void 0,reason:p instanceof Error?void 0:String(p)})};window.addEventListener("error",d,!0),window.addEventListener("unhandledrejection",r),ed=()=>{window.removeEventListener("error",d,!0),window.removeEventListener("unhandledrejection",r)}}function fy(){zc&&(ed?.(),ed=null,zc=!1)}function my(d){return Number.isFinite(d)?ii.filter(r=>r.timestamp>=d):[]}async function hy(d,r={}){if(!d||!Number.isFinite(d)){await Lt("Global error snapshot skipped (missing timestamp)",r);return}const f=my(d),o={...r,since:d,capturedCount:f.length,bufferSize:ii.length,entries:f.slice(-20)};if(f.length===0){await Lt("No global errors captured during recording start window",o);return}await qe("Global errors captured during recording start window",o)}const py={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}},uu="audio/mpeg",zh=9e3,gy=d=>({id:d.id,label:d.label,enabled:d.enabled,muted:d.muted,readyState:d.readyState,settings:typeof d.getSettings=="function"?d.getSettings():void 0,constraints:typeof d.getConstraints=="function"?d.getConstraints():void 0}),Oh=d=>{if(!d)return null;const r=d.getAudioTracks();return{active:d.active,trackCount:r.length,tracks:r.map(f=>gy(f))}},_h=d=>{if(!d)return null;const r="outputLatency"in d?d.outputLatency:null;return{state:d.state,sampleRate:d.sampleRate,baseLatency:Number.isFinite(d.baseLatency)?d.baseLatency:null,outputLatency:Number.isFinite(r)?r:null}},yy=d=>{const r=new Int16Array(d.length);for(let f=0;f<d.length;f+=1){const o=Math.max(-1,Math.min(1,d[f]));r[f]=o<0?Math.round(o*32768):Math.round(o*32767)}return r};class vy{#t=null;#a=null;#n=null;#e=null;#i=null;#l=null;#f=0;#m=Promise.resolve();#r=0;#u=48e3;#g=64;#p=0;#h=0;#b=0;#M=0;#o=[];#c=0;#S=new Set;#s={sessionId:null,state:"idle",startedAt:null,lastChunkAt:null,capturedMs:0,bytesBuffered:0,mimeType:null,chunksRecorded:0};#y=null;#v=!1;get state(){return this.#s}#d(r){this.#s={...this.#s,...r},this.#S.forEach(f=>f(this.#s))}async start(r){if(this.#s.state==="recording"||this.#s.state==="starting")throw new Error("Recorder already running");this.#d({state:"starting",error:void 0,capturedMs:0}),await gt.init(),await Lt("Requesting microphone stream");const f=await navigator.mediaDevices.getUserMedia(py);await Lt("Microphone stream acquired",{stream:Oh(f)});const o=window.AudioContext||window.webkitAudioContext;if(typeof o!="function")throw new Error("AudioContext unavailable");const p=new o;await p.resume().catch(()=>{});const M=p.createMediaStreamSource(f),y=p.createScriptProcessor(4096,1,1),T=p.createGain();T.gain.value=0,M.connect(y),y.connect(T),T.connect(p.destination),this.#t=f,this.#a=p,this.#n=M,this.#e=y,this.#i=T,this.#l=r.sessionId,this.#f=0,this.#o=[],this.#c=0,this.#h=0,this.#b=0,this.#r=Date.now(),this.#u=p.sampleRate,this.#g=Math.max(8,Math.round(r.targetBitrate/1e3)),this.#p=Math.max(1,Math.round(r.chunkDurationMs/1e3*this.#u)),this.#M=Math.max(1,Math.round(this.#u/10)),this.#v=!1,await Lt("PCM capture started",{sessionId:r.sessionId,startedAt:this.#r,sampleRate:this.#u,chunkDurationMs:r.chunkDurationMs,mp3Kbps:this.#g,audioContext:_h(p)}),await Bg(),await gt.updateSession(r.sessionId,{startedAt:this.#r,updatedAt:this.#r,mimeType:uu,status:"recording"}),this.#d({state:"recording",sessionId:r.sessionId,startedAt:this.#r,lastChunkAt:this.#r,capturedMs:0,mimeType:uu,bytesBuffered:0,chunksRecorded:0}),y.onaudioprocess=b=>{if(!this.#l||this.#s.state!=="recording")return;this.#v=!0;const v=b.inputBuffer.getChannelData(0),D=yy(v);this.#o.push(D),this.#c+=D.length;const E=this.#h+this.#c;if(E-this.#b>=this.#M){this.#b=E;const q=Math.round(E/this.#u*1e3);this.#d({capturedMs:q})}this.#c>=this.#p&&this.#A().catch(q=>{console.error("[PCM Capture] chunk flush failed",q),this.#d({state:"error",error:q instanceof Error?q.message:String(q)}),Fe("PCM chunk flush failed",{sessionId:this.#l,error:q instanceof Error?q.message:String(q)})})},this.#C()}async#A(){if(!this.#l||this.#c<this.#p)return;const r=this.#p,f=[];let o=r;for(;o>0&&this.#o.length>0;){const p=this.#o[0];p.length<=o?(f.push(p),this.#o.shift(),o-=p.length):(f.push(p.subarray(0,o)),this.#o[0]=p.subarray(o),o=0)}this.#c-=r,await this.#x(f)}async#T(){if(!this.#l||this.#c<=0)return;const r=this.#o;this.#o=[],this.#c=0,await this.#x(r)}async#x(r){if(!this.#l)return;const f=this.#l,o=this.#f++,p=Lg(),M=new p(1,this.#u,this.#g),y=[];let T=0;for(const J of r){if(J.length===0)continue;T+=J.length;const nt=M.encodeBuffer(J);if(nt.length>0){const I=new Uint8Array(nt.length);I.set(nt),y.push(I)}}const b=M.flush();if(b.length>0){const J=new Uint8Array(b.length);J.set(b),y.push(J)}const v=new Blob(y,{type:uu}),D=this.#r+Math.round(this.#h/this.#u*1e3),E=this.#r+Math.round((this.#h+T)/this.#u*1e3);this.#h+=T;const q=`${f}-chunk-${o}`;Rh("PCM chunk encoded",{sessionId:f,seq:o,sampleRate:this.#u,samples:T,durationMs:E-D,mp3Bytes:v.size,mp3Kbps:this.#g,chunkStartMs:D,chunkEndMs:E}),this.#m=this.#m.then(()=>gt.appendChunk({id:q,sessionId:f,seq:o,startMs:D,endMs:E,verifiedAudioMsec:null},v)).then(async()=>{this.#d({lastChunkAt:E,bytesBuffered:this.#s.bytesBuffered+v.size,chunksRecorded:this.#s.chunksRecorded+1}),await Lt("Chunk persisted",{sessionId:f,seq:o,size:v.size,startMs:D,endMs:E,mimeType:uu});try{const J=await Wh(v,{chunkId:q,sessionId:f,seq:o,chunkStartMs:D,chunkEndMs:E});await gt.storeChunkVolumeProfile(J),Rh("Chunk volume profile stored",{sessionId:f,seq:o,frameCount:J.frames.length})}catch(J){qe("Chunk volume profile failed",{sessionId:f,seq:o,error:J instanceof Error?J.message:String(J)})}})}async stop(){if(this.#s.state!=="recording")return;this.#d({state:"stopping"}),this.#E(),await this.#T(),await this.flushPending();const r=this.#l;let f;if(r){const o=await gt.getChunkMetadata(r),p=o.some(v=>v.byteLength>0&&v.endMs>v.startMs),M=p?"ready":"error",y=o.length>0?o[o.length-1].endMs-o[0].startMs:0,T=o.reduce((v,D)=>v+D.byteLength,0);p||(f=o.length===0?"Error: no audio captured. Check microphone access and try again.":"Error: captured audio contained no playable samples.",await Fe("Session completed without playable audio",{sessionId:r,chunkCount:o.length,totalBytes:T,mimeType:uu}));const b={status:M,updatedAt:Date.now(),durationMs:y,totalBytes:T,chunkCount:o.length};f&&(b.notes=f),await gt.updateSession(r,b),await Lt("Session timing reconciled",{sessionId:r,status:M,durationMs:y,totalBytes:T,chunkCount:o.length,hasPlayableChunk:p})}this.#w(),this.#l=null,this.#d({state:"idle",sessionId:null,startedAt:null,lastChunkAt:null,capturedMs:0,mimeType:null,chunksRecorded:0,bytesBuffered:0,error:f})}async flushPending(){await this.#m}attachAnalysisPort(r){}#w(){if(this.#e){this.#e.onaudioprocess=null;try{this.#e.disconnect()}catch{}this.#e=null}if(this.#n){try{this.#n.disconnect()}catch{}this.#n=null}if(this.#i){try{this.#i.disconnect()}catch{}this.#i=null}this.#a&&(this.#a.close().catch(()=>{}),this.#a=null),this.#t&&(this.#t.getTracks().forEach(r=>r.stop()),this.#t=null)}#C(){this.#E(),this.#y=window.setTimeout(()=>{!this.#v&&this.#s.state==="recording"&&(this.#d({error:"No audio detected  recording may be muted."}),qe("No PCM audio callback detected within timeout",{sessionId:this.#l,timeoutMs:zh,diagnostics:this.getDiagnostics()}))},zh)}#E(){this.#y!==null&&(window.clearTimeout(this.#y),this.#y=null)}getDiagnostics(){const r=this.#e,f=!!(this.#n||this.#e||this.#i);return{sessionId:this.#l,state:this.#s.state,startedAt:this.#s.startedAt,audioContext:_h(this.#a),stream:Oh(this.#t),audioGraph:f?{hasSource:!!this.#n,hasProcessor:!!this.#e,hasMuteGain:!!this.#i,processorBufferSize:typeof r?.bufferSize=="number"?r.bufferSize:null,channelCount:typeof r?.channelCount=="number"?r.channelCount:null,channelCountMode:r?.channelCountMode??null,channelInterpretation:r?.channelInterpretation??null}:null,processing:{hasSeenAudioProcess:this.#v,pendingSamples:this.#c,totalSamplesWritten:this.#h,chunkTargetSamples:this.#p,sampleRate:this.#u}}}subscribe(r){return this.#S.add(r),r(this.#s),()=>this.#S.delete(r)}}const is=new vy,an={desiredActive:!1,sentinel:null,pending:!1,supportLogged:!1,listenersAttached:!1},Ko=()=>typeof document>"u"?"unknown":document.visibilityState??"unknown",by=()=>{if(typeof navigator>"u")return null;const d=navigator.wakeLock;return!d||typeof d.request!="function"?null:d},id=async d=>{if(!an.desiredActive||an.pending||an.sentinel)return;const r=by();if(!r){an.supportLogged||(an.supportLogged=!0,await qe("Wake Lock API unavailable; screen may sleep during recording",{reason:d,userAgent:typeof navigator<"u"?navigator.userAgent:"unknown"}));return}if(typeof document<"u"&&document.visibilityState!=="visible"){await Lt("Wake lock request deferred until page is visible",{reason:d,visibility:Ko()});return}an.pending=!0;try{const f=await r.request("screen");an.sentinel=f,f.addEventListener("release",()=>{an.sentinel=null,an.desiredActive&&(qe("Wake lock released unexpectedly; retrying",{visibility:Ko()}),id("released"))}),await Lt("Wake lock acquired for recording",{reason:d})}catch(f){await qe("Wake lock request failed",{reason:d,visibility:Ko(),error:f instanceof Error?f.message:String(f)})}finally{an.pending=!1}},Sy=async d=>{const r=an.sentinel;if(r){an.sentinel=null;try{r.released||await r.release(),await Lt("Wake lock released after recording",{reason:d})}catch(f){await qe("Wake lock release failed",{reason:d,error:f instanceof Error?f.message:String(f)})}}},My=()=>{an.listenersAttached||typeof document>"u"||(an.listenersAttached=!0,document.addEventListener("visibilitychange",()=>{an.desiredActive&&document.visibilityState==="visible"&&id("visibilitychange")}))},Rc=async(d,r)=>{if(an.desiredActive=d,d){await id(r);return}await Sy(r)},cu=d=>{if(!Number.isFinite(d)||d<=0)return"0.0s";const r=d/1e3;if(r<10)return`${r.toFixed(1)}s`;if(r<60)return`${r.toFixed(0)}s`;const f=Math.floor(r/60),o=r%60;return`${f}m ${o.toFixed(0).padStart(2,"0")}s`},xy=10,Ey=75e3,kh=720,Uh=12,Ay=.75,Ty=.1,Bh=3,Lh=7,qh=(d,r=xy)=>{if(!Number.isFinite(d)||d<=0)return 0;const f=Math.min(1,Math.max(0,d)),o=Math.log10(1+(r-1)*f),p=Math.log10(r);if(!Number.isFinite(o)||!Number.isFinite(p)||p===0)return f;const M=o/p;return Math.min(1,Math.max(0,M))},wy=1,Cy=(d,r,f,o,p)=>{if(d.length===0||r<=0||o<=0)return[];const M=[...d].sort((E,q)=>E.startMs!==q.startMs?E.startMs-q.startMs:E.endMs!==q.endMs?E.endMs-q.endMs:E.index-q.index),y=[];let T=[],b=0,v=-1/0;const D=()=>{T.length>1&&(T.push(`L ${b.toFixed(2)} ${f}`),T.push("Z"),y.push(T.join(" "))),T=[]};return M.forEach((E,q)=>{const J=(E.startMs+E.endMs)/2,nt=Math.min(o,Math.max(0,E.startMs/r*o)),I=Math.min(o,Math.max(0,E.endMs/r*o)),xt=Math.min(o,Math.max(0,J/r*o)),ut=p(E.normalized),bt=Math.max(0,Math.min(f,(1-ut)*f));(T.length===0||J+wy<v)&&(D(),T=[`M ${nt.toFixed(2)} ${f}`]),T.push(`L ${xt.toFixed(2)} ${bt.toFixed(2)}`),b=Math.max(I,b),v=J,q===M.length-1&&D()}),T.length>0&&D(),y},Dy=(d,r,f)=>d.map(o=>{const p=o.startMs/r*f,M=(o.endMs-o.startMs)/r*f;return{x:p,rectWidth:M}}),Ny=(d,r,f)=>d.map(o=>({x:o.positionMs/r*f})),Ry=d=>d.map(r=>({id:r.index,label:r.breakReason==="end"?"Tail":`Segment #${r.index+1}`,durationMs:r.durationMs,startMs:r.startMs,endMs:r.endMs,breakReason:r.breakReason})),jy=({analysis:d,targetRange:r,playback:f})=>{const o=N.useRef(null),p=N.useRef(null),[M,y]=N.useState(!1),[T,b]=N.useState(!1),[v,D]=N.useState(!1),E=120,q=d.stats.totalDurationMs,J=q>0?q:d.stats.frameCount*d.stats.frameDurationMs,nt=typeof window<"u"?Math.min(960,Math.max(kh,Math.floor(window.innerWidth*.8))):kh,I=J>0?Math.max(nt,Math.round(J/Ey*nt)):nt,xt=N.useId(),ut=f?.positionMs??null,bt=J>0&&I>0,ot=ut===null||!bt?null:Math.min(Math.max(ut,0),J),H=ot===null||!bt?null:ot/J,P=H===null?null:H*I,ft=N.useMemo(()=>{if(P===null||!bt)return null;const $=Math.min(I,Math.max(0,P)),it=S=>Math.max(0,Math.min(Math.max(I-S,0),$-S/2));return{center:$,mainX:it(Bh),mainWidth:Bh,glowX:it(Lh),glowWidth:Lh}},[bt,P,I]),F=!!f?.isPlaying,ct=N.useCallback(()=>{const $=o.current;if(!$){b(!1),D(!1);return}const{scrollLeft:it,clientWidth:S,scrollWidth:k}=$;b(it>Uh),D(it+S<k-Uh)},[]),Gt=N.useCallback($=>{M&&$.preventDefault(),ct()},[M,ct]),ne=N.useCallback($=>{const it=o.current;it&&(it.setPointerCapture($.pointerId),p.current={pointerId:$.pointerId,startX:$.clientX,scrollLeft:it.scrollLeft},y(!0))},[]),$t=N.useCallback($=>{const it=o.current,S=p.current;if(!it||!S||S.pointerId!==$.pointerId)return;$.preventDefault();const k=$.clientX-S.startX;it.scrollLeft=S.scrollLeft-k,ct()},[ct]),Ft=N.useCallback($=>{const it=o.current,S=p.current;!it||!S||S.pointerId!==$.pointerId||(it.releasePointerCapture($.pointerId),p.current=null,y(!1),ct())},[ct]);N.useEffect(()=>{ct()},[I,ct]),N.useEffect(()=>{const $=o.current;if(!$||ft===null||M||!F)return;const it=$.clientWidth;if(it<=0)return;const S=Math.max(0,$.scrollWidth-it);if(S<=0)return;const k=$.scrollLeft,tt=k,lt=k+it,yt=it*Ay,Ct=it*Ty;let Tt=null;ft.center>=tt+yt?Tt=Math.min(S,ft.center-yt):ft.center<=tt?Tt=Math.max(0,ft.center-Ct):ft.center>=lt&&(Tt=Math.min(S,ft.center-yt)),Tt!==null&&Math.abs(Tt-k)>.5&&(typeof $.scrollTo=="function"?$.scrollTo({left:Tt,behavior:"smooth"}):$.scrollLeft=Tt,typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(()=>{ct()}):ct())},[M,F,ft,ct]);const ln=N.useMemo(()=>Cy(d.frames,J,E,I,qh),[d.frames,J,E,I]),Ce=N.useMemo(()=>Dy(d.quietRegions,J,I),[d.quietRegions,J,I]),xe=N.useMemo(()=>Ny(d.boundaries,J,I),[d.boundaries,J,I]),A=N.useMemo(()=>Ry(d.segments),[d.segments]),V=(1-qh(d.stats.normalizedThreshold))*E,W=["chunking-graph-scroll",M?"is-dragging":"",T?"show-left-indicator":"",v?"show-right-indicator":""].filter(Boolean).join(" ");return h.jsxs("div",{className:"chunking-graph",children:[h.jsxs("header",{className:"chunking-graph-header",children:[h.jsx("h4",{children:"Volume histogram"}),h.jsxs("div",{className:"chunking-graph-meta",children:[h.jsxs("span",{children:["Frames: ",d.stats.frameCount]}),h.jsxs("span",{children:["Duration: ",cu(J)]})]})]}),h.jsxs("div",{className:"chunking-graph-body",children:[h.jsx("div",{className:W,ref:o,onScroll:Gt,onPointerDown:ne,onPointerMove:$t,onPointerUp:Ft,onPointerCancel:Ft,onPointerLeave:$=>{M&&Ft($)},children:h.jsxs("svg",{className:"chunking-graph-svg",role:"img",viewBox:`0 0 ${I} ${E}`,width:I,height:E,"aria-label":"Volume histogram with proposed chunk boundaries",preserveAspectRatio:"none",children:[h.jsx("rect",{x:0,y:0,width:I,height:E,fill:"rgba(15, 23, 42, 0.85)"}),Ce.map(($,it)=>h.jsx("rect",{x:$.x,y:0,width:Math.max(1.5,$.rectWidth),height:E,fill:"rgba(56, 189, 248, 0.12)"},`quiet-${it}`)),ln.map(($,it)=>h.jsx("path",{d:$,fill:`url(#${xt})`,stroke:"rgba(94, 234, 212, 0.48)",strokeWidth:1},`histogram-${it}`)),ft?h.jsxs("g",{className:"chunking-playback-indicator","aria-hidden":"true",children:[h.jsx("rect",{x:ft.glowX,y:0,width:ft.glowWidth,height:E,fill:"rgba(34, 197, 94, 0.28)"}),h.jsx("rect",{x:ft.mainX,y:0,width:ft.mainWidth,height:E,fill:"rgba(34, 197, 94, 0.95)"})]}):null,h.jsx("line",{x1:0,y1:V,x2:I,y2:V,strokeDasharray:"6 6",stroke:"rgba(250, 204, 21, 0.9)",strokeWidth:1}),xe.map(($,it)=>h.jsxs("g",{children:[h.jsx("rect",{x:$.x-2,y:0,width:4,height:E,fill:"rgba(251, 146, 60, 0.24)"}),h.jsx("line",{x1:$.x,y1:0,x2:$.x,y2:E,stroke:"#facc15",strokeWidth:1.5})]},`boundary-${it}`)),h.jsx("defs",{children:h.jsxs("linearGradient",{id:xt,x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:"rgba(94, 234, 212, 0.55)"}),h.jsx("stop",{offset:"100%",stopColor:"rgba(56, 189, 248, 0.15)"})]})})]})}),r?h.jsxs("div",{className:"chunking-target-hint",children:["Target chunk length: ",cu(r.minMs),"  ",cu(r.maxMs)," (ideal"," ",cu(r.idealMs),")"]}):null,h.jsxs("dl",{className:"chunking-stats",children:[h.jsxs("div",{children:[h.jsx("dt",{children:"Noise floor"}),h.jsx("dd",{children:d.stats.noiseFloor.toFixed(5)})]}),h.jsxs("div",{children:[h.jsx("dt",{children:"Silence threshold"}),h.jsx("dd",{children:d.stats.threshold.toFixed(5)})]}),h.jsxs("div",{children:[h.jsx("dt",{children:"Peak RMS"}),h.jsx("dd",{children:d.stats.maxRms.toFixed(5)})]}),h.jsxs("div",{children:[h.jsx("dt",{children:"Quiet regions"}),h.jsx("dd",{children:d.quietRegions.length})]}),h.jsxs("div",{children:[h.jsx("dt",{children:"Proposed breaks"}),h.jsx("dd",{children:d.boundaries.length})]})]})]}),h.jsxs("div",{className:"chunking-chunk-list",children:[h.jsx("h5",{children:"Proposed chunks"}),A.length===0?h.jsx("p",{className:"chunking-empty",children:"No proposed breaks yet. Recording may be too short or lacks silence."}):h.jsx("ul",{children:A.map($=>h.jsxs("li",{children:[h.jsx("span",{className:"chunking-chunk-label",children:$.label}),h.jsx("span",{children:cu($.durationMs)})]},$.id))})]})]})},zy=N.memo(jy),Oy=/mp4|m4a/i,_y=3;class nd{#t;#a=!1;#n=new Map;#e=new Map;constructor(r=gt){this.#t=r}async#i(){this.#a||(await this.#t.init(),this.#a=!0)}async ensureTimings(r){await this.#i();const f=this.#n.get(r);if(f)return f;const o=this.#t.verifySessionChunkTimings(r).then(p=>(this.#n.delete(r),p)).catch(p=>{throw this.#n.delete(r),p});return this.#n.set(r,o),o}async prepareAnalysisForSession(r){const{session:f,forceRefresh:o=!1}=r;await this.#i();let p=await this.ensureTimings(f.id);p.status!=="verified"&&p.missingChunkIds.length>0&&(await this.#f(f,p.missingChunkIds,r.mimeTypeHint),p=await this.ensureTimings(f.id));const y=(await this.#t.listChunkVolumeProfiles(f.id)).filter(P=>P.sessionId===f.id&&P.seq>=0).sort((P,ft)=>P.seq-ft.seq),T=y.reduce((P,ft)=>Math.max(P,ft.updatedAt??ft.createdAt??0),0),b=[`timeline-v${_y}`,f.id,f.chunkCount,f.updatedAt??0,p.totalVerifiedDurationMs,p.status,T].join(":");if(!o){const P=this.#e.get(f.id);if(P&&P.cacheKey===b)return{sessionId:f.id,cacheKey:b,analysis:P.analysis,verification:p,frames:P.frames}}const v=await this.#t.getChunkMetadata(f.id),D=/mp4|m4a/i.test(f.mimeType??r.mimeTypeHint??""),E=[...v].filter(P=>P.seq>=0).sort((P,ft)=>P.seq-ft.seq).filter(P=>!D||P.seq!==0?!0:!(Math.max(0,P.endMs-P.startMs)<=10||P.byteLength<4096)),q=new Map;E.forEach(P=>{const ft=typeof P.verifiedAudioMsec=="number"&&P.verifiedAudioMsec>0?Math.round(P.verifiedAudioMsec):0,F=Math.max(0,Math.round(P.endMs-P.startMs)),ct=ft>0?ft:F;q.set(P.seq,ct)});const J=typeof p.totalVerifiedDurationMs=="number"&&p.totalVerifiedDurationMs>0?Math.round(p.totalVerifiedDurationMs):E.reduce((P,ft)=>P+Math.max(0,Math.round(ft.endMs-ft.startMs)),0),nt=new Map;y.forEach(P=>{nt.set(P.seq,P)});const I=p.baseStartMs??f.startedAt,{frames:xt,sampleRate:ut,frameDurationMs:bt,totalDurationMs:ot}=this.#l({orderedChunkSeq:E.map(P=>P.seq),profilesBySeq:nt,durationsBySeq:q,durationLimitMs:J,baseStartMs:I}),H=xt.length>0?Ih(xt,{totalDurationMs:ot,sampleRate:ut,frameDurationMs:bt}):null;return H?this.#e.set(f.id,{cacheKey:b,analysis:H,frames:xt}):this.#e.delete(f.id),{sessionId:f.id,cacheKey:b,analysis:H,verification:p,frames:xt}}#l({orderedChunkSeq:r,profilesBySeq:f,durationsBySeq:o,durationLimitMs:p,baseStartMs:M}){let y=0;const T=[];let b=0,v=0,D=ui.frameDurationMs;return r.forEach(E=>{const q=f.get(E)??null,J=q&&Array.isArray(q.frames)?q.frames:[],nt=q&&q.frameDurationMs>0?q.frameDurationMs:ui.frameDurationMs,I=o.get(E)??0,xt=Math.max(0,Math.round((q?.durationMs??0)||J.length*nt)),ut=I>0?I:xt;if(p>0&&y>=p)return;const bt=y,ot=p>0?Math.max(0,Math.min(ut,p-y)):ut,H=ot>0?Math.ceil(ot/nt):J.length;let P=J;if(q&&J.length>0&&I>0){const F=Math.max(0,q.durationMs??J.length*nt),ct=Math.max(0,Math.round(q.chunkStartMs-M)),Gt=Math.max(ct,Math.round(q.chunkEndMs-M));if(F>I*1.5&&F>Gt*.8){const $t=Math.max(0,Math.floor(ct/nt)),Ft=Math.min(J.length,Math.ceil(Gt/nt));P=J.slice($t,Math.max($t,Ft))}}const ft=Math.max(0,Math.min(P.length,H));for(let F=0;F<ft;F+=1){const ct=P[F],Gt=Number.isFinite(ct)?Math.max(0,ct):0,ne=bt+F*nt,$t=Math.min(bt+ot,ne+nt);T.push({index:b,startMs:ne,endMs:$t,rms:Gt,normalized:Gt}),b+=1}for(let F=ft;F<H;F+=1){const ct=bt+F*nt,Gt=Math.min(bt+ot,ct+nt);if(Gt<=ct)break;T.push({index:b,startMs:ct,endMs:Gt,rms:0,normalized:0}),b+=1}y+=ot,D=nt,v===0&&q&&q.sampleRate>0&&(v=q.sampleRate)}),{frames:T,sampleRate:v,frameDurationMs:D,totalDurationMs:p>0?Math.min(y,p):y}}async#f(r,f,o){if(f.length===0)return;const p=await this.#t.getChunkData(r.id);if(p.length===0)return;const y=(p.find(v=>v.seq===0)??null)?.blob??null,T=y?.type??r.mimeType??o??"audio/mp4",b=p.filter(v=>v.seq>0&&v.blob.size>0&&f.includes(v.id));for(const v of b)try{let D=v.blob;y&&Oy.test(T)&&(D=new Blob([y,v.blob],{type:y.type||v.blob.type||T}));const E=await Wh(D,{chunkId:v.id,sessionId:r.id,seq:v.seq,chunkStartMs:v.startMs,chunkEndMs:v.endMs});await this.#t.storeChunkVolumeProfile(E)}catch(D){console.warn("[SessionAnalysisProvider] Failed to regenerate chunk volume profile",{sessionId:r.id,chunkId:v.id,error:D})}}}const Hh=/mp4|m4a/i,ky=15e3,jc=(d,r,f)=>{for(let o=0;o<f.length;o+=1)d.setUint8(r+o,f.charCodeAt(o))},Uy=(d,r)=>{const M=r*2,y=d.length*2,T=new ArrayBuffer(44+y),b=new DataView(T);jc(b,0,"RIFF"),b.setUint32(4,36+y,!0),jc(b,8,"WAVE"),jc(b,12,"fmt "),b.setUint32(16,16,!0),b.setUint16(20,1,!0),b.setUint16(22,1,!0),b.setUint32(24,r,!0),b.setUint32(28,M,!0),b.setUint16(32,2,!0),b.setUint16(34,16,!0),jc(b,36,"data"),b.setUint32(40,y,!0);let v=44;for(let D=0;D<d.length;D+=1){const E=Math.max(-1,Math.min(1,d[D])),q=E<0?Math.round(E*32768):Math.round(E*32767);b.setInt16(v,q,!0),v+=2}return new Blob([T],{type:"audio/wav"})},Gh=(d,r,f)=>{const o=d.sampleRate,p=Math.max(0,Math.floor(r/1e3*o)),M=Math.min(d.length,Math.ceil(f/1e3*o)),y=Math.max(0,M-p);if(y===0)return{samples:new Float32Array(0),sampleRate:o,durationMs:0,startMs:r,endMs:r};if(d.numberOfChannels===1){const v=d.getChannelData(0).slice(p,M),D=v.length/o*1e3;return{samples:v,sampleRate:o,durationMs:D,startMs:r,endMs:r+D}}const T=new Float32Array(y);for(let v=0;v<d.numberOfChannels;v+=1){const D=d.getChannelData(v);for(let E=0;E<y;E+=1)T[E]+=D[p+E]/d.numberOfChannels}const b=T.length/o*1e3;return{samples:T,sampleRate:o,durationMs:b,startMs:r,endMs:r+b}};class By{#t;#a;#n=null;constructor(r=gt,f){this.#t=r,this.#a=f??new nd(r)}async#e(){await this.#t.init()}async listChunks(r){return await this.#e(),await this.#t.getChunkData(r)}async listSnips(r,f){await this.#e();const o=await this.#t.listSnips(r.id),p=o.length>0?o[o.length-1].endMs:0,M=Math.max(0,r.durationMs??0),y=r.status==="recording",T=y?ky:0,b=y?ui.minSegmentMs+T:0,v=Math.max(0,M-p);if(!(o.length===0||(y?v>=b:M>0&&p<Math.max(0,M-1e3))))return o;const E=await this.#a.prepareAnalysisForSession({session:r,mimeTypeHint:f??r.mimeType??null,forceRefresh:y}),q=E.analysis?.stats.totalDurationMs??E.frames[E.frames.length-1]?.endMs??0;if(q<=p+200)return o;const J=Math.min(Math.max(0,p),q),nt=q,I=Math.max(0,nt-J);if(I<=0||y&&I<b)return o;const ut=Qg({frames:E.frames,windowStartMs:J,windowEndMs:nt,sampleRate:E.analysis?.stats.sampleRate??0,frameDurationMs:E.analysis?.stats.frameDurationMs??ui.frameDurationMs}).analysis?.segments??[];if(ut.length===0)return o;const bt=y?Math.max(0,I-T):I,ot=o.reduce((P,ft)=>Math.max(P,ft.index),-1)+1,H=[];return ut.forEach(P=>{P.endMs<=0||P.endMs>bt||H.push({index:ot+H.length,startMs:J+P.startMs,endMs:J+P.endMs,durationMs:P.durationMs,breakReason:P.breakReason,boundaryIndex:P.boundaryIndex})}),H.length===0?o:await this.#t.appendSnips(r.id,H)}async getChunkAudio(r,f){await this.#e();const o=await this.#t.getChunkData(r.id),p=o.find(I=>I.seq===f)??null;if(!p)return null;const M=o.find(I=>I.seq===0)??null,y=p.blob.type||r.mimeType||"audio/mpeg",b=M&&M.id!==p.id&&Hh.test(y)?new Blob([M.blob,p.blob],{type:y}):p.blob,v=p.startMs,D=p.endMs,E=Math.max(0,D-v),q=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-"),J=String(f+1).padStart(2,"0"),nt=/mpeg/i.test(y)?"mp3":/webm/i.test(y)?"webm":/mp4|m4a/i.test(y)?"mp4":"bin";return{kind:"chunk",sessionId:r.id,startMs:v,endMs:D,durationMs:E,mimeType:b.type||y,blob:b,suggestedFilename:`${q}_chunk-${J}.${nt}`}}async#i(){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");return this.#n?this.#n:(this.#n=new AudioContext,this.#n)}async#l(r){await this.#e();const f=await this.#t.getChunkData(r.id),o=r.mimeType??"",M=/mp4|m4a/i.test(o)?f.find(E=>E.seq===0&&(E.endMs-E.startMs<=10||E.byteLength<4096))??null:null,y=f.filter(E=>!M||E.id!==M.id).sort((E,q)=>E.seq-q.seq),T=M?.startMs??(y.length>0?y[0].startMs:r.startedAt??Date.now()),b=Number.isFinite(T)?Math.round(T):Date.now(),v=b>1e12,D=y.map(E=>{const q=v?E.startMs-b:E.startMs,J=v?E.endMs-b:E.endMs;return{...E,startOffsetMs:Math.max(0,q),endOffsetMs:Math.max(0,J)}});return{baseStartMs:b,headerChunk:M,playable:D}}async#f(r,f,o){const p=f.blob.type||r.mimeType||"audio/mp4",M=o&&o.id!==f.id&&Hh.test(p),y=M?new Blob([o.blob,f.blob],{type:p}):f.blob,T=await this.#i();try{const b=await y.arrayBuffer();return await T.decodeAudioData(b.slice(0))}catch(b){const v=b instanceof Error?b.message:String(b),D=[`session=${r.id}`,`chunk=${f.id}`,`seq=${f.seq}`,`bytes=${y.size}`,`mime=${p}`,M?"init=1":"init=0"].join(" ");throw new Error(`Failed to decode chunk audio (${D})${v?`: ${v}`:""}`)}}async#m(r,f,o){const p=Math.max(0,f),M=Math.max(p,o),{headerChunk:y,playable:T}=await this.#l(r);if(T.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const b=T.filter(ut=>ut.startOffsetMs<M&&ut.endOffsetMs>p).sort((ut,bt)=>ut.seq-bt.seq);if(b.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const v=[];for(const ut of b){const bt=await this.#f(r,ut,y),ot=Math.max(0,bt.duration*1e3),H=Math.max(0,ut.endOffsetMs-ut.startOffsetMs),P=H>0&&ot>H*1.5&&ot>ut.endOffsetMs*.8;v.push({chunk:ut,buffer:bt,bufferDurationMs:ot,expectedChunkDurationMs:H,isCumulative:P})}if(v.some(ut=>ut.isCumulative)){const ut=v.find(H=>H.bufferDurationMs>=M-10)??v[v.length-1],bt=ut.buffer.sampleRate,ot=Gh(ut.buffer,p,M);return{samples:ot.samples,sampleRate:bt,durationMs:ot.durationMs,startMs:p,endMs:p+ot.durationMs}}const E=[];let q=0,J=0;for(const ut of v){const bt=ut.chunk,ot=ut.buffer;J===0&&(J=ot.sampleRate);const H=ot.duration*1e3,P=Math.max(0,p-bt.startOffsetMs),ft=Math.min(H,M-bt.startOffsetMs);if(ft<=P)continue;const F=Gh(ot,P,ft);E.push(F.samples),q+=F.samples.length}if(J===0||q===0)return{samples:new Float32Array(0),sampleRate:J,durationMs:0,startMs:p,endMs:p};const nt=new Float32Array(q);let I=0;E.forEach(ut=>{nt.set(ut,I),I+=ut.length});const xt=nt.length/J*1e3;return{samples:nt,sampleRate:J,durationMs:xt,startMs:p,endMs:p+xt}}async getRangeAudio(r,f,o,p){const M=await this.#m(r,f,o),y=Uy(M.samples,M.sampleRate),T=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-");return{kind:"snip",sessionId:r.id,startMs:M.startMs,endMs:M.endMs,durationMs:M.durationMs,mimeType:y.type,blob:y,suggestedFilename:`${T}_snip-${Math.round(M.startMs)}-${Math.round(M.endMs)}.wav`}}async inspectRange(r,f,o,p){const M=await this.#m(r,f,o),{samples:y,sampleRate:T}=M,b=y.length;let v=0,D=0;for(let q=0;q<b;q+=1){const J=y[q];v+=J*J;const nt=Math.abs(J);nt>D&&(D=nt)}const E=b>0?Math.sqrt(v/b):0;return{startMs:M.startMs,endMs:M.endMs,durationMs:M.durationMs,sampleRate:T,sampleCount:b,rms:E,peak:D}}async getSnipAudio(r,f,o){const p=await this.listSnips(r,o),M=f-1,y=p[M];return y?await this.getRangeAudio(r,y.startMs,y.endMs,o):null}clearSession(r){}}const vn=new By,Ly=1024*1024,ep={pauseSensitivity:.5,minPauseMs:400,maxPauseMs:2600,windowMs:3e4,overlapMs:800,targetBitrate:64e3,groqApiKey:"",developerMode:!1,storageLimitBytes:200*Ly},np="durable-recorder-settings";function qy(){if(typeof window>"u")return null;const d=window.localStorage.getItem(np);if(!d)return null;try{const r=JSON.parse(d);return r?{...ep,...r}:null}catch(r){return console.warn("[SettingsStore] Failed to parse settings",r),null}}function Hy(d){typeof window>"u"||window.localStorage.setItem(np,JSON.stringify(d))}class Gy{#t;#a=new Set;constructor(){this.#t=qy()??{...ep}}async get(){return this.#t}async set(r){return this.#t={...this.#t,...r},Hy(this.#t),this.#a.forEach(f=>f(this.#t)),this.#t}subscribe(r){return this.#a.add(r),r(this.#t),()=>this.#a.delete(r)}}const ru=new Gy,Yy="https://api.groq.com/openai/v1/audio/transcriptions",Yh="whisper-large-v3-turbo",Jo=(d,r)=>{const f=(r??"").trim();return f?[Number.isFinite(d)?Math.max(0,(d??0)*1e3):0,f]:null},Xy=d=>{const r=[];if(Array.isArray(d.segments)&&d.segments.forEach(f=>{const o=Jo(f.start,f.text);o&&r.push(o)}),r.length===0&&Array.isArray(d.words)&&d.words.length>0){const f=d.words.map(o=>(o.word??o.text??"").trim()).filter(o=>o.length>0).join(" ").trim();if(f){const o=d.words.find(M=>Number.isFinite(M.start))?.start,p=Jo(o,f);p&&r.push(p)}}if(r.length===0&&typeof d.text=="string"){const f=Jo(0,d.text);f&&r.push(f)}return r};class Vy{async enqueue(r){throw console.info("[GroqTranscriptionService] enqueue",r.jobId),new Error("Queued transcription is not yet implemented.")}async cancel(r){console.info("[GroqTranscriptionService] cancel",r)}refreshSettings(){console.info("[GroqTranscriptionService] refreshSettings noop")}async transcribeAudio(r){const f=r.apiKey.trim();if(!f)throw new Error("Groq API key is missing. Add it in Settings to start transcription.");const o=`snip-${Date.now()}.wav`,p=r.audio instanceof File?r.audio:new File([r.audio],o,{type:r.audio.type||"audio/wav"}),M=new FormData;M.append("file",p),M.append("model",r.model??Yh),M.append("response_format","verbose_json"),M.append("timestamp_granularities[]","word"),r.temperature!==void 0&&M.append("temperature",String(r.temperature)),r.language&&M.append("language",r.language);const y=await fetch(Yy,{method:"POST",headers:{Authorization:`Bearer ${f}`},body:M}),T=await y.text();if(!y.ok){let E=`Groq transcription failed (${y.status})`;try{const q=JSON.parse(T);q?.error?.message&&(E=q.error.message)}catch{T&&(E=`${E}: ${T}`)}throw new Error(E)}const b=JSON.parse(T),v=Xy(b);return{text:typeof b.text=="string"?b.text.trim():v.map(E=>E[1]).join(" ").trim(),segments:v,model:r.model??Yh,language:b.language??r.language??null}}}const Qy=new Vy,Zy={recording:{label:"Recording",pillClass:"pill-progress"},transcribing:{label:"Transcribing",pillClass:"pill-progress"},ready:{label:"Ready",pillClass:"pill-synced"},partial:{label:"Part TX",pillClass:"pill-attention"},untranscribed:{label:"TX failed",pillClass:"pill-attention"},error:{label:"Error",pillClass:"pill-attention"}},ad=1024*1024,Xh=200*ad,Vh="whisper-large-v3-turbo",Qh=180,Ky=3e3,Jy=60,Zh=12e4,si=[3e3,5e3,1e4],Kh=si.length,Jh=12e4,$h="Audio was purged to stay under the storage cap. Transcription retries are disabled.",ld=d=>new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit"}).format(new Date(d)),ap=d=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(new Date(d)),$y=d=>{const r=Math.max(0,Math.round(d/1e3)),f=Math.floor(r/60),o=r%60,p=Math.floor(f/60),M=f%60;return p>0?`${p}h ${M.toString().padStart(2,"0")}m`:`${M}m ${o.toString().padStart(2,"0")}s`},us=d=>{if(!Number.isFinite(d)||d<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let f=d,o=0;for(;f>=1024&&o<r.length-1;)f/=1024,o+=1;return`${new Intl.NumberFormat(void 0,{maximumSignificantDigits:4,minimumSignificantDigits:1}).format(f)} ${r[o]}`},Fy=d=>{if(!Number.isFinite(d)||d<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let f=d,o=0;for(;f>=1024&&o<r.length-1;)f/=1024,o+=1;return`${Math.round(f)} ${r[o]}`},Iy=(d,r)=>{const f=Number.isFinite(r)&&r>0?r:0,o=d+f,p=new Date(d),M=new Date(o);return p.toDateString()!==M.toDateString()?`${ap(o)} ${ld(o)}`:ld(o)},Wy=d=>{const r=Math.max(0,Math.round(d/1e3)),f=Math.floor(r/3600),o=Math.floor(r%3600/60),p=r%60;return f>0?`${f}:${o.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`:o>0?`${o}:${p.toString().padStart(2,"0")}`:`0:${p.toString().padStart(2,"0")}`},Py=d=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(d)),li=d=>{if(!Number.isFinite(d))return"0:00";const r=Math.max(0,d),f=Math.floor(r/60),o=Math.floor(r%60);return`${f}:${o.toString().padStart(2,"0")}`},t0=(d,r)=>{const f=d.trim();if(!f)return"";const o=f.split(/\s+/);return o.length<=r?f:o.slice(-r).join(" ")},lp={hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},e0=(()=>{try{return new Intl.DateTimeFormat(void 0,{...lp,fractionalSecondDigits:2})}catch{return null}})(),n0=new Intl.DateTimeFormat(void 0,lp),a0=d=>(e0??n0).format(new Date(d)),pa=d=>{const r=d.transcription?.text?.trim()??"";if(r)return r;const f=d.transcription?.segments??[];return f.length===0?"":f.map(o=>o[1]).join(" ").trim()},Fh=d=>{const r=d.map(f=>pa(f)).filter(f=>f.length>0).join(" ").trim();return r?r.length<=Qh?r:`${r.slice(0,Qh).trimEnd()}...`:""},$o=d=>new Promise(r=>window.setTimeout(r,d));function l0(){const[d,r]=N.useState(null),[f,o]=N.useState([]),[p,M]=N.useState(null),[y,T]=N.useState([]),[b,v]=N.useState([]),[D,E]=N.useState({}),[q,J]=N.useState({}),[nt,I]=N.useState({}),[xt,ut]=N.useState({}),[bt,ot]=N.useState({}),[H,P]=N.useState(is.state),[ft,F]=N.useState(null),[ct,Gt]=N.useState({totalBytes:0,limitBytes:Xh}),[ne,$t]=N.useState([]),[Ft,ln]=N.useState(null),[Ce,xe]=N.useState(!1),[A,V]=N.useState(!1),[W,$]=N.useState(null),[it,S]=N.useState(null),[k,tt]=N.useState(1),[lt,yt]=N.useState(!1),[Ct,Tt]=N.useState(!1),[He,ce]=N.useState(!1),[Qa,Kn]=N.useState(!1),[rs,Za]=N.useState([]),[bn,la]=N.useState(null),[Nl,Rl]=N.useState("tables"),[Un,Ka]=N.useState([]),[Sn,jl]=N.useState(null),[ou,os]=N.useState([]),[pe,ds]=N.useState(!1),[Bn,fs]=N.useState("chunks"),[ga,du]=N.useState(!1),[Re,zl]=N.useState({chunkCoverageScan:!0,rangeAccessScan:!0,chunkDecodeScan:!0,sanityChecks:!0,snipScan:!0}),[Jn,sa]=N.useState(!1),[je,re]=N.useState(null),[Ie,ci]=N.useState(null),[fu,Ol]=N.useState(null),[_l,Ja]=N.useState(null),[be,$n]=N.useState(null),[kl,$a]=N.useState(!1),[mu,Fa]=N.useState(null),[Mn,cn]=N.useState({playing:!1,duration:0,position:0}),[Ul,ms]=N.useState(null),[ya,Bl]=N.useState(!1),[va,xn]=N.useState("idle"),[ri,Fn]=N.useState(null),[En,ae]=N.useState(null),[ze,In]=N.useState({}),[Ia,hu]=N.useState(!1),[kc,oi]=N.useState(!1),Oe=N.useRef(null),hs=N.useRef(null),ia=N.useRef(null),_e=N.useRef(null),Wn=N.useRef(null),An=N.useRef(new Map),qt=N.useRef(new Map),Wa=N.useRef(new Map),rn=N.useRef(new Map),Tn=N.useRef(new Map),ba=N.useRef(null),di=N.useRef(null),Ll=N.useRef(null),ql=N.useRef(0),fi=N.useRef(new Map),Pa=N.useRef(!1),Sa=N.useRef(null),wn=N.useRef(new Set),We=N.useRef({sessionId:null,active:!1,pending:[],pendingIds:new Set,retryCounts:new Map,lastSuccessAt:0,lastMissingKeyWarnAt:0}),ps=N.useRef(!1),mi=N.useRef(!1),gs=N.useRef(0),ys=N.useRef(null),Ma=N.useRef(0),Ge=d?.developerMode??!1,De=d?.storageLimitBytes??Xh,Hl=N.useMemo(()=>{const i=ne.map(g=>pa(g)).filter(g=>g.length>0);return i.length===0?[]:i.slice(-2).map(g=>t0(g,Jy)).filter(g=>g.length>0)},[ne]),Zt=N.useCallback(i=>!!i.audioPurgedAt,[]),Ye=N.useCallback(i=>!!i.audioPurgedAt||i.byteLength<=0||i.blob.size<=0,[]),Pn=N.useCallback((i,c)=>{const g=Fh(c),C=c.filter(L=>!!L.transcriptionError).length,R=c.filter(L=>pa(L).length>0).length,Q=c.filter(L=>Zt(L)).length,B=c.length,Y=Math.max(0,B-Q);E(L=>{if(!g){if(!(i in L))return L;const at={...L};return delete at[i],at}return L[i]===g?L:{...L,[i]:g}}),J(L=>{if(C===0){if(!(i in L))return L;const at={...L};return delete at[i],at}return L[i]===C?L:{...L,[i]:C}}),I(L=>{if(B===0){if(!(i in L))return L;const st={...L};return delete st[i],st}const at=L[i];return at&&at.transcribedCount===R&&at.total===B&&at.purgedCount===Q&&at.retryableCount===Y?L:{...L,[i]:{transcribedCount:R,total:B,purgedCount:Q,retryableCount:Y}}})},[Zt]),hi=N.useCallback(async i=>{try{const c=await Promise.all(i.map(async Q=>{if(Q.status!=="ready")return[Q.id,"",0,0,0,0,0];const B=await gt.listSnips(Q.id),Y=B.filter(Nt=>!!Nt.transcriptionError).length,L=B.filter(Nt=>pa(Nt).length>0).length,at=B.filter(Nt=>Zt(Nt)).length,st=B.length,vt=Math.max(0,st-at);return[Q.id,Fh(B),Y,L,st,at,vt]})),g={},C={},R={};c.forEach(([Q,B,Y,L,at,st,vt])=>{B&&(g[Q]=B),Y>0&&(C[Q]=Y),at>0&&(R[Q]={transcribedCount:L,total:at,purgedCount:st,retryableCount:vt})}),E(g),J(C),I(R)}catch(c){await Fe("Transcription preview load failed",{error:c instanceof Error?c.message:String(c)})}},[Zt]),Xe=N.useCallback(async()=>{await gt.init(),await gt.purgeLegacyMp4Sessions();const i=Sa.current??new nd;Sa.current=i;const[c,g]=await Promise.all([gt.listSessions(),gt.storageTotals()]),C=fi.current;let R=null;if(Pa.current)for(const B of c){if(B.status!=="ready"||B.chunkCount===0||!C.has(B.id))continue;const Y=C.get(B.id);Y!==void 0&&Y!==B.updatedAt&&(!R||B.updatedAt>R.updatedAt)&&(R=B)}fi.current=new Map(c.map(B=>[B.id,B.updatedAt])),Pa.current?R&&ln(R.id):Pa.current=!0,o(c),Gt({totalBytes:g.totalBytes,limitBytes:De}),hi(c),c.filter(B=>B.chunkCount>0&&(B.timingStatus??"unverified")!=="verified").forEach(B=>{i.ensureTimings(B.id).then(Y=>{const L=Y.session;Y.status!=="verified"||!L||(o(at=>at.map(st=>st.id===L.id?{...st,...L}:st)),fi.current.set(L.id,L.updatedAt))}).catch(Y=>{console.warn("[UI] Session timing verification failed",{sessionId:B.id,error:Y})})})},[hi,De]),Cn=N.useCallback(async i=>{if(mi.current)return;const c=Date.now(),g=!i?.force;if(!(g&&c-gs.current<Jh)){mi.current=!0,gs.current=c;try{await gt.init();const C=await gt.applyRetentionPolicy({limitBytes:De,now:c});C.purgedChunkIds.length>0&&await Lt("Storage retention purged audio",{beforeBytes:C.beforeBytes,afterBytes:C.afterBytes,limitBytes:C.limitBytes,purgedChunks:C.purgedChunkIds.length,purgedSnips:C.purgedSnipIds.length,reason:i?.reason??(g?"debounced":"manual")}),C.afterBytes>C.limitBytes&&await qe("Storage retention unable to meet cap",{beforeBytes:C.beforeBytes,afterBytes:C.afterBytes,limitBytes:C.limitBytes,purgedChunks:C.purgedChunkIds.length,reason:i?.reason??(g?"debounced":"manual")}),Gt({totalBytes:C.afterBytes,limitBytes:De})}catch(C){await Fe("Storage retention pass failed",{error:C instanceof Error?C.message:String(C),reason:i?.reason??(g?"debounced":"manual")})}finally{mi.current=!1}}},[De]);N.useEffect(()=>ru.subscribe(i=>r({...i})),[]),N.useEffect(()=>{d?.storageLimitBytes!=null&&Cn({force:!0,reason:"settings-change"})},[Cn,d?.storageLimitBytes]),N.useEffect(()=>(cy(),()=>{ry()}),[]),N.useEffect(()=>{My()},[]),N.useEffect(()=>{gt.reconcileDanglingSessions()},[]),N.useEffect(()=>is.subscribe(c=>P({...c})),[]),N.useEffect(()=>{H.state==="idle"&&(Ll.current=null)},[H.state]),N.useEffect(()=>{const i=H.state==="recording";Rc(i,i?"recording-active":"recording-inactive")},[H.state]),N.useEffect(()=>{if(H.state!=="recording"||!H.sessionId){ys.current=H.sessionId??null,Ma.current=H.chunksRecorded;return}ys.current!==H.sessionId&&(ys.current=H.sessionId,Ma.current=0),H.chunksRecorded>Ma.current&&(Ma.current=H.chunksRecorded,Cn({reason:"chunk-written"}))},[H.chunksRecorded,H.sessionId,H.state,Cn]),N.useEffect(()=>{if(H.state!=="recording")return;let i=!1;const c=()=>{i||Cn()},g=window.setInterval(c,Jh);return c(),()=>{i=!0,window.clearInterval(g)}},[H.state,Cn]),N.useEffect(()=>{const i=c=>{const g=c.target;let C="unknown";g instanceof HTMLElement&&(C=g.tagName.toLowerCase(),g.id?C+=`#${g.id}`:g.classList.length>0&&(C+=`.${g.classList[0]}`)),di.current={type:c.type,target:C,timestamp:Date.now()}};return window.addEventListener("pointerdown",i,!0),window.addEventListener("keydown",i,!0),()=>{window.removeEventListener("pointerdown",i,!0),window.removeEventListener("keydown",i,!0)}},[]),N.useEffect(()=>{Xe()},[Xe]),N.useEffect(()=>{H.state==="recording"&&!p?(xe(!0),requestAnimationFrame(()=>V(!0))):V(!1)},[H.state,p]),N.useEffect(()=>{H.state!=="recording"&&$t([])},[H.state]),N.useEffect(()=>{if(!Ft)return;const i=window.setTimeout(()=>ln(null),2400);return()=>window.clearTimeout(i)},[Ft]),N.useEffect(()=>{if(A||!Ce)return;const i=window.setTimeout(()=>xe(!1),400);return()=>window.clearTimeout(i)},[Ce,A]),N.useEffect(()=>{if(!A)return;const i=ba.current;i&&(i.scrollTop=i.scrollHeight)},[A,Hl]),N.useEffect(()=>{if(typeof window>"u"||!("ontouchstart"in window))return;const i=g=>{g.touches.length>1&&g.preventDefault()},c=g=>{g.preventDefault()};return document.addEventListener("touchmove",i,{passive:!1}),document.addEventListener("gesturestart",c),document.addEventListener("gesturechange",c),document.addEventListener("gestureend",c),()=>{document.removeEventListener("touchmove",i),document.removeEventListener("gesturestart",c),document.removeEventListener("gesturechange",c),document.removeEventListener("gestureend",c)}},[]),N.useEffect(()=>{let i=!1;if(!p){T([]),v([]),In({}),ds(!1),Bl(!1),Fn(null),xn("idle"),ae(null);return}return In({}),(async()=>{const[c,g]=await Promise.all([gt.getChunkData(p),gt.listSnips(p)]);i||(T(c),v(g))})(),()=>{i=!0}},[p]),N.useEffect(()=>{const i=Oe.current;if(!i)return;const c=()=>cn(L=>({...L,position:i.currentTime})),g=()=>cn(L=>({...L,duration:Number.isFinite(i.duration)?i.duration:0})),C=()=>{Wn.current!==null&&(window.cancelAnimationFrame(Wn.current),Wn.current=null)},R=()=>{cn(L=>({...L,position:i.currentTime})),Wn.current=window.requestAnimationFrame(R)},Q=()=>{cn(L=>({...L,playing:!0})),C(),Wn.current=window.requestAnimationFrame(R)},B=()=>{cn(L=>({...L,playing:!1})),C()},Y=()=>{cn(L=>({...L,playing:!1,position:i.duration||L.position})),C()};return i.addEventListener("timeupdate",c),i.addEventListener("durationchange",g),i.addEventListener("play",Q),i.addEventListener("pause",B),i.addEventListener("ended",Y),()=>{C(),i.removeEventListener("timeupdate",c),i.removeEventListener("durationchange",g),i.removeEventListener("play",Q),i.removeEventListener("pause",B),i.removeEventListener("ended",Y)}},[p]),N.useEffect(()=>{const i=An.current,c=qt.current,g=new Set(y.map(C=>C.id));Array.from(i.entries()).forEach(([C,R])=>{g.has(C)||(URL.revokeObjectURL(R),i.delete(C))});for(const[C,R]of c.entries())g.has(C)||(R.cleanup(),R.audio.pause(),R.audio.currentTime=R.startTime,c.delete(C));$(C=>C&&g.has(C)?C:null)},[y]),N.useEffect(()=>{const i=Wa.current,c=rn.current,g=new Set(b.map(C=>C.id));Array.from(i.entries()).forEach(([C,R])=>{g.has(C)||(URL.revokeObjectURL(R),i.delete(C))}),Array.from(Tn.current.keys()).forEach(C=>{g.has(C)||Tn.current.delete(C)});for(const[C,R]of c.entries())g.has(C)||(R.cleanup(),R.audio.pause(),R.audio.currentTime=R.startTime,c.delete(C));S(C=>C&&g.has(C)?C:null)},[b]),N.useEffect(()=>()=>{qt.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),qt.current.clear(),An.current.forEach(i=>URL.revokeObjectURL(i)),An.current.clear()},[]),N.useEffect(()=>{pe||(qt.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),qt.current.clear(),$(null),rn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),rn.current.clear(),S(null))},[pe]),N.useEffect(()=>{qt.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),qt.current.clear(),$(null),rn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),rn.current.clear(),S(null)},[Bn]),N.useEffect(()=>{const i=Oe.current;i&&(i.volume=k),qt.current.forEach(c=>{c.audio.volume=k}),rn.current.forEach(c=>{c.audio.volume=k})},[k]),N.useEffect(()=>{Ge||(ce(!1),ds(!1),Bl(!1),Fn(null),xn("idle"),ae(null),Za([]),la(null),Rl("tables"),Ka([]),jl(null),os([]))},[Ge]),N.useEffect(()=>()=>{_e.current&&(URL.revokeObjectURL(_e.current),_e.current=null)},[]);const G=N.useMemo(()=>f.find(i=>i.id===p)??null,[f,p]),Ve=N.useMemo(()=>{const i=b.map(C=>pa(C)).filter(C=>C.length>0),c=b.filter(C=>!!C.transcriptionError).length,g=b.filter(C=>Zt(C)).length;return{text:i.join(" ").trim(),transcribedCount:i.length,errorCount:c,total:b.length,purgedCount:g,retryableCount:Math.max(0,b.length-g)}},[Zt,b]);N.useEffect(()=>{if(!G){ms(null);return}ms(G.durationMs)},[G]),N.useEffect(()=>{G?.id&&Pn(G.id,b)},[G?.id,b,Pn]),N.useEffect(()=>{if(!G?.id){ia.current=null;return}if(!Ve.text||ia.current===G.id)return;ia.current=G.id;const i=window.setTimeout(()=>{const c=hs.current;c&&(c.focus(),c.select())},80);return()=>window.clearTimeout(i)},[G?.id,Ve.text]),N.useEffect(()=>{if(!(Ge&&G&&(ya||pe&&Bn==="snips"))){xn("idle"),Fn(null),ae(null);return}if(G.chunkCount===0){xn("error"),ae("No audio chunks available yet. Capture a few seconds of audio and try again."),Fn(null);return}const c=Sa.current??new nd;Sa.current=c;let g=!1;return xn("loading"),ae(null),Fn(null),(async()=>{try{const C=await c.prepareAnalysisForSession({session:G,mimeTypeHint:G.mimeType??null});if(g)return;if(C.analysis){Fn(C.analysis),xn("ready"),ae(null);try{const R=await vn.listSnips(G,G.mimeType??null);g||v(R)}catch(R){g||await Fe("Failed to refresh snip segments",{sessionId:G.id,error:R instanceof Error?R.message:String(R)})}}else{Fn(null),xn("error");const R=C.verification.missingChunkIds.length;ae(R>0?`Waiting on verified audio durations for ${R} chunk${R===1?"":"s"}.`:"No volume profiles available yet. Capture additional audio and retry.")}}catch(C){if(g)return;const R=C instanceof Error?C.message:String(C);xn("error"),ae(R),Fe("Session analysis failed",{sessionId:G.id,error:R})}})(),()=>{g=!0}},[Ge,pe,Bn,ya,G?.id,G?.updatedAt,G?.chunkCount,G?.mimeType]);const ke=N.useCallback(i=>{const c=i.blob.type||G?.mimeType||"";if(!/mp4|m4a/i.test(c))return!1;const C=Math.max(0,i.endMs-i.startMs);return i.seq===0&&(C<=10||i.byteLength<4096)},[G?.mimeType]),ua=N.useMemo(()=>y.find(ke)??null,[y,ke]),pu=N.useMemo(()=>y.filter(i=>!ke(i)&&!Ye(i)).length,[y,Ye,ke]),gu=N.useCallback(i=>{const c=i.blob.type||G?.mimeType||"audio/mp4";return!ua||ua.id===i.id||!/mp4|m4a/i.test(c)?i.blob:new Blob([ua.blob,i.blob],{type:c})},[ua,G?.mimeType]),xa=N.useCallback(i=>{if(Ye(i))return null;const c=An.current,g=c.get(i.id);if(g)return g;const C=gu(i),R=URL.createObjectURL(C);return c.set(i.id,R),R},[gu,Ye]),ta=N.useCallback(i=>{const c=xa(i);if(!c)return;const g=G?.startedAt??i.startMs??Date.now(),C=new Date(g).toISOString().replace(/[:.]/g,"-"),R=String(i.seq+1).padStart(2,"0"),Q=i.blob.type||G?.mimeType||"application/octet-stream",B=/mpeg/i.test(Q)?"mp3":/webm/i.test(Q)?"webm":/mp4|m4a/i.test(Q)?"mp4":"bin",Y=document.createElement("a");Y.href=c,Y.download=`${C}_chunk-${R}.${B}`,Y.rel="noopener",document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)},[xa,G?.mimeType,G?.startedAt]),vs=N.useCallback(i=>{i.currentTarget.focus(),i.currentTarget.select()},[]),bs=N.useCallback(async()=>{const i=window.AudioContext||window.webkitAudioContext;if(typeof i!="function")return;const c=new i,g=c.createOscillator(),C=c.createGain();C.gain.value=.12,g.type="sine",g.frequency.value=880,g.connect(C),C.connect(c.destination);const R=c.currentTime+.35;g.start(),g.stop(R),g.onended=()=>{c.close().catch(()=>{})}},[]),ca=N.useCallback(()=>{qt.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),qt.current.clear(),$(null),rn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),rn.current.clear(),S(null),Oe.current&&Oe.current.pause()},[]),Ea=N.useCallback(()=>{oi(!0),window.setTimeout(()=>oi(!1),1200)},[]);N.useEffect(()=>{const i=()=>{document.visibilityState!=="visible"&&ca()},c=()=>ca();return document.addEventListener("visibilitychange",i),window.addEventListener("pagehide",c),()=>{document.removeEventListener("visibilitychange",i),window.removeEventListener("pagehide",c)}},[ca]);const Gl=N.useCallback(async i=>{if(!G||Zt(i))return null;const c=i.id,g=Tn.current.get(c);if(g)return g;const C=await vn.getRangeAudio(G,i.startMs,i.endMs,G.mimeType??null);return Tn.current.set(c,C),C},[Zt,G]),tl=N.useCallback(async i=>{const c=i.id,g=Wa.current.get(c),C=await Gl(i);if(!C)return null;if(g)return{url:g,slice:C};const R=URL.createObjectURL(C.blob);return Wa.current.set(c,R),{url:R,slice:C}},[Gl]),yu=N.useCallback(async(i,c)=>{if(Zt(i))return;const g=await tl(i);if(!g)return;const{url:C,slice:R}=g,Q=document.createElement("a");Q.href=C,Q.download=R.suggestedFilename||`snip-${String(c).padStart(2,"0")}.wav`,Q.rel="noopener",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)},[tl,Zt]),el=N.useCallback(async(i,c)=>Zt(c)?null:G?.id===i.id?await Gl(c):await vn.getRangeAudio(i,c.startMs,c.endMs,i.mimeType??null),[Gl,Zt,G?.id]),on=N.useCallback(async i=>{const c=await gt.listSnips(i);Pn(i,c)},[Pn]),nl=N.useCallback(i=>{const c=i.filter(C=>!Zt(C)),g=c.filter(C=>!!C.transcriptionError);return g.length>0?g:c},[Zt]),Pe=N.useCallback(async({session:i,snip:c,updateUi:g,force:C,ignoreBusy:R=!1,reportError:Q=!0})=>{if(!C&&pa(c))return{ok:!0};if(Zt(c))return await qe("Snip transcription blocked (audio purged)",{sessionId:i.id,snipId:c.id}),{ok:!1,error:$h};if(g&&ze[c.id]&&!R)return{ok:!1};const B=d?.groqApiKey?.trim()??"";if(!B){const Y="Groq API key missing. Add it in Settings before retrying.";await qe("Snip transcription blocked (missing key)",{sessionId:i.id,snipId:c.id});const L=await gt.updateSnipTranscription(c.id,{transcriptionError:Y});return g&&L&&v(at=>at.map(st=>st.id===L.id?L:st)),{ok:!1,error:Y}}g&&In(Y=>({...Y,[c.id]:!0}));try{const Y=await el(i,c);if(!Y)throw new Error("Unable to resolve snip audio for transcription.");if(Y.durationMs<=0||Y.blob.size===0)throw new Error(`Snip audio slice is empty (snip=${c.id} start=${c.startMs} end=${c.endMs} duration=${Y.durationMs} bytes=${Y.blob.size})`);await Lt("Snip transcription started",{sessionId:i.id,snipId:c.id,model:Vh,startMs:c.startMs,endMs:c.endMs,sliceDurationMs:Y.durationMs,sliceBytes:Y.blob.size});const L=await Qy.transcribeAudio({apiKey:B,audio:Y.blob,model:Vh,temperature:0}),at={text:L.text,segments:L.segments,model:L.model,language:L.language??null,createdAt:Date.now()},st=await gt.updateSnipTranscription(c.id,{transcription:at,transcriptionError:null});return g&&st&&v(vt=>vt.map(Nt=>Nt.id===st.id?st:Nt)),await Lt("Snip transcription completed",{sessionId:i.id,snipId:c.id,model:L.model,textLength:L.text.length,segmentCount:L.segments.length}),{ok:!0}}catch(Y){const L=Y instanceof Error?Y.message:String(Y);if(Q){await Fe("Snip transcription failed",{sessionId:i.id,snipId:c.id,error:L,startMs:c.startMs,endMs:c.endMs,durationMs:c.durationMs});const at=await gt.updateSnipTranscription(c.id,{transcriptionError:L});g&&at&&v(st=>st.map(vt=>vt.id===at.id?at:vt))}return{ok:!1,error:L}}finally{g&&In(Y=>{const L={...Y};return delete L[c.id],L}),await on(i.id)}},[on,el,d?.groqApiKey,Zt,ze]),Dn=N.useCallback(i=>{const c=We.current;c.sessionId=i,c.active=!1,c.pending=[],c.pendingIds.clear(),c.retryCounts.clear(),c.lastSuccessAt=0,c.lastMissingKeyWarnAt=0},[]),Ss=N.useCallback(async i=>{const c=We.current;if(!(c.active||c.sessionId!==i.id)){c.active=!0;try{for(;c.pending.length>0;){const g=c.pending.shift();if(!g)break;const C=g.snip;if(c.pendingIds.delete(C.id),c.sessionId!==i.id)break;if((await Pe({session:i,snip:C,updateUi:G?.id===i.id,force:!0,ignoreBusy:!0,reportError:!0})).ok){c.retryCounts.delete(C.id),c.lastSuccessAt=Date.now();continue}const Q=(c.retryCounts.get(C.id)??0)+1;if(c.retryCounts.set(C.id,Q),Q<=Kh&&Date.now()-c.lastSuccessAt<Zh){const Y=si[Math.min(Q-1,si.length-1)];await $o(Y),c.pendingIds.has(C.id)||(c.pending.push({snip:C,attempt:Q}),c.pendingIds.add(C.id))}}}finally{c.active=!1}}},[G?.id,Pe]),Yl=N.useCallback(async(i,c)=>{const g=We.current;if(g.sessionId!==i.id&&Dn(i.id),!(d?.groqApiKey?.trim()??"")){Date.now()-g.lastMissingKeyWarnAt>6e4&&(g.lastMissingKeyWarnAt=Date.now(),qe("Live transcription blocked (missing key)",{sessionId:i.id}));return}const R=g.lastSuccessAt>0&&Date.now()-g.lastSuccessAt<Zh;[...c].sort((B,Y)=>B.index-Y.index).forEach(B=>{if(pa(B)||Zt(B)||g.pendingIds.has(B.id))return;const Y=g.retryCounts.get(B.id)??0;B.transcriptionError&&(!R||Y>=Kh)||(g.pending.push({snip:B,attempt:Y}),g.pendingIds.add(B.id))}),!g.active&&g.pending.length>0&&Ss(i)},[Zt,Dn,Ss,d?.groqApiKey]);N.useEffect(()=>{H.state!=="recording"&&Dn(null)},[H.state,Dn]),N.useEffect(()=>{if(!H.sessionId||H.state!=="recording")return;const i=H.sessionId;let c=!1;const g=async()=>{if(!(c||ps.current)){ps.current=!0;try{const R=await gt.getSession(i);if(!R||R.status!=="recording")return;const Q=await vn.listSnips(R,R.mimeType??null);if(c)return;if($t(Q),G?.id===i){const[B]=await Promise.all([gt.getChunkData(i)]);c||(T(B),v(Q))}await Yl(R,Q),await Xe()}catch(R){if(!c){const Q=R instanceof Error?R.message:String(R);qe("Live snip refresh failed",{sessionId:i,error:Q})}}finally{ps.current=!1}}},C=window.setInterval(g,Ky);return g(),()=>{c=!0,window.clearInterval(C)}},[H.sessionId,H.state,Yl,Xe,G?.id]);const vu=N.useCallback(async i=>{G&&(Zt(i)||await Pe({session:G,snip:i,updateUi:!0,force:!0}))},[Zt,G,Pe]),Ms=N.useCallback(async()=>{if(!G||Ia)return;const i=G.id;hu(!0),ot(c=>({...c,[i]:!0}));try{const c=await gt.listSnips(i),g=c.length>0?c:await vn.listSnips(G,G.mimeType??null);if(g.length===0)return;v(g);const C=nl(g);if(C.length===0)return;for(const R of C)await Pe({session:G,snip:R,updateUi:!0,force:!0,ignoreBusy:!0})}finally{hu(!1),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}},[Ia,nl,G,Pe]),xs=N.useCallback(async i=>{if(!xt[i]){ut(c=>({...c,[i]:!0})),ot(c=>({...c,[i]:!0}));try{const c=await gt.getSession(i);if(!c)return;const g=await gt.listSnips(i),C=g.length>0?g:await vn.listSnips(c,c.mimeType??null);if(C.length===0)return;G?.id===i&&v(C);const R=nl(C);if(R.length===0)return;for(const Q of R)await Pe({session:c,snip:Q,updateUi:G?.id===i,force:!0,ignoreBusy:!0})}finally{ut(c=>{if(!c[i])return c;const g={...c};return delete g[i],g}),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}}},[xt,nl,G?.id,Pe]),pi=N.useCallback(async i=>{if(!wn.current.has(i)){wn.current.add(i),ot(c=>({...c,[i]:!0}));try{await $o(1200);const c=await gt.getSession(i);if(!c||c.status!=="ready")return;const g=await vn.listSnips(c,c.mimeType??null);if(g.length===0)return;if(!(d?.groqApiKey?.trim()??"")){const Q="Groq API key missing. Add it in Settings before retrying.";await qe("Auto transcription blocked (missing key)",{sessionId:i,snipCount:g.length});const B=[];for(const Y of g){if(pa(Y)||Zt(Y))continue;const L=await gt.updateSnipTranscription(Y.id,{transcriptionError:Q});L&&B.push(L)}G?.id===i&&B.length>0&&v(Y=>Y.map(L=>B.find(at=>at.id===L.id)??L));return}const R=si.length+1;for(const Q of g)if(!pa(Q)&&!Zt(Q))for(let B=0;B<R;B+=1){if(B>0){const L=si[Math.min(B-1,si.length-1)];await $o(L)}if((await Pe({session:c,snip:Q,updateUi:G?.id===i,force:B>0,ignoreBusy:B>0,reportError:B===R-1})).ok)break}}finally{wn.current.delete(i),await on(i),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}}},[Zt,on,G?.id,d?.groqApiKey,Pe]),tn=N.useCallback(async()=>{F(null),await Xe()},[Xe]),Aa=N.useCallback(async()=>{if(H.state==="recording")return;let i="";Ll.current=Date.now(),Rc(!0,"recording-start-click");try{await Lt("Recorder start requested",{previousState:H.state}),F(null);const c=await ru.get();i=window.crypto?.randomUUID?.()??`session-${Date.now()}`;const g=Date.now();await gt.createSession({id:i,title:`Recording ${new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1}).format(g)}`,startedAt:g,updatedAt:g,status:"recording",totalBytes:0,chunkCount:0,durationMs:0,mimeType:null,notes:"Transcription pending",timingStatus:"unverified"}),await is.start({sessionId:i,targetBitrate:c.targetBitrate,chunkDurationMs:4e3}),await Lt("Recorder started",{sessionId:i,targetBitrate:c.targetBitrate,chunkDurationMs:4e3}),await Xe()}catch(c){console.error("[UI] Failed to start recording",c),Ll.current=null,Rc(!1,"recording-start-failed"),await Fe("Recorder failed to start",{sessionId:i,error:c instanceof Error?c.message:String(c)}),i&&await gt.updateSession(i,{status:"error",notes:"Recording failed to start.",updatedAt:Date.now()}),await Xe(),F(c instanceof Error?c.message:String(c))}},[H.state,Xe]),al=N.useCallback(async()=>{if(H.state!=="recording")return;const i=H.sessionId;try{await Lt("Recorder stop requested",{sessionId:i}),await is.stop(),await Lt("Recorder stopped",{sessionId:i})}catch(c){console.error("[UI] Failed to stop recording",c),F(c instanceof Error?c.message:String(c)),await Fe("Recorder failed to stop",{sessionId:i,error:c instanceof Error?c.message:String(c)})}finally{Rc(!1,"recording-stop-request"),await Xe(),i&&pi(i)}},[pi,H.sessionId,H.state,Xe]),Xl=async()=>{H.state==="recording"?await al():await Aa()};N.useEffect(()=>{if(H.state!=="recording"||!H.startedAt)return;const i=window.setTimeout(()=>{const c=is.state;if(c.state!=="recording"||c.chunksRecorded>0)return;const g=typeof is.getDiagnostics=="function"?is.getDiagnostics():null;qe("No audio captured after timeout; stopping recording",{sessionId:c.sessionId,timeoutMs:15e3,error:c.error??null,diagnostics:g});const C=Ll.current??c.startedAt??Date.now(),R=di.current;hy(C,{sessionId:c.sessionId,timeoutMs:15e3,captureState:{state:c.state,chunksRecorded:c.chunksRecorded,error:c.error??null},diagnostics:g,lastUserInteraction:R??null}),Ea(),bs(),al()},15e3);return()=>window.clearTimeout(i)},[H.startedAt,H.state,bs,al,Ea]);const Es=N.useCallback(async(i=!1)=>{if(!G)return!1;const c=G.mimeType??"audio/mp4",C=[...await gt.getChunkData(G.id)].sort((st,vt)=>st.seq-vt.seq);if(C.length===0)throw new Error("No audio available yet. Keep recording to capture chunks.");const R=C.find(st=>ke(st))??null,Q=C.filter(st=>!ke(st)&&!Ye(st));if(Q.length===0)throw new Error("Audio for this recording was purged.");const B=[];R&&/mp4|m4a/i.test(c)&&B.push(R.blob),Q.forEach(st=>B.push(st.blob));const Y=new Blob(B,{type:c});if(await Lt("Playback source prepared",{sessionId:G.id,blobSize:Y.size,blobType:Y.type}),T(C),_e.current&&!i)return!0;_e.current&&URL.revokeObjectURL(_e.current);const L=URL.createObjectURL(Y);_e.current=L;const at=Oe.current;return at&&(at.src=L,at.currentTime=0,cn({playing:!1,duration:Number.isFinite(at.duration)?at.duration:0,position:0})),!0},[Ye,ke,G]);N.useEffect(()=>{!G||G.status==="recording"||G.chunkCount===0||Es(!0).catch(i=>{console.error("[UI] Failed to prepare playback on detail open",i),Fa(i instanceof Error?i.message:String(i))})},[Es,G,G?.id,G?.updatedAt,G?.chunkCount,G?.status]);const gi=N.useCallback(async()=>{if(!G)return;if(!y.some(c=>!ke(c)&&!Ye(c))){const c="Audio was purged for this recording and is no longer available.";Fa(c),typeof window<"u"&&window.alert(c);return}Fa(null),$a(!0);try{_e.current||await Es();const c=Oe.current;if(!c)throw new Error("Audio element unavailable");c.paused?(await c.play(),await Lt("Playback started",{sessionId:G.id})):(c.pause(),await Lt("Playback paused",{sessionId:G.id}))}catch(c){console.error("[UI] Playback toggle failed",c),Fa(c instanceof Error?c.message:String(c)),await Fe("Playback toggle failed",{sessionId:G.id,error:c instanceof Error?c.message:String(c)})}finally{$a(!1)}},[y,Ye,ke,Es,G]),Ta=async()=>{qt.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),qt.current.clear(),An.current.forEach(i=>URL.revokeObjectURL(i)),An.current.clear(),$(null),rn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),rn.current.clear(),Wa.current.forEach(i=>URL.revokeObjectURL(i)),Wa.current.clear(),Tn.current.clear(),S(null),fs("chunks"),du(!1),sa(!1),re(null),ci(null),$n(null),yt(!1),M(null),T([]),ms(null),ds(!1),Bl(!1),Fn(null),xn("idle"),ae(null),Fa(null),cn({playing:!1,duration:0,position:0}),p&&await Lt("Detail view closed",{sessionId:p}),p&&vn.clearSession(p),_e.current&&(URL.revokeObjectURL(_e.current),_e.current=null),Oe.current&&(Oe.current.pause(),Oe.current.currentTime=0),await tn()},ea=N.useCallback(()=>{const i=Date.now(),c=di.current,g=c?{...c,msAgo:Math.max(0,i-c.timestamp)}:null,C=navigator,R=C.userActivation?{isActive:C.userActivation.isActive,hasBeenActive:C.userActivation.hasBeenActive}:null,Q=typeof document<"u"&&document.activeElement instanceof HTMLElement?document.activeElement.tagName.toLowerCase():null,B=typeof document<"u"?document.visibilityState:null,Y=typeof document<"u"&&typeof document.hasFocus=="function"?document.hasFocus():null;return{visibilityState:B,hasFocus:Y,activeElement:Q,userActivation:R,lastInteraction:g}},[]),As=async()=>{if(!G)return;const i=G.id;if(Lt("Delete recording requested",{sessionId:i,source:"detail"}),G.id===H.sessionId&&H.state==="recording"){F("Stop the active recording before deleting it."),await qe("Delete blocked for active recording",{sessionId:i,source:"detail"});return}const c=Date.now(),g=ea();Lt("Delete confirmation opened",{sessionId:i,source:"detail",...g});const C=window.confirm("Delete this recording? This cannot be undone."),R=Math.max(0,Date.now()-c),Q=ea();if(Lt("Delete confirmation resolved",{sessionId:i,source:"detail",confirmed:C,confirmDurationMs:R,before:g,after:Q}),!C){Lt("Delete recording cancelled",{sessionId:i,source:"detail"});return}Lt("Delete recording confirmed",{sessionId:i,source:"detail"});try{await gt.init()}catch(B){console.error("[UI] Failed to init manifest for delete",B),await Fe("Delete init failed",{sessionId:G.id,error:B instanceof Error?B.message:String(B)});return}try{await gt.deleteSession(i),await gt.getSession(i)&&await qe("Delete verification failed",{sessionId:i,source:"detail"}),await Lt("Recording deleted",{sessionId:i,source:"detail"}),await Ta(),await Xe()}catch(B){console.error("[UI] Failed to delete recording",B),F(B instanceof Error?B.message:String(B)),await Fe("Recording delete failed",{sessionId:i,source:"detail",error:B instanceof Error?B.message:String(B)})}},bu=N.useCallback(async i=>{const c=i.id;if(Lt("Delete recording requested",{sessionId:c,source:"list"}),i.id===H.sessionId&&H.state==="recording"){F("Stop the active recording before deleting it."),await qe("Delete blocked for active recording",{sessionId:c,source:"list"});return}const g=Date.now(),C=ea();Lt("Delete confirmation opened",{sessionId:c,source:"list",...C});const R=window.confirm("Delete this recording? This cannot be undone."),Q=Math.max(0,Date.now()-g),B=ea();if(Lt("Delete confirmation resolved",{sessionId:c,source:"list",confirmed:R,confirmDurationMs:Q,before:C,after:B}),!R){Lt("Delete recording cancelled",{sessionId:c,source:"list"});return}Lt("Delete recording confirmed",{sessionId:c,source:"list"});try{await gt.init()}catch(Y){console.error("[UI] Failed to init manifest for delete",Y),await Fe("Delete init failed",{sessionId:c,source:"list",error:Y instanceof Error?Y.message:String(Y)});return}try{await gt.deleteSession(c),await gt.getSession(c)&&await qe("Delete verification failed",{sessionId:c,source:"list"}),await Lt("Recording deleted",{sessionId:c,source:"list"}),G?.id===c&&await Ta(),await Xe()}catch(Y){console.error("[UI] Failed to delete recording",Y),F(Y instanceof Error?Y.message:String(Y)),await Fe("Recording delete failed",{sessionId:c,source:"list",error:Y instanceof Error?Y.message:String(Y)})}},[ea,H.sessionId,H.state,Ta,Xe,G?.id]),Ue=(i,c)=>c>0?`${Math.round(i/c*100)}%`:"0%",dn=i=>{const c=Math.max(0,i/1e3),g=Math.floor(c/60),C=c-g*60,R=C<10?`0${C.toFixed(1)}`:C.toFixed(1);return`${g}:${R}`},Vl=i=>{const c={ok:0,warn:0,error:0,total:i.length};return i.forEach(g=>{g.status==="ok"?c.ok+=1:g.status==="warn"?c.warn+=1:c.error+=1}),c},wa=i=>{const c=new Map;return i.forEach(g=>{const C=g.reason??"(no reason)",R=`${g.status}:${C}`,Q=c.get(R);Q?(Q.count+=1,Q.examples.length<6&&Q.examples.push(g)):c.set(R,{reason:C,status:g.status,count:1,examples:[g]})}),Array.from(c.values()).sort((g,C)=>{const R={error:0,warn:1,ok:2};return R[g.status]!==R[C.status]?R[g.status]-R[C.status]:C.count-g.count})},Uc=i=>{const{session:c,doctorReports:g,logs:C}=i,R=[];if(R.push("Web Whisper  Doctor Report (compact)"),R.push(`Session: ${c.id}`),R.push(`StartedAt: ${new Date(c.startedAt).toISOString()}`),R.push(`DurationMs: ${c.durationMs}  (=${(c.durationMs/1e3).toFixed(1)}s)`),R.push(`Mime: ${c.mimeType??"unknown"}  Chunks: ${c.chunkCount}  Timing: ${c.timingStatus??"unverified"}`),R.push(""),g?.sanity){const L=g.sanity.metrics;R.push("Sanity:"),R.push(`- chunkTimebase=${L.chunkTimebase} session=${((L.sessionDurationMs??0)/1e3).toFixed(1)}s chunkMax=${((L.chunkMaxOffsetMs??0)/1e3).toFixed(1)}s chunkSum=${((L.chunkSumDurationMs??0)/1e3).toFixed(1)}s snips=${L.snipCount??0} snipMax=${((L.snipMaxEndMs??0)/1e3).toFixed(1)}s`),g.sanity.findings.forEach(at=>R.push(`- ${at.level.toUpperCase()}: ${at.message}`)),R.push("")}const Q=(L,at)=>{if(!at)return;R.push(`${L}: OK=${at.summary.ok} WARN=${at.summary.warn} ERR=${at.summary.error} TOTAL=${at.summary.total}`),R.push(`- expected=${((at.metrics.expectedDurationMs??0)/1e3).toFixed(1)}s observed=${((at.metrics.observedDurationMs??0)/1e3).toFixed(1)}s items=${at.metrics.observedItemCount??0}/${at.metrics.expectedItemCount??0}`),wa(at.segments).filter(vt=>vt.status!=="ok").slice(0,5).forEach(vt=>{const Nt=vt.examples.slice(0,3).map(Ht=>`${dn(Ht.startMs)}${dn(Ht.endMs)}`).join(", ");R.push(`- ${vt.status.toUpperCase()}: ${vt.reason} (${vt.count}) e.g. ${Nt}`)}),R.push("")};Q("Chunk coverage",g?.chunkCoverage),Q("Range access",g?.rangeAccess),Q("Per-chunk decode",g?.chunkDecode),Q("Snip scan",g?.snipScan),C.length>0&&(R.push("Recent logs (last 30):"),C.slice(-30).forEach(L=>{const at=typeof L.timestamp=="number"?new Date(L.timestamp).toISOString():"",st=L.level??"",vt=(L.message??"").replace(/\s+/g," ").slice(0,200);R.push(`- ${at} ${st} ${vt}`.trim())}),R.push(""));let B=R.join(`
`);const Y=45e3;return B.length>Y&&(B=`${B.slice(0,Y)}

[TRUNCATED: report exceeded ${Y} chars]
`),B},Ql=(i,c)=>{const g=JSON.stringify(c,null,2),C=new Blob([g],{type:"application/json"}),R=URL.createObjectURL(C),Q=document.createElement("a");Q.href=R,Q.download=`${i.replace(/\s+/g,"-").toLowerCase()}-doctor-report.json`,Q.rel="noopener",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(R)},Bc=async i=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText){await navigator.clipboard.writeText(i);return}const c=document.createElement("textarea");c.value=i,c.style.position="fixed",c.style.left="-9999px",c.style.top="0",document.body.appendChild(c),c.focus(),c.select(),document.execCommand("copy"),document.body.removeChild(c)},Lc=(i,c)=>{const g=i.find(C=>C.seq>=0)??null;return g?g.startMs>1e12&&c>1e12?"absolute":g.startMs>=0&&g.startMs<864e5?"offset":"unknown":"unknown"},qc=(i,c,g)=>g==="absolute"?{startMs:i.startMs-c,endMs:i.endMs-c}:{startMs:i.startMs,endMs:i.endMs},Su=N.useCallback(async()=>{if(!G)return;const i=ql.current+1;ql.current=i;const c=()=>ql.current!==i;sa(!0),ci(null),$n(null),await gt.init();try{await gt.verifySessionChunkTimings(G.id)}catch{}vn.clearSession(G.id);const g=await gt.getSession(G.id)??G,C=await gt.getChunkData(G.id),R=C.filter(et=>!ke(et)),Q=C.find(et=>et.seq===0)?.startMs??R[0]?.startMs??g.startedAt,B=Number.isFinite(Q)?Math.round(Q):g.startedAt,Y=Lc(R,B),L=R.map(et=>({...et,...qc(et,B,Y)})),at=Ul??(L.length>0?Math.max(...L.map(et=>et.endMs)):g.durationMs??0),st=Math.max(0,at),vt=100,Nt=st>0?Math.ceil(st/vt):0,Ht={},le=async()=>{await new Promise(et=>requestAnimationFrame(()=>et()))},mt=async()=>{const et=[];re({label:"Chunk coverage scan",completed:0,total:Nt});let It=0;for(let fe=0;fe<Nt;fe+=1){if(c())return;const Ot=fe*vt,me=Math.min(st,Ot+vt),pt=L.find(Mt=>Mt.startMs<=Ot&&Mt.endMs>Ot)??null;pt?!Number.isFinite(pt.byteLength)||pt.byteLength<=0?et.push({index:fe,startMs:Ot,endMs:me,status:"error",reason:"Chunk blob is empty",meta:{chunkId:pt.id,seq:pt.seq,byteLength:pt.byteLength}}):pt.endMs<=pt.startMs?et.push({index:fe,startMs:Ot,endMs:me,status:"warn",reason:"Chunk timing metadata looks invalid",meta:{chunkId:pt.id,seq:pt.seq,chunkStartMs:pt.startMs,chunkEndMs:pt.endMs}}):(It+=me-Ot,et.push({index:fe,startMs:Ot,endMs:me,status:"ok",meta:{chunkId:pt.id,seq:pt.seq}})):et.push({index:fe,startMs:Ot,endMs:me,status:"error",reason:"No chunk covers this time range"}),fe%50===0&&(re({label:"Chunk coverage scan",completed:fe+1,total:Nt}),await le())}re({label:"Chunk coverage scan",completed:Nt,total:Nt}),Ht.chunkCoverage={stepMs:vt,totalDurationMs:st,segments:et,summary:Vl(et),metrics:{expectedDurationMs:st,observedDurationMs:It,expectedItemCount:Nt,observedItemCount:Nt-Vl(et).error}}},Rt=async()=>{const et=[];re({label:"Range access scan (0.1s)",completed:0,total:Nt});let It=0,fe=0;for(let Ot=0;Ot<Nt;Ot+=1){if(c())return;const me=Ot*vt,pt=Math.min(st,me+vt);try{const Mt=await vn.inspectRange(g,me,pt,g.mimeType??null);It+=Mt.durationMs,fe+=1;const Qe=pt-me,Ut=Mt.durationMs<Math.min(Qe*.5,Qe-10),ge=Mt.sampleCount>0&&Mt.rms<=1e-5&&Mt.peak<=5e-5,sn=Ut||ge?"warn":"ok",Et=Ut?"Decoded slice shorter than expected":ge?"Slice appears silent":void 0;et.push({index:Ot,startMs:me,endMs:pt,status:sn,reason:Et,meta:{durationMs:Mt.durationMs,sampleCount:Mt.sampleCount,rms:Mt.rms,peak:Mt.peak}})}catch(Mt){et.push({index:Ot,startMs:me,endMs:pt,status:"error",reason:Mt instanceof Error?Mt.message:String(Mt)})}Ot%20===0&&(re({label:"Range access scan (0.1s)",completed:Ot+1,total:Nt}),await le())}re({label:"Range access scan (0.1s)",completed:Nt,total:Nt}),Ht.rangeAccess={stepMs:vt,totalDurationMs:st,segments:et,summary:Vl(et),metrics:{expectedDurationMs:st,observedDurationMs:It,expectedItemCount:Nt,observedItemCount:fe}}},fn=async()=>{re({label:"Per-chunk decode scan",completed:0,total:R.length});const et=[];if(typeof window>"u"||typeof window.AudioContext>"u"){Ht.chunkDecode={stepMs:1,totalDurationMs:st,segments:[{index:0,startMs:0,endMs:0,status:"error",reason:"AudioContext is not supported in this environment."}],summary:{ok:0,warn:0,error:1,total:1},metrics:{expectedDurationMs:null,observedDurationMs:null,expectedItemCount:null,observedItemCount:null}};return}const It=new AudioContext;let fe=0,Ot=0,me=0;try{for(let pt=0;pt<L.length;pt+=1){if(c())return;const Mt=L[pt],Qe=Mt.seq;fe+=Math.max(0,Mt.endMs-Mt.startMs);try{const Ut=await vn.getChunkAudio(g,Qe);if(!Ut)et.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:"error",reason:"Chunk not found",meta:{seq:Qe}});else{const ge=await Ut.blob.arrayBuffer(),sn=await It.decodeAudioData(ge.slice(0)),Et=Math.max(0,sn.duration*1e3);Ot+=Et,me+=1;const Wt=Math.max(0,Mt.endMs-Mt.startMs),ie=Math.abs(Et-Wt),Ln=ie>250?"warn":"ok",Da=ie>250?"Decoded duration differs from expected chunk timing":void 0;et.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:Ln,reason:Da,meta:{seq:Qe,blobType:Ut.mimeType,blobBytes:Ut.blob.size,decodedMs:Et,expectedMs:Wt,driftMs:ie,note:"Standalone chunk decoding can include timestamp offsets; compare against range scans."}})}}catch(Ut){et.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:"error",reason:Ut instanceof Error?Ut.message:String(Ut),meta:{seq:Qe}})}pt%5===0&&(re({label:"Per-chunk decode scan",completed:pt+1,total:R.length}),await le())}}finally{await It.close().catch(()=>{})}re({label:"Per-chunk decode scan",completed:R.length,total:R.length}),Ht.chunkDecode={stepMs:1,totalDurationMs:st,segments:et,summary:Vl(et),metrics:{expectedDurationMs:fe,observedDurationMs:Ot,expectedItemCount:R.length,observedItemCount:me}}},Ds=async()=>{const et=[],It=Number.isFinite(G.durationMs)?Math.max(0,G.durationMs):null,fe=R.length>0?Math.max(...R.map(Et=>Et.endMs)):null,Ot=L.length>0?Math.max(...L.map(Et=>Et.endMs)):null,me=L.reduce((Et,Wt)=>Et+Math.max(0,Wt.endMs-Wt.startMs),0),pt=[...L].sort((Et,Wt)=>Et.seq-Wt.seq);let Mt=0,Qe=0;for(let Et=1;Et<pt.length;Et+=1){const Wt=pt[Et-1],ie=pt[Et];ie.startMs<Wt.endMs-5&&(Mt+=1),ie.startMs>Wt.endMs+50&&(Qe+=1)}if(Mt>0&&et.push({level:"warn",message:`Chunk timings overlap in ${Mt} places.`,meta:{overlaps:Mt}}),Qe>0&&et.push({level:"warn",message:`Chunk timings have gaps in ${Qe} places.`,meta:{gaps:Qe}}),It!==null&&Ot!==null){const Et=Ot-It;Math.abs(Et)>1e3?et.push({level:(Et>0,"warn"),message:"Session duration and chunk max end differ by >1s.",meta:{sessionDurationMs:It,chunkMaxOffsetMs:Ot,driftMs:Et,chunkTimebase:Y}}):et.push({level:"info",message:"Session duration and chunk max end are close.",meta:{sessionDurationMs:It,chunkMaxOffsetMs:Ot,driftMs:Et,chunkTimebase:Y}})}let Ut=null,ge=null,sn=null;try{const Et=await vn.listSnips(g,g.mimeType??null);Ut=Et.length,ge=Et.length>0?Math.max(...Et.map(ie=>ie.endMs)):0,sn=Et.reduce((ie,Ln)=>ie+Math.max(0,Ln.durationMs),0);const Wt=Ot??It??st;Wt>0&&ge>Wt+2e3?et.push({level:"error",message:"Snips extend beyond the expected session duration by >2s.",meta:{baselineDurationMs:Wt,snipMaxEndMs:ge,driftMs:ge-Wt}}):Wt>0&&Et.length>0&&ge<Wt-2e3?et.push({level:"error",message:"Snips do not cover the full expected session duration (end too early).",meta:{baselineDurationMs:Wt,snipMaxEndMs:ge,driftMs:ge-Wt}}):et.push({level:"info",message:"Snip end times are within expected duration.",meta:{baselineDurationMs:Wt,snipMaxEndMs:ge}})}catch(Et){et.push({level:"error",message:"Failed to compute snips for sanity checks.",meta:{error:Et instanceof Error?Et.message:String(Et)}})}try{const Et=await gt.listChunkVolumeProfiles(G.id),Wt=new Set(L.map(Yt=>Yt.seq)),ie=Et.filter(Yt=>Wt.has(Yt.seq)).sort((Yt,oa)=>Yt.seq-oa.seq),Ln=new Set(ie.map(Yt=>Yt.seq)),Da=[...Wt].filter(Yt=>!Ln.has(Yt)),xi=ie.filter(Yt=>!(typeof Yt.durationMs=="number"&&Yt.durationMs>0)),ra=ie.filter(Yt=>!Array.isArray(Yt.frames)||Yt.frames.length===0),Ns=ie.filter(Yt=>{const oa=Array.isArray(Yt.frames)?Yt.frames:[];return oa.length===0?!1:oa.every(il=>!Number.isFinite(il)||il<=0)}),Ei=ie.filter(Yt=>!(typeof Yt.sampleRate=="number"&&Yt.sampleRate>0)),Ai=ie.filter(Yt=>!(typeof Yt.frameDurationMs=="number"&&Yt.frameDurationMs>0)),Rs=[];ie.forEach(Yt=>{const oa=L.find(Nn=>Nn.seq===Yt.seq)??null;if(!oa)return;const il=Math.max(0,oa.endMs-oa.startMs),Ti=Math.max(0,Yt.durationMs??0),js=Ti-il;Math.abs(js)>250&&Rs.push({seq:Yt.seq,expectedMs:il,profileMs:Ti,driftMs:js})}),Da.length>0?et.push({level:"warn",message:`Missing chunk volume profiles for ${Da.length} chunk(s).`,meta:{examples:Da.slice(0,10)}}):et.push({level:"info",message:"Chunk volume profiles exist for all chunks."}),xi.length>0||ra.length>0||Ei.length>0||Ai.length>0?et.push({level:"warn",message:"Some chunk volume profiles have invalid metadata (duration/frames/sampleRate/frameDuration).",meta:{zeroDuration:xi.length,zeroFrames:ra.length,invalidSampleRate:Ei.length,invalidFrameDuration:Ai.length}}):et.push({level:"info",message:"Chunk volume profile metadata looks well-formed."}),Ns.length>0&&et.push({level:"warn",message:`Some chunk volume profiles are all zeros (silent/failed decode) (${Ns.length}).`,meta:{examples:Ns.slice(0,6).map(Yt=>Yt.seq)}}),Rs.length>0?et.push({level:"warn",message:`Chunk volume profile durations differ from chunk timings for ${Rs.length} chunk(s).`,meta:{examples:Rs.slice(0,6)}}):et.push({level:"info",message:"Chunk volume profile durations match chunk timings (within 250ms)."})}catch(Et){et.push({level:"warn",message:"Unable to validate chunk volume profiles.",meta:{error:Et instanceof Error?Et.message:String(Et)}})}Ht.sanity={findings:et,metrics:{sessionDurationMs:It,chunkMaxEndMs:fe,chunkSumDurationMs:me,snipCount:Ut,snipMaxEndMs:ge,snipSumDurationMs:sn,chunkTimebase:Y,chunkMaxOffsetMs:Ot}}},wu=async()=>{re({label:"Snip scan (each snip)",completed:0,total:1});const et=await vn.listSnips(g,g.mimeType??null),It=[],fe=et.reduce((pt,Mt)=>pt+Math.max(0,Mt.durationMs),0);let Ot=0,me=0;re({label:"Snip scan (each snip)",completed:0,total:et.length});for(let pt=0;pt<et.length;pt+=1){if(c())return;const Mt=et[pt],Qe=pt+1;try{const Ut=await vn.inspectRange(g,Mt.startMs,Mt.endMs,g.mimeType??null);Ot+=Ut.durationMs,me+=1;const ge=Math.abs(Ut.durationMs-Math.max(0,Mt.durationMs)),sn=Ut.sampleCount>0&&Ut.rms<=1e-5&&Ut.peak<=5e-5,Et=ge>500||sn?"warn":"ok",Wt=ge>500?"Decoded snip duration differs from expected":sn?"Snip appears silent":void 0;It.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:Et,reason:Wt,meta:{snipNumber:Qe,expectedMs:Mt.durationMs,decodedMs:Ut.durationMs,driftMs:ge,rms:Ut.rms,peak:Ut.peak,sampleCount:Ut.sampleCount}})}catch(Ut){It.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:"error",reason:Ut instanceof Error?Ut.message:String(Ut),meta:{snipNumber:Qe}})}pt%5===0&&(re({label:"Snip scan (each snip)",completed:pt+1,total:et.length}),await le())}re({label:"Snip scan (each snip)",completed:et.length,total:et.length}),Ht.snipScan={stepMs:0,totalDurationMs:et.length>0?et[et.length-1].endMs:0,segments:It,summary:Vl(It),metrics:{expectedDurationMs:fe,observedDurationMs:Ot,expectedItemCount:et.length,observedItemCount:me}}};try{if(Re.sanityChecks&&await Ds(),Re.chunkCoverageScan&&await mt(),Re.rangeAccessScan&&await Rt(),Re.chunkDecodeScan&&await fn(),Re.snipScan&&await wu(),c())return;$n(Ht)}catch(et){if(c())return;ci(et instanceof Error?et.message:String(et))}finally{c()||(sa(!1),re(null))}},[Re.chunkCoverageScan,Re.chunkDecodeScan,Re.rangeAccessScan,Re.sanityChecks,Re.snipScan,G,Ul]),Mu=()=>{ce(!1),Za([]),la(null),Rl("tables"),Ka([]),jl(null),os([])},Hc=async i=>{const c=Number(i);!Number.isFinite(c)||c<=0||await ru.set({storageLimitBytes:Math.round(c*ad)})},Gc=async i=>{await ru.set({developerMode:i})},Yc=async i=>{await ru.set({groqApiKey:i})},yi=N.useCallback(async i=>{const{id:c}=i,g=qt.current,C=g.get(c),R=(Ht,le)=>{le.cleanup(),le.audio.pause(),le.audio.currentTime=le.startTime,g.delete(Ht)};if(W===c){C&&R(c,C),$(null);return}for(const[Ht,le]of g.entries())R(Ht,le);if($(null),ke(i)||Ye(i))return;const Q=new Audio,B=xa(i);if(!B){console.error("[UI] Missing chunk URL for playback",c);return}Q.src=B,Q.volume=k;const Y=0,L=0;Oe.current?.pause();function at(){Q.removeEventListener("ended",vt),Q.removeEventListener("error",vt)}function st(){at(),Q.pause(),Q.currentTime=Y,g.delete(c),$(Ht=>Ht===c?null:Ht)}function vt(){st()}Q.addEventListener("ended",vt),Q.addEventListener("error",vt);const Nt=()=>at();g.set(c,{audio:Q,cleanup:Nt,startTime:Y,endTime:L});try{Q.currentTime=Y,await Q.play(),$(c)}catch(Ht){console.error("[UI] Failed to play chunk",Ht),st()}},[W,xa,Ye,ke,k]),Xc=N.useCallback(async i=>{if(!G||Zt(i))return;const c=i.id,g=rn.current,C=g.get(c),R=(mt,Rt)=>{Rt.cleanup(),Rt.audio.pause(),Rt.audio.currentTime=Rt.startTime,g.delete(mt)};if(it===c){C&&R(c,C),S(null);return}qt.current.forEach((mt,Rt)=>{mt.cleanup(),mt.audio.pause(),mt.audio.currentTime=mt.startTime,qt.current.delete(Rt)}),$(null);for(const[mt,Rt]of g.entries())R(mt,Rt);S(null);const Q=await tl(i);if(!Q)return;const B=new Audio;B.src=Q.url,B.volume=k;const Y=Math.max(0,i.durationMs/1e3),L=0,at=Y;Oe.current?.pause();function st(){B.removeEventListener("timeupdate",Ht),B.removeEventListener("ended",Nt),B.removeEventListener("error",Nt)}function vt(){st(),B.pause(),B.currentTime=L,g.delete(c),S(mt=>mt===c?null:mt)}function Nt(){vt()}function Ht(){Y>0&&B.currentTime>=at-.05&&vt()}B.addEventListener("timeupdate",Ht),B.addEventListener("ended",Nt),B.addEventListener("error",Nt);const le=()=>st();g.set(c,{audio:B,cleanup:le,startTime:L,endTime:at});try{await B.play(),S(c)}catch(mt){console.error("[UI] Failed to play snip",mt),vt()}},[tl,Zt,k,G,it]),vi=N.useCallback(async()=>{try{const[i,c,g,C]=await Promise.all([gt.listSessions(),gt.getChunksForInspection(),gt.listChunkVolumeProfiles(),gt.listSnips()]);Za([{name:"sessions",rows:i.map(R=>({...R}))},{name:"chunks",rows:c.map(R=>({...R}))},{name:"chunkVolumes",rows:g.map(R=>({...R,framesPreview:R.frames.slice(0,24),framesTotal:R.frames.length}))},{name:"snips",rows:C.map(R=>({...R,segmentsPreview:R.transcription?.segments?.slice(0,6)??[],segmentsCount:R.transcription?.segments?.length??0}))}]),la(R=>R??"sessions")}catch(i){console.error("[UI] Failed to load developer tables",i),Za([]),la("sessions"),await Fe("Developer table load failed",{error:i instanceof Error?i.message:String(i)})}},[]),ll=N.useCallback(async i=>{if(jl(i),i){const c=await gt.getLogEntries(i.id);os(c)}else os([])},[]),Ts=N.useCallback(async()=>{try{const i=await gt.listLogSessions();Ka(i);const g=jh()??i[0]??null;await ll(g)}catch(i){console.error("[UI] Failed to load log sessions",i),Ka([]),await ll(null),await Fe("Log session load failed",{error:i instanceof Error?i.message:String(i)})}},[ll]),xu=N.useCallback(async i=>{if(!Sn)return;const c=Un.findIndex(C=>C.id===Sn.id);if(c===-1)return;const g=Un[c+i];g&&await ll(g)},[ll,Un,Sn]),Vc=N.useCallback(async()=>{Rl("tables"),ce(!0),Kn(!0);try{await vi(),await Ts()}catch(i){console.error("[UI] Failed to load developer data",i),Za([]),la(null),await Fe("Developer overlay failed to load",{error:i instanceof Error?i.message:String(i)})}finally{Kn(!1)}},[vi,Ts]),Qc=`${us(ct.totalBytes)} / ${us(ct.limitBytes)}`,ws=H.state==="recording"&&H.capturedMs>0,Zl=Math.max(0,H.capturedMs),Zc=`${(Zl/1e3).toFixed(1)}s`,Kc=H.state==="recording"&&d?.targetBitrate?Math.round(Zl/1e3*(d.targetBitrate/8)):0,Jc=H.state==="recording"?Math.max(H.bytesBuffered,Kc):H.bytesBuffered,Eu=G?.id===H.sessionId&&H.state==="recording",bi=Ce&&!p,sl=Eu?Zl:Ul??G?.durationMs??0,Si=Math.max(Ul!==null?Ul/1e3:sl/1e3,Mn.duration),en=N.useMemo(()=>{if(!G||y.length===0)return null;const i=1e12,c=y.map(mt=>mt.startMs).filter(mt=>Number.isFinite(mt)),g=c.length>0?Math.min(...c):0,C=Number.isFinite(g)?g:0,R=C>i,Q=mt=>R?mt-C:mt,B=y.filter(mt=>!ke(mt)).map(mt=>{const Rt=Q(mt.startMs),fn=Q(mt.endMs);return!Number.isFinite(Rt)||!Number.isFinite(fn)?null:{startMs:Rt,endMs:fn,hasAudio:!Ye(mt)}}).filter(mt=>!!mt).sort((mt,Rt)=>mt.startMs-Rt.startMs),Y=Math.max(G.durationMs??0,B.reduce((mt,Rt)=>Math.max(mt,Rt.endMs),0)),L=[],at=4;let st=0;const vt=mt=>{if(mt.endMs<=mt.startMs)return;const Rt=L[L.length-1];if(Rt&&Rt.hasAudio===mt.hasAudio&&Math.abs(Rt.endMs-mt.startMs)<=at){Rt.endMs=Math.max(Rt.endMs,mt.endMs);return}L.push(mt)};B.forEach(mt=>{let Rt=Math.max(0,mt.startMs),fn=Math.max(Rt,mt.endMs);Y>0&&(Rt=Math.min(Rt,Y),fn=Math.min(fn,Y)),!(fn<=st)&&(Rt>st+at&&vt({startMs:st,endMs:Rt,hasAudio:!1}),vt({startMs:Rt,endMs:fn,hasAudio:mt.hasAudio}),st=Math.max(st,fn))}),Y>0&&st<Y-at&&vt({startMs:st,endMs:Y,hasAudio:!1});const Nt=L.filter(mt=>mt.hasAudio),Ht=[];let le=0;return Nt.forEach(mt=>{const Rt=Math.max(0,mt.endMs-mt.startMs);Rt<=0||(Ht.push({startMs:mt.startMs,endMs:mt.endMs,playStartMs:le,playEndMs:le+Rt}),le+=Rt)}),{durationMs:Y,segments:L,playableDurationMs:le,playbackMap:Ht}},[y,Ye,ke,G]),Cs=(en?.playableDurationMs??0)>0,Mi=N.useMemo(()=>{if(!en||en.playbackMap.length===0)return Mn.position;const i=Math.max(0,Mn.position*1e3),c=en.playbackMap.find(C=>i<=C.playEndMs)??en.playbackMap[en.playbackMap.length-1],g=Math.max(0,Math.min(i-c.playStartMs,c.endMs-c.startMs));return Math.max(0,(c.startMs+g)/1e3)},[Mn.position,en]),Au=Si>0?Mi/Si*100:0,Tu=N.useMemo(()=>{if(!en||en.durationMs<=0)return[];const i=c=>Math.max(0,Math.min(100,c));return en.segments.filter(c=>!c.hasAudio).map(c=>{const g=i(c.startMs/en.durationMs*100),C=i(c.endMs/en.durationMs*100);return{startPct:g,widthPct:Math.max(0,C-g)}}).filter(c=>c.widthPct>0)},[en]),Ca=/mp4|m4a/i.test(H.mimeType??"")&&H.chunksRecorded>0,$c=Math.max(0,H.chunksRecorded-(Ca?1:0));return h.jsxs("div",{className:"app-shell",children:[kc?h.jsx("div",{className:"no-audio-flash","aria-hidden":"true"}):null,h.jsxs("header",{className:"app-header",children:[h.jsx("div",{className:"brand",children:h.jsx("h1",{children:"Web Whisper"})}),h.jsxs("div",{className:"header-controls",children:[h.jsxs("div",{className:"buffer-card",role:"status","aria-live":"polite",children:[h.jsx("p",{className:"buffer-label",children:"Data"}),h.jsx("p",{className:"buffer-value",children:Qc})]}),Ge?h.jsx("button",{className:"dev-trigger",type:"button",onClick:Vc,"aria-label":"Open developer console",children:""}):null,h.jsx("button",{className:"settings-button",type:"button",onClick:()=>Tt(!0),children:"Settings"})]})]}),ft?h.jsxs("div",{className:"alert-banner",role:"alert",children:[h.jsx("p",{children:ft}),h.jsx("button",{type:"button",onClick:()=>F(null),children:"Dismiss"})]}):null,h.jsxs("main",{className:"content-grid",children:[h.jsx("aside",{className:"controls-panel","aria-label":"Capture controls",children:h.jsxs("div",{className:"controls-card",children:[h.jsx("h2",{children:"Capture"}),h.jsx("button",{className:`record-toggle ${H.state==="recording"?ws?"record-toggle-stop":"record-toggle-starting":"record-toggle-start"}`,type:"button",onClick:Xl,"aria-pressed":H.state==="recording",disabled:H.state==="recording"&&!ws,children:H.state==="recording"?ws?"Stop recording":"Starting":"Start recording"}),h.jsx("p",{className:"controls-copy",children:H.state==="recording"?ws?`Recording  ${li(Math.floor(Zl/1e3))} elapsed`:"Starting recorder":"Recorder idle  tap start to begin a durable session."})]})}),Ge&&H.state==="recording"?h.jsxs("div",{className:"dev-strip capture-strip",role:"status","aria-live":"polite",children:[h.jsxs("span",{children:["Audio: ",Zc," / ",$c," seg",Ca?" + init":""]}),h.jsxs("span",{children:["Data: ",us(Jc)]})]}):null,h.jsx("section",{className:"session-section","aria-label":"Recording sessions",children:h.jsx("ul",{className:"session-list",children:f.map(i=>{const c=i.id===H.sessionId&&H.state==="recording",g=c?li(Math.floor(Zl/1e3)):Wy(i.durationMs),C=D[i.id]??"",R=q[i.id]??0,Q=nt[i.id],B=Q?.transcribedCount??0,Y=Q?.total??0,L=Q?.purgedCount??0,at=Q?.retryableCount??Math.max(0,Y-L),st=B>0,vt=R>0,Nt=Y>0||vt,Ht=i.status==="error"?i.notes??"Recording error.":"",le=!!xt[i.id],mt=!c&&!!(bt[i.id]||le),Rt=at>0,fn=i.status==="error"?"error":c?"recording":mt?"transcribing":vt&&Nt?st?"partial":"untranscribed":i.status,Ds=Zy[fn],et=!(i.chunkCount>0&&i.totalBytes>0&&(i.durationMs??0)>0)||i.status==="error",It=`${Py(i.startedAt)}  ${Fy(i.totalBytes)}`,fe=i.id===Ft,Ot=["session-card"];fe&&Ot.push("is-new"),i.status==="error"&&Ot.push("has-error");const me=c?"Recording in progress...":Ht||(mt?"Finishing transcription...":C||(L>0&&!vt?`Audio purged for ${L} snip${L===1?"":"s"}.`:vt?st?`Partially transcribed (${B}/${Y})`:"Transcription failed for all snips.":"Transcription pending..."));return h.jsx("li",{children:h.jsxs("article",{className:Ot.join(" "),role:"button",tabIndex:0,onClick:()=>M(i.id),onKeyDown:pt=>{(pt.key==="Enter"||pt.key===" ")&&(pt.preventDefault(),M(i.id))},children:[h.jsxs("header",{className:"session-topline",children:[h.jsxs("div",{className:"session-topline-left",children:[h.jsx("span",{className:`session-pill ${Ds.pillClass}`,children:Ds.label}),h.jsx("span",{className:"session-duration-label",children:g})]}),h.jsx("div",{className:"session-topline-right",children:h.jsx("span",{className:"session-meta",children:It})})]}),h.jsxs("div",{className:"session-preview-row",children:[h.jsx("p",{className:"session-preview",children:me}),mt?h.jsx("span",{className:"session-spinner","aria-label":"Transcribing"}):null,!mt&&Rt&&(vt||!C&&!Ht)&&i.status==="ready"?h.jsx("button",{type:"button",className:"session-retry",onClick:pt=>{pt.stopPropagation(),xs(i.id)},disabled:le,"aria-label":`Retry transcription for ${i.title}`,children:le?"Retrying":"Retry TX"}):null,et?h.jsx("button",{type:"button",className:"session-delete",onClick:pt=>{pt.stopPropagation(),bu(i)},disabled:i.id===H.sessionId&&H.state==="recording","aria-label":`Delete ${i.title}`,title:i.id===H.sessionId&&H.state==="recording"?"Stop the active recording before deleting it.":"Delete recording",children:""}):null]})]})},i.id)})})})]}),bi?h.jsxs("section",{className:`transcription-panel${A?" is-visible":""}`,"aria-live":"polite","aria-label":"Live transcription preview",children:[h.jsx("header",{className:"transcription-header",children:h.jsx("h2",{children:"Live transcription"})}),h.jsxs("div",{className:"transcription-stream",ref:ba,children:[Hl.length===0?h.jsx("p",{className:"transcription-empty",children:"Pending - first words arrive in about 30 seconds."}):Hl.map((i,c)=>h.jsx("p",{className:"transcription-line",children:i},`${c}-${i.slice(0,12)}`)),h.jsx("div",{className:"transcription-fade","aria-hidden":"true"})]})]}):null,h.jsx("audio",{ref:Oe,hidden:!0,preload:"none"}),G?h.jsx("div",{className:"detail-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"recording-detail-title",onClick:i=>{i.target===i.currentTarget&&Ta()},children:h.jsxs("div",{className:"detail-panel",onClick:i=>i.stopPropagation(),children:[h.jsxs("header",{className:"detail-header",children:[h.jsxs("div",{children:[h.jsx("p",{className:"detail-label",children:G.id===H.sessionId&&H.state==="recording"?"Recording in progress":"Recorded session"}),h.jsx("h2",{id:"recording-detail-title",children:$y(sl)})]}),h.jsxs("div",{className:"detail-actions",children:[Ge?h.jsx("button",{className:`detail-graph-toggle ${ya?"is-active":""}`,type:"button",onClick:()=>Bl(i=>!i),"aria-pressed":ya,"aria-label":ya?"Hide audio chunking analysis":"Show audio chunking analysis",children:""}):null,Ge?h.jsx("button",{className:`detail-doctor-toggle ${ga?"is-active":""}`,type:"button",onClick:()=>du(i=>!i),"aria-pressed":ga,"aria-label":ga?"Hide recording doctor diagnostics":"Show recording doctor diagnostics",children:""}):null,Ge?h.jsx("button",{className:`detail-debug-toggle ${pe?"is-active":""}`,type:"button",onClick:()=>ds(i=>!i),"aria-pressed":pe,"aria-label":pe?"Hide developer details":"Show developer details",children:""}):null,h.jsx("button",{className:"detail-delete",type:"button",onClick:()=>void As(),"aria-label":"Delete recording",disabled:G.id===H.sessionId&&H.state==="recording",title:G.id===H.sessionId&&H.state==="recording"?"Stop the active recording before deleting it.":"Delete recording",children:""}),h.jsx("button",{className:"detail-close",type:"button",onClick:Ta,children:"Close"})]})]}),h.jsxs("div",{className:"detail-body",children:[h.jsxs("div",{className:"detail-summary",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Captured:"})," ",ap(G.startedAt)," ",ld(G.startedAt)," "," ",Iy(G.startedAt,G.durationMs)]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Size:"})," ",us(G.totalBytes)]}),Ge&&pe?h.jsxs("p",{children:[h.jsx("strong",{children:"Format:"})," ",G.mimeType??"pending"," "," ",h.jsx("strong",{children:"Chunks:"})," ",pu,ua?" + init":""]}):null]}),h.jsxs("div",{className:"playback-controls",children:[h.jsx("button",{className:`playback-button${Cs?"":" is-disabled"}`,type:"button",onClick:gi,disabled:kl,"aria-disabled":!Cs,"aria-pressed":Mn.playing,children:kl?"":Mn.playing?"":""}),h.jsxs("div",{className:"playback-progress","aria-hidden":"true",children:[Tu.map((i,c)=>h.jsx("span",{className:"playback-gap",style:{left:`${i.startPct}%`,width:`${i.widthPct}%`}},`gap-${c}-${i.startPct}`)),h.jsx("div",{className:"playback-progress-bar",style:{width:`${Au}%`}})]}),h.jsxs("span",{className:"playback-timestamps",children:[li(Mi)," / ",li(Si)]}),h.jsxs("div",{className:`volume-control ${lt?"is-open":""}`,children:[h.jsx("button",{type:"button",className:"volume-button","aria-pressed":lt,"aria-label":lt?"Hide volume slider":"Show volume slider",onClick:()=>yt(i=>!i),children:k===0?"":k<.5?"":""}),lt?h.jsx("input",{className:"volume-slider",type:"range",min:0,max:100,value:Math.round(k*100),onChange:i=>tt(Number(i.target.value)/100),"aria-label":"Playback volume"}):null]})]}),mu?h.jsx("p",{className:"detail-notes",role:"alert",children:mu}):null,Cs?null:h.jsx("p",{className:"detail-notes",role:"status",children:"Audio was purged for this recording. Playback is unavailable."}),Ge&&ya?h.jsx("div",{className:"detail-analysis",children:va==="loading"?h.jsx("p",{className:"detail-analysis-status",children:"Analyzing audio for pauses"}):va==="error"?h.jsx("p",{className:"detail-analysis-status",role:"alert",children:En??"Unable to analyze audio."}):ri?h.jsx(zy,{analysis:ri,targetRange:{minMs:5e3,idealMs:1e4,maxMs:6e4},playback:{positionMs:Math.max(0,Mn.position*1e3),isPlaying:Mn.playing}}):h.jsx("p",{className:"detail-analysis-status",children:"Preparing analysis"})}):null,h.jsxs("div",{className:"detail-transcription",children:[h.jsx("h3",{children:"Transcription"}),h.jsx("div",{className:"detail-transcription-actions",children:h.jsx("button",{type:"button",className:"detail-transcription-retry",onClick:()=>void Ms(),disabled:Ia||b.length===0||Ve.retryableCount===0,children:Ia?"Retrying":"Retry TX"})}),b.length===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"No snips recorded yet."}):Ve.transcribedCount===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"No snip transcriptions yet. Open the snip list to retry each segment."}):h.jsx("textarea",{ref:hs,className:"detail-transcription-text",readOnly:!0,value:Ve.text,onClick:vs,"aria-label":"Session transcription text",rows:Math.min(8,Math.max(3,Math.ceil(Ve.text.length/90)))}),b.length>0?h.jsxs("p",{className:"detail-transcription-meta",children:["Transcribed ",Ve.transcribedCount," of ",Ve.total," snips."]}):null,Ve.errorCount>0?h.jsxs("p",{className:"detail-transcription-error",role:"alert",children:[Ve.errorCount," snip transcription error",Ve.errorCount===1?"":"s"," recorded. See the snip list for details."]}):null,Ve.purgedCount>0?h.jsxs("p",{className:"detail-transcription-note",children:["Audio purged for ",Ve.purgedCount," snip",Ve.purgedCount===1?"":"s"," to stay under the storage cap. Retries are disabled for purged audio."]}):null]}),Ge&&ga?h.jsxs("div",{className:"detail-doctor",children:[h.jsxs("div",{className:"detail-doctor-header",children:[h.jsx("h3",{children:"Doctor diagnostics"}),h.jsxs("div",{className:"detail-doctor-actions",children:[h.jsx("button",{type:"button",onClick:async()=>{if(G){Ol(null),Ja(null);try{await gt.init();const c=jh()?.id??null,g=c?await gt.getLogEntries(c,400):[],C=Uc({session:G,doctorReports:be,logs:g.map(R=>({level:R.level,message:R.message,timestamp:R.timestamp}))});Ja(C);try{await Bc(C),Ol("Copied compact report to clipboard."),window.setTimeout(()=>Ol(null),2500)}catch{Ol("Clipboard copy blocked; compact report shown below (tap Select all).")}}catch(i){Ol(`Copy failed: ${i instanceof Error?i.message:String(i)}`)}}},disabled:Jn,children:"Copy compact report"}),h.jsx("button",{type:"button",onClick:()=>{ql.current+=1,sa(!1),re(null)},disabled:!Jn,children:"Cancel"}),h.jsx("button",{type:"button",onClick:()=>void Su(),disabled:Jn,children:Jn?"Running":"Run selected tests"})]})]}),fu?h.jsx("p",{className:"detail-transcription-placeholder",children:fu}):null,_l?h.jsxs("div",{className:"doctor-export",children:[h.jsxs("div",{className:"doctor-export-actions",children:[h.jsx("button",{type:"button",onClick:()=>{const i=document.getElementById("doctor-export-textarea");i&&(i.focus(),i.select())},children:"Select all"}),h.jsx("button",{type:"button",onClick:()=>Ja(null),children:"Hide"})]}),h.jsx("textarea",{id:"doctor-export-textarea",className:"doctor-export-textarea",readOnly:!0,value:_l,rows:10})]}):null,h.jsx("p",{className:"detail-transcription-placeholder",children:"Runs quick integrity checks to help identify whether corruption is in stored chunks or in range access/decoding."}),h.jsxs("div",{className:"doctor-test-list",children:[h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Re.sanityChecks,disabled:Jn,onChange:i=>zl(c=>({...c,sanityChecks:i.target.checked}))}),h.jsx("span",{children:"Sanity checks (durations, snip bounds, chunk timing)"})]}),h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Re.chunkCoverageScan,disabled:Jn,onChange:i=>zl(c=>({...c,chunkCoverageScan:i.target.checked}))}),h.jsx("span",{children:"Chunk coverage scan (IndexedDB timings/coverage, 0.1s)"})]}),h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Re.rangeAccessScan,disabled:Jn,onChange:i=>zl(c=>({...c,rangeAccessScan:i.target.checked}))}),h.jsx("span",{children:"Range access scan via slice API (decode+inspect, 0.1s)"})]}),h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Re.chunkDecodeScan,disabled:Jn,onChange:i=>zl(c=>({...c,chunkDecodeScan:i.target.checked}))}),h.jsx("span",{children:"Per-chunk decode scan (decode each chunk blob)"})]}),h.jsxs("label",{className:"doctor-test",children:[h.jsx("input",{type:"checkbox",checked:Re.snipScan,disabled:Jn,onChange:i=>zl(c=>({...c,snipScan:i.target.checked}))}),h.jsx("span",{children:"Snip scan (inspect each snip range)"})]})]}),je?h.jsxs("p",{className:"detail-transcription-placeholder",children:[je.label,": ",je.completed,"/",je.total]}):null,Ie?h.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:Ie}):null,be?.sanity?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Sanity checks"}),h.jsxs("p",{className:"doctor-summary",children:["Session duration: ",((be.sanity.metrics.sessionDurationMs??0)/1e3).toFixed(1),"s  Chunk timebase: ",be.sanity.metrics.chunkTimebase,"  Chunk max end:"," ",((be.sanity.metrics.chunkMaxOffsetMs??0)/1e3).toFixed(1),"s  Chunk sum:"," ",((be.sanity.metrics.chunkSumDurationMs??0)/1e3).toFixed(1),"s  Snips:"," ",be.sanity.metrics.snipCount??0,"  Snip max end:"," ",((be.sanity.metrics.snipMaxEndMs??0)/1e3).toFixed(1),"s  Snip sum:"," ",((be.sanity.metrics.snipSumDurationMs??0)/1e3).toFixed(1),"s"]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Ql(`sanity-${G.id}`,{sessionId:G.id,mimeType:G.mimeType,report:be.sanity}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:be.sanity.findings.length===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"No findings."}):be.sanity.findings.map((i,c)=>h.jsx("div",{className:`doctor-detail-row is-${i.level==="info"?"ok":i.level}`,children:h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:i.level.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:i.message})]})},c))})]}):null,(()=>{const i=be?.chunkCoverage;return i?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Chunk coverage scan"}),h.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Chunk coverage results timeline",children:i.segments.map(c=>h.jsx("span",{className:`doctor-segment is-${c.status}`,title:`${dn(c.startMs)}${dn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),h.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ue(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ue(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ue(i.summary.error,i.summary.total),")"]}),h.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected segments:"," ",i.metrics.expectedItemCount??0,"  Observed segments: ",i.metrics.observedItemCount??0]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Ql(`chunk-coverage-${G.id}`,{sessionId:G.id,mimeType:G.mimeType,report:i}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:wa(i.segments).filter(c=>c.status!=="ok").map(c=>h.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:c.reason}),h.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ue(c.count,i.summary.total),")"]})]}),h.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>h.jsxs("span",{className:"doctor-detail-example",children:[dn(g.startMs),"",dn(g.endMs)]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=be?.rangeAccess;return i?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Range access scan (0.1s)"}),h.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Range access results timeline",children:i.segments.map(c=>h.jsx("span",{className:`doctor-segment is-${c.status}`,title:`${dn(c.startMs)}${dn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),h.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ue(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ue(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ue(i.summary.error,i.summary.total),")"]}),h.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected windows:"," ",i.metrics.expectedItemCount??0,"  Decoded windows: ",i.metrics.observedItemCount??0]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Ql(`range-access-${G.id}`,{sessionId:G.id,mimeType:G.mimeType,report:i}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:wa(i.segments).filter(c=>c.status!=="ok").map(c=>h.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:c.reason}),h.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ue(c.count,i.summary.total),")"]})]}),h.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>h.jsxs("span",{className:"doctor-detail-example",children:[dn(g.startMs),"",dn(g.endMs)]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=be?.chunkDecode;return i?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Per-chunk decode scan"}),h.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Per-chunk decode results timeline",children:i.segments.map(c=>h.jsx("span",{className:`doctor-segment is-${c.status}`,title:`Chunk #${c.index+1}${c.reason?`  ${c.reason}`:""}`},c.index))}),h.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ue(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ue(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ue(i.summary.error,i.summary.total),")"]}),h.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Decoded audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected chunks:"," ",i.metrics.expectedItemCount??0,"  Decoded chunks: ",i.metrics.observedItemCount??0]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Ql(`chunk-decode-${G.id}`,{sessionId:G.id,mimeType:G.mimeType,report:i}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:wa(i.segments).filter(c=>c.status!=="ok").map(c=>h.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:c.reason}),h.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ue(c.count,i.summary.total),")"]})]}),h.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>h.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=be?.snipScan;return i?h.jsxs("div",{className:"doctor-report",children:[h.jsx("h4",{children:"Snip scan (each snip)"}),h.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Snip scan results timeline",children:i.segments.map(c=>h.jsx("span",{className:`doctor-segment is-${c.status}`,title:`Snip #${c.index+1}  ${dn(c.startMs)}${dn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),h.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ue(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ue(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ue(i.summary.error,i.summary.total),")"]}),h.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected snips:"," ",i.metrics.expectedItemCount??0,"  Decoded snips: ",i.metrics.observedItemCount??0]}),h.jsx("div",{className:"doctor-report-actions",children:h.jsx("button",{type:"button",onClick:()=>Ql(`snip-scan-${G.id}`,{sessionId:G.id,mimeType:G.mimeType,report:i}),children:"Download JSON"})}),h.jsx("div",{className:"doctor-details",children:wa(i.segments).filter(c=>c.status!=="ok").map(c=>h.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[h.jsxs("div",{className:"doctor-detail-main",children:[h.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),h.jsx("span",{className:"doctor-detail-reason",children:c.reason}),h.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ue(c.count,i.summary.total),")"]})]}),h.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>h.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})()]}):null,Ge&&pe?h.jsxs("div",{className:"detail-chunks",children:[h.jsxs("div",{className:"detail-slices-header",children:[h.jsxs("h3",{children:[Bn==="chunks"?`Chunks (${pu}${ua?" + init":""})`:`Snips (${b.length})`," "," ",G.mimeType??"pending"]}),h.jsxs("div",{className:"detail-slice-toggle",role:"tablist","aria-label":"Slice mode",children:[h.jsx("button",{type:"button",role:"tab","aria-selected":Bn==="chunks",className:Bn==="chunks"?"is-selected":"",onClick:()=>fs("chunks"),children:"Chunks"}),h.jsx("button",{type:"button",role:"tab","aria-selected":Bn==="snips",className:Bn==="snips"?"is-selected":"",onClick:()=>fs("snips"),children:"Snips"})]})]}),Bn==="chunks"?y.length===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"No chunks persisted yet."}):h.jsx("ul",{className:"chunk-list",children:y.map(i=>{const c=Math.max(0,(i.endMs-i.startMs)/1e3),g=c<10?2:1,C=`${c.toFixed(g)} s`,R=ke(i),Q=W===i.id,B=i.seq+1,Y=Ye(i),L=R?`Chunk ${B} is an init segment without audio`:Y?`Chunk ${B} audio purged`:Q?`Pause chunk ${B}`:`Play chunk ${B}`;return h.jsxs("li",{className:`chunk-item ${R?"header-chunk":""}`,children:[h.jsx("button",{type:"button",className:`chunk-play ${Q?"is-playing":""}`,onClick:()=>void yi(i),"aria-pressed":Q,"aria-label":L,disabled:R||Y,title:R?"Init segment (no audio payload)":Y?"Audio purged to stay under the storage cap":void 0,children:R?"NA":Q?"":""}),h.jsxs("span",{children:["#",B]}),h.jsx("span",{children:C}),h.jsx("span",{children:us(i.byteLength)}),h.jsx("button",{type:"button",className:"chunk-download",onClick:()=>ta(i),"aria-label":`Download chunk ${B}`,disabled:R||Y,title:R?"Init segment (typically no downloadable audio)":Y?"Audio purged to stay under the storage cap":void 0,children:""}),R?h.jsx("span",{className:"chunk-flag",children:"init segment"}):null,Y?h.jsx("span",{className:"chunk-flag is-purged",children:"purged"}):null]},i.id)})}):va==="loading"&&b.length===0?h.jsx("p",{className:"detail-transcription-placeholder",children:"Analyzing audio for snips"}):va==="error"&&b.length===0?h.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:En??"Unable to analyze audio."}):b.length?h.jsxs(h.Fragment,{children:[va==="error"&&En?h.jsxs("p",{className:"detail-transcription-placeholder",role:"alert",children:["Snip refresh failed: ",En]}):null,h.jsx("ul",{className:"chunk-list",children:b.map(i=>{const c=i.index+1,g=Math.max(0,i.durationMs/1e3),C=g<10?2:1,R=`${g.toFixed(C)} s`,Q=i.id,B=it===Q,Y=!!ze[i.id],L=pa(i),at=L.length>0,st=Zt(i),vt=st?`Snip ${c} audio purged`:B?`Pause snip ${c}`:`Play snip ${c}`,Nt=st?`Snip ${c} audio purged`:Y?`Transcribing snip ${c}`:at?`Retry transcription for snip ${c}`:`Transcribe snip ${c}`,Ht=st?"Audio purged":Y&&!Eu?"Transcribing":at?"Transcribed":"Pending",le=st?"is-purged":at?"is-ready":"is-pending";return h.jsxs("li",{className:"chunk-item",children:[h.jsx("button",{type:"button",className:`chunk-play ${B?"is-playing":""}`,onClick:()=>void Xc(i),"aria-pressed":B,"aria-label":vt,disabled:st,children:B?"":""}),h.jsxs("span",{children:["#",c]}),h.jsx("span",{children:R}),h.jsxs("span",{children:[li(Math.round(i.startMs/1e3)),"  ",li(Math.round(i.endMs/1e3))]}),h.jsx("span",{className:`snip-transcription-status ${le}`,children:Ht}),h.jsx("button",{type:"button",className:"chunk-download",onClick:()=>void yu(i,c),"aria-label":`Download snip ${c}`,disabled:st,children:""}),h.jsx("button",{type:"button",className:"snip-transcribe",onClick:()=>void vu(i),"aria-label":Nt,disabled:Y||st,children:at?"Retry":"Tx"}),L?h.jsx("textarea",{className:"snip-transcription-text",readOnly:!0,value:L,onClick:vs,"aria-label":`Snip ${c} transcription`,rows:Math.min(6,Math.max(2,Math.ceil(L.length/80)))}):null,i.transcriptionError?h.jsx("span",{className:"snip-transcription-error",role:"alert",children:i.transcriptionError}):null,st?h.jsx("span",{className:"snip-retention-note",children:$h}):null]},Q)})})]}):h.jsx("p",{className:"detail-transcription-placeholder",children:"No snips available yet."})]}):null,G.status==="error"&&G.notes?h.jsx("p",{className:"detail-notes",children:G.notes}):null]})]})}):null,Ct?h.jsx("div",{className:"settings-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",onClick:i=>{i.target===i.currentTarget&&Tt(!1)},children:h.jsxs("div",{className:"settings-dialog",onClick:i=>i.stopPropagation(),children:[h.jsxs("header",{className:"settings-header",children:[h.jsx("h2",{id:"settings-title",children:"Settings"}),h.jsx("button",{type:"button",className:"settings-close",onClick:()=>Tt(!1),children:"Close"})]}),h.jsxs("div",{className:"settings-body",children:[h.jsxs("label",{className:"settings-field",children:[h.jsx("span",{children:"Groq API key"}),h.jsx("input",{type:"text",value:d?.groqApiKey??"",onChange:i=>void Yc(i.target.value),placeholder:"sk-",autoComplete:"off"})]}),h.jsxs("label",{className:"settings-field settings-checkbox",children:[h.jsx("input",{type:"checkbox",checked:Ge,onChange:i=>void Gc(i.target.checked)}),h.jsx("span",{children:"Enable developer mode"})]}),h.jsxs("label",{className:"settings-field",children:[h.jsx("span",{children:"Storage cap (MB)"}),h.jsx("input",{type:"number",min:1,value:Math.round(De/ad),onChange:i=>void Hc(i.target.value)})]})]})]})}):null,Ge&&He?h.jsx("div",{className:"dev-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"dev-console-title",onClick:i=>{i.target===i.currentTarget&&Mu()},children:h.jsxs("div",{className:"dev-panel",onClick:i=>i.stopPropagation(),children:[h.jsxs("header",{className:"dev-panel-header",children:[h.jsx("h2",{id:"dev-console-title",children:"Developer Console"}),h.jsx("button",{type:"button",className:"dev-close",onClick:Mu,children:"Close"})]}),h.jsxs("div",{className:"dev-panel-toolbar",children:[h.jsx("button",{type:"button",className:Nl==="tables"?"is-selected":"",onClick:()=>{Rl("tables"),Kn(!0),vi().finally(()=>Kn(!1))},children:"IndexedDB"}),h.jsx("button",{type:"button",className:Nl==="logs"?"is-selected":"",onClick:()=>{Rl("logs"),Kn(!0),Ts().finally(()=>Kn(!1))},children:"Logs"})]}),Nl==="tables"?h.jsxs("div",{className:"dev-panel-body",children:[h.jsx("div",{className:"dev-table-buttons",children:rs.map(i=>h.jsxs("button",{type:"button",className:bn===i.name?"is-selected":"",onClick:()=>la(i.name),children:[i.name,h.jsx("span",{className:"dev-table-count",children:i.rows.length})]},i.name))}),h.jsx("div",{className:"dev-table-rows",children:Qa?h.jsx("p",{children:"Loading"}):bn?(()=>{const i=rs.find(c=>c.name===bn);return i?i.rows.length===0?h.jsx("p",{children:"No rows."}):bn==="chunks"?i.rows.map((g,C)=>{const R=typeof g.id=="string"?g.id:`${g.sessionId??"chunk"}-${g.seq??C}`,Q=typeof g.blobSize=="number"?g.blobSize:null,B=typeof g.verifiedByteLength=="number"?g.verifiedByteLength:null,Y=Q!==null?`${Q} B (${us(Q)})`:"unknown",L=B!==null?`${B} B (${us(B)})`:"unverified",at=!!(g.sizeMismatch??(B!==null&&Q!==null&&B!==Q));return h.jsxs("div",{className:`dev-table-chunk ${at?"has-mismatch":""}`,children:[h.jsx("pre",{children:JSON.stringify(g,null,2)}),h.jsxs("p",{className:"dev-chunk-extra",children:[h.jsxs("span",{children:["blob.size: ",Y]}),h.jsxs("span",{children:["verified: ",L]}),h.jsx("span",{className:at?"dev-chunk-warning":"dev-chunk-ok",children:at?" size mismatch":" sizes match"})]})]},R)}):bn==="chunkVolumes"?i.rows.map((g,C)=>{const R=`${g.sessionId}-${g.chunkId}-${C}`,Q=g.framesTotal??g.frames.length,B=typeof g.averageNormalized=="number"?g.averageNormalized:0,Y=typeof g.maxNormalized=="number"?g.maxNormalized:0,L=typeof g.durationMs=="number"?(g.durationMs/1e3).toFixed(2):"0.00";return h.jsxs("div",{className:"dev-table-chunk",children:[h.jsx("pre",{children:JSON.stringify(g,null,2)}),h.jsxs("p",{className:"dev-chunk-extra",children:[h.jsxs("span",{children:["frames: ",Q]}),h.jsxs("span",{children:["duration: ",L,"s"]}),h.jsxs("span",{children:["avg volume: ",B.toFixed(4)]}),h.jsxs("span",{children:["peak volume: ",Y.toFixed(4)]})]})]},R)}):i.rows.map((c,g)=>h.jsx("pre",{children:JSON.stringify(c,null,2)},g)):h.jsx("p",{children:"No rows."})})():h.jsx("p",{children:"Select a table to inspect rows."})})]}):h.jsxs("div",{className:"dev-log-body",children:[h.jsxs("div",{className:"dev-log-header",children:[h.jsx("button",{type:"button",onClick:()=>void xu(-1),disabled:!Sn||Un.findIndex(i=>i.id===Sn.id)===Un.length-1,children:""}),h.jsxs("select",{value:Sn?.id??"",onChange:i=>{const c=Un.find(g=>g.id===i.target.value)??null;ll(c)},children:[Un.length===0?h.jsx("option",{value:"",children:"No sessions"}):null,Un.map(i=>h.jsx("option",{value:i.id,children:new Date(i.startedAt).toLocaleString()},i.id))]}),h.jsx("button",{type:"button",onClick:()=>void xu(1),disabled:!Sn||Un.findIndex(i=>i.id===Sn.id)<=0,children:""})]}),h.jsx("div",{className:"dev-log-entries",children:Qa?h.jsx("p",{children:"Loading"}):Sn?ou.length===0?h.jsx("p",{children:"No entries for this session."}):ou.map(i=>h.jsxs("article",{className:`dev-log-entry level-${i.level}`,children:[h.jsxs("header",{children:[h.jsx("span",{className:"dev-log-message",children:i.message}),h.jsxs("span",{className:"dev-log-meta",children:[h.jsx("span",{className:"dev-log-level",children:i.level.toUpperCase()}),h.jsx("time",{dateTime:new Date(i.timestamp).toISOString(),children:a0(i.timestamp)})]})]}),i.details?h.jsx("code",{className:"dev-log-details",children:typeof i.details=="string"?i.details:JSON.stringify(i.details)}):null]},i.id??`${i.timestamp}`)):h.jsx("p",{children:"No log sessions found."})})]})]})}):null]})}document.title="Web Whisper";kg({immediate:!0});jg.createRoot(document.getElementById("root")).render(h.jsx(N.StrictMode,{children:h.jsx(l0,{})}));
