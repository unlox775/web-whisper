(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const M of p)if(M.type==="childList")for(const y of M.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function m(p){const M={};return p.integrity&&(M.integrity=p.integrity),p.referrerPolicy&&(M.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?M.credentials="include":p.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function d(p){if(p.ep)return;p.ep=!0;const M=m(p);fetch(p.href,M)}})();var Go={exports:{}},fu={};var mh;function Eg(){if(mh)return fu;mh=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function m(d,p,M){var y=null;if(M!==void 0&&(y=""+M),p.key!==void 0&&(y=""+p.key),"key"in p){M={};for(var T in p)T!=="key"&&(M[T]=p[T])}else M=p;return p=M.ref,{$$typeof:o,type:d,key:y,ref:p!==void 0?p:null,props:M}}return fu.Fragment=r,fu.jsx=m,fu.jsxs=m,fu}var hh;function Ag(){return hh||(hh=1,Go.exports=Eg()),Go.exports}var f=Ag(),Yo={exports:{}},Tt={};var ph;function Tg(){if(ph)return Tt;ph=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),y=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),L=Symbol.iterator;function $(S){return S===null||typeof S!="object"?null:(S=L&&S[L]||S["@@iterator"],typeof S=="function"?S:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,xt={};function ut(S,_,tt){this.props=S,this.context=_,this.refs=xt,this.updater=tt||et}ut.prototype.isReactComponent={},ut.prototype.setState=function(S,_){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,_,"setState")},ut.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function bt(){}bt.prototype=ut.prototype;function ot(S,_,tt){this.props=S,this.context=_,this.refs=xt,this.updater=tt||et}var H=ot.prototype=new bt;H.constructor=ot,F(H,ut.prototype),H.isPureReactComponent=!0;var P=Array.isArray;function mt(){}var J={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function Gt(S,_,tt){var nt=tt.ref;return{$$typeof:o,type:S,key:_,ref:nt!==void 0?nt:null,props:tt}}function le(S,_){return Gt(S.type,_,S.props)}function Wt(S){return typeof S=="object"&&S!==null&&S.$$typeof===o}function Pt(S){var _={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(tt){return _[tt]})}var on=/\/+/g;function ze(S,_){return typeof S=="object"&&S!==null&&S.key!=null?Pt(""+S.key):_.toString(36)}function Ce(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(mt,mt):(S.status="pending",S.then(function(_){S.status==="pending"&&(S.status="fulfilled",S.value=_)},function(_){S.status==="pending"&&(S.status="rejected",S.reason=_)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function A(S,_,tt,nt,gt){var wt=typeof S;(wt==="undefined"||wt==="boolean")&&(S=null);var Et=!1;if(S===null)Et=!0;else switch(wt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(S.$$typeof){case o:case r:Et=!0;break;case N:return Et=S._init,A(Et(S._payload),_,tt,nt,gt)}}if(Et)return gt=gt(S),Et=nt===""?"."+ze(S,0):nt,P(gt)?(tt="",Et!=null&&(tt=Et.replace(on,"$&/")+"/"),A(gt,_,tt,"",function(_l){return _l})):gt!=null&&(Wt(gt)&&(gt=le(gt,tt+(gt.key==null||S&&S.key===gt.key?"":(""+gt.key).replace(on,"$&/")+"/")+Et)),_.push(gt)),1;Et=0;var Qe=nt===""?".":nt+":";if(P(S))for(var se=0;se<S.length;se++)nt=S[se],wt=Qe+ze(nt,se),Et+=A(nt,_,tt,wt,gt);else if(se=$(S),typeof se=="function")for(S=se.call(S),se=0;!(nt=S.next()).done;)nt=nt.value,wt=Qe+ze(nt,se++),Et+=A(nt,_,tt,wt,gt);else if(wt==="object"){if(typeof S.then=="function")return A(Ce(S),_,tt,nt,gt);throw _=String(S),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return Et}function V(S,_,tt){if(S==null)return S;var nt=[],gt=0;return A(S,nt,"","",function(wt){return _.call(tt,wt,gt++)}),nt}function W(S){if(S._status===-1){var _=S._result;_=_(),_.then(function(tt){(S._status===0||S._status===-1)&&(S._status=1,S._result=tt)},function(tt){(S._status===0||S._status===-1)&&(S._status=2,S._result=tt)}),S._status===-1&&(S._status=0,S._result=_)}if(S._status===1)return S._result.default;throw S._result}var I=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},st={map:V,forEach:function(S,_,tt){V(S,function(){_.apply(this,arguments)},tt)},count:function(S){var _=0;return V(S,function(){_++}),_},toArray:function(S){return V(S,function(_){return _})||[]},only:function(S){if(!Wt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return Tt.Activity=E,Tt.Children=st,Tt.Component=ut,Tt.Fragment=m,Tt.Profiler=p,Tt.PureComponent=ot,Tt.StrictMode=d,Tt.Suspense=b,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return J.H.useMemoCache(S)}},Tt.cache=function(S){return function(){return S.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(S,_,tt){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var nt=F({},S.props),gt=S.key;if(_!=null)for(wt in _.key!==void 0&&(gt=""+_.key),_)!ct.call(_,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&_.ref===void 0||(nt[wt]=_[wt]);var wt=arguments.length-2;if(wt===1)nt.children=tt;else if(1<wt){for(var Et=Array(wt),Qe=0;Qe<wt;Qe++)Et[Qe]=arguments[Qe+2];nt.children=Et}return Gt(S.type,gt,nt)},Tt.createContext=function(S){return S={$$typeof:y,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:M,_context:S},S},Tt.createElement=function(S,_,tt){var nt,gt={},wt=null;if(_!=null)for(nt in _.key!==void 0&&(wt=""+_.key),_)ct.call(_,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(gt[nt]=_[nt]);var Et=arguments.length-2;if(Et===1)gt.children=tt;else if(1<Et){for(var Qe=Array(Et),se=0;se<Et;se++)Qe[se]=arguments[se+2];gt.children=Qe}if(S&&S.defaultProps)for(nt in Et=S.defaultProps,Et)gt[nt]===void 0&&(gt[nt]=Et[nt]);return Gt(S,wt,gt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(S){return{$$typeof:T,render:S}},Tt.isValidElement=Wt,Tt.lazy=function(S){return{$$typeof:N,_payload:{_status:-1,_result:S},_init:W}},Tt.memo=function(S,_){return{$$typeof:v,type:S,compare:_===void 0?null:_}},Tt.startTransition=function(S){var _=J.T,tt={};J.T=tt;try{var nt=S(),gt=J.S;gt!==null&&gt(tt,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(mt,I)}catch(wt){I(wt)}finally{_!==null&&tt.types!==null&&(_.types=tt.types),J.T=_}},Tt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Tt.use=function(S){return J.H.use(S)},Tt.useActionState=function(S,_,tt){return J.H.useActionState(S,_,tt)},Tt.useCallback=function(S,_){return J.H.useCallback(S,_)},Tt.useContext=function(S){return J.H.useContext(S)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(S,_){return J.H.useDeferredValue(S,_)},Tt.useEffect=function(S,_){return J.H.useEffect(S,_)},Tt.useEffectEvent=function(S){return J.H.useEffectEvent(S)},Tt.useId=function(){return J.H.useId()},Tt.useImperativeHandle=function(S,_,tt){return J.H.useImperativeHandle(S,_,tt)},Tt.useInsertionEffect=function(S,_){return J.H.useInsertionEffect(S,_)},Tt.useLayoutEffect=function(S,_){return J.H.useLayoutEffect(S,_)},Tt.useMemo=function(S,_){return J.H.useMemo(S,_)},Tt.useOptimistic=function(S,_){return J.H.useOptimistic(S,_)},Tt.useReducer=function(S,_,tt){return J.H.useReducer(S,_,tt)},Tt.useRef=function(S){return J.H.useRef(S)},Tt.useState=function(S){return J.H.useState(S)},Tt.useSyncExternalStore=function(S,_,tt){return J.H.useSyncExternalStore(S,_,tt)},Tt.useTransition=function(){return J.H.useTransition()},Tt.version="19.2.0",Tt}var gh;function dd(){return gh||(gh=1,Yo.exports=Tg()),Yo.exports}var D=dd(),Vo={exports:{}},mu={},Xo={exports:{}},Qo={};var yh;function Cg(){return yh||(yh=1,(function(o){function r(A,V){var W=A.length;A.push(V);t:for(;0<W;){var I=W-1>>>1,st=A[I];if(0<p(st,V))A[I]=V,A[W]=st,W=I;else break t}}function m(A){return A.length===0?null:A[0]}function d(A){if(A.length===0)return null;var V=A[0],W=A.pop();if(W!==V){A[0]=W;t:for(var I=0,st=A.length,S=st>>>1;I<S;){var _=2*(I+1)-1,tt=A[_],nt=_+1,gt=A[nt];if(0>p(tt,W))nt<st&&0>p(gt,tt)?(A[I]=gt,A[nt]=W,I=nt):(A[I]=tt,A[_]=W,I=_);else if(nt<st&&0>p(gt,W))A[I]=gt,A[nt]=W,I=nt;else break t}}return V}function p(A,V){var W=A.sortIndex-V.sortIndex;return W!==0?W:A.id-V.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var M=performance;o.unstable_now=function(){return M.now()}}else{var y=Date,T=y.now();o.unstable_now=function(){return y.now()-T}}var b=[],v=[],N=1,E=null,L=3,$=!1,et=!1,F=!1,xt=!1,ut=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function H(A){for(var V=m(v);V!==null;){if(V.callback===null)d(v);else if(V.startTime<=A)d(v),V.sortIndex=V.expirationTime,r(b,V);else break;V=m(v)}}function P(A){if(F=!1,H(A),!et)if(m(b)!==null)et=!0,mt||(mt=!0,Pt());else{var V=m(v);V!==null&&Ce(P,V.startTime-A)}}var mt=!1,J=-1,ct=5,Gt=-1;function le(){return xt?!0:!(o.unstable_now()-Gt<ct)}function Wt(){if(xt=!1,mt){var A=o.unstable_now();Gt=A;var V=!0;try{t:{et=!1,F&&(F=!1,bt(J),J=-1),$=!0;var W=L;try{e:{for(H(A),E=m(b);E!==null&&!(E.expirationTime>A&&le());){var I=E.callback;if(typeof I=="function"){E.callback=null,L=E.priorityLevel;var st=I(E.expirationTime<=A);if(A=o.unstable_now(),typeof st=="function"){E.callback=st,H(A),V=!0;break e}E===m(b)&&d(b),H(A)}else d(b);E=m(b)}if(E!==null)V=!0;else{var S=m(v);S!==null&&Ce(P,S.startTime-A),V=!1}}break t}finally{E=null,L=W,$=!1}V=void 0}}finally{V?Pt():mt=!1}}}var Pt;if(typeof ot=="function")Pt=function(){ot(Wt)};else if(typeof MessageChannel<"u"){var on=new MessageChannel,ze=on.port2;on.port1.onmessage=Wt,Pt=function(){ze.postMessage(null)}}else Pt=function(){ut(Wt,0)};function Ce(A,V){J=ut(function(){A(o.unstable_now())},V)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(A){A.callback=null},o.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<A?Math.floor(1e3/A):5},o.unstable_getCurrentPriorityLevel=function(){return L},o.unstable_next=function(A){switch(L){case 1:case 2:case 3:var V=3;break;default:V=L}var W=L;L=V;try{return A()}finally{L=W}},o.unstable_requestPaint=function(){xt=!0},o.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=L;L=A;try{return V()}finally{L=W}},o.unstable_scheduleCallback=function(A,V,W){var I=o.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?I+W:I):W=I,A){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=W+st,A={id:N++,callback:V,priorityLevel:A,startTime:W,expirationTime:st,sortIndex:-1},W>I?(A.sortIndex=W,r(v,A),m(b)===null&&A===m(v)&&(F?(bt(J),J=-1):F=!0,Ce(P,W-I))):(A.sortIndex=st,r(b,A),et||$||(et=!0,mt||(mt=!0,Pt()))),A},o.unstable_shouldYield=le,o.unstable_wrapCallback=function(A){var V=L;return function(){var W=L;L=V;try{return A.apply(this,arguments)}finally{L=W}}}})(Qo)),Qo}var vh;function wg(){return vh||(vh=1,Xo.exports=Cg()),Xo.exports}var Zo={exports:{}},cn={};var bh;function Dg(){if(bh)return cn;bh=1;var o=dd();function r(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)v+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var d={d:{f:m,r:function(){throw Error(r(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},p=Symbol.for("react.portal");function M(b,v,N){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:E==null?null:""+E,children:b,containerInfo:v,implementation:N}}var y=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,cn.createPortal=function(b,v){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(r(299));return M(b,v,null,N)},cn.flushSync=function(b){var v=y.T,N=d.p;try{if(y.T=null,d.p=2,b)return b()}finally{y.T=v,d.p=N,d.d.f()}},cn.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,d.d.C(b,v))},cn.prefetchDNS=function(b){typeof b=="string"&&d.d.D(b)},cn.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var N=v.as,E=T(N,v.crossOrigin),L=typeof v.integrity=="string"?v.integrity:void 0,$=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;N==="style"?d.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:L,fetchPriority:$}):N==="script"&&d.d.X(b,{crossOrigin:E,integrity:L,fetchPriority:$,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},cn.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var N=T(v.as,v.crossOrigin);d.d.M(b,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&d.d.M(b)},cn.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var N=v.as,E=T(N,v.crossOrigin);d.d.L(b,N,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},cn.preloadModule=function(b,v){if(typeof b=="string")if(v){var N=T(v.as,v.crossOrigin);d.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else d.d.m(b)},cn.requestFormReset=function(b){d.d.r(b)},cn.unstable_batchedUpdates=function(b,v){return b(v)},cn.useFormState=function(b,v,N){return y.H.useFormState(b,v,N)},cn.useFormStatus=function(){return y.H.useHostTransitionStatus()},cn.version="19.2.0",cn}var Sh;function Ng(){if(Sh)return Zo.exports;Sh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Zo.exports=Dg(),Zo.exports}var Mh;function jg(){if(Mh)return mu;Mh=1;var o=wg(),r=dd(),m=Ng();function d(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function M(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function y(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(M(t)!==t)throw Error(d(188))}function v(t){var e=t.alternate;if(!e){if(e=M(t),e===null)throw Error(d(188));return e!==t?null:t}for(var n=t,a=e;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return b(l),t;if(s===a)return b(l),e;s=s.sibling}throw Error(d(188))}if(n.return!==a.return)n=l,a=s;else{for(var u=!1,h=l.child;h;){if(h===n){u=!0,n=l,a=s;break}if(h===a){u=!0,a=l,n=s;break}h=h.sibling}if(!u){for(h=s.child;h;){if(h===n){u=!0,n=s,a=l;break}if(h===a){u=!0,a=s,n=l;break}h=h.sibling}if(!u)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?t:e}function N(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=N(t),e!==null)return e;t=t.sibling}return null}var E=Object.assign,L=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),xt=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),Gt=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),Wt=Symbol.iterator;function Pt(t){return t===null||typeof t!="object"?null:(t=Wt&&t[Wt]||t["@@iterator"],typeof t=="function"?t:null)}var on=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===on?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case ut:return"Profiler";case xt:return"StrictMode";case P:return"Suspense";case mt:return"SuspenseList";case Gt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case et:return"Portal";case ot:return t.displayName||"Context";case bt:return(t._context.displayName||"Context")+".Consumer";case H:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return e=t.displayName||null,e!==null?e:ze(t.type)||"Memo";case ct:e=t._payload,t=t._init;try{return ze(t(e))}catch{}}return null}var Ce=Array.isArray,A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},I=[],st=-1;function S(t){return{current:t}}function _(t){0>st||(t.current=I[st],I[st]=null,st--)}function tt(t,e){st++,I[st]=t.current,t.current=e}var nt=S(null),gt=S(null),wt=S(null),Et=S(null);function Qe(t,e){switch(tt(wt,e),tt(gt,t),tt(nt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Um(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Um(e),t=Bm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}_(nt),tt(nt,t)}function se(){_(nt),_(gt),_(wt)}function _l(t){t.memoizedState!==null&&tt(Et,t);var e=nt.current,n=Bm(e,t.type);e!==n&&(tt(gt,t),tt(nt,n))}function Ia(t){gt.current===t&&(_(nt),_(gt)),Et.current===t&&(_(Et),cu._currentValue=W)}var bs,Ta;function ua(t){if(bs===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bs=e&&e[1]||"",Ta=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bs+t+Ta}var Ca=!1;function wa(t,e){if(!t||Ca)return"";Ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(U){var k=U}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(U){k=U}t.call(Z.prototype)}}else{try{throw Error()}catch(U){k=U}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(U){if(U&&k&&typeof U.stack=="string")return[U.stack,k.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),u=s[0],h=s[1];if(u&&h){var x=u.split(`
`),O=h.split(`
`);for(l=a=0;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;for(;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;if(a===x.length||l===O.length)for(a=x.length-1,l=O.length-1;1<=a&&0<=l&&x[a]!==O[l];)l--;for(;1<=a&&0<=l;a--,l--)if(x[a]!==O[l]){if(a!==1||l!==1)do if(a--,l--,0>l||x[a]!==O[l]){var Y=`
`+x[a].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=a&&0<=l);break}}}finally{Ca=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ua(n):""}function Fa(t,e){switch(t.tag){case 26:case 27:case 5:return ua(t.type);case 16:return ua("Lazy");case 13:return t.child!==e&&e!==null?ua("Suspense Fallback"):ua("Suspense");case 19:return ua("SuspenseList");case 0:case 15:return wa(t.type,!1);case 11:return wa(t.type.render,!1);case 1:return wa(t.type,!0);case 31:return ua("Activity");default:return""}}function Ss(t){try{var e="",n=null;do e+=Fa(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Da=Object.prototype.hasOwnProperty,En=o.unstable_scheduleCallback,Wa=o.unstable_cancelCallback,Zn=o.unstable_shouldYield,mi=o.unstable_requestPaint,en=o.unstable_now,Ms=o.unstable_getCurrentPriorityLevel,kn=o.unstable_ImmediatePriority,Ul=o.unstable_UserBlockingPriority,mn=o.unstable_NormalPriority,hi=o.unstable_LowPriority,Bl=o.unstable_IdlePriority,yu=o.log,Ze=o.unstable_setDisableYieldValue,Kn=null,ve=null;function An(t){if(typeof yu=="function"&&Ze(t),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(Kn,t)}catch{}}var qe=Math.clz32?Math.clz32:pi,Le=Math.log,vu=Math.LN2;function pi(t){return t>>>=0,t===0?32:31-(Le(t)/vu|0)|0}var ql=256,ca=262144,Ll=4194304;function $n(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ee(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,s=t.suspendedLanes,u=t.pingedLanes;t=t.warmLanes;var h=a&134217727;return h!==0?(a=h&~s,a!==0?l=$n(a):(u&=h,u!==0?l=$n(u):n||(n=h&~t,n!==0&&(l=$n(n))))):(h=a&~s,h!==0?l=$n(h):u!==0?l=$n(u):n||(n=a&~t,n!==0&&(l=$n(n)))),l===0?0:e!==0&&e!==l&&(e&s)===0&&(s=l&-l,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:l}function Na(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function bu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gi(){var t=Ll;return Ll<<=1,(Ll&62914560)===0&&(Ll=4194304),t}function xs(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jn(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function In(t,e,n,a,l,s){var u=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var h=t.entanglements,x=t.expirationTimes,O=t.hiddenUpdates;for(n=u&~n;0<n;){var Y=31-qe(n),Z=1<<Y;h[Y]=0,x[Y]=-1;var k=O[Y];if(k!==null)for(O[Y]=null,Y=0;Y<k.length;Y++){var U=k[Y];U!==null&&(U.lane&=-536870913)}n&=~Z}a!==0&&Fn(t,a,0),s!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=s&~(u&~e))}function Fn(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-qe(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function Pa(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-qe(n),l=1<<a;l&e|t[a]&e&&(t[a]|=e),n&=~l}}function Es(t,e){var n=e&-e;return n=(n&42)!==0?1:ra(n),(n&(t.suspendedLanes|e))!==0?0:n}function ra(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function tl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function el(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:ih(t.type))}function _n(t,e){var n=V.p;try{return V.p=t,e()}finally{V.p=n}}var Wn=Math.random().toString(36).slice(2),ce="__reactFiber$"+Wn,Oe="__reactProps$"+Wn,nn="__reactContainer$"+Wn,Hl="__reactEvents$"+Wn,As="__reactListeners$"+Wn,Ts="__reactHandles$"+Wn,yi="__reactResources$"+Wn,Gl="__reactMarker$"+Wn;function Cs(t){delete t[ce],delete t[Oe],delete t[Hl],delete t[As],delete t[Ts]}function fe(t){var e=t[ce];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nn]||n[ce]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xm(t);t!==null;){if(n=t[ce])return n;t=Xm(t)}return e}t=n,n=t.parentNode}return null}function hn(t){if(t=t[ce]||t[nn]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function oa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(d(33))}function pn(t){var e=t[yi];return e||(e=t[yi]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Qt(t){t[Gl]=!0}var vi=new Set,ws={};function ke(t,e){Un(t,e),Un(t+"Capture",e)}function Un(t,e){for(ws[t]=e,t=0;t<e.length;t++)vi.add(e[t])}var nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),He={},al={};function Tn(t){return Da.call(al,t)?!0:Da.call(He,t)?!1:nl.test(t)?al[t]=!0:(He[t]=!0,!1)}function da(t,e,n){if(Tn(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Yl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Cn(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vl(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bi(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,s=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(u){n=""+u,s.call(this,u)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xl(t){if(!t._valueTracker){var e=Vl(t)?"checked":"value";t._valueTracker=bi(t,e,""+t[e])}}function Ql(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=Vl(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function ll(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Si=/[\n"\\]/g;function an(t){return t.replace(Si,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Zl(t,e,n,a,l,s,u,h){t.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.type=u:t.removeAttribute("type"),e!=null?u==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ke(e)):t.value!==""+Ke(e)&&(t.value=""+Ke(e)):u!=="submit"&&u!=="reset"||t.removeAttribute("value"),e!=null?Kl(t,u,Ke(e)):n!=null?Kl(t,u,Ke(n)):a!=null&&t.removeAttribute("value"),l==null&&s!=null&&(t.defaultChecked=!!s),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?t.name=""+Ke(h):t.removeAttribute("name")}function Mi(t,e,n,a,l,s,u,h){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Xl(t);return}n=n!=null?""+Ke(n):"",e=e!=null?""+Ke(e):n,h||e===t.value||(t.value=e),t.defaultValue=e}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=h?t.checked:!!a,t.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.name=u),Xl(t)}function Kl(t,e,n){e==="number"&&ll(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Pn(t,e,n,a){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&a&&(t[n].defaultSelected=!0)}else{for(n=""+Ke(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,a&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function Ds(t,e,n){if(e!=null&&(e=""+Ke(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ke(n):""}function Ge(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(d(92));if(Ce(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=Ke(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),Xl(t)}function wn(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bn(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||xi.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function ta(t,e,n){if(e!=null&&typeof e!="object")throw Error(d(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var l in e)a=e[l],e.hasOwnProperty(l)&&n[l]!==a&&Bn(t,l,a)}else for(var s in e)e.hasOwnProperty(s)&&Bn(t,s,e[s])}function Ye(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(t){return Lc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ea(){}var Ei=null;function Ai(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fa=null,ma=null;function te(t){var e=hn(t);if(e&&(t=e.stateNode)){var n=t[Oe]||null;t:switch(t=e.stateNode,e.type){case"input":if(Zl(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+an(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var l=a[Oe]||null;if(!l)throw Error(d(90));Zl(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&Ql(a)}break t;case"textarea":Ds(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&Pn(t,!!n.multiple,e,!1)}}}var $e=!1;function $l(t,e,n){if($e)return t(e,n);$e=!0;try{var a=t(e);return a}finally{if($e=!1,(fa!==null||ma!==null)&&(dc(),fa&&(e=fa,t=ma,ma=fa=null,te(e),t)))for(e=0;e<t.length;e++)te(t[e])}}function sl(t,e){var n=t.stateNode;if(n===null)return null;var a=n[Oe]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(d(231,e,typeof n));return n}var me=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(me)try{var B={};Object.defineProperty(B,"passive",{get:function(){ha=!0}}),window.addEventListener("test",B,B),window.removeEventListener("test",B,B)}catch{ha=!1}var he=null,_e=null,na=null;function Ti(){if(na)return na;var t,e=_e,n=e.length,a,l="value"in he?he.value:he.textContent,s=l.length;for(t=0;t<n&&e[t]===l[t];t++);var u=n-t;for(a=1;a<=u&&e[n-a]===l[s-a];a++);return na=l.slice(t,1<a?1-a:void 0)}function Jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ja(){return!0}function Su(){return!1}function Je(t){function e(n,a,l,s,u){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(s):s[h]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ja:Su,this.isPropagationStopped=Su,this}return E(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),e}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},il=Je(pa),ul=E({},pa,{view:0,detail:0}),js=Je(ul),cl,Ci,rl,Ra=E({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:za,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rl&&(rl&&t.type==="mousemove"?(cl=t.screenX-rl.screenX,Ci=t.screenY-rl.screenY):Ci=cl=0,rl=t),cl)},movementY:function(t){return"movementY"in t?t.movementY:Ci}}),Il=Je(Ra),qn=E({},Ra,{dataTransfer:0}),ol=Je(qn),Mu=E({},ul,{relatedTarget:0}),Rs=Je(Mu),Hc=E({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Gc=Je(Hc),Yc=E({},pa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=Je(Yc),Vc=E({},pa,{data:0}),Eu=Je(Vc),wi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qc(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zs[t])?!!e[t]:!1}function za(){return Qc}var Fl=E({},ul,{key:function(t){if(t.key){var e=wi[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:za,charCode:function(t){return t.type==="keypress"?Jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zc=Je(Fl),Kc=E({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ue=Je(Kc),gn=E({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:za}),Wl=Je(gn),Pl=E({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),$c=Je(Pl),ts=E({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jc=Je(ts),Ic=E({},pa,{newState:0,oldState:0}),Fc=Je(Ic),Wc=[9,13,27,32],Os=me&&"CompositionEvent"in window,es=null;me&&"documentMode"in document&&(es=document.documentMode);var Pc=me&&"TextEvent"in window&&!es,Di=me&&(!Os||es&&8<es&&11>=es),Au=" ",Tu=!1;function Cu(t,e){switch(t){case"keyup":return Wc.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ga=!1;function dl(t,e){switch(t){case"compositionend":return wu(e);case"keypress":return e.which!==32?null:(Tu=!0,Au);case"textInput":return t=e.data,t===Au&&Tu?null:t;default:return null}}function Ni(t,e){if(ga)return t==="compositionend"||!Os&&Cu(t,e)?(t=Ti(),na=_e=he=null,ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Di&&e.locale!=="ko"?null:e.data;default:return null}}var Du={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Du[t.type]:e==="textarea"}function ju(t,e,n,a){fa?ma?ma.push(a):ma=[a]:fa=a,e=vc(e,"onChange"),0<e.length&&(n=new il("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var ya=null,aa=null;function tr(t){jm(t,0)}function ks(t){var e=oa(t);if(Ql(e))return t}function Ru(t,e){if(t==="change")return e}var ji=!1;if(me){var Ri;if(me){var _s="oninput"in document;if(!_s){var Us=document.createElement("div");Us.setAttribute("oninput","return;"),_s=typeof Us.oninput=="function"}Ri=_s}else Ri=!1;ji=Ri&&(!document.documentMode||9<document.documentMode)}function ln(){ya&&(ya.detachEvent("onpropertychange",Bs),aa=ya=null)}function Bs(t){if(t.propertyName==="value"&&ks(aa)){var e=[];ju(e,aa,t,Ai(t)),$l(tr,e)}}function zu(t,e,n){t==="focusin"?(ln(),ya=e,aa=n,ya.attachEvent("onpropertychange",Bs)):t==="focusout"&&ln()}function er(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ks(aa)}function nr(t,e){if(t==="click")return ks(e)}function Ou(t,e){if(t==="input"||t==="change")return ks(e)}function ar(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var i=typeof Object.is=="function"?Object.is:ar;function c(t,e){if(i(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!Da.call(e,l)||!i(t[l],e[l]))return!1}return!0}function g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function C(t,e){var n=g(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=g(n)}}function j(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?j(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ll(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ll(t.document)}return e}function X(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var K=me&&"documentMode"in document&&11>=document.documentMode,G=null,at=null,lt=null,yt=!1;function Nt(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yt||G==null||G!==ll(a)||(a=G,"selectionStart"in a&&X(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),lt&&c(lt,a)||(lt=a,a=vc(at,"onSelect"),0<a.length&&(e=new il("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=G)))}function Rt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zt={animationend:Rt("Animation","AnimationEnd"),animationiteration:Rt("Animation","AnimationIteration"),animationstart:Rt("Animation","AnimationStart"),transitionrun:Rt("Transition","TransitionRun"),transitionstart:Rt("Transition","TransitionStart"),transitioncancel:Rt("Transition","TransitionCancel"),transitionend:Rt("Transition","TransitionEnd")},dt={},zt={};me&&(zt=document.createElement("div").style,"AnimationEvent"in window||(delete Zt.animationend.animation,delete Zt.animationiteration.animation,delete Zt.animationstart.animation),"TransitionEvent"in window||delete Zt.transitionend.transition);function we(t){if(dt[t])return dt[t];if(!Zt[t])return t;var e=Zt[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zt)return dt[t]=e[n];return t}var ns=we("animationend"),zi=we("animationiteration"),it=we("animationstart"),pe=we("transitionrun"),be=we("transitionstart"),qt=we("transitioncancel"),ge=we("transitionend"),pt=new Map,Mt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mt.push("scrollEnd");function ie(t,e){pt.set(t,e),ke(e,[t])}var Yt=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kt=[],sn=0,At=0;function Jt(){for(var t=sn,e=At=sn=0;e<t;){var n=Kt[e];Kt[e++]=null;var a=Kt[e];Kt[e++]=null;var l=Kt[e];Kt[e++]=null;var s=Kt[e];if(Kt[e++]=null,a!==null&&l!==null){var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}s!==0&&Oi(n,l,s)}}function Se(t,e,n,a){Kt[sn++]=t,Kt[sn++]=e,Kt[sn++]=n,Kt[sn++]=a,At|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Oa(t,e,n,a){return Se(t,e,n,a),as(t)}function Dn(t,e){return Se(t,null,null,e),as(t)}function Oi(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var l=!1,s=t.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(l=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,l&&e!==null&&(l=31-qe(n),t=s.hiddenUpdates,a=t[l],a===null?t[l]=[e]:a.push(e),e.lane=n|536870912),s):null}function as(t){if(50<eu)throw eu=0,oo=null,Error(d(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var va={};function ku(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,n,a){return new ku(t,e,n,a)}function fl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jt(t,e){var n=t.alternate;return n===null?(n=un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function la(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ba(t,e,n,a,l,s){var u=0;if(a=t,typeof t=="function")fl(t)&&(u=1);else if(typeof t=="string")u=dg(t,n,nt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Gt:return t=un(31,n,e,l),t.elementType=Gt,t.lanes=s,t;case F:return Sa(n.children,l,s,e);case xt:u=8,l|=24;break;case ut:return t=un(12,n,e,l|2),t.elementType=ut,t.lanes=s,t;case P:return t=un(13,n,e,l),t.elementType=P,t.lanes=s,t;case mt:return t=un(19,n,e,l),t.elementType=mt,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:u=10;break t;case bt:u=9;break t;case H:u=11;break t;case J:u=14;break t;case ct:u=16,a=null;break t}u=29,n=Error(d(130,t===null?"null":typeof t,"")),a=null}return e=un(u,n,e,l),e.elementType=t,e.type=a,e.lanes=s,e}function Sa(t,e,n,a){return t=un(7,t,a,e),t.lanes=n,t}function qs(t,e,n){return t=un(6,t,null,e),t.lanes=n,t}function _u(t){var e=un(18,null,null,0);return e.stateNode=t,e}function lr(t,e,n){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var md=new WeakMap;function Ln(t,e){if(typeof t=="object"&&t!==null){var n=md.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ss(e)},md.set(t,e),e)}return{value:t,source:e,stack:Ss(e)}}var Ls=[],Hs=0,Uu=null,ki=0,Hn=[],Gn=0,ml=null,Ma=1,xa="";function ka(t,e){Ls[Hs++]=ki,Ls[Hs++]=Uu,Uu=t,ki=e}function hd(t,e,n){Hn[Gn++]=Ma,Hn[Gn++]=xa,Hn[Gn++]=ml,ml=t;var a=Ma;t=xa;var l=32-qe(a)-1;a&=~(1<<l),n+=1;var s=32-qe(e)+l;if(30<s){var u=l-l%5;s=(a&(1<<u)-1).toString(32),a>>=u,l-=u,Ma=1<<32-qe(e)+l|n<<l|a,xa=s+t}else Ma=1<<s|n<<l|a,xa=t}function sr(t){t.return!==null&&(ka(t,1),hd(t,1,0))}function ir(t){for(;t===Uu;)Uu=Ls[--Hs],Ls[Hs]=null,ki=Ls[--Hs],Ls[Hs]=null;for(;t===ml;)ml=Hn[--Gn],Hn[Gn]=null,xa=Hn[--Gn],Hn[Gn]=null,Ma=Hn[--Gn],Hn[Gn]=null}function pd(t,e){Hn[Gn++]=Ma,Hn[Gn++]=xa,Hn[Gn++]=ml,Ma=e.id,xa=e.overflow,ml=t}var Ie=null,oe=null,Lt=!1,hl=null,Yn=!1,ur=Error(d(519));function pl(t){var e=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _i(Ln(e,t)),ur}function gd(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[ce]=t,e[Oe]=a,n){case"dialog":kt("cancel",e),kt("close",e);break;case"iframe":case"object":case"embed":kt("load",e);break;case"video":case"audio":for(n=0;n<au.length;n++)kt(au[n],e);break;case"source":kt("error",e);break;case"img":case"image":case"link":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"input":kt("invalid",e),Mi(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":kt("invalid",e);break;case"textarea":kt("invalid",e),Ge(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||km(e.textContent,n)?(a.popover!=null&&(kt("beforetoggle",e),kt("toggle",e)),a.onScroll!=null&&kt("scroll",e),a.onScrollEnd!=null&&kt("scrollend",e),a.onClick!=null&&(e.onclick=ea),e=!0):e=!1,e||pl(t,!0)}function yd(t){for(Ie=t.return;Ie;)switch(Ie.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Ie=Ie.return}}function Gs(t){if(t!==Ie)return!1;if(!Lt)return yd(t),Lt=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Co(t.type,t.memoizedProps)),n=!n),n&&oe&&pl(t),yd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));oe=Vm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));oe=Vm(t)}else e===27?(e=oe,Nl(t.type)?(t=Ro,Ro=null,oe=t):oe=e):oe=Ie?Xn(t.stateNode.nextSibling):null;return!0}function ls(){oe=Ie=null,Lt=!1}function cr(){var t=hl;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),hl=null),t}function _i(t){hl===null?hl=[t]:hl.push(t)}var rr=S(null),ss=null,_a=null;function gl(t,e,n){tt(rr,e._currentValue),e._currentValue=n}function Ua(t){t._currentValue=rr.current,_(rr)}function or(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function dr(t,e,n,a){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){var u=l.child;s=s.firstContext;t:for(;s!==null;){var h=s;s=l;for(var x=0;x<e.length;x++)if(h.context===e[x]){s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),or(s.return,n,t),a||(u=null);break t}s=h.next}}else if(l.tag===18){if(u=l.return,u===null)throw Error(d(341));u.lanes|=n,s=u.alternate,s!==null&&(s.lanes|=n),or(u,n,t),u=null}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}}function Ys(t,e,n,a){t=null;for(var l=e,s=!1;l!==null;){if(!s){if((l.flags&524288)!==0)s=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var u=l.alternate;if(u===null)throw Error(d(387));if(u=u.memoizedProps,u!==null){var h=l.type;i(l.pendingProps.value,u.value)||(t!==null?t.push(h):t=[h])}}else if(l===Et.current){if(u=l.alternate,u===null)throw Error(d(387));u.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(cu):t=[cu])}l=l.return}t!==null&&dr(e,t,n,a),e.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!i(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function is(t){ss=t,_a=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fe(t){return vd(ss,t)}function qu(t,e){return ss===null&&is(t),vd(t,e)}function vd(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},_a===null){if(t===null)throw Error(d(308));_a=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else _a=_a.next=e;return n}var up=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},cp=o.unstable_scheduleCallback,rp=o.unstable_NormalPriority,De={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fr(){return{controller:new up,data:new Map,refCount:0}}function Ui(t){t.refCount--,t.refCount===0&&cp(rp,function(){t.controller.abort()})}var Bi=null,mr=0,Vs=0,Xs=null;function op(t,e){if(Bi===null){var n=Bi=[];mr=0,Vs=yo(),Xs={status:"pending",value:void 0,then:function(a){n.push(a)}}}return mr++,e.then(bd,bd),e}function bd(){if(--mr===0&&Bi!==null){Xs!==null&&(Xs.status="fulfilled");var t=Bi;Bi=null,Vs=0,Xs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function dp(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var Sd=A.S;A.S=function(t,e){lm=en(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&op(t,e),Sd!==null&&Sd(t,e)};var us=S(null);function hr(){var t=us.current;return t!==null?t:ue.pooledCache}function Lu(t,e){e===null?tt(us,us.current):tt(us,e.pool)}function Md(){var t=hr();return t===null?null:{parent:De._currentValue,pool:t}}var Qs=Error(d(460)),pr=Error(d(474)),Hu=Error(d(542)),Gu={then:function(){}};function xd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ed(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ea,ea),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Td(t),t;default:if(typeof e.status=="string")e.then(ea,ea);else{if(t=ue,t!==null&&100<t.shellSuspendCounter)throw Error(d(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=a}},function(a){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Td(t),t}throw rs=e,Qs}}function cs(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(rs=n,Qs):n}}var rs=null;function Ad(){if(rs===null)throw Error(d(459));var t=rs;return rs=null,t}function Td(t){if(t===Qs||t===Hu)throw Error(d(483))}var Zs=null,qi=0;function Yu(t){var e=qi;return qi+=1,Zs===null&&(Zs=[]),Ed(Zs,t,e)}function Li(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Vu(t,e){throw e.$$typeof===L?Error(d(525)):(t=Object.prototype.toString.call(e),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Cd(t){function e(R,w){if(t){var z=R.deletions;z===null?(R.deletions=[w],R.flags|=16):z.push(w)}}function n(R,w){if(!t)return null;for(;w!==null;)e(R,w),w=w.sibling;return null}function a(R){for(var w=new Map;R!==null;)R.key!==null?w.set(R.key,R):w.set(R.index,R),R=R.sibling;return w}function l(R,w){return R=jt(R,w),R.index=0,R.sibling=null,R}function s(R,w,z){return R.index=z,t?(z=R.alternate,z!==null?(z=z.index,z<w?(R.flags|=67108866,w):z):(R.flags|=67108866,w)):(R.flags|=1048576,w)}function u(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function h(R,w,z,Q){return w===null||w.tag!==6?(w=qs(z,R.mode,Q),w.return=R,w):(w=l(w,z),w.return=R,w)}function x(R,w,z,Q){var ht=z.type;return ht===F?Y(R,w,z.props.children,Q,z.key):w!==null&&(w.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ct&&cs(ht)===w.type)?(w=l(w,z.props),Li(w,z),w.return=R,w):(w=ba(z.type,z.key,z.props,null,R.mode,Q),Li(w,z),w.return=R,w)}function O(R,w,z,Q){return w===null||w.tag!==4||w.stateNode.containerInfo!==z.containerInfo||w.stateNode.implementation!==z.implementation?(w=lr(z,R.mode,Q),w.return=R,w):(w=l(w,z.children||[]),w.return=R,w)}function Y(R,w,z,Q,ht){return w===null||w.tag!==7?(w=Sa(z,R.mode,Q,ht),w.return=R,w):(w=l(w,z),w.return=R,w)}function Z(R,w,z){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=qs(""+w,R.mode,z),w.return=R,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $:return z=ba(w.type,w.key,w.props,null,R.mode,z),Li(z,w),z.return=R,z;case et:return w=lr(w,R.mode,z),w.return=R,w;case ct:return w=cs(w),Z(R,w,z)}if(Ce(w)||Pt(w))return w=Sa(w,R.mode,z,null),w.return=R,w;if(typeof w.then=="function")return Z(R,Yu(w),z);if(w.$$typeof===ot)return Z(R,qu(R,w),z);Vu(R,w)}return null}function k(R,w,z,Q){var ht=w!==null?w.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ht!==null?null:h(R,w,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return z.key===ht?x(R,w,z,Q):null;case et:return z.key===ht?O(R,w,z,Q):null;case ct:return z=cs(z),k(R,w,z,Q)}if(Ce(z)||Pt(z))return ht!==null?null:Y(R,w,z,Q,null);if(typeof z.then=="function")return k(R,w,Yu(z),Q);if(z.$$typeof===ot)return k(R,w,qu(R,z),Q);Vu(R,z)}return null}function U(R,w,z,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return R=R.get(z)||null,h(w,R,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:return R=R.get(Q.key===null?z:Q.key)||null,x(w,R,Q,ht);case et:return R=R.get(Q.key===null?z:Q.key)||null,O(w,R,Q,ht);case ct:return Q=cs(Q),U(R,w,z,Q,ht)}if(Ce(Q)||Pt(Q))return R=R.get(z)||null,Y(w,R,Q,ht,null);if(typeof Q.then=="function")return U(R,w,z,Yu(Q),ht);if(Q.$$typeof===ot)return U(R,w,z,qu(w,Q),ht);Vu(w,Q)}return null}function rt(R,w,z,Q){for(var ht=null,Vt=null,ft=w,Dt=w=0,Ut=null;ft!==null&&Dt<z.length;Dt++){ft.index>Dt?(Ut=ft,ft=null):Ut=ft.sibling;var Xt=k(R,ft,z[Dt],Q);if(Xt===null){ft===null&&(ft=Ut);break}t&&ft&&Xt.alternate===null&&e(R,ft),w=s(Xt,w,Dt),Vt===null?ht=Xt:Vt.sibling=Xt,Vt=Xt,ft=Ut}if(Dt===z.length)return n(R,ft),Lt&&ka(R,Dt),ht;if(ft===null){for(;Dt<z.length;Dt++)ft=Z(R,z[Dt],Q),ft!==null&&(w=s(ft,w,Dt),Vt===null?ht=ft:Vt.sibling=ft,Vt=ft);return Lt&&ka(R,Dt),ht}for(ft=a(ft);Dt<z.length;Dt++)Ut=U(ft,R,Dt,z[Dt],Q),Ut!==null&&(t&&Ut.alternate!==null&&ft.delete(Ut.key===null?Dt:Ut.key),w=s(Ut,w,Dt),Vt===null?ht=Ut:Vt.sibling=Ut,Vt=Ut);return t&&ft.forEach(function(kl){return e(R,kl)}),Lt&&ka(R,Dt),ht}function St(R,w,z,Q){if(z==null)throw Error(d(151));for(var ht=null,Vt=null,ft=w,Dt=w=0,Ut=null,Xt=z.next();ft!==null&&!Xt.done;Dt++,Xt=z.next()){ft.index>Dt?(Ut=ft,ft=null):Ut=ft.sibling;var kl=k(R,ft,Xt.value,Q);if(kl===null){ft===null&&(ft=Ut);break}t&&ft&&kl.alternate===null&&e(R,ft),w=s(kl,w,Dt),Vt===null?ht=kl:Vt.sibling=kl,Vt=kl,ft=Ut}if(Xt.done)return n(R,ft),Lt&&ka(R,Dt),ht;if(ft===null){for(;!Xt.done;Dt++,Xt=z.next())Xt=Z(R,Xt.value,Q),Xt!==null&&(w=s(Xt,w,Dt),Vt===null?ht=Xt:Vt.sibling=Xt,Vt=Xt);return Lt&&ka(R,Dt),ht}for(ft=a(ft);!Xt.done;Dt++,Xt=z.next())Xt=U(ft,R,Dt,Xt.value,Q),Xt!==null&&(t&&Xt.alternate!==null&&ft.delete(Xt.key===null?Dt:Xt.key),w=s(Xt,w,Dt),Vt===null?ht=Xt:Vt.sibling=Xt,Vt=Xt);return t&&ft.forEach(function(xg){return e(R,xg)}),Lt&&ka(R,Dt),ht}function ae(R,w,z,Q){if(typeof z=="object"&&z!==null&&z.type===F&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case $:t:{for(var ht=z.key;w!==null;){if(w.key===ht){if(ht=z.type,ht===F){if(w.tag===7){n(R,w.sibling),Q=l(w,z.props.children),Q.return=R,R=Q;break t}}else if(w.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===ct&&cs(ht)===w.type){n(R,w.sibling),Q=l(w,z.props),Li(Q,z),Q.return=R,R=Q;break t}n(R,w);break}else e(R,w);w=w.sibling}z.type===F?(Q=Sa(z.props.children,R.mode,Q,z.key),Q.return=R,R=Q):(Q=ba(z.type,z.key,z.props,null,R.mode,Q),Li(Q,z),Q.return=R,R=Q)}return u(R);case et:t:{for(ht=z.key;w!==null;){if(w.key===ht)if(w.tag===4&&w.stateNode.containerInfo===z.containerInfo&&w.stateNode.implementation===z.implementation){n(R,w.sibling),Q=l(w,z.children||[]),Q.return=R,R=Q;break t}else{n(R,w);break}else e(R,w);w=w.sibling}Q=lr(z,R.mode,Q),Q.return=R,R=Q}return u(R);case ct:return z=cs(z),ae(R,w,z,Q)}if(Ce(z))return rt(R,w,z,Q);if(Pt(z)){if(ht=Pt(z),typeof ht!="function")throw Error(d(150));return z=ht.call(z),St(R,w,z,Q)}if(typeof z.then=="function")return ae(R,w,Yu(z),Q);if(z.$$typeof===ot)return ae(R,w,qu(R,z),Q);Vu(R,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,w!==null&&w.tag===6?(n(R,w.sibling),Q=l(w,z),Q.return=R,R=Q):(n(R,w),Q=qs(z,R.mode,Q),Q.return=R,R=Q),u(R)):n(R,w)}return function(R,w,z,Q){try{qi=0;var ht=ae(R,w,z,Q);return Zs=null,ht}catch(ft){if(ft===Qs||ft===Hu)throw ft;var Vt=un(29,ft,null,R.mode);return Vt.lanes=Q,Vt.return=R,Vt}finally{}}}var os=Cd(!0),wd=Cd(!1),yl=!1;function gr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function bl(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,($t&2)!==0){var l=a.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),a.pending=e,e=as(t),Oi(t,null,n),e}return Se(t,a,e,n),as(t)}function Hi(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Pa(t,n)}}function vr(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?l=s=e:s=s.next=e}else l=s=e;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var br=!1;function Gi(){if(br){var t=Xs;if(t!==null)throw t}}function Yi(t,e,n,a){br=!1;var l=t.updateQueue;yl=!1;var s=l.firstBaseUpdate,u=l.lastBaseUpdate,h=l.shared.pending;if(h!==null){l.shared.pending=null;var x=h,O=x.next;x.next=null,u===null?s=O:u.next=O,u=x;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,h=Y.lastBaseUpdate,h!==u&&(h===null?Y.firstBaseUpdate=O:h.next=O,Y.lastBaseUpdate=x))}if(s!==null){var Z=l.baseState;u=0,Y=O=x=null,h=s;do{var k=h.lane&-536870913,U=k!==h.lane;if(U?(_t&k)===k:(a&k)===k){k!==0&&k===Vs&&(br=!0),Y!==null&&(Y=Y.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});t:{var rt=t,St=h;k=e;var ae=n;switch(St.tag){case 1:if(rt=St.payload,typeof rt=="function"){Z=rt.call(ae,Z,k);break t}Z=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=St.payload,k=typeof rt=="function"?rt.call(ae,Z,k):rt,k==null)break t;Z=E({},Z,k);break t;case 2:yl=!0}}k=h.callback,k!==null&&(t.flags|=64,U&&(t.flags|=8192),U=l.callbacks,U===null?l.callbacks=[k]:U.push(k))}else U={lane:k,tag:h.tag,payload:h.payload,callback:h.callback,next:null},Y===null?(O=Y=U,x=Z):Y=Y.next=U,u|=k;if(h=h.next,h===null){if(h=l.shared.pending,h===null)break;U=h,h=U.next,U.next=null,l.lastBaseUpdate=U,l.shared.pending=null}}while(!0);Y===null&&(x=Z),l.baseState=x,l.firstBaseUpdate=O,l.lastBaseUpdate=Y,s===null&&(l.shared.lanes=0),Al|=u,t.lanes=u,t.memoizedState=Z}}function Dd(t,e){if(typeof t!="function")throw Error(d(191,t));t.call(e)}function Nd(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Dd(n[t],e)}var Ks=S(null),Xu=S(0);function jd(t,e){t=Qa,tt(Xu,t),tt(Ks,e),Qa=t|e.baseLanes}function Sr(){tt(Xu,Qa),tt(Ks,Ks.current)}function Mr(){Qa=Xu.current,_(Ks),_(Xu)}var Nn=S(null),Vn=null;function Sl(t){var e=t.alternate;tt(Ae,Ae.current&1),tt(Nn,t),Vn===null&&(e===null||Ks.current!==null||e.memoizedState!==null)&&(Vn=t)}function xr(t){tt(Ae,Ae.current),tt(Nn,t),Vn===null&&(Vn=t)}function Rd(t){t.tag===22?(tt(Ae,Ae.current),tt(Nn,t),Vn===null&&(Vn=t)):Ml()}function Ml(){tt(Ae,Ae.current),tt(Nn,Nn.current)}function jn(t){_(Nn),Vn===t&&(Vn=null),_(Ae)}var Ae=S(0);function Qu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||No(n)||jo(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ba=0,Ct=null,ee=null,Ne=null,Zu=!1,$s=!1,ds=!1,Ku=0,Vi=0,Js=null,fp=0;function Me(){throw Error(d(321))}function Er(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!i(t[n],e[n]))return!1;return!0}function Ar(t,e,n,a,l,s){return Ba=s,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,A.H=t===null||t.memoizedState===null?pf:Lr,ds=!1,s=n(a,l),ds=!1,$s&&(s=Od(e,n,a,l)),zd(t),s}function zd(t){A.H=Zi;var e=ee!==null&&ee.next!==null;if(Ba=0,Ne=ee=Ct=null,Zu=!1,Vi=0,Js=null,e)throw Error(d(300));t===null||je||(t=t.dependencies,t!==null&&Bu(t)&&(je=!0))}function Od(t,e,n,a){Ct=t;var l=0;do{if($s&&(Js=null),Vi=0,$s=!1,25<=l)throw Error(d(301));if(l+=1,Ne=ee=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}A.H=gf,s=e(n,a)}while($s);return s}function mp(){var t=A.H,e=t.useState()[0];return e=typeof e.then=="function"?Xi(e):e,t=t.useState()[0],(ee!==null?ee.memoizedState:null)!==t&&(Ct.flags|=1024),e}function Tr(){var t=Ku!==0;return Ku=0,t}function Cr(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function wr(t){if(Zu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Zu=!1}Ba=0,Ne=ee=Ct=null,$s=!1,Vi=Ku=0,Js=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Ct.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function Te(){if(ee===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=ee.next;var e=Ne===null?Ct.memoizedState:Ne.next;if(e!==null)Ne=e,ee=t;else{if(t===null)throw Ct.alternate===null?Error(d(467)):Error(d(310));ee=t,t={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ne===null?Ct.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xi(t){var e=Vi;return Vi+=1,Js===null&&(Js=[]),t=Ed(Js,t,e),e=Ct,(Ne===null?e.memoizedState:Ne.next)===null&&(e=e.alternate,A.H=e===null||e.memoizedState===null?pf:Lr),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xi(t);if(t.$$typeof===ot)return Fe(t)}throw Error(d(438,String(t)))}function Dr(t){var e=null,n=Ct.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=Ct.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=$u(),Ct.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=le;return e.index++,n}function qa(t,e){return typeof e=="function"?e(t):e}function Iu(t){var e=Te();return Nr(e,ee,t)}function Nr(t,e,n){var a=t.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var l=t.baseQueue,s=a.pending;if(s!==null){if(l!==null){var u=l.next;l.next=s.next,s.next=u}e.baseQueue=l=s,a.pending=null}if(s=t.baseState,l===null)t.memoizedState=s;else{e=l.next;var h=u=null,x=null,O=e,Y=!1;do{var Z=O.lane&-536870913;if(Z!==O.lane?(_t&Z)===Z:(Ba&Z)===Z){var k=O.revertLane;if(k===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Z===Vs&&(Y=!0);else if((Ba&k)===k){O=O.next,k===Vs&&(Y=!0);continue}else Z={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(h=x=Z,u=s):x=x.next=Z,Ct.lanes|=k,Al|=k;Z=O.action,ds&&n(s,Z),s=O.hasEagerState?O.eagerState:n(s,Z)}else k={lane:Z,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(h=x=k,u=s):x=x.next=k,Ct.lanes|=Z,Al|=Z;O=O.next}while(O!==null&&O!==e);if(x===null?u=s:x.next=h,!i(s,t.memoizedState)&&(je=!0,Y&&(n=Xs,n!==null)))throw n;t.memoizedState=s,t.baseState=u,t.baseQueue=x,a.lastRenderedState=s}return l===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function jr(t){var e=Te(),n=e.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=t;var a=n.dispatch,l=n.pending,s=e.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do s=t(s,u.action),u=u.next;while(u!==l);i(s,e.memoizedState)||(je=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,a]}function kd(t,e,n){var a=Ct,l=Te(),s=Lt;if(s){if(n===void 0)throw Error(d(407));n=n()}else n=e();var u=!i((ee||l).memoizedState,n);if(u&&(l.memoizedState=n,je=!0),l=l.queue,Or(Bd.bind(null,a,l,t),[t]),l.getSnapshot!==e||u||Ne!==null&&Ne.memoizedState.tag&1){if(a.flags|=2048,Is(9,{destroy:void 0},Ud.bind(null,a,l,n,e),null),ue===null)throw Error(d(349));s||(Ba&127)!==0||_d(a,e,n)}return n}function _d(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ct.updateQueue,e===null?(e=$u(),Ct.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ud(t,e,n,a){e.value=n,e.getSnapshot=a,qd(e)&&Ld(t)}function Bd(t,e,n){return n(function(){qd(e)&&Ld(t)})}function qd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!i(t,n)}catch{return!0}}function Ld(t){var e=Dn(t,2);e!==null&&Mn(e,t,2)}function Rr(t){var e=dn();if(typeof t=="function"){var n=t;if(t=n(),ds){An(!0);try{n()}finally{An(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:t},e}function Hd(t,e,n,a){return t.baseState=n,Nr(t,ee,typeof a=="function"?a:qa)}function hp(t,e,n,a,l){if(Pu(t))throw Error(d(485));if(t=e.action,t!==null){var s={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){s.listeners.push(u)}};A.T!==null?n(!0):s.isTransition=!1,a(s),n=e.pending,n===null?(s.next=e.pending=s,Gd(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Gd(t,e){var n=e.action,a=e.payload,l=t.state;if(e.isTransition){var s=A.T,u={};A.T=u;try{var h=n(l,a),x=A.S;x!==null&&x(u,h),Yd(t,e,h)}catch(O){zr(t,e,O)}finally{s!==null&&u.types!==null&&(s.types=u.types),A.T=s}}else try{s=n(l,a),Yd(t,e,s)}catch(O){zr(t,e,O)}}function Yd(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Vd(t,e,a)},function(a){return zr(t,e,a)}):Vd(t,e,n)}function Vd(t,e,n){e.status="fulfilled",e.value=n,Xd(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Gd(t,n)))}function zr(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,Xd(e),e=e.next;while(e!==a)}t.action=null}function Xd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Qd(t,e){return e}function Zd(t,e){if(Lt){var n=ue.formState;if(n!==null){t:{var a=Ct;if(Lt){if(oe){e:{for(var l=oe,s=Yn;l.nodeType!==8;){if(!s){l=null;break e}if(l=Xn(l.nextSibling),l===null){l=null;break e}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){oe=Xn(l.nextSibling),a=l.data==="F!";break t}}pl(a)}a=!1}a&&(e=n[0])}}return n=dn(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:e},n.queue=a,n=ff.bind(null,Ct,a),a.dispatch=n,a=Rr(!1),s=qr.bind(null,Ct,!1,a.queue),a=dn(),l={state:e,dispatch:null,action:t,pending:null},a.queue=l,n=hp.bind(null,Ct,l,s,n),l.dispatch=n,a.memoizedState=t,[e,n,!1]}function Kd(t){var e=Te();return $d(e,ee,t)}function $d(t,e,n){if(e=Nr(t,e,Qd)[0],t=Iu(qa)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Xi(e)}catch(u){throw u===Qs?Hu:u}else a=e;e=Te();var l=e.queue,s=l.dispatch;return n!==e.memoizedState&&(Ct.flags|=2048,Is(9,{destroy:void 0},pp.bind(null,l,n),null)),[a,s,t]}function pp(t,e){t.action=e}function Jd(t){var e=Te(),n=ee;if(n!==null)return $d(e,n,t);Te(),e=e.memoizedState,n=Te();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function Is(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=Ct.updateQueue,e===null&&(e=$u(),Ct.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function Id(){return Te().memoizedState}function Fu(t,e,n,a){var l=dn();Ct.flags|=t,l.memoizedState=Is(1|e,{destroy:void 0},n,a===void 0?null:a)}function Wu(t,e,n,a){var l=Te();a=a===void 0?null:a;var s=l.memoizedState.inst;ee!==null&&a!==null&&Er(a,ee.memoizedState.deps)?l.memoizedState=Is(e,s,n,a):(Ct.flags|=t,l.memoizedState=Is(1|e,s,n,a))}function Fd(t,e){Fu(8390656,8,t,e)}function Or(t,e){Wu(2048,8,t,e)}function gp(t){Ct.flags|=4;var e=Ct.updateQueue;if(e===null)e=$u(),Ct.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Wd(t){var e=Te().memoizedState;return gp({ref:e,nextImpl:t}),function(){if(($t&2)!==0)throw Error(d(440));return e.impl.apply(void 0,arguments)}}function Pd(t,e){return Wu(4,2,t,e)}function tf(t,e){return Wu(4,4,t,e)}function ef(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nf(t,e,n){n=n!=null?n.concat([t]):null,Wu(4,4,ef.bind(null,e,t),n)}function kr(){}function af(t,e){var n=Te();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&Er(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function lf(t,e){var n=Te();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&Er(e,a[1]))return a[0];if(a=t(),ds){An(!0);try{t()}finally{An(!1)}}return n.memoizedState=[a,e],a}function _r(t,e,n){return n===void 0||(Ba&1073741824)!==0&&(_t&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=im(),Ct.lanes|=t,Al|=t,n)}function sf(t,e,n,a){return i(n,e)?n:Ks.current!==null?(t=_r(t,n,a),i(t,e)||(je=!0),t):(Ba&42)===0||(Ba&1073741824)!==0&&(_t&261930)===0?(je=!0,t.memoizedState=n):(t=im(),Ct.lanes|=t,Al|=t,e)}function uf(t,e,n,a,l){var s=V.p;V.p=s!==0&&8>s?s:8;var u=A.T,h={};A.T=h,qr(t,!1,e,n);try{var x=l(),O=A.S;if(O!==null&&O(h,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Y=dp(x,a);Qi(t,e,Y,On(t))}else Qi(t,e,a,On(t))}catch(Z){Qi(t,e,{then:function(){},status:"rejected",reason:Z},On())}finally{V.p=s,u!==null&&h.types!==null&&(u.types=h.types),A.T=u}}function yp(){}function Ur(t,e,n,a){if(t.tag!==5)throw Error(d(476));var l=cf(t).queue;uf(t,l,e,W,n===null?yp:function(){return rf(t),n(a)})}function cf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:W},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function rf(t){var e=cf(t);e.next===null&&(e=t.alternate.memoizedState),Qi(t,e.next.queue,{},On())}function Br(){return Fe(cu)}function of(){return Te().memoizedState}function df(){return Te().memoizedState}function vp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=On();t=vl(n);var a=bl(e,t,n);a!==null&&(Mn(a,e,n),Hi(a,e,n)),e={cache:fr()},t.payload=e;return}e=e.return}}function bp(t,e,n){var a=On();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Pu(t)?mf(e,n):(n=Oa(t,e,n,a),n!==null&&(Mn(n,t,a),hf(n,e,a)))}function ff(t,e,n){var a=On();Qi(t,e,n,a)}function Qi(t,e,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pu(t))mf(e,l);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var u=e.lastRenderedState,h=s(u,n);if(l.hasEagerState=!0,l.eagerState=h,i(h,u))return Se(t,e,l,0),ue===null&&Jt(),!1}catch{}finally{}if(n=Oa(t,e,l,a),n!==null)return Mn(n,t,a),hf(n,e,a),!0}return!1}function qr(t,e,n,a){if(a={lane:2,revertLane:yo(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Pu(t)){if(e)throw Error(d(479))}else e=Oa(t,n,a,2),e!==null&&Mn(e,t,2)}function Pu(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function mf(t,e){$s=Zu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hf(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Pa(t,n)}}var Zi={readContext:Fe,use:Ju,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me};Zi.useEffectEvent=Me;var pf={readContext:Fe,use:Ju,useCallback:function(t,e){return dn().memoizedState=[t,e===void 0?null:e],t},useContext:Fe,useEffect:Fd,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Fu(4194308,4,ef.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fu(4194308,4,t,e)},useInsertionEffect:function(t,e){Fu(4,2,t,e)},useMemo:function(t,e){var n=dn();e=e===void 0?null:e;var a=t();if(ds){An(!0);try{t()}finally{An(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=dn();if(n!==void 0){var l=n(e);if(ds){An(!0);try{n(e)}finally{An(!1)}}}else l=e;return a.memoizedState=a.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},a.queue=t,t=t.dispatch=bp.bind(null,Ct,t),[a.memoizedState,t]},useRef:function(t){var e=dn();return t={current:t},e.memoizedState=t},useState:function(t){t=Rr(t);var e=t.queue,n=ff.bind(null,Ct,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:kr,useDeferredValue:function(t,e){var n=dn();return _r(n,t,e)},useTransition:function(){var t=Rr(!1);return t=uf.bind(null,Ct,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=Ct,l=dn();if(Lt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=e(),ue===null)throw Error(d(349));(_t&127)!==0||_d(a,e,n)}l.memoizedState=n;var s={value:n,getSnapshot:e};return l.queue=s,Fd(Bd.bind(null,a,s,t),[t]),a.flags|=2048,Is(9,{destroy:void 0},Ud.bind(null,a,s,n,e),null),n},useId:function(){var t=dn(),e=ue.identifierPrefix;if(Lt){var n=xa,a=Ma;n=(a&~(1<<32-qe(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Ku++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=fp++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Br,useFormState:Zd,useActionState:Zd,useOptimistic:function(t){var e=dn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=qr.bind(null,Ct,!0,n),n.dispatch=e,[t,e]},useMemoCache:Dr,useCacheRefresh:function(){return dn().memoizedState=vp.bind(null,Ct)},useEffectEvent:function(t){var e=dn(),n={impl:t};return e.memoizedState=n,function(){if(($t&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},Lr={readContext:Fe,use:Ju,useCallback:af,useContext:Fe,useEffect:Or,useImperativeHandle:nf,useInsertionEffect:Pd,useLayoutEffect:tf,useMemo:lf,useReducer:Iu,useRef:Id,useState:function(){return Iu(qa)},useDebugValue:kr,useDeferredValue:function(t,e){var n=Te();return sf(n,ee.memoizedState,t,e)},useTransition:function(){var t=Iu(qa)[0],e=Te().memoizedState;return[typeof t=="boolean"?t:Xi(t),e]},useSyncExternalStore:kd,useId:of,useHostTransitionStatus:Br,useFormState:Kd,useActionState:Kd,useOptimistic:function(t,e){var n=Te();return Hd(n,ee,t,e)},useMemoCache:Dr,useCacheRefresh:df};Lr.useEffectEvent=Wd;var gf={readContext:Fe,use:Ju,useCallback:af,useContext:Fe,useEffect:Or,useImperativeHandle:nf,useInsertionEffect:Pd,useLayoutEffect:tf,useMemo:lf,useReducer:jr,useRef:Id,useState:function(){return jr(qa)},useDebugValue:kr,useDeferredValue:function(t,e){var n=Te();return ee===null?_r(n,t,e):sf(n,ee.memoizedState,t,e)},useTransition:function(){var t=jr(qa)[0],e=Te().memoizedState;return[typeof t=="boolean"?t:Xi(t),e]},useSyncExternalStore:kd,useId:of,useHostTransitionStatus:Br,useFormState:Jd,useActionState:Jd,useOptimistic:function(t,e){var n=Te();return ee!==null?Hd(n,ee,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Dr,useCacheRefresh:df};gf.useEffectEvent=Wd;function Hr(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:E({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gr={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=On(),l=vl(a);l.payload=e,n!=null&&(l.callback=n),e=bl(t,l,a),e!==null&&(Mn(e,t,a),Hi(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=On(),l=vl(a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=bl(t,l,a),e!==null&&(Mn(e,t,a),Hi(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),a=vl(n);a.tag=2,e!=null&&(a.callback=e),e=bl(t,a,n),e!==null&&(Mn(e,t,n),Hi(e,t,n))}};function yf(t,e,n,a,l,s,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,s,u):e.prototype&&e.prototype.isPureReactComponent?!c(n,a)||!c(l,s):!0}function vf(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&Gr.enqueueReplaceState(e,e.state,null)}function fs(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=E({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function bf(t){Yt(t)}function Sf(t){console.error(t)}function Mf(t){Yt(t)}function tc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function xf(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Yr(t,e,n){return n=vl(n),n.tag=3,n.payload={element:null},n.callback=function(){tc(t,e)},n}function Ef(t){return t=vl(t),t.tag=3,t}function Af(t,e,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=a.value;t.payload=function(){return l(s)},t.callback=function(){xf(e,n,a)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){xf(e,n,a),typeof l!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var h=a.stack;this.componentDidCatch(a.value,{componentStack:h!==null?h:""})})}function Sp(t,e,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&Ys(e,n,l,!0),n=Nn.current,n!==null){switch(n.tag){case 31:case 13:return Vn===null?fc():n.alternate===null&&xe===0&&(xe=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===Gu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),ho(t,a,l)),!1;case 22:return n.flags|=65536,a===Gu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),ho(t,a,l)),!1}throw Error(d(435,n.tag))}return ho(t,a,l),fc(),!1}if(Lt)return e=Nn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,a!==ur&&(t=Error(d(422),{cause:a}),_i(Ln(t,n)))):(a!==ur&&(e=Error(d(423),{cause:a}),_i(Ln(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,a=Ln(a,n),l=Yr(t.stateNode,a,l),vr(t,l),xe!==4&&(xe=2)),!1;var s=Error(d(520),{cause:a});if(s=Ln(s,n),tu===null?tu=[s]:tu.push(s),xe!==4&&(xe=2),e===null)return!0;a=Ln(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=Yr(n.stateNode,a,t),vr(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Tl===null||!Tl.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Ef(l),Af(l,t,n,a),vr(n,l),!1}n=n.return}while(n!==null);return!1}var Vr=Error(d(461)),je=!1;function We(t,e,n,a){e.child=t===null?wd(e,null,n,a):os(e,t.child,n,a)}function Tf(t,e,n,a,l){n=n.render;var s=e.ref;if("ref"in a){var u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}else u=a;return is(e),a=Ar(t,e,n,u,s,l),h=Tr(),t!==null&&!je?(Cr(t,e,l),La(t,e,l)):(Lt&&h&&sr(e),e.flags|=1,We(t,e,a,l),e.child)}function Cf(t,e,n,a,l){if(t===null){var s=n.type;return typeof s=="function"&&!fl(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,wf(t,e,s,a,l)):(t=ba(n.type,null,a,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Fr(t,l)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:c,n(u,a)&&t.ref===e.ref)return La(t,e,l)}return e.flags|=1,t=jt(s,a),t.ref=e.ref,t.return=e,e.child=t}function wf(t,e,n,a,l){if(t!==null){var s=t.memoizedProps;if(c(s,a)&&t.ref===e.ref)if(je=!1,e.pendingProps=a=s,Fr(t,l))(t.flags&131072)!==0&&(je=!0);else return e.lanes=t.lanes,La(t,e,l)}return Xr(t,e,n,a,l)}function Df(t,e,n,a){var l=a.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,t!==null){for(a=e.child=t.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~s}else a=0,e.child=null;return Nf(t,e,s,n,a)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(e,s!==null?s.cachePool:null),s!==null?jd(e,s):Sr(),Rd(e);else return a=e.lanes=536870912,Nf(t,e,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(Lu(e,s.cachePool),jd(e,s),Ml(),e.memoizedState=null):(t!==null&&Lu(e,null),Sr(),Ml());return We(t,e,l,n),e.child}function Ki(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Nf(t,e,n,a,l){var s=hr();return s=s===null?null:{parent:De._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Lu(e,null),Sr(),Rd(e),t!==null&&Ys(t,e,a,!0),e.childLanes=l,null}function ec(t,e){return e=ac({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function jf(t,e,n){return os(e,t.child,null,n),t=ec(e,e.pendingProps),t.flags|=2,jn(e),e.memoizedState=null,t}function Mp(t,e,n){var a=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Lt){if(a.mode==="hidden")return t=ec(e,a),e.lanes=536870912,Ki(null,t);if(xr(e),(t=oe)?(t=Ym(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ml!==null?{id:Ma,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},n=_u(t),n.return=e,e.child=n,Ie=e,oe=null)):t=null,t===null)throw pl(e);return e.lanes=536870912,null}return ec(e,a)}var s=t.memoizedState;if(s!==null){var u=s.dehydrated;if(xr(e),l)if(e.flags&256)e.flags&=-257,e=jf(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(d(558));else if(je||Ys(t,e,n,!1),l=(n&t.childLanes)!==0,je||l){if(a=ue,a!==null&&(u=Es(a,n),u!==0&&u!==s.retryLane))throw s.retryLane=u,Dn(t,u),Mn(a,t,u),Vr;fc(),e=jf(t,e,n)}else t=s.treeContext,oe=Xn(u.nextSibling),Ie=e,Lt=!0,hl=null,Yn=!1,t!==null&&pd(e,t),e=ec(e,a),e.flags|=4096;return e}return t=jt(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function nc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Xr(t,e,n,a,l){return is(e),n=Ar(t,e,n,a,void 0,l),a=Tr(),t!==null&&!je?(Cr(t,e,l),La(t,e,l)):(Lt&&a&&sr(e),e.flags|=1,We(t,e,n,l),e.child)}function Rf(t,e,n,a,l,s){return is(e),e.updateQueue=null,n=Od(e,a,n,l),zd(t),a=Tr(),t!==null&&!je?(Cr(t,e,s),La(t,e,s)):(Lt&&a&&sr(e),e.flags|=1,We(t,e,n,s),e.child)}function zf(t,e,n,a,l){if(is(e),e.stateNode===null){var s=va,u=n.contextType;typeof u=="object"&&u!==null&&(s=Fe(u)),s=new n(a,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Gr,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=a,s.state=e.memoizedState,s.refs={},gr(e),u=n.contextType,s.context=typeof u=="object"&&u!==null?Fe(u):va,s.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(Hr(e,n,u,a),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(u=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),u!==s.state&&Gr.enqueueReplaceState(s,s.state,null),Yi(e,a,s,l),Gi(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){s=e.stateNode;var h=e.memoizedProps,x=fs(n,h);s.props=x;var O=s.context,Y=n.contextType;u=va,typeof Y=="object"&&Y!==null&&(u=Fe(Y));var Z=n.getDerivedStateFromProps;Y=typeof Z=="function"||typeof s.getSnapshotBeforeUpdate=="function",h=e.pendingProps!==h,Y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(h||O!==u)&&vf(e,s,a,u),yl=!1;var k=e.memoizedState;s.state=k,Yi(e,a,s,l),Gi(),O=e.memoizedState,h||k!==O||yl?(typeof Z=="function"&&(Hr(e,n,Z,a),O=e.memoizedState),(x=yl||yf(e,n,x,a,k,O,u))?(Y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=O),s.props=a,s.state=O,s.context=u,a=x):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{s=e.stateNode,yr(t,e),u=e.memoizedProps,Y=fs(n,u),s.props=Y,Z=e.pendingProps,k=s.context,O=n.contextType,x=va,typeof O=="object"&&O!==null&&(x=Fe(O)),h=n.getDerivedStateFromProps,(O=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==Z||k!==x)&&vf(e,s,a,x),yl=!1,k=e.memoizedState,s.state=k,Yi(e,a,s,l),Gi();var U=e.memoizedState;u!==Z||k!==U||yl||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof h=="function"&&(Hr(e,n,h,a),U=e.memoizedState),(Y=yl||yf(e,n,Y,a,k,U,x)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(O||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,U,x),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,U,x)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=U),s.props=a,s.state=U,s.context=x,a=Y):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),a=!1)}return s=a,nc(t,e),a=(e.flags&128)!==0,s||a?(s=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&a?(e.child=os(e,t.child,null,l),e.child=os(e,null,n,l)):We(t,e,n,l),e.memoizedState=s.state,t=e.child):t=La(t,e,l),t}function Of(t,e,n,a){return ls(),e.flags|=256,We(t,e,n,a),e.child}var Qr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zr(t){return{baseLanes:t,cachePool:Md()}}function Kr(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=zn),t}function kf(t,e,n){var a=e.pendingProps,l=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),u&&(l=!0,e.flags&=-129),u=(e.flags&32)!==0,e.flags&=-33,t===null){if(Lt){if(l?Sl(e):Ml(),(t=oe)?(t=Ym(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:ml!==null?{id:Ma,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},n=_u(t),n.return=e,e.child=n,Ie=e,oe=null)):t=null,t===null)throw pl(e);return jo(t)?e.lanes=32:e.lanes=536870912,null}var h=a.children;return a=a.fallback,l?(Ml(),l=e.mode,h=ac({mode:"hidden",children:h},l),a=Sa(a,l,n,null),h.return=e,a.return=e,h.sibling=a,e.child=h,a=e.child,a.memoizedState=Zr(n),a.childLanes=Kr(t,u,n),e.memoizedState=Qr,Ki(null,a)):(Sl(e),$r(e,h))}var x=t.memoizedState;if(x!==null&&(h=x.dehydrated,h!==null)){if(s)e.flags&256?(Sl(e),e.flags&=-257,e=Jr(t,e,n)):e.memoizedState!==null?(Ml(),e.child=t.child,e.flags|=128,e=null):(Ml(),h=a.fallback,l=e.mode,a=ac({mode:"visible",children:a.children},l),h=Sa(h,l,n,null),h.flags|=2,a.return=e,h.return=e,a.sibling=h,e.child=a,os(e,t.child,null,n),a=e.child,a.memoizedState=Zr(n),a.childLanes=Kr(t,u,n),e.memoizedState=Qr,e=Ki(null,a));else if(Sl(e),jo(h)){if(u=h.nextSibling&&h.nextSibling.dataset,u)var O=u.dgst;u=O,a=Error(d(419)),a.stack="",a.digest=u,_i({value:a,source:null,stack:null}),e=Jr(t,e,n)}else if(je||Ys(t,e,n,!1),u=(n&t.childLanes)!==0,je||u){if(u=ue,u!==null&&(a=Es(u,n),a!==0&&a!==x.retryLane))throw x.retryLane=a,Dn(t,a),Mn(u,t,a),Vr;No(h)||fc(),e=Jr(t,e,n)}else No(h)?(e.flags|=192,e.child=t.child,e=null):(t=x.treeContext,oe=Xn(h.nextSibling),Ie=e,Lt=!0,hl=null,Yn=!1,t!==null&&pd(e,t),e=$r(e,a.children),e.flags|=4096);return e}return l?(Ml(),h=a.fallback,l=e.mode,x=t.child,O=x.sibling,a=jt(x,{mode:"hidden",children:a.children}),a.subtreeFlags=x.subtreeFlags&65011712,O!==null?h=jt(O,h):(h=Sa(h,l,n,null),h.flags|=2),h.return=e,a.return=e,a.sibling=h,e.child=a,Ki(null,a),a=e.child,h=t.child.memoizedState,h===null?h=Zr(n):(l=h.cachePool,l!==null?(x=De._currentValue,l=l.parent!==x?{parent:x,pool:x}:l):l=Md(),h={baseLanes:h.baseLanes|n,cachePool:l}),a.memoizedState=h,a.childLanes=Kr(t,u,n),e.memoizedState=Qr,Ki(t.child,a)):(Sl(e),n=t.child,t=n.sibling,n=jt(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(u=e.deletions,u===null?(e.deletions=[t],e.flags|=16):u.push(t)),e.child=n,e.memoizedState=null,n)}function $r(t,e){return e=ac({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ac(t,e){return t=un(22,t,null,e),t.lanes=0,t}function Jr(t,e,n){return os(e,t.child,null,n),t=$r(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _f(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),or(t.return,e,n)}function Ir(t,e,n,a,l,s){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:s}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=n,u.tailMode=l,u.treeForkCount=s)}function Uf(t,e,n){var a=e.pendingProps,l=a.revealOrder,s=a.tail;a=a.children;var u=Ae.current,h=(u&2)!==0;if(h?(u=u&1|2,e.flags|=128):u&=1,tt(Ae,u),We(t,e,a,n),a=Lt?ki:0,!h&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_f(t,n,e);else if(t.tag===19)_f(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&Qu(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Ir(e,!1,l,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&Qu(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Ir(e,!0,n,null,s,a);break;case"together":Ir(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function La(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Al|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Ys(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(d(153));if(e.child!==null){for(t=e.child,n=jt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Fr(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function xp(t,e,n){switch(e.tag){case 3:Qe(e,e.stateNode.containerInfo),gl(e,De,t.memoizedState.cache),ls();break;case 27:case 5:_l(e);break;case 4:Qe(e,e.stateNode.containerInfo);break;case 10:gl(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,xr(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(Sl(e),e.flags|=128,null):(n&e.child.childLanes)!==0?kf(t,e,n):(Sl(e),t=La(t,e,n),t!==null?t.sibling:null);Sl(e);break;case 19:var l=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(Ys(t,e,n,!1),a=(n&e.childLanes)!==0),l){if(a)return Uf(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),tt(Ae,Ae.current),a)break;return null;case 22:return e.lanes=0,Df(t,e,n,e.pendingProps);case 24:gl(e,De,t.memoizedState.cache)}return La(t,e,n)}function Bf(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)je=!0;else{if(!Fr(t,n)&&(e.flags&128)===0)return je=!1,xp(t,e,n);je=(t.flags&131072)!==0}else je=!1,Lt&&(e.flags&1048576)!==0&&hd(e,ki,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=cs(e.elementType),e.type=t,typeof t=="function")fl(t)?(a=fs(t,a),e.tag=1,e=zf(null,e,t,a,n)):(e.tag=0,e=Xr(null,e,t,a,n));else{if(t!=null){var l=t.$$typeof;if(l===H){e.tag=11,e=Tf(null,e,t,a,n);break t}else if(l===J){e.tag=14,e=Cf(null,e,t,a,n);break t}}throw e=ze(t)||t,Error(d(306,e,""))}}return e;case 0:return Xr(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,l=fs(a,e.pendingProps),zf(t,e,a,l,n);case 3:t:{if(Qe(e,e.stateNode.containerInfo),t===null)throw Error(d(387));a=e.pendingProps;var s=e.memoizedState;l=s.element,yr(t,e),Yi(e,a,null,n);var u=e.memoizedState;if(a=u.cache,gl(e,De,a),a!==s.cache&&dr(e,[De],n,!0),Gi(),a=u.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:u.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Of(t,e,a,n);break t}else if(a!==l){l=Ln(Error(d(424)),e),_i(l),e=Of(t,e,a,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=Xn(t.firstChild),Ie=e,Lt=!0,hl=null,Yn=!0,n=wd(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ls(),a===l){e=La(t,e,n);break t}We(t,e,a,n)}e=e.child}return e;case 26:return nc(t,e),t===null?(n=$m(e.type,null,e.pendingProps,null))?e.memoizedState=n:Lt||(n=e.type,t=e.pendingProps,a=bc(wt.current).createElement(n),a[ce]=e,a[Oe]=t,Pe(a,n,t),Qt(a),e.stateNode=a):e.memoizedState=$m(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return _l(e),t===null&&Lt&&(a=e.stateNode=Qm(e.type,e.pendingProps,wt.current),Ie=e,Yn=!0,l=oe,Nl(e.type)?(Ro=l,oe=Xn(a.firstChild)):oe=l),We(t,e,e.pendingProps.children,n),nc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Lt&&((l=a=oe)&&(a=Wp(a,e.type,e.pendingProps,Yn),a!==null?(e.stateNode=a,Ie=e,oe=Xn(a.firstChild),Yn=!1,l=!0):l=!1),l||pl(e)),_l(e),l=e.type,s=e.pendingProps,u=t!==null?t.memoizedProps:null,a=s.children,Co(l,s)?a=null:u!==null&&Co(l,u)&&(e.flags|=32),e.memoizedState!==null&&(l=Ar(t,e,mp,null,null,n),cu._currentValue=l),nc(t,e),We(t,e,a,n),e.child;case 6:return t===null&&Lt&&((t=n=oe)&&(n=Pp(n,e.pendingProps,Yn),n!==null?(e.stateNode=n,Ie=e,oe=null,t=!0):t=!1),t||pl(e)),null;case 13:return kf(t,e,n);case 4:return Qe(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=os(e,null,a,n):We(t,e,a,n),e.child;case 11:return Tf(t,e,e.type,e.pendingProps,n);case 7:return We(t,e,e.pendingProps,n),e.child;case 8:return We(t,e,e.pendingProps.children,n),e.child;case 12:return We(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,gl(e,e.type,a.value),We(t,e,a.children,n),e.child;case 9:return l=e.type._context,a=e.pendingProps.children,is(e),l=Fe(l),a=a(l),e.flags|=1,We(t,e,a,n),e.child;case 14:return Cf(t,e,e.type,e.pendingProps,n);case 15:return wf(t,e,e.type,e.pendingProps,n);case 19:return Uf(t,e,n);case 31:return Mp(t,e,n);case 22:return Df(t,e,n,e.pendingProps);case 24:return is(e),a=Fe(De),t===null?(l=hr(),l===null&&(l=ue,s=fr(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),e.memoizedState={parent:a,cache:l},gr(e),gl(e,De,l)):((t.lanes&n)!==0&&(yr(t,e),Yi(e,null,null,n),Gi()),l=t.memoizedState,s=e.memoizedState,l.parent!==a?(l={parent:a,cache:a},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),gl(e,De,a)):(a=s.cache,gl(e,De,a),a!==l.cache&&dr(e,[De],n,!0))),We(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(d(156,e.tag))}function Ha(t){t.flags|=4}function Wr(t,e,n,a,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(om())t.flags|=8192;else throw rs=Gu,pr}else t.flags&=-16777217}function qf(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pm(e))if(om())t.flags|=8192;else throw rs=Gu,pr}function lc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?gi():536870912,t.lanes|=e,ti|=e)}function $i(t,e){if(!Lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function de(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function Ep(t,e,n){var a=e.pendingProps;switch(ir(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(e),null;case 1:return de(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Ua(De),se(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Gs(e)?Ha(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,cr())),de(e),null;case 26:var l=e.type,s=e.memoizedState;return t===null?(Ha(e),s!==null?(de(e),qf(e,s)):(de(e),Wr(e,l,null,a,n))):s?s!==t.memoizedState?(Ha(e),de(e),qf(e,s)):(de(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&Ha(e),de(e),Wr(e,l,t,a,n)),null;case 27:if(Ia(e),n=wt.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ha(e);else{if(!a){if(e.stateNode===null)throw Error(d(166));return de(e),null}t=nt.current,Gs(e)?gd(e):(t=Qm(l,a,n),e.stateNode=t,Ha(e))}return de(e),null;case 5:if(Ia(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ha(e);else{if(!a){if(e.stateNode===null)throw Error(d(166));return de(e),null}if(s=nt.current,Gs(e))gd(e);else{var u=bc(wt.current);switch(s){case 1:s=u.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=u.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=u.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?u.createElement(l,{is:a.is}):u.createElement(l)}}s[ce]=e,s[Oe]=a;t:for(u=e.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break t;for(;u.sibling===null;){if(u.return===null||u.return===e)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}e.stateNode=s;t:switch(Pe(s,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&Ha(e)}}return de(e),Wr(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Ha(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(d(166));if(t=wt.current,Gs(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,l=Ie,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}t[ce]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||km(t.nodeValue,n)),t||pl(e,!0)}else t=bc(t).createTextNode(a),t[ce]=e,e.stateNode=t}return de(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=Gs(e),n!==null){if(t===null){if(!a)throw Error(d(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(557));t[ce]=e}else ls(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;de(e),t=!1}else n=cr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(jn(e),e):(jn(e),null);if((e.flags&128)!==0)throw Error(d(558))}return de(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Gs(e),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(d(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(d(317));l[ce]=e}else ls(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;de(e),l=!1}else l=cr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(jn(e),e):(jn(e),null)}return jn(e),(e.flags&128)!==0?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),lc(e,e.updateQueue),de(e),null);case 4:return se(),t===null&&Mo(e.stateNode.containerInfo),de(e),null;case 10:return Ua(e.type),de(e),null;case 19:if(_(Ae),a=e.memoizedState,a===null)return de(e),null;if(l=(e.flags&128)!==0,s=a.rendering,s===null)if(l)$i(a,!1);else{if(xe!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=Qu(t),s!==null){for(e.flags|=128,$i(a,!1),t=s.updateQueue,e.updateQueue=t,lc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)la(n,t),n=n.sibling;return tt(Ae,Ae.current&1|2),Lt&&ka(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&en()>rc&&(e.flags|=128,l=!0,$i(a,!1),e.lanes=4194304)}else{if(!l)if(t=Qu(s),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,lc(e,t),$i(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Lt)return de(e),null}else 2*en()-a.renderingStartTime>rc&&n!==536870912&&(e.flags|=128,l=!0,$i(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(t=a.last,t!==null?t.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=en(),t.sibling=null,n=Ae.current,tt(Ae,l?n&1|2:n&1),Lt&&ka(e,a.treeForkCount),t):(de(e),null);case 22:case 23:return jn(e),Mr(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(de(e),e.subtreeFlags&6&&(e.flags|=8192)):de(e),n=e.updateQueue,n!==null&&lc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&_(us),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ua(De),de(e),null;case 25:return null;case 30:return null}throw Error(d(156,e.tag))}function Ap(t,e){switch(ir(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ua(De),se(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ia(e),null;case 31:if(e.memoizedState!==null){if(jn(e),e.alternate===null)throw Error(d(340));ls()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(jn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(d(340));ls()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _(Ae),null;case 4:return se(),null;case 10:return Ua(e.type),null;case 22:case 23:return jn(e),Mr(),t!==null&&_(us),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ua(De),null;case 25:return null;default:return null}}function Lf(t,e){switch(ir(e),e.tag){case 3:Ua(De),se();break;case 26:case 27:case 5:Ia(e);break;case 4:se();break;case 31:e.memoizedState!==null&&jn(e);break;case 13:jn(e);break;case 19:_(Ae);break;case 10:Ua(e.type);break;case 22:case 23:jn(e),Mr(),t!==null&&_(us);break;case 24:Ua(De)}}function Ji(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&t)===t){a=void 0;var s=n.create,u=n.inst;a=s(),u.destroy=a}n=n.next}while(n!==l)}}catch(h){Ft(e,e.return,h)}}function xl(t,e,n){try{var a=e.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&t)===t){var u=a.inst,h=u.destroy;if(h!==void 0){u.destroy=void 0,l=e;var x=n,O=h;try{O()}catch(Y){Ft(l,x,Y)}}}a=a.next}while(a!==s)}}catch(Y){Ft(e,e.return,Y)}}function Hf(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Nd(e,n)}catch(a){Ft(t,t.return,a)}}}function Gf(t,e,n){n.props=fs(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){Ft(t,e,a)}}function Ii(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(l){Ft(t,e,l)}}function Ea(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){Ft(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Ft(t,e,l)}else n.current=null}function Yf(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){Ft(t,t.return,l)}}function Pr(t,e,n){try{var a=t.stateNode;Zp(a,t.type,n,e),a[Oe]=e}catch(l){Ft(t,t.return,l)}}function Vf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Nl(t.type)||t.tag===4}function to(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Nl(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eo(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ea));else if(a!==4&&(a===27&&Nl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(eo(t,e,n),t=t.sibling;t!==null;)eo(t,e,n),t=t.sibling}function sc(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&Nl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(sc(t,e,n),t=t.sibling;t!==null;)sc(t,e,n),t=t.sibling}function Xf(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);Pe(e,a,n),e[ce]=t,e[Oe]=n}catch(s){Ft(t,t.return,s)}}var Ga=!1,Re=!1,no=!1,Qf=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Tp(t,e){if(t=t.containerInfo,Ao=Cc,t=q(t),X(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var u=0,h=-1,x=-1,O=0,Y=0,Z=t,k=null;e:for(;;){for(var U;Z!==n||l!==0&&Z.nodeType!==3||(h=u+l),Z!==s||a!==0&&Z.nodeType!==3||(x=u+a),Z.nodeType===3&&(u+=Z.nodeValue.length),(U=Z.firstChild)!==null;)k=Z,Z=U;for(;;){if(Z===t)break e;if(k===n&&++O===l&&(h=u),k===s&&++Y===a&&(x=u),(U=Z.nextSibling)!==null)break;Z=k,k=Z.parentNode}Z=U}n=h===-1||x===-1?null:{start:h,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(To={focusedElem:t,selectionRange:n},Cc=!1,Ve=e;Ve!==null;)if(e=Ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ve=t;else for(;Ve!==null;){switch(e=Ve,s=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)l=t[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&s!==null){t=void 0,n=e,l=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var rt=fs(n.type,l);t=a.getSnapshotBeforeUpdate(rt,s),a.__reactInternalSnapshotBeforeUpdate=t}catch(St){Ft(n,n.return,St)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Do(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Do(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(d(163))}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}}function Zf(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Va(t,n),a&4&&Ji(5,n);break;case 1:if(Va(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(u){Ft(n,n.return,u)}else{var l=fs(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(u){Ft(n,n.return,u)}}a&64&&Hf(n),a&512&&Ii(n,n.return);break;case 3:if(Va(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Nd(t,e)}catch(u){Ft(n,n.return,u)}}break;case 27:e===null&&a&4&&Xf(n);case 26:case 5:Va(t,n),e===null&&a&4&&Yf(n),a&512&&Ii(n,n.return);break;case 12:Va(t,n);break;case 31:Va(t,n),a&4&&Jf(t,n);break;case 13:Va(t,n),a&4&&If(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=kp.bind(null,n),tg(t,n))));break;case 22:if(a=n.memoizedState!==null||Ga,!a){e=e!==null&&e.memoizedState!==null||Re,l=Ga;var s=Re;Ga=a,(Re=e)&&!s?Xa(t,n,(n.subtreeFlags&8772)!==0):Va(t,n),Ga=l,Re=s}break;case 30:break;default:Va(t,n)}}function Kf(t){var e=t.alternate;e!==null&&(t.alternate=null,Kf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Cs(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ye=null,yn=!1;function Ya(t,e,n){for(n=n.child;n!==null;)$f(t,e,n),n=n.sibling}function $f(t,e,n){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(Kn,n)}catch{}switch(n.tag){case 26:Re||Ea(n,e),Ya(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Re||Ea(n,e);var a=ye,l=yn;Nl(n.type)&&(ye=n.stateNode,yn=!1),Ya(t,e,n),su(n.stateNode),ye=a,yn=l;break;case 5:Re||Ea(n,e);case 6:if(a=ye,l=yn,ye=null,Ya(t,e,n),ye=a,yn=l,ye!==null)if(yn)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(n.stateNode)}catch(s){Ft(n,e,s)}else try{ye.removeChild(n.stateNode)}catch(s){Ft(n,e,s)}break;case 18:ye!==null&&(yn?(t=ye,Hm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ci(t)):Hm(ye,n.stateNode));break;case 4:a=ye,l=yn,ye=n.stateNode.containerInfo,yn=!0,Ya(t,e,n),ye=a,yn=l;break;case 0:case 11:case 14:case 15:xl(2,n,e),Re||xl(4,n,e),Ya(t,e,n);break;case 1:Re||(Ea(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Gf(n,e,a)),Ya(t,e,n);break;case 21:Ya(t,e,n);break;case 22:Re=(a=Re)||n.memoizedState!==null,Ya(t,e,n),Re=a;break;default:Ya(t,e,n)}}function Jf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ci(t)}catch(n){Ft(e,e.return,n)}}}function If(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ci(t)}catch(n){Ft(e,e.return,n)}}function Cp(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Qf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Qf),e;default:throw Error(d(435,t.tag))}}function ic(t,e){var n=Cp(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var l=_p.bind(null,t,a);a.then(l,l)}})}function vn(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],s=t,u=e,h=u;t:for(;h!==null;){switch(h.tag){case 27:if(Nl(h.type)){ye=h.stateNode,yn=!1;break t}break;case 5:ye=h.stateNode,yn=!1;break t;case 3:case 4:ye=h.stateNode.containerInfo,yn=!0;break t}h=h.return}if(ye===null)throw Error(d(160));$f(s,u,l),ye=null,yn=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Ff(e,t),e=e.sibling}var sa=null;function Ff(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(e,t),bn(t),a&4&&(xl(3,t,t.return),Ji(3,t),xl(5,t,t.return));break;case 1:vn(e,t),bn(t),a&512&&(Re||n===null||Ea(n,n.return)),a&64&&Ga&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=sa;if(vn(e,t),bn(t),a&512&&(Re||n===null||Ea(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,l=l.ownerDocument||l;e:switch(a){case"title":s=l.getElementsByTagName("title")[0],(!s||s[Gl]||s[ce]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(a),l.head.insertBefore(s,l.querySelector("head > title"))),Pe(s,a,n),s[ce]=t,Qt(s),a=s;break t;case"link":var u=Fm("link","href",l).get(a+(n.href||""));if(u){for(var h=0;h<u.length;h++)if(s=u[h],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(h,1);break e}}s=l.createElement(a),Pe(s,a,n),l.head.appendChild(s);break;case"meta":if(u=Fm("meta","content",l).get(a+(n.content||""))){for(h=0;h<u.length;h++)if(s=u[h],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(h,1);break e}}s=l.createElement(a),Pe(s,a,n),l.head.appendChild(s);break;default:throw Error(d(468,a))}s[ce]=t,Qt(s),a=s}t.stateNode=a}else Wm(l,t.type,t.stateNode);else t.stateNode=Im(l,a,t.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Wm(l,t.type,t.stateNode):Im(l,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Pr(t,t.memoizedProps,n.memoizedProps)}break;case 27:vn(e,t),bn(t),a&512&&(Re||n===null||Ea(n,n.return)),n!==null&&a&4&&Pr(t,t.memoizedProps,n.memoizedProps);break;case 5:if(vn(e,t),bn(t),a&512&&(Re||n===null||Ea(n,n.return)),t.flags&32){l=t.stateNode;try{wn(l,"")}catch(rt){Ft(t,t.return,rt)}}a&4&&t.stateNode!=null&&(l=t.memoizedProps,Pr(t,l,n!==null?n.memoizedProps:l)),a&1024&&(no=!0);break;case 6:if(vn(e,t),bn(t),a&4){if(t.stateNode===null)throw Error(d(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(rt){Ft(t,t.return,rt)}}break;case 3:if(xc=null,l=sa,sa=Sc(e.containerInfo),vn(e,t),sa=l,bn(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{ci(e.containerInfo)}catch(rt){Ft(t,t.return,rt)}no&&(no=!1,Wf(t));break;case 4:a=sa,sa=Sc(t.stateNode.containerInfo),vn(e,t),bn(t),sa=a;break;case 12:vn(e,t),bn(t);break;case 31:vn(e,t),bn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ic(t,a)));break;case 13:vn(e,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(cc=en()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ic(t,a)));break;case 22:l=t.memoizedState!==null;var x=n!==null&&n.memoizedState!==null,O=Ga,Y=Re;if(Ga=O||l,Re=Y||x,vn(e,t),Re=Y,Ga=O,bn(t),a&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||x||Ga||Re||ms(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){x=n=e;try{if(s=x.stateNode,l)u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{h=x.stateNode;var Z=x.memoizedProps.style,k=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;h.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(rt){Ft(x,x.return,rt)}}}else if(e.tag===6){if(n===null){x=e;try{x.stateNode.nodeValue=l?"":x.memoizedProps}catch(rt){Ft(x,x.return,rt)}}}else if(e.tag===18){if(n===null){x=e;try{var U=x.stateNode;l?Gm(U,!0):Gm(x.stateNode,!1)}catch(rt){Ft(x,x.return,rt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,ic(t,n))));break;case 19:vn(e,t),bn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,ic(t,a)));break;case 30:break;case 21:break;default:vn(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(Vf(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var l=n.stateNode,s=to(t);sc(t,s,l);break;case 5:var u=n.stateNode;n.flags&32&&(wn(u,""),n.flags&=-33);var h=to(t);sc(t,h,u);break;case 3:case 4:var x=n.stateNode.containerInfo,O=to(t);eo(t,O,x);break;default:throw Error(d(161))}}catch(Y){Ft(t,t.return,Y)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wf(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Wf(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Va(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Zf(t,e.alternate,e),e=e.sibling}function ms(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:xl(4,e,e.return),ms(e);break;case 1:Ea(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Gf(e,e.return,n),ms(e);break;case 27:su(e.stateNode);case 26:case 5:Ea(e,e.return),ms(e);break;case 22:e.memoizedState===null&&ms(e);break;case 30:ms(e);break;default:ms(e)}t=t.sibling}}function Xa(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,l=t,s=e,u=s.flags;switch(s.tag){case 0:case 11:case 15:Xa(l,s,n),Ji(4,s);break;case 1:if(Xa(l,s,n),a=s,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(O){Ft(a,a.return,O)}if(a=s,l=a.updateQueue,l!==null){var h=a.stateNode;try{var x=l.shared.hiddenCallbacks;if(x!==null)for(l.shared.hiddenCallbacks=null,l=0;l<x.length;l++)Dd(x[l],h)}catch(O){Ft(a,a.return,O)}}n&&u&64&&Hf(s),Ii(s,s.return);break;case 27:Xf(s);case 26:case 5:Xa(l,s,n),n&&a===null&&u&4&&Yf(s),Ii(s,s.return);break;case 12:Xa(l,s,n);break;case 31:Xa(l,s,n),n&&u&4&&Jf(l,s);break;case 13:Xa(l,s,n),n&&u&4&&If(l,s);break;case 22:s.memoizedState===null&&Xa(l,s,n),Ii(s,s.return);break;case 30:break;default:Xa(l,s,n)}e=e.sibling}}function ao(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ui(n))}function lo(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ui(t))}function ia(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pf(t,e,n,a),e=e.sibling}function Pf(t,e,n,a){var l=e.flags;switch(e.tag){case 0:case 11:case 15:ia(t,e,n,a),l&2048&&Ji(9,e);break;case 1:ia(t,e,n,a);break;case 3:ia(t,e,n,a),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ui(t)));break;case 12:if(l&2048){ia(t,e,n,a),t=e.stateNode;try{var s=e.memoizedProps,u=s.id,h=s.onPostCommit;typeof h=="function"&&h(u,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Ft(e,e.return,x)}}else ia(t,e,n,a);break;case 31:ia(t,e,n,a);break;case 13:ia(t,e,n,a);break;case 23:break;case 22:s=e.stateNode,u=e.alternate,e.memoizedState!==null?s._visibility&2?ia(t,e,n,a):Fi(t,e):s._visibility&2?ia(t,e,n,a):(s._visibility|=2,Fs(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),l&2048&&ao(u,e);break;case 24:ia(t,e,n,a),l&2048&&lo(e.alternate,e);break;default:ia(t,e,n,a)}}function Fs(t,e,n,a,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,u=e,h=n,x=a,O=u.flags;switch(u.tag){case 0:case 11:case 15:Fs(s,u,h,x,l),Ji(8,u);break;case 23:break;case 22:var Y=u.stateNode;u.memoizedState!==null?Y._visibility&2?Fs(s,u,h,x,l):Fi(s,u):(Y._visibility|=2,Fs(s,u,h,x,l)),l&&O&2048&&ao(u.alternate,u);break;case 24:Fs(s,u,h,x,l),l&&O&2048&&lo(u.alternate,u);break;default:Fs(s,u,h,x,l)}e=e.sibling}}function Fi(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,l=a.flags;switch(a.tag){case 22:Fi(n,a),l&2048&&ao(a.alternate,a);break;case 24:Fi(n,a),l&2048&&lo(a.alternate,a);break;default:Fi(n,a)}e=e.sibling}}var Wi=8192;function Ws(t,e,n){if(t.subtreeFlags&Wi)for(t=t.child;t!==null;)tm(t,e,n),t=t.sibling}function tm(t,e,n){switch(t.tag){case 26:Ws(t,e,n),t.flags&Wi&&t.memoizedState!==null&&fg(n,sa,t.memoizedState,t.memoizedProps);break;case 5:Ws(t,e,n);break;case 3:case 4:var a=sa;sa=Sc(t.stateNode.containerInfo),Ws(t,e,n),sa=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Wi,Wi=16777216,Ws(t,e,n),Wi=a):Ws(t,e,n));break;default:Ws(t,e,n)}}function em(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Pi(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Ve=a,am(a,t)}em(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nm(t),t=t.sibling}function nm(t){switch(t.tag){case 0:case 11:case 15:Pi(t),t.flags&2048&&xl(9,t,t.return);break;case 3:Pi(t);break;case 12:Pi(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,uc(t)):Pi(t);break;default:Pi(t)}}function uc(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Ve=a,am(a,t)}em(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:xl(8,e,e.return),uc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,uc(e));break;default:uc(e)}t=t.sibling}}function am(t,e){for(;Ve!==null;){var n=Ve;switch(n.tag){case 0:case 11:case 15:xl(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Ui(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ve=a;else t:for(n=t;Ve!==null;){a=Ve;var l=a.sibling,s=a.return;if(Kf(a),a===n){Ve=null;break t}if(l!==null){l.return=s,Ve=l;break t}Ve=s}}}var wp={getCacheForType:function(t){var e=Fe(De),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Fe(De).controller.signal}},Dp=typeof WeakMap=="function"?WeakMap:Map,$t=0,ue=null,Ot=null,_t=0,It=0,Rn=null,El=!1,Ps=!1,so=!1,Qa=0,xe=0,Al=0,hs=0,io=0,zn=0,ti=0,tu=null,Sn=null,uo=!1,cc=0,lm=0,rc=1/0,oc=null,Tl=null,Be=0,Cl=null,ei=null,Za=0,co=0,ro=null,sm=null,eu=0,oo=null;function On(){return($t&2)!==0&&_t!==0?_t&-_t:A.T!==null?yo():el()}function im(){if(zn===0)if((_t&536870912)===0||Lt){var t=ca;ca<<=1,(ca&3932160)===0&&(ca=262144),zn=t}else zn=536870912;return t=Nn.current,t!==null&&(t.flags|=32),zn}function Mn(t,e,n){(t===ue&&(It===2||It===9)||t.cancelPendingCommit!==null)&&(ni(t,0),wl(t,_t,zn,!1)),Jn(t,n),(($t&2)===0||t!==ue)&&(t===ue&&(($t&2)===0&&(hs|=n),xe===4&&wl(t,_t,zn,!1)),Aa(t))}function um(t,e,n){if(($t&6)!==0)throw Error(d(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Na(t,e),l=a?Rp(t,e):mo(t,e,!0),s=a;do{if(l===0){Ps&&!a&&wl(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!Np(n)){l=mo(t,e,!1),s=!1;continue}if(l===2){if(s=e,t.errorRecoveryDisabledLanes&s)var u=0;else u=t.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){e=u;t:{var h=t;l=tu;var x=h.current.memoizedState.isDehydrated;if(x&&(ni(h,u).flags|=256),u=mo(h,u,!1),u!==2){if(so&&!x){h.errorRecoveryDisabledLanes|=s,hs|=s,l=4;break t}s=Sn,Sn=l,s!==null&&(Sn===null?Sn=s:Sn.push.apply(Sn,s))}l=u}if(s=!1,l!==2)continue}}if(l===1){ni(t,0),wl(t,e,0,!0);break}t:{switch(a=t,s=l,s){case 0:case 1:throw Error(d(345));case 4:if((e&4194048)!==e)break;case 6:wl(a,e,zn,!El);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(d(329))}if((e&62914560)===e&&(l=cc+300-en(),10<l)){if(wl(a,e,zn,!El),Ee(a,0,!0)!==0)break t;Za=e,a.timeoutHandle=qm(cm.bind(null,a,n,Sn,oc,uo,e,zn,hs,ti,El,s,"Throttled",-0,0),l);break t}cm(a,n,Sn,oc,uo,e,zn,hs,ti,El,s,null,-0,0)}}break}while(!0);Aa(t)}function cm(t,e,n,a,l,s,u,h,x,O,Y,Z,k,U){if(t.timeoutHandle=-1,Z=e.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},tm(e,s,Z);var rt=(s&62914560)===s?cc-en():(s&4194048)===s?lm-en():0;if(rt=mg(Z,rt),rt!==null){Za=s,t.cancelPendingCommit=rt(gm.bind(null,t,e,s,n,a,l,u,h,x,Y,Z,null,k,U)),wl(t,s,u,!O);return}}gm(t,e,s,n,a,l,u,h,x)}function Np(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],s=l.getSnapshot;l=l.value;try{if(!i(s(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wl(t,e,n,a){e&=~io,e&=~hs,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var l=e;0<l;){var s=31-qe(l),u=1<<s;a[s]=-1,l&=~u}n!==0&&Fn(t,n,e)}function dc(){return($t&6)===0?(nu(0),!1):!0}function fo(){if(Ot!==null){if(It===0)var t=Ot.return;else t=Ot,_a=ss=null,wr(t),Zs=null,qi=0,t=Ot;for(;t!==null;)Lf(t.alternate,t),t=t.return;Ot=null}}function ni(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Jp(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Za=0,fo(),ue=t,Ot=n=jt(t.current,null),_t=e,It=0,Rn=null,El=!1,Ps=Na(t,e),so=!1,ti=zn=io=hs=Al=xe=0,Sn=tu=null,uo=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var l=31-qe(a),s=1<<l;e|=t[l],a&=~s}return Qa=e,Jt(),n}function rm(t,e){Ct=null,A.H=Zi,e===Qs||e===Hu?(e=Ad(),It=3):e===pr?(e=Ad(),It=4):It=e===Vr?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Rn=e,Ot===null&&(xe=1,tc(t,Ln(e,t.current)))}function om(){var t=Nn.current;return t===null?!0:(_t&4194048)===_t?Vn===null:(_t&62914560)===_t||(_t&536870912)!==0?t===Vn:!1}function dm(){var t=A.H;return A.H=Zi,t===null?Zi:t}function fm(){var t=A.A;return A.A=wp,t}function fc(){xe=4,El||(_t&4194048)!==_t&&Nn.current!==null||(Ps=!0),(Al&134217727)===0&&(hs&134217727)===0||ue===null||wl(ue,_t,zn,!1)}function mo(t,e,n){var a=$t;$t|=2;var l=dm(),s=fm();(ue!==t||_t!==e)&&(oc=null,ni(t,e)),e=!1;var u=xe;t:do try{if(It!==0&&Ot!==null){var h=Ot,x=Rn;switch(It){case 8:fo(),u=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(e=!0);var O=It;if(It=0,Rn=null,ai(t,h,x,O),n&&Ps){u=0;break t}break;default:O=It,It=0,Rn=null,ai(t,h,x,O)}}jp(),u=xe;break}catch(Y){rm(t,Y)}while(!0);return e&&t.shellSuspendCounter++,_a=ss=null,$t=a,A.H=l,A.A=s,Ot===null&&(ue=null,_t=0,Jt()),u}function jp(){for(;Ot!==null;)mm(Ot)}function Rp(t,e){var n=$t;$t|=2;var a=dm(),l=fm();ue!==t||_t!==e?(oc=null,rc=en()+500,ni(t,e)):Ps=Na(t,e);t:do try{if(It!==0&&Ot!==null){e=Ot;var s=Rn;e:switch(It){case 1:It=0,Rn=null,ai(t,e,s,1);break;case 2:case 9:if(xd(s)){It=0,Rn=null,hm(e);break}e=function(){It!==2&&It!==9||ue!==t||(It=7),Aa(t)},s.then(e,e);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:xd(s)?(It=0,Rn=null,hm(e)):(It=0,Rn=null,ai(t,e,s,7));break;case 5:var u=null;switch(Ot.tag){case 26:u=Ot.memoizedState;case 5:case 27:var h=Ot;if(u?Pm(u):h.stateNode.complete){It=0,Rn=null;var x=h.sibling;if(x!==null)Ot=x;else{var O=h.return;O!==null?(Ot=O,mc(O)):Ot=null}break e}}It=0,Rn=null,ai(t,e,s,5);break;case 6:It=0,Rn=null,ai(t,e,s,6);break;case 8:fo(),xe=6;break t;default:throw Error(d(462))}}zp();break}catch(Y){rm(t,Y)}while(!0);return _a=ss=null,A.H=a,A.A=l,$t=n,Ot!==null?0:(ue=null,_t=0,Jt(),xe)}function zp(){for(;Ot!==null&&!Zn();)mm(Ot)}function mm(t){var e=Bf(t.alternate,t,Qa);t.memoizedProps=t.pendingProps,e===null?mc(t):Ot=e}function hm(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Rf(n,e,e.pendingProps,e.type,void 0,_t);break;case 11:e=Rf(n,e,e.pendingProps,e.type.render,e.ref,_t);break;case 5:wr(e);default:Lf(n,e),e=Ot=la(e,Qa),e=Bf(n,e,Qa)}t.memoizedProps=t.pendingProps,e===null?mc(t):Ot=e}function ai(t,e,n,a){_a=ss=null,wr(e),Zs=null,qi=0;var l=e.return;try{if(Sp(t,l,e,n,_t)){xe=1,tc(t,Ln(n,t.current)),Ot=null;return}}catch(s){if(l!==null)throw Ot=l,s;xe=1,tc(t,Ln(n,t.current)),Ot=null;return}e.flags&32768?(Lt||a===1?t=!0:Ps||(_t&536870912)!==0?t=!1:(El=t=!0,(a===2||a===9||a===3||a===6)&&(a=Nn.current,a!==null&&a.tag===13&&(a.flags|=16384))),pm(e,t)):mc(e)}function mc(t){var e=t;do{if((e.flags&32768)!==0){pm(e,El);return}t=e.return;var n=Ep(e.alternate,e,Qa);if(n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);xe===0&&(xe=5)}function pm(t,e){do{var n=Ap(t.alternate,t);if(n!==null){n.flags&=32767,Ot=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=n}while(t!==null);xe=6,Ot=null}function gm(t,e,n,a,l,s,u,h,x){t.cancelPendingCommit=null;do hc();while(Be!==0);if(($t&6)!==0)throw Error(d(327));if(e!==null){if(e===t.current)throw Error(d(177));if(s=e.lanes|e.childLanes,s|=At,In(t,n,s,u,h,x),t===ue&&(Ot=ue=null,_t=0),ei=e,Cl=t,Za=n,co=s,ro=l,sm=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Up(mn,function(){return Mm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=A.T,A.T=null,l=V.p,V.p=2,u=$t,$t|=4;try{Tp(t,e,n)}finally{$t=u,V.p=l,A.T=a}}Be=1,ym(),vm(),bm()}}function ym(){if(Be===1){Be=0;var t=Cl,e=ei,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=A.T,A.T=null;var a=V.p;V.p=2;var l=$t;$t|=4;try{Ff(e,t);var s=To,u=q(t.containerInfo),h=s.focusedElem,x=s.selectionRange;if(u!==h&&h&&h.ownerDocument&&j(h.ownerDocument.documentElement,h)){if(x!==null&&X(h)){var O=x.start,Y=x.end;if(Y===void 0&&(Y=O),"selectionStart"in h)h.selectionStart=O,h.selectionEnd=Math.min(Y,h.value.length);else{var Z=h.ownerDocument||document,k=Z&&Z.defaultView||window;if(k.getSelection){var U=k.getSelection(),rt=h.textContent.length,St=Math.min(x.start,rt),ae=x.end===void 0?St:Math.min(x.end,rt);!U.extend&&St>ae&&(u=ae,ae=St,St=u);var R=C(h,St),w=C(h,ae);if(R&&w&&(U.rangeCount!==1||U.anchorNode!==R.node||U.anchorOffset!==R.offset||U.focusNode!==w.node||U.focusOffset!==w.offset)){var z=Z.createRange();z.setStart(R.node,R.offset),U.removeAllRanges(),St>ae?(U.addRange(z),U.extend(w.node,w.offset)):(z.setEnd(w.node,w.offset),U.addRange(z))}}}}for(Z=[],U=h;U=U.parentNode;)U.nodeType===1&&Z.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<Z.length;h++){var Q=Z[h];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Cc=!!Ao,To=Ao=null}finally{$t=l,V.p=a,A.T=n}}t.current=e,Be=2}}function vm(){if(Be===2){Be=0;var t=Cl,e=ei,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=A.T,A.T=null;var a=V.p;V.p=2;var l=$t;$t|=4;try{Zf(t,e.alternate,e)}finally{$t=l,V.p=a,A.T=n}}Be=3}}function bm(){if(Be===4||Be===3){Be=0,mi();var t=Cl,e=ei,n=Za,a=sm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Be=5:(Be=0,ei=Cl=null,Sm(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(Tl=null),tl(n),e=e.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(Kn,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=A.T,l=V.p,V.p=2,A.T=null;try{for(var s=t.onRecoverableError,u=0;u<a.length;u++){var h=a[u];s(h.value,{componentStack:h.stack})}}finally{A.T=e,V.p=l}}(Za&3)!==0&&hc(),Aa(t),l=t.pendingLanes,(n&261930)!==0&&(l&42)!==0?t===oo?eu++:(eu=0,oo=t):eu=0,nu(0)}}function Sm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ui(e)))}function hc(){return ym(),vm(),bm(),Mm()}function Mm(){if(Be!==5)return!1;var t=Cl,e=co;co=0;var n=tl(Za),a=A.T,l=V.p;try{V.p=32>n?32:n,A.T=null,n=ro,ro=null;var s=Cl,u=Za;if(Be=0,ei=Cl=null,Za=0,($t&6)!==0)throw Error(d(331));var h=$t;if($t|=4,nm(s.current),Pf(s,s.current,u,n),$t=h,nu(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(Kn,s)}catch{}return!0}finally{V.p=l,A.T=a,Sm(t,e)}}function xm(t,e,n){e=Ln(n,e),e=Yr(t.stateNode,e,2),t=bl(t,e,2),t!==null&&(Jn(t,2),Aa(t))}function Ft(t,e,n){if(t.tag===3)xm(t,t,n);else for(;e!==null;){if(e.tag===3){xm(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Tl===null||!Tl.has(a))){t=Ln(n,t),n=Ef(2),a=bl(e,n,2),a!==null&&(Af(n,a,e,t),Jn(a,2),Aa(a));break}}e=e.return}}function ho(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new Dp;var l=new Set;a.set(e,l)}else l=a.get(e),l===void 0&&(l=new Set,a.set(e,l));l.has(n)||(so=!0,l.add(n),t=Op.bind(null,t,e,n),e.then(t,t))}function Op(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ue===t&&(_t&n)===n&&(xe===4||xe===3&&(_t&62914560)===_t&&300>en()-cc?($t&2)===0&&ni(t,0):io|=n,ti===_t&&(ti=0)),Aa(t)}function Em(t,e){e===0&&(e=gi()),t=Dn(t,e),t!==null&&(Jn(t,e),Aa(t))}function kp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Em(t,n)}function _p(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(e),Em(t,n)}function Up(t,e){return En(t,e)}var pc=null,li=null,po=!1,gc=!1,go=!1,Dl=0;function Aa(t){t!==li&&t.next===null&&(li===null?pc=li=t:li=li.next=t),gc=!0,po||(po=!0,qp())}function nu(t,e){if(!go&&gc){go=!0;do for(var n=!1,a=pc;a!==null;){if(t!==0){var l=a.pendingLanes;if(l===0)var s=0;else{var u=a.suspendedLanes,h=a.pingedLanes;s=(1<<31-qe(42|t)+1)-1,s&=l&~(u&~h),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,wm(a,s))}else s=_t,s=Ee(a,a===ue?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||Na(a,s)||(n=!0,wm(a,s));a=a.next}while(n);go=!1}}function Bp(){Am()}function Am(){gc=po=!1;var t=0;Dl!==0&&$p()&&(t=Dl);for(var e=en(),n=null,a=pc;a!==null;){var l=a.next,s=Tm(a,e);s===0?(a.next=null,n===null?pc=l:n.next=l,l===null&&(li=n)):(n=a,(t!==0||(s&3)!==0)&&(gc=!0)),a=l}Be!==0&&Be!==5||nu(t),Dl!==0&&(Dl=0)}function Tm(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,l=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var u=31-qe(s),h=1<<u,x=l[u];x===-1?((h&n)===0||(h&a)!==0)&&(l[u]=bu(h,e)):x<=e&&(t.expiredLanes|=h),s&=~h}if(e=ue,n=_t,n=Ee(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(It===2||It===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Wa(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Na(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&Wa(a),tl(n)){case 2:case 8:n=Ul;break;case 32:n=mn;break;case 268435456:n=Bl;break;default:n=mn}return a=Cm.bind(null,t),n=En(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&Wa(a),t.callbackPriority=2,t.callbackNode=null,2}function Cm(t,e){if(Be!==0&&Be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(hc()&&t.callbackNode!==n)return null;var a=_t;return a=Ee(t,t===ue?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(um(t,a,e),Tm(t,en()),t.callbackNode!=null&&t.callbackNode===n?Cm.bind(null,t):null)}function wm(t,e){if(hc())return null;um(t,e,!0)}function qp(){Ip(function(){($t&6)!==0?En(kn,Bp):Am()})}function yo(){if(Dl===0){var t=Vs;t===0&&(t=ql,ql<<=1,(ql&261888)===0&&(ql=256)),Dl=t}return Dl}function Dm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ns(""+t)}function Nm(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Lp(t,e,n,a,l){if(e==="submit"&&n&&n.stateNode===l){var s=Dm((l[Oe]||null).action),u=a.submitter;u&&(e=(e=u[Oe]||null)?Dm(e.formAction):u.getAttribute("formAction"),e!==null&&(s=e,u=null));var h=new il("action","action",null,a,l);t.push({event:h,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Dl!==0){var x=u?Nm(l,u):new FormData(l);Ur(n,{pending:!0,data:x,method:l.method,action:s},null,x)}}else typeof s=="function"&&(h.preventDefault(),x=u?Nm(l,u):new FormData(l),Ur(n,{pending:!0,data:x,method:l.method,action:s},s,x))},currentTarget:l}]})}}for(var vo=0;vo<Mt.length;vo++){var bo=Mt[vo],Hp=bo.toLowerCase(),Gp=bo[0].toUpperCase()+bo.slice(1);ie(Hp,"on"+Gp)}ie(ns,"onAnimationEnd"),ie(zi,"onAnimationIteration"),ie(it,"onAnimationStart"),ie("dblclick","onDoubleClick"),ie("focusin","onFocus"),ie("focusout","onBlur"),ie(pe,"onTransitionRun"),ie(be,"onTransitionStart"),ie(qt,"onTransitionCancel"),ie(ge,"onTransitionEnd"),Un("onMouseEnter",["mouseout","mouseover"]),Un("onMouseLeave",["mouseout","mouseover"]),Un("onPointerEnter",["pointerout","pointerover"]),Un("onPointerLeave",["pointerout","pointerover"]),ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(au));function jm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],l=a.event;a=a.listeners;t:{var s=void 0;if(e)for(var u=a.length-1;0<=u;u--){var h=a[u],x=h.instance,O=h.currentTarget;if(h=h.listener,x!==s&&l.isPropagationStopped())break t;s=h,l.currentTarget=O;try{s(l)}catch(Y){Yt(Y)}l.currentTarget=null,s=x}else for(u=0;u<a.length;u++){if(h=a[u],x=h.instance,O=h.currentTarget,h=h.listener,x!==s&&l.isPropagationStopped())break t;s=h,l.currentTarget=O;try{s(l)}catch(Y){Yt(Y)}l.currentTarget=null,s=x}}}}function kt(t,e){var n=e[Hl];n===void 0&&(n=e[Hl]=new Set);var a=t+"__bubble";n.has(a)||(Rm(e,t,2,!1),n.add(a))}function So(t,e,n){var a=0;e&&(a|=4),Rm(n,t,a,e)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Mo(t){if(!t[yc]){t[yc]=!0,vi.forEach(function(n){n!=="selectionchange"&&(Yp.has(n)||So(n,!1,t),So(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yc]||(e[yc]=!0,So("selectionchange",!1,e))}}function Rm(t,e,n,a){switch(ih(e)){case 2:var l=gg;break;case 8:l=yg;break;default:l=Uo}n=l.bind(null,e,n,t),l=void 0,!ha||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),a?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function xo(t,e,n,a,l){var s=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var h=a.stateNode.containerInfo;if(h===l)break;if(u===4)for(u=a.return;u!==null;){var x=u.tag;if((x===3||x===4)&&u.stateNode.containerInfo===l)return;u=u.return}for(;h!==null;){if(u=fe(h),u===null)return;if(x=u.tag,x===5||x===6||x===26||x===27){a=s=u;continue t}h=h.parentNode}}a=a.return}$l(function(){var O=s,Y=Ai(n),Z=[];t:{var k=pt.get(t);if(k!==void 0){var U=il,rt=t;switch(t){case"keypress":if(Jl(n)===0)break t;case"keydown":case"keyup":U=Zc;break;case"focusin":rt="focus",U=Rs;break;case"focusout":rt="blur",U=Rs;break;case"beforeblur":case"afterblur":U=Rs;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Wl;break;case ns:case zi:case it:U=Gc;break;case ge:U=$c;break;case"scroll":case"scrollend":U=js;break;case"wheel":U=Jc;break;case"copy":case"cut":case"paste":U=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Ue;break;case"toggle":case"beforetoggle":U=Fc}var St=(e&4)!==0,ae=!St&&(t==="scroll"||t==="scrollend"),R=St?k!==null?k+"Capture":null:k;St=[];for(var w=O,z;w!==null;){var Q=w;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||R===null||(Q=sl(w,R),Q!=null&&St.push(lu(w,Q,z))),ae)break;w=w.return}0<St.length&&(k=new U(k,rt,null,n,Y),Z.push({event:k,listeners:St}))}}if((e&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",k&&n!==Ei&&(rt=n.relatedTarget||n.fromElement)&&(fe(rt)||rt[nn]))break t;if((U||k)&&(k=Y.window===Y?Y:(k=Y.ownerDocument)?k.defaultView||k.parentWindow:window,U?(rt=n.relatedTarget||n.toElement,U=O,rt=rt?fe(rt):null,rt!==null&&(ae=M(rt),St=rt.tag,rt!==ae||St!==5&&St!==27&&St!==6)&&(rt=null)):(U=null,rt=O),U!==rt)){if(St=Il,Q="onMouseLeave",R="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(St=Ue,Q="onPointerLeave",R="onPointerEnter",w="pointer"),ae=U==null?k:oa(U),z=rt==null?k:oa(rt),k=new St(Q,w+"leave",U,n,Y),k.target=ae,k.relatedTarget=z,Q=null,fe(Y)===O&&(St=new St(R,w+"enter",rt,n,Y),St.target=z,St.relatedTarget=ae,Q=St),ae=Q,U&&rt)e:{for(St=Vp,R=U,w=rt,z=0,Q=R;Q;Q=St(Q))z++;Q=0;for(var ht=w;ht;ht=St(ht))Q++;for(;0<z-Q;)R=St(R),z--;for(;0<Q-z;)w=St(w),Q--;for(;z--;){if(R===w||w!==null&&R===w.alternate){St=R;break e}R=St(R),w=St(w)}St=null}else St=null;U!==null&&zm(Z,k,U,St,!1),rt!==null&&ae!==null&&zm(Z,ae,rt,St,!0)}}t:{if(k=O?oa(O):window,U=k.nodeName&&k.nodeName.toLowerCase(),U==="select"||U==="input"&&k.type==="file")var Vt=Ru;else if(Nu(k))if(ji)Vt=Ou;else{Vt=er;var ft=zu}else U=k.nodeName,!U||U.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?O&&Ye(O.elementType)&&(Vt=Ru):Vt=nr;if(Vt&&(Vt=Vt(t,O))){ju(Z,Vt,n,Y);break t}ft&&ft(t,k,O),t==="focusout"&&O&&k.type==="number"&&O.memoizedProps.value!=null&&Kl(k,"number",k.value)}switch(ft=O?oa(O):window,t){case"focusin":(Nu(ft)||ft.contentEditable==="true")&&(G=ft,at=O,lt=null);break;case"focusout":lt=at=G=null;break;case"mousedown":yt=!0;break;case"contextmenu":case"mouseup":case"dragend":yt=!1,Nt(Z,n,Y);break;case"selectionchange":if(K)break;case"keydown":case"keyup":Nt(Z,n,Y)}var Dt;if(Os)t:{switch(t){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ga?Cu(t,n)&&(Ut="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Ut="onCompositionStart");Ut&&(Di&&n.locale!=="ko"&&(ga||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ga&&(Dt=Ti()):(he=Y,_e="value"in he?he.value:he.textContent,ga=!0)),ft=vc(O,Ut),0<ft.length&&(Ut=new Eu(Ut,t,null,n,Y),Z.push({event:Ut,listeners:ft}),Dt?Ut.data=Dt:(Dt=wu(n),Dt!==null&&(Ut.data=Dt)))),(Dt=Pc?dl(t,n):Ni(t,n))&&(Ut=vc(O,"onBeforeInput"),0<Ut.length&&(ft=new Eu("onBeforeInput","beforeinput",null,n,Y),Z.push({event:ft,listeners:Ut}),ft.data=Dt)),Lp(Z,t,O,n,Y)}jm(Z,e)})}function lu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vc(t,e){for(var n=e+"Capture",a=[];t!==null;){var l=t,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=sl(t,n),l!=null&&a.unshift(lu(t,l,s)),l=sl(t,e),l!=null&&a.push(lu(t,l,s))),t.tag===3)return a;t=t.return}return[]}function Vp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zm(t,e,n,a,l){for(var s=e._reactName,u=[];n!==null&&n!==a;){var h=n,x=h.alternate,O=h.stateNode;if(h=h.tag,x!==null&&x===a)break;h!==5&&h!==26&&h!==27||O===null||(x=O,l?(O=sl(n,s),O!=null&&u.unshift(lu(n,O,x))):l||(O=sl(n,s),O!=null&&u.push(lu(n,O,x)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Xp=/\r\n?/g,Qp=/\u0000|\uFFFD/g;function Om(t){return(typeof t=="string"?t:""+t).replace(Xp,`
`).replace(Qp,"")}function km(t,e){return e=Om(e),Om(t)===e}function ne(t,e,n,a,l,s){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||wn(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&wn(t,""+a);break;case"className":Yl(t,"class",a);break;case"tabIndex":Yl(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Yl(t,n,a);break;case"style":ta(t,a,s);break;case"data":if(e!=="object"){Yl(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=Ns(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ne(t,e,"name",l.name,l,null),ne(t,e,"formEncType",l.formEncType,l,null),ne(t,e,"formMethod",l.formMethod,l,null),ne(t,e,"formTarget",l.formTarget,l,null)):(ne(t,e,"encType",l.encType,l,null),ne(t,e,"method",l.method,l,null),ne(t,e,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=Ns(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=ea);break;case"onScroll":a!=null&&kt("scroll",t);break;case"onScrollEnd":a!=null&&kt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(d(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=Ns(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":kt("beforetoggle",t),kt("toggle",t),da(t,"popover",a);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":da(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Bt.get(n)||n,da(t,n,a))}}function Eo(t,e,n,a,l,s){switch(n){case"style":ta(t,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(d(60));t.innerHTML=n}}break;case"children":typeof a=="string"?wn(t,a):(typeof a=="number"||typeof a=="bigint")&&wn(t,""+a);break;case"onScroll":a!=null&&kt("scroll",t);break;case"onScrollEnd":a!=null&&kt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ws.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),s=t[Oe]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,l),typeof a=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,l);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):da(t,n,a)}}}function Pe(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",t),kt("load",t);var a=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,e));default:ne(t,e,s,u,n,null)}}l&&ne(t,e,"srcSet",n.srcSet,n,null),a&&ne(t,e,"src",n.src,n,null);return;case"input":kt("invalid",t);var h=s=u=l=null,x=null,O=null;for(a in n)if(n.hasOwnProperty(a)){var Y=n[a];if(Y!=null)switch(a){case"name":l=Y;break;case"type":u=Y;break;case"checked":x=Y;break;case"defaultChecked":O=Y;break;case"value":s=Y;break;case"defaultValue":h=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(d(137,e));break;default:ne(t,e,a,Y,n,null)}}Mi(t,s,h,x,O,u,l,!1);return;case"select":kt("invalid",t),a=u=s=null;for(l in n)if(n.hasOwnProperty(l)&&(h=n[l],h!=null))switch(l){case"value":s=h;break;case"defaultValue":u=h;break;case"multiple":a=h;default:ne(t,e,l,h,n,null)}e=s,n=u,t.multiple=!!a,e!=null?Pn(t,!!a,e,!1):n!=null&&Pn(t,!!a,n,!0);return;case"textarea":kt("invalid",t),s=l=a=null;for(u in n)if(n.hasOwnProperty(u)&&(h=n[u],h!=null))switch(u){case"value":a=h;break;case"defaultValue":l=h;break;case"children":s=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(d(91));break;default:ne(t,e,u,h,n,null)}Ge(t,a,l,s);return;case"option":for(x in n)if(n.hasOwnProperty(x)&&(a=n[x],a!=null))switch(x){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ne(t,e,x,a,n,null)}return;case"dialog":kt("beforetoggle",t),kt("toggle",t),kt("cancel",t),kt("close",t);break;case"iframe":case"object":kt("load",t);break;case"video":case"audio":for(a=0;a<au.length;a++)kt(au[a],t);break;case"image":kt("error",t),kt("load",t);break;case"details":kt("toggle",t);break;case"embed":case"source":case"link":kt("error",t),kt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in n)if(n.hasOwnProperty(O)&&(a=n[O],a!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,e));default:ne(t,e,O,a,n,null)}return;default:if(Ye(e)){for(Y in n)n.hasOwnProperty(Y)&&(a=n[Y],a!==void 0&&Eo(t,e,Y,a,n,void 0));return}}for(h in n)n.hasOwnProperty(h)&&(a=n[h],a!=null&&ne(t,e,h,a,n,null))}function Zp(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,u=null,h=null,x=null,O=null,Y=null;for(U in n){var Z=n[U];if(n.hasOwnProperty(U)&&Z!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":x=Z;default:a.hasOwnProperty(U)||ne(t,e,U,null,a,Z)}}for(var k in a){var U=a[k];if(Z=n[k],a.hasOwnProperty(k)&&(U!=null||Z!=null))switch(k){case"type":s=U;break;case"name":l=U;break;case"checked":O=U;break;case"defaultChecked":Y=U;break;case"value":u=U;break;case"defaultValue":h=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(d(137,e));break;default:U!==Z&&ne(t,e,k,U,a,Z)}}Zl(t,u,h,x,O,Y,s,l);return;case"select":U=u=h=k=null;for(s in n)if(x=n[s],n.hasOwnProperty(s)&&x!=null)switch(s){case"value":break;case"multiple":U=x;default:a.hasOwnProperty(s)||ne(t,e,s,null,a,x)}for(l in a)if(s=a[l],x=n[l],a.hasOwnProperty(l)&&(s!=null||x!=null))switch(l){case"value":k=s;break;case"defaultValue":h=s;break;case"multiple":u=s;default:s!==x&&ne(t,e,l,s,a,x)}e=h,n=u,a=U,k!=null?Pn(t,!!n,k,!1):!!a!=!!n&&(e!=null?Pn(t,!!n,e,!0):Pn(t,!!n,n?[]:"",!1));return;case"textarea":U=k=null;for(h in n)if(l=n[h],n.hasOwnProperty(h)&&l!=null&&!a.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:ne(t,e,h,null,a,l)}for(u in a)if(l=a[u],s=n[u],a.hasOwnProperty(u)&&(l!=null||s!=null))switch(u){case"value":k=l;break;case"defaultValue":U=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(d(91));break;default:l!==s&&ne(t,e,u,l,a,s)}Ds(t,k,U);return;case"option":for(var rt in n)if(k=n[rt],n.hasOwnProperty(rt)&&k!=null&&!a.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:ne(t,e,rt,null,a,k)}for(x in a)if(k=a[x],U=n[x],a.hasOwnProperty(x)&&k!==U&&(k!=null||U!=null))switch(x){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:ne(t,e,x,k,a,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in n)k=n[St],n.hasOwnProperty(St)&&k!=null&&!a.hasOwnProperty(St)&&ne(t,e,St,null,a,k);for(O in a)if(k=a[O],U=n[O],a.hasOwnProperty(O)&&k!==U&&(k!=null||U!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(d(137,e));break;default:ne(t,e,O,k,a,U)}return;default:if(Ye(e)){for(var ae in n)k=n[ae],n.hasOwnProperty(ae)&&k!==void 0&&!a.hasOwnProperty(ae)&&Eo(t,e,ae,void 0,a,k);for(Y in a)k=a[Y],U=n[Y],!a.hasOwnProperty(Y)||k===U||k===void 0&&U===void 0||Eo(t,e,Y,k,a,U);return}}for(var R in n)k=n[R],n.hasOwnProperty(R)&&k!=null&&!a.hasOwnProperty(R)&&ne(t,e,R,null,a,k);for(Z in a)k=a[Z],U=n[Z],!a.hasOwnProperty(Z)||k===U||k==null&&U==null||ne(t,e,Z,k,a,U)}function _m(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],s=l.transferSize,u=l.initiatorType,h=l.duration;if(s&&h&&_m(u)){for(u=0,h=l.responseEnd,a+=1;a<n.length;a++){var x=n[a],O=x.startTime;if(O>h)break;var Y=x.transferSize,Z=x.initiatorType;Y&&_m(Z)&&(x=x.responseEnd,u+=Y*(x<h?1:(h-O)/(x-O)))}if(--a,e+=8*(s+u)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ao=null,To=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function Um(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Co(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wo=null;function $p(){var t=window.event;return t&&t.type==="popstate"?t===wo?!1:(wo=t,!0):(wo=null,!1)}var qm=typeof setTimeout=="function"?setTimeout:void 0,Jp=typeof clearTimeout=="function"?clearTimeout:void 0,Lm=typeof Promise=="function"?Promise:void 0,Ip=typeof queueMicrotask=="function"?queueMicrotask:typeof Lm<"u"?function(t){return Lm.resolve(null).then(t).catch(Fp)}:qm;function Fp(t){setTimeout(function(){throw t})}function Nl(t){return t==="head"}function Hm(t,e){var n=e,a=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(l),ci(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")su(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,su(n);for(var s=n.firstChild;s;){var u=s.nextSibling,h=s.nodeName;s[Gl]||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=u}}else n==="body"&&su(t.ownerDocument.body);n=l}while(n);ci(e)}function Gm(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function Do(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Do(n),Cs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Wp(t,e,n,a){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Gl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function Pp(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xn(t.nextSibling),t===null))return null;return t}function Ym(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Xn(t.nextSibling),t===null))return null;return t}function No(t){return t.data==="$?"||t.data==="$~"}function jo(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tg(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Xn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Ro=null;function Vm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Xn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Xm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Qm(t,e,n){switch(e=bc(n),t){case"html":if(t=e.documentElement,!t)throw Error(d(452));return t;case"head":if(t=e.head,!t)throw Error(d(453));return t;case"body":if(t=e.body,!t)throw Error(d(454));return t;default:throw Error(d(451))}}function su(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Cs(t)}var Qn=new Map,Zm=new Set;function Sc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ka=V.d;V.d={f:eg,r:ng,D:ag,C:lg,L:sg,m:ig,X:cg,S:ug,M:rg};function eg(){var t=Ka.f(),e=dc();return t||e}function ng(t){var e=hn(t);e!==null&&e.tag===5&&e.type==="form"?rf(e):Ka.r(t)}var si=typeof document>"u"?null:document;function Km(t,e,n){var a=si;if(a&&typeof e=="string"&&e){var l=an(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Zm.has(l)||(Zm.add(l),t={rel:t,crossOrigin:n,href:e},a.querySelector(l)===null&&(e=a.createElement("link"),Pe(e,"link",t),Qt(e),a.head.appendChild(e)))}}function ag(t){Ka.D(t),Km("dns-prefetch",t,null)}function lg(t,e){Ka.C(t,e),Km("preconnect",t,e)}function sg(t,e,n){Ka.L(t,e,n);var a=si;if(a&&t&&e){var l='link[rel="preload"][as="'+an(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+an(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+an(n.imageSizes)+'"]')):l+='[href="'+an(t)+'"]';var s=l;switch(e){case"style":s=ii(t);break;case"script":s=ui(t)}Qn.has(s)||(t=E({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Qn.set(s,t),a.querySelector(l)!==null||e==="style"&&a.querySelector(iu(s))||e==="script"&&a.querySelector(uu(s))||(e=a.createElement("link"),Pe(e,"link",t),Qt(e),a.head.appendChild(e)))}}function ig(t,e){Ka.m(t,e);var n=si;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+an(a)+'"][href="'+an(t)+'"]',s=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ui(t)}if(!Qn.has(s)&&(t=E({rel:"modulepreload",href:t},e),Qn.set(s,t),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(uu(s)))return}a=n.createElement("link"),Pe(a,"link",t),Qt(a),n.head.appendChild(a)}}}function ug(t,e,n){Ka.S(t,e,n);var a=si;if(a&&t){var l=pn(a).hoistableStyles,s=ii(t);e=e||"default";var u=l.get(s);if(!u){var h={loading:0,preload:null};if(u=a.querySelector(iu(s)))h.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Qn.get(s))&&zo(t,n);var x=u=a.createElement("link");Qt(x),Pe(x,"link",t),x._p=new Promise(function(O,Y){x.onload=O,x.onerror=Y}),x.addEventListener("load",function(){h.loading|=1}),x.addEventListener("error",function(){h.loading|=2}),h.loading|=4,Mc(u,e,a)}u={type:"stylesheet",instance:u,count:1,state:h},l.set(s,u)}}}function cg(t,e){Ka.X(t,e);var n=si;if(n&&t){var a=pn(n).hoistableScripts,l=ui(t),s=a.get(l);s||(s=n.querySelector(uu(l)),s||(t=E({src:t,async:!0},e),(e=Qn.get(l))&&Oo(t,e),s=n.createElement("script"),Qt(s),Pe(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function rg(t,e){Ka.M(t,e);var n=si;if(n&&t){var a=pn(n).hoistableScripts,l=ui(t),s=a.get(l);s||(s=n.querySelector(uu(l)),s||(t=E({src:t,async:!0,type:"module"},e),(e=Qn.get(l))&&Oo(t,e),s=n.createElement("script"),Qt(s),Pe(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function $m(t,e,n,a){var l=(l=wt.current)?Sc(l):null;if(!l)throw Error(d(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ii(n.href),n=pn(l).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ii(n.href);var s=pn(l).hoistableStyles,u=s.get(t);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,u),(s=l.querySelector(iu(t)))&&!s._p&&(u.instance=s,u.state.loading=5),Qn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Qn.set(t,n),s||og(l,t,n,u.state))),e&&a===null)throw Error(d(528,""));return u}if(e&&a!==null)throw Error(d(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ui(n),n=pn(l).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,t))}}function ii(t){return'href="'+an(t)+'"'}function iu(t){return'link[rel="stylesheet"]['+t+"]"}function Jm(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function og(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),Pe(e,"link",n),Qt(e),t.head.appendChild(e))}function ui(t){return'[src="'+an(t)+'"]'}function uu(t){return"script[async]"+t}function Im(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+an(n.href)+'"]');if(a)return e.instance=a,Qt(a),a;var l=E({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Qt(a),Pe(a,"style",l),Mc(a,n.precedence,t),e.instance=a;case"stylesheet":l=ii(n.href);var s=t.querySelector(iu(l));if(s)return e.state.loading|=4,e.instance=s,Qt(s),s;a=Jm(n),(l=Qn.get(l))&&zo(a,l),s=(t.ownerDocument||t).createElement("link"),Qt(s);var u=s;return u._p=new Promise(function(h,x){u.onload=h,u.onerror=x}),Pe(s,"link",a),e.state.loading|=4,Mc(s,n.precedence,t),e.instance=s;case"script":return s=ui(n.src),(l=t.querySelector(uu(s)))?(e.instance=l,Qt(l),l):(a=n,(l=Qn.get(s))&&(a=E({},n),Oo(a,l)),t=t.ownerDocument||t,l=t.createElement("script"),Qt(l),Pe(l,"link",a),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(d(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,Mc(a,n.precedence,t));return e.instance}function Mc(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,s=l,u=0;u<a.length;u++){var h=a[u];if(h.dataset.precedence===e)s=h;else if(s!==l)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function zo(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Oo(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var xc=null;function Fm(t,e,n){if(xc===null){var a=new Map,l=xc=new Map;l.set(n,a)}else l=xc,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var s=n[l];if(!(s[Gl]||s[ce]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var u=s.getAttribute(e)||"";u=t+u;var h=a.get(u);h?h.push(s):a.set(u,[s])}}return a}function Wm(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function dg(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Pm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function fg(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=ii(a.href),s=e.querySelector(iu(l));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Ec.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,Qt(s);return}s=e.ownerDocument||e,a=Jm(a),(l=Qn.get(l))&&zo(a,l),s=s.createElement("link"),Qt(s);var u=s;u._p=new Promise(function(h,x){u.onload=h,u.onerror=x}),Pe(s,"link",a),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=Ec.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var ko=0;function mg(t,e){return t.stylesheets&&t.count===0&&Tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&ko===0&&(ko=62500*Kp());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>ko?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function Tc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,e.forEach(hg,t),Ac=null,Ec.call(t))}function hg(t,e){if(!(e.state.loading&4)){var n=Ac.get(t);if(n)var a=n.get(null);else{n=new Map,Ac.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var u=l[s];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),a=u)}a&&n.set(null,a)}l=e.instance,u=l.getAttribute("data-precedence"),s=n.get(u)||a,s===a&&n.set(null,l),n.set(u,l),this.count++,a=Ec.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),s?s.parentNode.insertBefore(l,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var cu={$$typeof:ot,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function pg(t,e,n,a,l,s,u,h,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xs(0),this.hiddenUpdates=xs(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function th(t,e,n,a,l,s,u,h,x,O,Y,Z){return t=new pg(t,e,n,u,x,O,Y,Z,h),e=1,s===!0&&(e|=24),s=un(3,null,null,e),t.current=s,s.stateNode=t,e=fr(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:e},gr(s),t}function eh(t){return t?(t=va,t):va}function nh(t,e,n,a,l,s){l=eh(l),a.context===null?a.context=l:a.pendingContext=l,a=vl(e),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=bl(t,a,e),n!==null&&(Mn(n,t,e),Hi(n,t,e))}function ah(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _o(t,e){ah(t,e),(t=t.alternate)&&ah(t,e)}function lh(t){if(t.tag===13||t.tag===31){var e=Dn(t,67108864);e!==null&&Mn(e,t,67108864),_o(t,67108864)}}function sh(t){if(t.tag===13||t.tag===31){var e=On();e=ra(e);var n=Dn(t,e);n!==null&&Mn(n,t,e),_o(t,e)}}var Cc=!0;function gg(t,e,n,a){var l=A.T;A.T=null;var s=V.p;try{V.p=2,Uo(t,e,n,a)}finally{V.p=s,A.T=l}}function yg(t,e,n,a){var l=A.T;A.T=null;var s=V.p;try{V.p=8,Uo(t,e,n,a)}finally{V.p=s,A.T=l}}function Uo(t,e,n,a){if(Cc){var l=Bo(a);if(l===null)xo(t,e,a,wc,n),uh(t,a);else if(bg(l,t,e,n,a))a.stopPropagation();else if(uh(t,a),e&4&&-1<vg.indexOf(t)){for(;l!==null;){var s=hn(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var u=$n(s.pendingLanes);if(u!==0){var h=s;for(h.pendingLanes|=2,h.entangledLanes|=2;u;){var x=1<<31-qe(u);h.entanglements[1]|=x,u&=~x}Aa(s),($t&6)===0&&(rc=en()+500,nu(0))}}break;case 31:case 13:h=Dn(s,2),h!==null&&Mn(h,s,2),dc(),_o(s,2)}if(s=Bo(a),s===null&&xo(t,e,a,wc,n),s===l)break;l=s}l!==null&&a.stopPropagation()}else xo(t,e,a,null,n)}}function Bo(t){return t=Ai(t),qo(t)}var wc=null;function qo(t){if(wc=null,t=fe(t),t!==null){var e=M(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=y(e),t!==null)return t;t=null}else if(n===31){if(t=T(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return wc=t,null}function ih(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ms()){case kn:return 2;case Ul:return 8;case mn:case hi:return 32;case Bl:return 268435456;default:return 32}default:return 32}}var Lo=!1,jl=null,Rl=null,zl=null,ru=new Map,ou=new Map,Ol=[],vg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uh(t,e){switch(t){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":ru.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(e.pointerId)}}function du(t,e,n,a,l,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[l]},e!==null&&(e=hn(e),e!==null&&lh(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function bg(t,e,n,a,l){switch(e){case"focusin":return jl=du(jl,t,e,n,a,l),!0;case"dragenter":return Rl=du(Rl,t,e,n,a,l),!0;case"mouseover":return zl=du(zl,t,e,n,a,l),!0;case"pointerover":var s=l.pointerId;return ru.set(s,du(ru.get(s)||null,t,e,n,a,l)),!0;case"gotpointercapture":return s=l.pointerId,ou.set(s,du(ou.get(s)||null,t,e,n,a,l)),!0}return!1}function ch(t){var e=fe(t.target);if(e!==null){var n=M(e);if(n!==null){if(e=n.tag,e===13){if(e=y(n),e!==null){t.blockedOn=e,_n(t.priority,function(){sh(n)});return}}else if(e===31){if(e=T(n),e!==null){t.blockedOn=e,_n(t.priority,function(){sh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bo(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);Ei=a,n.target.dispatchEvent(a),Ei=null}else return e=hn(n),e!==null&&lh(e),t.blockedOn=n,!1;e.shift()}return!0}function rh(t,e,n){Dc(t)&&n.delete(e)}function Sg(){Lo=!1,jl!==null&&Dc(jl)&&(jl=null),Rl!==null&&Dc(Rl)&&(Rl=null),zl!==null&&Dc(zl)&&(zl=null),ru.forEach(rh),ou.forEach(rh)}function Nc(t,e){t.blockedOn===e&&(t.blockedOn=null,Lo||(Lo=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Sg)))}var jc=null;function oh(t){jc!==t&&(jc=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],l=t[e+2];if(typeof a!="function"){if(qo(a||n)===null)continue;break}var s=hn(n);s!==null&&(t.splice(e,3),e-=3,Ur(s,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function ci(t){function e(x){return Nc(x,t)}jl!==null&&Nc(jl,t),Rl!==null&&Nc(Rl,t),zl!==null&&Nc(zl,t),ru.forEach(e),ou.forEach(e);for(var n=0;n<Ol.length;n++){var a=Ol[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Ol.length&&(n=Ol[0],n.blockedOn===null);)ch(n),n.blockedOn===null&&Ol.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],s=n[a+1],u=l[Oe]||null;if(typeof s=="function")u||oh(n);else if(u){var h=null;if(s&&s.hasAttribute("formAction")){if(l=s,u=s[Oe]||null)h=u.formAction;else if(qo(l)!==null)continue}else h=u.action;typeof h=="function"?n[a+1]=h:(n.splice(a,3),a-=3),oh(n)}}}function dh(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(u){return l=u})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function Ho(t){this._internalRoot=t}Rc.prototype.render=Ho.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(d(409));var n=e.current,a=On();nh(n,a,t,e,null,null)},Rc.prototype.unmount=Ho.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nh(t.current,2,null,t,null,null),dc(),e[nn]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var e=el();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ol.length&&e!==0&&e<Ol[n].priority;n++);Ol.splice(n,0,t),n===0&&ch(t)}};var fh=r.version;if(fh!=="19.2.0")throw Error(d(527,fh,"19.2.0"));V.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=v(e),t=t!==null?N(t):null,t=t===null?null:t.stateNode,t};var Mg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{Kn=zc.inject(Mg),ve=zc}catch{}}return mu.createRoot=function(t,e){if(!p(t))throw Error(d(299));var n=!1,a="",l=bf,s=Sf,u=Mf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(u=e.onRecoverableError)),e=th(t,1,!1,null,null,n,a,null,l,s,u,dh),t[nn]=e.current,Mo(t),new Ho(e)},mu.hydrateRoot=function(t,e,n){if(!p(t))throw Error(d(299));var a=!1,l="",s=bf,u=Sf,h=Mf,x=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(h=n.onRecoverableError),n.formState!==void 0&&(x=n.formState)),e=th(t,1,!0,e,n??null,a,l,x,s,u,h,dh),e.context=eh(null),n=e.current,a=On(),a=ra(a),l=vl(a),l.callback=null,bl(n,l,a),n=a,e.current.lanes=n,Jn(e,n),Aa(e),t[nn]=e.current,Mo(t),new Rc(e)},mu.version="19.2.0",mu}var xh;function Rg(){if(xh)return Vo.exports;xh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Vo.exports=jg(),Vo.exports}var zg=Rg();const Og="modulepreload",kg=function(o,r){return new URL(o,r).href},Eh={},_g=function(r,m,d){let p=Promise.resolve();if(m&&m.length>0){let v=function(N){return Promise.all(N.map(E=>Promise.resolve(E).then(L=>({status:"fulfilled",value:L}),L=>({status:"rejected",reason:L}))))};const y=document.getElementsByTagName("link"),T=document.querySelector("meta[property=csp-nonce]"),b=T?.nonce||T?.getAttribute("nonce");p=v(m.map(N=>{if(N=kg(N,d),N in Eh)return;Eh[N]=!0;const E=N.endsWith(".css"),L=E?'[rel="stylesheet"]':"";if(d)for(let et=y.length-1;et>=0;et--){const F=y[et];if(F.href===N&&(!E||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${N}"]${L}`))return;const $=document.createElement("link");if($.rel=E?"stylesheet":Og,E||($.as="script"),$.crossOrigin="",$.href=N,b&&$.setAttribute("nonce",b),document.head.appendChild($),E)return new Promise((et,F)=>{$.addEventListener("load",et),$.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${N}`)))})}))}function M(y){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=y,window.dispatchEvent(T),!T.defaultPrevented)throw y}return p.then(y=>{for(const T of y||[])T.status==="rejected"&&M(T.reason);return r().catch(M)})};function Ug(o={}){const{immediate:r=!1,onNeedRefresh:m,onOfflineReady:d,onRegistered:p,onRegisteredSW:M,onRegisterError:y}=o;let T,b;const v=async(E=!0)=>{await b};async function N(){if("serviceWorker"in navigator){if(T=await _g(async()=>{const{Workbox:E}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:E}},[],import.meta.url).then(({Workbox:E})=>new E("./sw.js",{scope:"./",type:"classic"})).catch(E=>{y?.(E)}),!T)return;T.addEventListener("activated",E=>{(E.isUpdate||E.isExternal)&&window.location.reload()}),T.addEventListener("installed",E=>{E.isUpdate||d?.()}),T.register({immediate:r}).then(E=>{M?M("./sw.js",E):p?.(E)}).catch(E=>{y?.(E)})}}return b=N(),v}const Bg=""+new URL("lame.all-C7RRJB7H.js",import.meta.url).href;let Oc=null;async function qg(){if(typeof window>"u")throw new Error("MP3 encoder can only load in a browser.");if(!window.lamejs?.Mp3Encoder)return Oc||(Oc=new Promise((o,r)=>{const m=document.createElement("script");m.src=Bg,m.async=!0,m.onload=()=>o(),m.onerror=()=>r(new Error("Failed to load MP3 encoder script.")),document.head.appendChild(m)}).then(()=>{if(!window.lamejs?.Mp3Encoder)throw new Error("MP3 encoder loaded but window.lamejs.Mp3Encoder is missing.")}),Oc)}function Lg(){const o=window.lamejs?.Mp3Encoder;if(!o)throw new Error("MP3 encoder is not loaded yet.");return o}const fi={frameDurationMs:50,minQuietDurationMs:600,minSegmentMs:5e3,targetSegmentMs:1e4,maxSegmentMs:6e4,silencePaddingMs:200,thresholdMultiplier:1.6,quietPercentile:.3,noisePercentile:.12,initialIgnoreMs:120},Ah=(o,r)=>{if(o.length===0)return 0;const m=[...o].sort((M,y)=>M-y),d=Math.min(Math.max(r,0),1),p=d===1?m.length-1:Math.floor(d*m.length);return m[p]},Hg=o=>{if(o.numberOfChannels===1)return o.getChannelData(0);const{length:r,numberOfChannels:m}=o,d=new Float32Array(r);for(let p=0;p<m;p+=1){const M=o.getChannelData(p);for(let y=0;y<r;y+=1)d[y]+=M[y]/m}return d},Gg=(o,r,m)=>{const d=Math.max(1,Math.round(m/1e3*r)),p=o.length,M=Math.ceil(p/d),y=new Array(M),T=new Array(M);let b=Number.POSITIVE_INFINITY,v=0;for(let N=0;N<M;N+=1){const E=N*d,L=Math.min(p,E+d),$=L-E;if($<=0){y[N]={index:N,startMs:E/r*1e3,endMs:L/r*1e3,rms:0,normalized:0},T[N]=0;continue}let et=0;for(let xt=E;xt<L;xt+=1){const ut=o[xt];et+=ut*ut}const F=Math.sqrt(et/$);y[N]={index:N,startMs:E/r*1e3,endMs:L/r*1e3,rms:F,normalized:F},T[N]=F,F<b&&(b=F),F>v&&(v=F)}return Number.isFinite(b)||(b=0),{frames:y,rmsValues:T,minRms:b,maxRms:v}},Yg=({audioBuffer:o,frameDurationMs:r=fi.frameDurationMs})=>{const m=Hg(o),{frames:d}=Gg(m,o.sampleRate,r),p=d.reduce((N,E)=>Math.max(N,E.rms),0),M=p>0?.92/p:1,y=d.map(N=>Math.min(N.rms*M,1)),T=y.length,b=T>0?y.reduce((N,E)=>N+E,0)/T:0,v=T>0?Math.max(...y):0;return{normalizedFrames:y,scalingFactor:M,maxNormalized:v,averageNormalized:b,frameDurationMs:r}},Vg=(o,r,m,d)=>{const p=[];let M=null,y=Number.POSITIVE_INFINITY,T=0,b=0,v=0,N=!1;for(let E=0;E<o.length;E+=1){const L=o[E],$=L.startMs>=d;$&&L.rms>r&&(N=!0);const F=N&&$&&L.rms<=r;if(F&&(M===null?(M=E,y=L.rms,T=L.rms,b=L.rms,v=1):(y=Math.min(y,L.rms),T=Math.max(T,L.rms),b+=L.rms,v+=1)),(!F&&M!==null||E===o.length-1&&F)&&M!==null){const ut=F?E:E-1,bt=o[M],ot=o[ut],H=ot.endMs-bt.startMs;if(H>=m){const P=(bt.startMs+ot.endMs)/2;p.push({index:p.length,startFrame:M,endFrame:ut,startMs:bt.startMs,endMs:ot.endMs,durationMs:H,minRms:y,maxRms:T,averageRms:v>0?b/v:0,centerMs:P,normalizedMin:0,normalizedMax:0})}M=null,y=Number.POSITIVE_INFINITY,T=0,b=0,v=0}}return p},Xg=(o,r)=>o.map(m=>{const d=r.slice(m.startFrame,m.endFrame+1).map(y=>y.normalized),p=d.length>0?Math.min(...d):0,M=d.length>0?Math.max(...d):0;return{...m,normalizedMin:p,normalizedMax:M}}),Qg=(o,r,m)=>{const d=[];let p=0;for(const b of o){const v=b.centerMs-p;if(!(v<m.minSegmentMs)&&(v>=m.targetSegmentMs||v>=m.maxSegmentMs)){const N=Math.max(0,1-b.normalizedMax);d.push({index:d.length,positionMs:b.centerMs,precedingDurationMs:v,quietRegionIndex:b.index,score:N,reason:"pause"}),p=b.centerMs}}const M=[],y=[...d].sort((b,v)=>b.positionMs-v.positionMs);let T=0;return y.forEach((b,v)=>{const N=Math.min(b.positionMs,r),E=Math.max(0,N-T);M.push({index:v,startMs:T,endMs:N,durationMs:E,breakReason:"pause",boundaryIndex:b.index}),T=b.positionMs}),T<r&&M.push({index:M.length,startMs:T,endMs:r,durationMs:Math.max(0,r-T),breakReason:"end",boundaryIndex:null}),{boundaries:d,segments:M}};function tp(o,r={}){const{totalDurationMs:m,config:d={},sampleRate:p=0,frameDurationMs:M}=r;if(o.length===0)return null;const y={...fi,...d},T=o.map(H=>H.normalized),b=o.reduce((H,P)=>Math.max(H,P.rms),0),v=o.reduce((H,P)=>Math.min(H,P.rms),Number.POSITIVE_INFINITY),N=1,E=Ah(T,y.noisePercentile),L=Ah(T,y.quietPercentile),$=Math.max(E*y.thresholdMultiplier,(E+L)/2),et=Math.min($,b*.7),F=Math.min(et,.98),xt=Math.max(m??0,o[o.length-1]?.endMs??0),ut=Xg(Vg(o,et,y.minQuietDurationMs,y.initialIgnoreMs),o),{boundaries:bt,segments:ot}=Qg(ut,xt,y);return{frames:o,quietRegions:ut,boundaries:bt,segments:ot,stats:{sampleRate:p,totalDurationMs:xt,frameDurationMs:M??y.frameDurationMs,frameCount:o.length,maxRms:b,minRms:Number.isFinite(v)?v:0,scalingFactor:N,noiseFloor:E,threshold:et,normalizedThreshold:F}}}function Zg({frames:o,windowStartMs:r,windowEndMs:m,sampleRate:d,frameDurationMs:p,config:M}){const y=Math.max(0,Math.round(r)),T=Math.max(y,Math.round(m)),b=Math.max(0,T-y);if(o.length===0||b<=0)return{analysis:null,frames:[],windowStartMs:y,windowEndMs:T,windowDurationMs:b};const v=[];for(const E of o){if(E.endMs<=y||E.startMs>=T)continue;const L=Math.max(0,E.startMs-y),$=Math.min(T,E.endMs)-y;$<=L||v.push({...E,index:v.length,startMs:L,endMs:$})}return{analysis:v.length>0?tp(v,{totalDurationMs:b,sampleRate:d,frameDurationMs:p,config:M}):null,frames:v,windowStartMs:y,windowEndMs:T,windowDurationMs:b}}async function ep(o,r){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");const{chunkId:m,sessionId:d,seq:p,chunkStartMs:M,chunkEndMs:y,frameDurationMs:T}=r,b=new AudioContext;try{const v=await o.arrayBuffer(),N=await b.decodeAudioData(v.slice(0)),{normalizedFrames:E,scalingFactor:L,maxNormalized:$,averageNormalized:et}=Yg({audioBuffer:N,frameDurationMs:T});return{chunkId:m,sessionId:d,seq:p,chunkStartMs:M,chunkEndMs:y,durationMs:N.duration*1e3,sampleRate:N.sampleRate,frameDurationMs:T??50,frames:E,maxNormalized:$,averageNormalized:et,scalingFactor:L}}finally{await b.close().catch(()=>{})}}const ed=(o,r)=>r.some(m=>o instanceof m);let Th,Ch;function Kg(){return Th||(Th=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $g(){return Ch||(Ch=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nd=new WeakMap,Ko=new WeakMap,Bc=new WeakMap;function Jg(o){const r=new Promise((m,d)=>{const p=()=>{o.removeEventListener("success",M),o.removeEventListener("error",y)},M=()=>{m(vs(o.result)),p()},y=()=>{d(o.error),p()};o.addEventListener("success",M),o.addEventListener("error",y)});return Bc.set(r,o),r}function Ig(o){if(nd.has(o))return;const r=new Promise((m,d)=>{const p=()=>{o.removeEventListener("complete",M),o.removeEventListener("error",y),o.removeEventListener("abort",y)},M=()=>{m(),p()},y=()=>{d(o.error||new DOMException("AbortError","AbortError")),p()};o.addEventListener("complete",M),o.addEventListener("error",y),o.addEventListener("abort",y)});nd.set(o,r)}let ad={get(o,r,m){if(o instanceof IDBTransaction){if(r==="done")return nd.get(o);if(r==="store")return m.objectStoreNames[1]?void 0:m.objectStore(m.objectStoreNames[0])}return vs(o[r])},set(o,r,m){return o[r]=m,!0},has(o,r){return o instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in o}};function np(o){ad=o(ad)}function Fg(o){return $g().includes(o)?function(...r){return o.apply(ld(this),r),vs(this.request)}:function(...r){return vs(o.apply(ld(this),r))}}function Wg(o){return typeof o=="function"?Fg(o):(o instanceof IDBTransaction&&Ig(o),ed(o,Kg())?new Proxy(o,ad):o)}function vs(o){if(o instanceof IDBRequest)return Jg(o);if(Ko.has(o))return Ko.get(o);const r=Wg(o);return r!==o&&(Ko.set(o,r),Bc.set(r,o)),r}const ld=o=>Bc.get(o);function Pg(o,r,{blocked:m,upgrade:d,blocking:p,terminated:M}={}){const y=indexedDB.open(o,r),T=vs(y);return d&&y.addEventListener("upgradeneeded",b=>{d(vs(y.result),b.oldVersion,b.newVersion,vs(y.transaction),b)}),m&&y.addEventListener("blocked",b=>m(b.oldVersion,b.newVersion,b)),T.then(b=>{M&&b.addEventListener("close",()=>M()),p&&b.addEventListener("versionchange",v=>p(v.oldVersion,v.newVersion,v))}).catch(()=>{}),T}const ty=["get","getKey","getAll","getAllKeys","count"],ey=["put","add","delete","clear"],$o=new Map;function wh(o,r){if(!(o instanceof IDBDatabase&&!(r in o)&&typeof r=="string"))return;if($o.get(r))return $o.get(r);const m=r.replace(/FromIndex$/,""),d=r!==m,p=ey.includes(m);if(!(m in(d?IDBIndex:IDBObjectStore).prototype)||!(p||ty.includes(m)))return;const M=async function(y,...T){const b=this.transaction(y,p?"readwrite":"readonly");let v=b.store;return d&&(v=v.index(T.shift())),(await Promise.all([v[m](...T),p&&b.done]))[0]};return $o.set(r,M),M}np(o=>({...o,get:(r,m,d)=>wh(r,m)||o.get(r,m,d),has:(r,m)=>!!wh(r,m)||o.has(r,m)}));const ny=["continue","continuePrimaryKey","advance"],Dh={},sd=new WeakMap,ap=new WeakMap,ay={get(o,r){if(!ny.includes(r))return o[r];let m=Dh[r];return m||(m=Dh[r]=function(...d){sd.set(this,ap.get(this)[r](...d))}),m}};async function*ly(...o){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...o)),!r)return;r=r;const m=new Proxy(r,ay);for(ap.set(m,r),Bc.set(m,ld(r));r;)yield m,r=await(sd.get(m)||r.continue()),sd.delete(m)}function Nh(o,r){return r===Symbol.asyncIterator&&ed(o,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&ed(o,[IDBIndex,IDBObjectStore])}np(o=>({...o,get(r,m,d){return Nh(r,m)?ly:o.get(r,m,d)},has(r,m){return Nh(r,m)||o.has(r,m)}}));const Xe="unverified";function sy(o,r){let m=0;return r.map(d=>{const p=Number.isFinite(d.durationMs)&&d.durationMs>0?Math.round(d.durationMs):0,M=Math.round(o+m),y=Math.round(M+p);return m+=p,{...d,durationMs:p,startMs:M,endMs:y}})}const jh=o=>{const r=Array.isArray(o.frames)?o.frames:[],m=r.length>0&&typeof r[0]=="number"?r:r.map(T=>{if(T&&typeof T=="object"){if(typeof T.normalized=="number")return Math.max(0,T.normalized);if(typeof T.rms=="number")return Math.max(0,T.rms)}return 0}),d=typeof o.frameDurationMs=="number"&&o.frameDurationMs>0?o.frameDurationMs:50,p=typeof o.durationMs=="number"&&o.durationMs>0?o.durationMs:m.length*d,M=typeof o.maxNormalized=="number"?o.maxNormalized:m.length>0?Math.max(...m):0,y=typeof o.averageNormalized=="number"?o.averageNormalized:m.length>0?m.reduce((T,b)=>T+b,0)/m.length:0;return{chunkId:o.chunkId,sessionId:o.sessionId,seq:o.seq??0,chunkStartMs:o.chunkStartMs??0,chunkEndMs:typeof o.chunkEndMs=="number"?o.chunkEndMs:(o.chunkStartMs??0)+p,durationMs:p,sampleRate:o.sampleRate??0,frameDurationMs:d,frames:m,maxNormalized:M,averageNormalized:y,scalingFactor:o.scalingFactor??1,id:o.id??o.chunkId,createdAt:o.createdAt??Date.now(),updatedAt:o.updatedAt??Date.now()}},hu=o=>{const r=Number.isFinite(o.startMs)?o.startMs:0,m=Number.isFinite(o.endMs)?o.endMs:r,d=Number.isFinite(o.durationMs)?o.durationMs:Math.max(0,m-r),p=typeof o.audioPurgedAt=="number"?o.audioPurgedAt:null,M=o.transcription?{...o.transcription,segments:Array.isArray(o.transcription.segments)?o.transcription.segments:[],text:o.transcription.text??""}:o.transcription;return{...o,index:Number.isFinite(o.index)?o.index:0,startMs:r,endMs:m,durationMs:d,breakReason:o.breakReason??null,boundaryIndex:typeof o.boundaryIndex=="number"?o.boundaryIndex:null,transcription:M??null,transcriptionError:o.transcriptionError??null,audioPurgedAt:p}},iy="durable-audio-recorder",uy=4,Rh=50;let Jo=null;async function re(){return Jo||(Jo=Pg(iy,uy,{upgrade(o,r){if(r<1&&(o.createObjectStore("sessions",{keyPath:"id"}).createIndex("by-updated","updatedAt"),o.createObjectStore("chunks",{keyPath:"id"}).createIndex("by-session","sessionId")),r<2){o.createObjectStore("logSessions",{keyPath:"id"}).createIndex("by-started","startedAt");const d=o.createObjectStore("logEntries",{keyPath:"id",autoIncrement:!0});d.createIndex("by-session","sessionId"),d.createIndex("by-timestamp","timestamp")}if(r<3){const m=o.createObjectStore("chunkVolumes",{keyPath:"id"});m.createIndex("by-session","sessionId"),m.createIndex("by-chunk","chunkId")}r<4&&o.createObjectStore("snips",{keyPath:"id"}).createIndex("by-session","sessionId")}})),Jo}class cy{async init(){await re()}async createSession(r){await(await re()).put("sessions",{...r,timingStatus:r.timingStatus??Xe})}async updateSession(r,m){const p=(await re()).transaction("sessions","readwrite"),M=p.objectStore("sessions"),y=await M.get(r);if(!y)return await p.done,null;const T={...y,...m,timingStatus:m.timingStatus??y.timingStatus??Xe};return await M.put(T),await p.done,T}async appendChunk(r,m){const p=(await re()).transaction(["chunks","sessions"],"readwrite"),M=p.objectStore("chunks"),y=p.objectStore("sessions"),T={...r,blob:m,byteLength:m.size,createdAt:Date.now(),verifiedAudioMsec:r.seq===0&&/mp4|m4a/i.test(m.type)?0:null,timingStatus:Xe};await M.put(T);const b=await y.get(r.sessionId);if(b){const v=Math.max(b.durationMs,r.endMs-b.startedAt),N={...b,updatedAt:Date.now(),chunkCount:b.chunkCount+1,totalBytes:b.totalBytes+m.size,durationMs:v};await y.put(N)}await p.done}async listSessions(){return(await(await re()).getAll("sessions")).map(d=>({...d,timingStatus:d.timingStatus??Xe})).sort((d,p)=>p.startedAt-d.startedAt)}async getSession(r){const d=await(await re()).get("sessions",r);return d?{...d,timingStatus:d.timingStatus??Xe}:null}async getChunkMetadata(r){return(await(await re()).transaction("chunks").store.index("by-session").getAll(r)).map(({blob:M,timingStatus:y,...T})=>({...T,timingStatus:y??Xe})).sort((M,y)=>M.seq-y.seq)}async getChunkData(r){return(await(await re()).transaction("chunks").store.index("by-session").getAll(r)).sort((M,y)=>M.seq-y.seq).map(M=>({...M,timingStatus:M.timingStatus??Xe}))}async buildSessionBlob(r,m){const M=await(await re()).transaction("chunks").store.index("by-session").getAll(r);if(M.length===0)return null;const T=M.sort((b,v)=>b.seq-v.seq).map(b=>b.blob);return new Blob(T,{type:m})}async storeChunkVolumeProfile(r){const d=(await re()).transaction(["chunkVolumes","chunks"],"readwrite"),p=d.objectStore("chunkVolumes"),M=d.objectStore("chunks"),y=await p.get(r.chunkId),T=Date.now(),b={...r,id:r.chunkId,createdAt:y?.createdAt??T,updatedAt:T},v=jh(b);await p.put(v);const N=await M.get(r.chunkId);N&&(N.verifiedAudioMsec=Math.round(r.durationMs),await M.put(N)),await d.done}async getChunkVolumeProfile(r){return await(await re()).get("chunkVolumes",r)??null}async listChunkVolumeProfiles(r){const d=(await re()).transaction("chunkVolumes").store;let p;return r?p=await d.index("by-session").getAll(r):p=await d.getAll(),p.map(y=>jh(y)).sort((y,T)=>y.sessionId!==T.sessionId?y.sessionId.localeCompare(T.sessionId):y.seq!==T.seq?y.seq-T.seq:y.chunkStartMs-T.chunkStartMs)}async listSnips(r){const d=(await re()).transaction("snips").store;let p;return r?p=await d.index("by-session").getAll(r):p=await d.getAll(),p.map(y=>hu(y)).sort((y,T)=>y.sessionId!==T.sessionId?y.sessionId.localeCompare(T.sessionId):y.index-T.index)}async appendSnips(r,m){const p=(await re()).transaction("snips","readwrite"),M=p.objectStore("snips"),y=await M.index("by-session").getAll(r),T=new Map;y.forEach(N=>{T.set(N.index,N)});const b=Date.now();for(const N of m){if(T.has(N.index))continue;const E=Number.isFinite(N.startMs)?Math.max(0,N.startMs):0,L=Number.isFinite(N.endMs)?Math.max(E,N.endMs):E,$=Number.isFinite(N.durationMs)?Math.max(0,N.durationMs):Math.max(0,L-E),et={id:`${r}-snip-${N.index}`,sessionId:r,index:N.index,startMs:E,endMs:L,durationMs:$,breakReason:N.breakReason??null,boundaryIndex:typeof N.boundaryIndex=="number"?N.boundaryIndex:null,createdAt:b,updatedAt:b,transcription:null,transcriptionError:null,audioPurgedAt:null};await M.put(et),T.set(et.index,et)}return await p.done,Array.from(T.values()).map(N=>hu(N)).sort((N,E)=>N.index-E.index)}async updateSnipTranscription(r,m){const p=(await re()).transaction("snips","readwrite"),M=p.objectStore("snips"),y=await M.get(r);if(!y)return await p.done,null;const T=hu({...y,transcription:m.transcription!==void 0?m.transcription:y.transcription,transcriptionError:m.transcriptionError!==void 0?m.transcriptionError:y.transcriptionError,updatedAt:Date.now()});return await M.put(T),await p.done,T}async deleteSession(r){const d=(await re()).transaction(["sessions","chunks","chunkVolumes","snips"],"readwrite");await d.objectStore("sessions").delete(r);const M=d.objectStore("chunks").index("by-session");for(let N=await M.openCursor(r);N;N=await N.continue())await N.delete();const T=d.objectStore("chunkVolumes").index("by-session");for(let N=await T.openCursor(r);N;N=await N.continue())await N.delete();const v=d.objectStore("snips").index("by-session");for(let N=await v.openCursor(r);N;N=await N.continue())await N.delete();await d.done}async purgeLegacyMp4Sessions(){const m=(await this.listSessions()).filter(d=>/mp4|m4a/i.test(d.mimeType??""));for(const d of m)await this.deleteSession(d.id);return{deletedSessions:m.length}}async storageTotals(){const m=(await re()).transaction("chunks").store;let d=0,p=await m.openCursor();for(;p;)d+=p.value.byteLength,p=await p.continue();return{totalBytes:d}}async applyRetentionPolicy(r){const m=typeof r.now=="number"?r.now:Date.now(),p=(await re()).transaction(["chunks","snips","sessions"],"readwrite"),M=p.objectStore("chunks"),y=p.objectStore("snips"),T=p.objectStore("sessions"),[b,v,N]=await Promise.all([M.getAll(),y.getAll(),T.getAll()]),E=b.map(A=>({...A,timingStatus:A.timingStatus??Xe})),L=v.map(A=>hu(A)),$=N.map(A=>({...A,timingStatus:A.timingStatus??Xe})),et=E.reduce((A,V)=>A+V.byteLength,0);let F=et;const xt=Number.isFinite(r.limitBytes)?Math.max(0,r.limitBytes):et;if(F<=xt)return await p.done,{limitBytes:xt,beforeBytes:et,afterBytes:F,purgedChunkIds:[],purgedSnipIds:[],updatedSessionIds:[],ranAt:m};const ut=new Map($.map(A=>[A.id,A])),bt=new Map;E.forEach(A=>{bt.set(A.sessionId,(bt.get(A.sessionId)??0)+A.byteLength)});const ot=new Map;L.forEach(A=>{const V=ot.get(A.sessionId);V?V.push(A):ot.set(A.sessionId,[A])}),ot.forEach(A=>A.sort((V,W)=>V.startMs-W.startMs));const H=1e12,P=new Map;E.forEach(A=>{const V=P.get(A.sessionId);(V===void 0||A.startMs<V)&&P.set(A.sessionId,A.startMs)});const mt=new Map;ot.forEach((A,V)=>{mt.set(V,A.some(W=>W.startMs>H||W.endMs>H))});const J=new Map;$.forEach(A=>{const V=Number.isFinite(A.startedAt)?Math.round(A.startedAt):P.get(A.id)??0,W=Number.isFinite(V)?V:0;J.set(A.id,{baseStartMs:W,baseIsAbsolute:W>H,snipIsAbsolute:mt.get(A.id)??!1})});const ct=4,Gt=(A,V)=>{const W=A.blob.type||V?.mimeType||"";if(!/mp4|m4a/i.test(W))return!1;const I=Math.max(0,A.endMs-A.startMs);return A.seq===0&&(I<=10||A.byteLength<4096)},le=(A,V)=>{const{baseStartMs:W,baseIsAbsolute:I,snipIsAbsolute:st}=V,S=I&&A.startMs>H,_=st?S?A.startMs:I?W+A.startMs:A.startMs:S?A.startMs-W:A.startMs,tt=st?S?A.endMs:I?W+A.endMs:A.endMs:S?A.endMs-W:A.endMs,nt=Number.isFinite(_)?_:0,gt=Number.isFinite(tt)?tt:nt;return{startMs:st?nt:Math.max(0,nt),endMs:st?gt:Math.max(Math.max(0,nt),gt)}},Wt=(A,V,W)=>{if(!A||A.length===0)return[];const I=V+ct,st=W-ct;if(st<=I)return[];const S=[];for(const _ of A)if(!(_.endMs<=I)){if(_.startMs>=st)break;S.push(_)}return S},Pt=[];for(const A of E){if(A.byteLength<=0||A.blob.size<=0)continue;const V=ut.get(A.sessionId)??null;if(Gt(A,V))continue;const W=ot.get(A.sessionId),I=J.get(A.sessionId)??{baseStartMs:0,baseIsAbsolute:!1,snipIsAbsolute:!1},st=le(A,I),S=Wt(W,st.startMs,st.endMs);S.length!==0&&S.every(_=>_.transcription&&!_.transcriptionError)&&Pt.push({chunk:A,snipIds:S.map(_=>_.id),session:V})}Pt.sort((A,V)=>{const W=A.chunk.createdAt??A.chunk.startMs,I=V.chunk.createdAt??V.chunk.startMs;return W!==I?W-I:A.chunk.seq-V.chunk.seq});const on=[],ze=new Set,Ce=new Set;for(const A of Pt){if(F<=xt)break;const V=A.chunk,W=V.byteLength;if(W<=0)continue;const I=V.blob.type||A.session?.mimeType||"",st={...V,blob:new Blob([],{type:I}),byteLength:0,audioPurgedAt:m};await M.put(st),on.push(V.id),F=Math.max(0,F-W),bt.set(V.sessionId,Math.max(0,(bt.get(V.sessionId)??0)-W)),Ce.add(V.sessionId),A.snipIds.forEach(S=>ze.add(S))}for(const A of Ce){const V=ut.get(A);if(!V)continue;const W=Math.max(0,bt.get(A)??0);await T.put({...V,totalBytes:W,updatedAt:m,timingStatus:V.timingStatus??Xe})}for(const A of ze){const V=await y.get(A);if(!V)continue;const W=hu(V);W.audioPurgedAt||await y.put({...W,audioPurgedAt:m,updatedAt:m})}return await p.done,{limitBytes:xt,beforeBytes:et,afterBytes:F,purgedChunkIds:on,purgedSnipIds:Array.from(ze),updatedSessionIds:Array.from(Ce),ranAt:m}}async verifySessionChunkTimings(r){const d=(await re()).transaction(["chunks","chunkVolumes","sessions"],"readwrite"),p=d.objectStore("chunks"),M=d.objectStore("chunkVolumes"),y=d.objectStore("sessions"),[T,b]=await Promise.all([y.get(r),p.index("by-session").getAll(r)]),v=T?{...T,timingStatus:T.timingStatus??Xe}:null;if(b.length===0)return await d.done,{sessionId:r,status:Xe,updatedChunkIds:[],missingChunkIds:[],totalVerifiedDurationMs:0,baseStartMs:v?.startedAt??null,verifiedChunkCount:0,session:v};const N=[...b].sort((J,ct)=>J.seq-ct.seq),E=new Array(N.length),L=[],$=v?.mimeType??"",F=/mp4|m4a/i.test($)?N.find(J=>J.seq===0&&(J.endMs-J.startMs<=10||J.byteLength<4096))??null:null;for(let J=0;J<N.length;J+=1){const ct=N[J];if(F?.id===ct.id){E[J]=0;continue}const le=typeof ct.verifiedAudioMsec=="number"&&ct.verifiedAudioMsec>0?Math.round(ct.verifiedAudioMsec):null;if(le!==null){E[J]=le;continue}const Wt=await M.get(ct.id);if(Wt&&typeof Wt.durationMs=="number"&&Wt.durationMs>0){E[J]=Math.round(Wt.durationMs);continue}L.push(ct.id)}const xt=F?.startMs??v?.startedAt??N[0]?.startMs??Date.now(),ut=Number.isFinite(xt)?Math.round(xt):Date.now();if(L.length>0)return T&&T.timingStatus!==Xe&&await y.put({...T,timingStatus:Xe}),await d.done,{sessionId:r,status:Xe,updatedChunkIds:[],missingChunkIds:L,totalVerifiedDurationMs:0,baseStartMs:ut,verifiedChunkCount:N.filter((J,ct)=>E[ct]>0).length,session:v};const bt=sy(ut,N.map((J,ct)=>({id:J.id,seq:J.seq,durationMs:E[ct]}))),ot=[];let H=0,P=0;for(let J=0;J<bt.length;J+=1){const ct=N[J],Gt=bt[J],le={...ct,startMs:Gt.startMs,endMs:Gt.endMs,verifiedAudioMsec:Gt.durationMs,timingStatus:"verified"};(ct.startMs!==le.startMs||ct.endMs!==le.endMs||(ct.verifiedAudioMsec??0)!==le.verifiedAudioMsec||ct.timingStatus!=="verified")&&(await p.put(le),ot.push(le.id)),N[J]=le,Gt.durationMs>0&&(P+=1,H+=Math.max(0,Gt.durationMs))}let mt=v;if(T){const J=Math.max(0,Math.round(H)),ct={...T,timingStatus:"verified",durationMs:Math.max(T.durationMs,J),updatedAt:Date.now()};await y.put(ct),mt={...ct}}return await d.done,{sessionId:r,status:"verified",updatedChunkIds:ot,missingChunkIds:[],totalVerifiedDurationMs:Math.max(0,Math.round(H)),baseStartMs:ut,verifiedChunkCount:P,session:mt}}async reconcileDanglingSessions(){const m=(await re()).transaction(["sessions","chunks"],"readwrite"),d=m.objectStore("sessions"),p=m.objectStore("chunks"),M=await d.getAll(),y=Date.now();for(const T of M){if(T.status!=="recording")continue;const b=await p.index("by-session").getAll(T.id);if(b.length===0)await d.put({...T,status:"error",notes:"No audio captured (session interrupted).",updatedAt:y,totalBytes:0,chunkCount:0,durationMs:0,timingStatus:T.timingStatus??Xe});else{const v=b.reduce((E,L)=>E+L.byteLength,0),N=Math.max(T.durationMs,Math.max(...b.map(E=>E.endMs))-T.startedAt);await d.put({...T,status:"ready",notes:T.notes,updatedAt:y,totalBytes:v,chunkCount:b.length,durationMs:N,timingStatus:T.timingStatus??Xe})}}await m.done}async getChunksForInspection(){const d=(await(await re()).transaction("chunks").store.getAll()).sort((p,M)=>p.startMs!==M.startMs?M.startMs-p.startMs:p.seq!==M.seq?M.seq-p.seq:(M.createdAt??0)-(p.createdAt??0));return Promise.all(d.map(async({blob:p,...M})=>{let y=null;try{y=(await p.arrayBuffer()).byteLength}catch(T){console.warn("[Manifest] Failed to read chunk blob for inspection",T)}return{...M,timingStatus:M.timingStatus??Xe,blobSize:p.size,blobType:p.type,verifiedByteLength:y,sizeMismatch:y!==null&&y!==p.size,startIso:new Date(M.startMs).toISOString(),endIso:new Date(M.endMs).toISOString(),blob:"[binary omitted]"}}))}async createLogSession(){const m=(await re()).transaction(["logSessions","logEntries"],"readwrite"),d=m.objectStore("logSessions"),M={id:crypto.randomUUID(),startedAt:Date.now()};await d.put(M);const y=await d.getAll();if(y.length>Rh){const b=y.sort((N,E)=>N.startedAt-E.startedAt).slice(0,y.length-Rh),v=m.objectStore("logEntries");for(const N of b){await d.delete(N.id);for(let E=await v.index("by-session").openCursor(N.id);E;E=await E.continue())await E.delete()}}return await m.done,M}async finishLogSession(r){const d=(await re()).transaction("logSessions","readwrite").objectStore("logSessions"),p=await d.get(r);p&&(p.endedAt=Date.now(),await d.put(p))}async appendLogEntry(r){await(await re()).transaction("logEntries","readwrite").objectStore("logEntries").add({...r})}async listLogSessions(){return(await(await re()).transaction("logSessions").store.getAll()).sort((d,p)=>p.startedAt-d.startedAt)}async getLogEntries(r,m=250){const p=(await re()).transaction("logEntries").store.index("by-session"),M=[];for(let y=await p.openCursor(r,"prev");y&&M.length<m;y=await y.continue())M.push(y.value);return M.sort((y,T)=>y.timestamp-T.timestamp)}}const vt=new cy,zh=120,di=[];let Uc=!1,id=null,Ja=null;async function ry(){return Ja||(Ja=await vt.createLogSession(),await Ht("Logger initialised")),fy(),Ja}async function oy(){Ja&&(await Ht("Logger shutting down"),await vt.finishLogSession(Ja.id),Ja=null),my()}async function qc(o,r,m){if(Ja)try{await vt.appendLogEntry({sessionId:Ja.id,timestamp:Date.now(),level:o,message:r,details:m})}catch(d){console.warn("[Logger] Failed to persist log entry",d)}}function Oh(o,r){return qc("debug",o,r)}function Ht(o,r){return qc("info",o,r)}function fn(o,r){return qc("warn",o,r)}function tn(o,r){return qc("error",o,r)}function kh(){return Ja}const dy=o=>{if(!o)return"unknown";if(o instanceof HTMLElement){let r=o.tagName.toLowerCase();o.id?r+=`#${o.id}`:o.classList.length>0&&(r+=`.${o.classList[0]}`);const m=o;return m.src?r+=` src=${m.src}`:m.href&&(r+=` href=${m.href}`),r}return o.constructor?.name??"unknown"},Io=o=>{di.push(o),di.length>zh&&di.splice(0,di.length-zh)};function fy(){if(Uc||typeof window>"u")return;Uc=!0;const o=m=>{const d=Date.now();if(m instanceof ErrorEvent){Io({timestamp:d,type:"error",message:m.message||"Uncaught error",stack:m.error instanceof Error?m.error.stack:void 0,filename:m.filename||void 0,lineno:m.lineno||void 0,colno:m.colno||void 0});return}Io({timestamp:d,type:"resource",message:"Resource error",target:dy(m.target)})},r=m=>{const d=Date.now(),p=m.reason,M=p instanceof Error?p.message:String(p);Io({timestamp:d,type:"unhandledrejection",message:M||"Unhandled promise rejection",stack:p instanceof Error?p.stack:void 0,reason:p instanceof Error?void 0:String(p)})};window.addEventListener("error",o,!0),window.addEventListener("unhandledrejection",r),id=()=>{window.removeEventListener("error",o,!0),window.removeEventListener("unhandledrejection",r)}}function my(){Uc&&(id?.(),id=null,Uc=!1)}function hy(o){return Number.isFinite(o)?di.filter(r=>r.timestamp>=o):[]}async function py(o,r={}){if(!o||!Number.isFinite(o)){await Ht("Global error snapshot skipped (missing timestamp)",r);return}const m=hy(o),d={...r,since:o,capturedCount:m.length,bufferSize:di.length,entries:m.slice(-20)};if(m.length===0){await Ht("No global errors captured during recording start window",d);return}await fn("Global errors captured during recording start window",d)}const gy={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}},pu="audio/mpeg",_h=9e3,yy=o=>({id:o.id,label:o.label,enabled:o.enabled,muted:o.muted,readyState:o.readyState,settings:typeof o.getSettings=="function"?o.getSettings():void 0,constraints:typeof o.getConstraints=="function"?o.getConstraints():void 0}),Uh=o=>{if(!o)return null;const r=o.getAudioTracks();return{active:o.active,trackCount:r.length,tracks:r.map(m=>yy(m))}},Bh=o=>{if(!o)return null;const r="outputLatency"in o?o.outputLatency:null;return{state:o.state,sampleRate:o.sampleRate,baseLatency:Number.isFinite(o.baseLatency)?o.baseLatency:null,outputLatency:Number.isFinite(r)?r:null}},vy=o=>{const r=new Int16Array(o.length);for(let m=0;m<o.length;m+=1){const d=Math.max(-1,Math.min(1,o[m]));r[m]=d<0?Math.round(d*32768):Math.round(d*32767)}return r};class by{#t=null;#a=null;#n=null;#e=null;#i=null;#l=null;#f=0;#m=Promise.resolve();#r=0;#u=48e3;#g=64;#p=0;#h=0;#b=0;#M=0;#o=[];#c=0;#S=new Set;#s={sessionId:null,state:"idle",startedAt:null,lastChunkAt:null,capturedMs:0,bytesBuffered:0,mimeType:null,chunksRecorded:0};#y=null;#v=!1;get state(){return this.#s}#d(r){this.#s={...this.#s,...r},this.#S.forEach(m=>m(this.#s))}async start(r){if(this.#s.state==="recording"||this.#s.state==="starting")throw new Error("Recorder already running");this.#d({state:"starting",error:void 0,capturedMs:0}),await vt.init(),await Ht("Requesting microphone stream");const m=await navigator.mediaDevices.getUserMedia(gy);await Ht("Microphone stream acquired",{stream:Uh(m)});const d=window.AudioContext||window.webkitAudioContext;if(typeof d!="function")throw new Error("AudioContext unavailable");const p=new d;await p.resume().catch(()=>{});const M=p.createMediaStreamSource(m),y=p.createScriptProcessor(4096,1,1),T=p.createGain();T.gain.value=0,M.connect(y),y.connect(T),T.connect(p.destination),this.#t=m,this.#a=p,this.#n=M,this.#e=y,this.#i=T,this.#l=r.sessionId,this.#f=0,this.#o=[],this.#c=0,this.#h=0,this.#b=0,this.#r=Date.now(),this.#u=p.sampleRate,this.#g=Math.max(8,Math.round(r.targetBitrate/1e3)),this.#p=Math.max(1,Math.round(r.chunkDurationMs/1e3*this.#u)),this.#M=Math.max(1,Math.round(this.#u/10)),this.#v=!1,await Ht("PCM capture started",{sessionId:r.sessionId,startedAt:this.#r,sampleRate:this.#u,chunkDurationMs:r.chunkDurationMs,mp3Kbps:this.#g,audioContext:Bh(p)}),await qg(),await vt.updateSession(r.sessionId,{startedAt:this.#r,updatedAt:this.#r,mimeType:pu,status:"recording"}),this.#d({state:"recording",sessionId:r.sessionId,startedAt:this.#r,lastChunkAt:this.#r,capturedMs:0,mimeType:pu,bytesBuffered:0,chunksRecorded:0}),y.onaudioprocess=b=>{if(!this.#l||this.#s.state!=="recording")return;this.#v=!0;const v=b.inputBuffer.getChannelData(0),N=vy(v);this.#o.push(N),this.#c+=N.length;const E=this.#h+this.#c;if(E-this.#b>=this.#M){this.#b=E;const L=Math.round(E/this.#u*1e3);this.#d({capturedMs:L})}this.#c>=this.#p&&this.#A().catch(L=>{console.error("[PCM Capture] chunk flush failed",L),this.#d({state:"error",error:L instanceof Error?L.message:String(L)}),tn("PCM chunk flush failed",{sessionId:this.#l,error:L instanceof Error?L.message:String(L)})})},this.#w()}async#A(){if(!this.#l||this.#c<this.#p)return;const r=this.#p,m=[];let d=r;for(;d>0&&this.#o.length>0;){const p=this.#o[0];p.length<=d?(m.push(p),this.#o.shift(),d-=p.length):(m.push(p.subarray(0,d)),this.#o[0]=p.subarray(d),d=0)}this.#c-=r,await this.#x(m)}async#T(){if(!this.#l||this.#c<=0)return;const r=this.#o;this.#o=[],this.#c=0,await this.#x(r)}async#x(r){if(!this.#l)return;const m=this.#l,d=this.#f++,p=Lg(),M=new p(1,this.#u,this.#g),y=[];let T=0;for(const $ of r){if($.length===0)continue;T+=$.length;const et=M.encodeBuffer($);if(et.length>0){const F=new Uint8Array(et.length);F.set(et),y.push(F)}}const b=M.flush();if(b.length>0){const $=new Uint8Array(b.length);$.set(b),y.push($)}const v=new Blob(y,{type:pu}),N=this.#r+Math.round(this.#h/this.#u*1e3),E=this.#r+Math.round((this.#h+T)/this.#u*1e3);this.#h+=T;const L=`${m}-chunk-${d}`;Oh("PCM chunk encoded",{sessionId:m,seq:d,sampleRate:this.#u,samples:T,durationMs:E-N,mp3Bytes:v.size,mp3Kbps:this.#g,chunkStartMs:N,chunkEndMs:E}),this.#m=this.#m.then(()=>vt.appendChunk({id:L,sessionId:m,seq:d,startMs:N,endMs:E,verifiedAudioMsec:null},v)).then(async()=>{this.#d({lastChunkAt:E,bytesBuffered:this.#s.bytesBuffered+v.size,chunksRecorded:this.#s.chunksRecorded+1}),await Ht("Chunk persisted",{sessionId:m,seq:d,size:v.size,startMs:N,endMs:E,mimeType:pu});try{const $=await ep(v,{chunkId:L,sessionId:m,seq:d,chunkStartMs:N,chunkEndMs:E});await vt.storeChunkVolumeProfile($),Oh("Chunk volume profile stored",{sessionId:m,seq:d,frameCount:$.frames.length})}catch($){fn("Chunk volume profile failed",{sessionId:m,seq:d,error:$ instanceof Error?$.message:String($)})}})}async stop(){if(this.#s.state!=="recording")return;this.#d({state:"stopping"}),this.#E(),await this.#T(),await this.flushPending();const r=this.#l;let m;if(r){const d=await vt.getChunkMetadata(r),p=d.some(v=>v.byteLength>0&&v.endMs>v.startMs),M=p?"ready":"error",y=d.length>0?d[d.length-1].endMs-d[0].startMs:0,T=d.reduce((v,N)=>v+N.byteLength,0);p||(m=d.length===0?"Error: no audio captured. Check microphone access and try again.":"Error: captured audio contained no playable samples.",await tn("Session completed without playable audio",{sessionId:r,chunkCount:d.length,totalBytes:T,mimeType:pu}));const b={status:M,updatedAt:Date.now(),durationMs:y,totalBytes:T,chunkCount:d.length};m&&(b.notes=m),await vt.updateSession(r,b),await Ht("Session timing reconciled",{sessionId:r,status:M,durationMs:y,totalBytes:T,chunkCount:d.length,hasPlayableChunk:p})}this.#C(),this.#l=null,this.#d({state:"idle",sessionId:null,startedAt:null,lastChunkAt:null,capturedMs:0,mimeType:null,chunksRecorded:0,bytesBuffered:0,error:m})}async flushPending(){await this.#m}attachAnalysisPort(r){}#C(){if(this.#e){this.#e.onaudioprocess=null;try{this.#e.disconnect()}catch{}this.#e=null}if(this.#n){try{this.#n.disconnect()}catch{}this.#n=null}if(this.#i){try{this.#i.disconnect()}catch{}this.#i=null}this.#a&&(this.#a.close().catch(()=>{}),this.#a=null),this.#t&&(this.#t.getTracks().forEach(r=>r.stop()),this.#t=null)}#w(){this.#E(),this.#y=window.setTimeout(()=>{!this.#v&&this.#s.state==="recording"&&(this.#d({error:"No audio detected  recording may be muted."}),fn("No PCM audio callback detected within timeout",{sessionId:this.#l,timeoutMs:_h,diagnostics:this.getDiagnostics()}))},_h)}#E(){this.#y!==null&&(window.clearTimeout(this.#y),this.#y=null)}getDiagnostics(){const r=this.#e,m=!!(this.#n||this.#e||this.#i);return{sessionId:this.#l,state:this.#s.state,startedAt:this.#s.startedAt,audioContext:Bh(this.#a),stream:Uh(this.#t),audioGraph:m?{hasSource:!!this.#n,hasProcessor:!!this.#e,hasMuteGain:!!this.#i,processorBufferSize:typeof r?.bufferSize=="number"?r.bufferSize:null,channelCount:typeof r?.channelCount=="number"?r.channelCount:null,channelCountMode:r?.channelCountMode??null,channelInterpretation:r?.channelInterpretation??null}:null,processing:{hasSeenAudioProcess:this.#v,pendingSamples:this.#c,totalSamplesWritten:this.#h,chunkTargetSamples:this.#p,sampleRate:this.#u}}}subscribe(r){return this.#S.add(r),r(this.#s),()=>this.#S.delete(r)}}const ps=new by,rn={desiredActive:!1,sentinel:null,pending:!1,supportLogged:!1,listenersAttached:!1},Fo=()=>typeof document>"u"?"unknown":document.visibilityState??"unknown",Sy=()=>{if(typeof navigator>"u")return null;const o=navigator.wakeLock;return!o||typeof o.request!="function"?null:o},fd=async o=>{if(!rn.desiredActive||rn.pending||rn.sentinel)return;const r=Sy();if(!r){rn.supportLogged||(rn.supportLogged=!0,await fn("Wake Lock API unavailable; screen may sleep during recording",{reason:o,userAgent:typeof navigator<"u"?navigator.userAgent:"unknown"}));return}if(typeof document<"u"&&document.visibilityState!=="visible"){await Ht("Wake lock request deferred until page is visible",{reason:o,visibility:Fo()});return}rn.pending=!0;try{const m=await r.request("screen");rn.sentinel=m,m.addEventListener("release",()=>{rn.sentinel=null,rn.desiredActive&&(fn("Wake lock released unexpectedly; retrying",{visibility:Fo()}),fd("released"))}),await Ht("Wake lock acquired for recording",{reason:o})}catch(m){await fn("Wake lock request failed",{reason:o,visibility:Fo(),error:m instanceof Error?m.message:String(m)})}finally{rn.pending=!1}},My=async o=>{const r=rn.sentinel;if(r){rn.sentinel=null;try{r.released||await r.release(),await Ht("Wake lock released after recording",{reason:o})}catch(m){await fn("Wake lock release failed",{reason:o,error:m instanceof Error?m.message:String(m)})}}},xy=()=>{rn.listenersAttached||typeof document>"u"||(rn.listenersAttached=!0,document.addEventListener("visibilitychange",()=>{rn.desiredActive&&document.visibilityState==="visible"&&fd("visibilitychange")}))},kc=async(o,r)=>{if(rn.desiredActive=o,o){await fd(r);return}await My(r)},gu=o=>{if(!Number.isFinite(o)||o<=0)return"0.0s";const r=o/1e3;if(r<10)return`${r.toFixed(1)}s`;if(r<60)return`${r.toFixed(0)}s`;const m=Math.floor(r/60),d=r%60;return`${m}m ${d.toFixed(0).padStart(2,"0")}s`},Ey=10,Ay=75e3,qh=720,Lh=12,Ty=.75,Cy=.1,Hh=3,Gh=7,Yh=(o,r=Ey)=>{if(!Number.isFinite(o)||o<=0)return 0;const m=Math.min(1,Math.max(0,o)),d=Math.log10(1+(r-1)*m),p=Math.log10(r);if(!Number.isFinite(d)||!Number.isFinite(p)||p===0)return m;const M=d/p;return Math.min(1,Math.max(0,M))},wy=1,Dy=(o,r,m,d,p)=>{if(o.length===0||r<=0||d<=0)return[];const M=[...o].sort((E,L)=>E.startMs!==L.startMs?E.startMs-L.startMs:E.endMs!==L.endMs?E.endMs-L.endMs:E.index-L.index),y=[];let T=[],b=0,v=-1/0;const N=()=>{T.length>1&&(T.push(`L ${b.toFixed(2)} ${m}`),T.push("Z"),y.push(T.join(" "))),T=[]};return M.forEach((E,L)=>{const $=(E.startMs+E.endMs)/2,et=Math.min(d,Math.max(0,E.startMs/r*d)),F=Math.min(d,Math.max(0,E.endMs/r*d)),xt=Math.min(d,Math.max(0,$/r*d)),ut=p(E.normalized),bt=Math.max(0,Math.min(m,(1-ut)*m));(T.length===0||$+wy<v)&&(N(),T=[`M ${et.toFixed(2)} ${m}`]),T.push(`L ${xt.toFixed(2)} ${bt.toFixed(2)}`),b=Math.max(F,b),v=$,L===M.length-1&&N()}),T.length>0&&N(),y},Ny=(o,r,m)=>o.map(d=>{const p=d.startMs/r*m,M=(d.endMs-d.startMs)/r*m;return{x:p,rectWidth:M}}),jy=(o,r,m)=>o.map(d=>({x:d.positionMs/r*m})),Ry=o=>o.map(r=>({id:r.index,label:r.breakReason==="end"?"Tail":`Segment #${r.index+1}`,durationMs:r.durationMs,startMs:r.startMs,endMs:r.endMs,breakReason:r.breakReason})),zy=({analysis:o,targetRange:r,playback:m})=>{const d=D.useRef(null),p=D.useRef(null),[M,y]=D.useState(!1),[T,b]=D.useState(!1),[v,N]=D.useState(!1),E=120,L=o.stats.totalDurationMs,$=L>0?L:o.stats.frameCount*o.stats.frameDurationMs,et=typeof window<"u"?Math.min(960,Math.max(qh,Math.floor(window.innerWidth*.8))):qh,F=$>0?Math.max(et,Math.round($/Ay*et)):et,xt=D.useId(),ut=m?.positionMs??null,bt=$>0&&F>0,ot=ut===null||!bt?null:Math.min(Math.max(ut,0),$),H=ot===null||!bt?null:ot/$,P=H===null?null:H*F,mt=D.useMemo(()=>{if(P===null||!bt)return null;const I=Math.min(F,Math.max(0,P)),st=S=>Math.max(0,Math.min(Math.max(F-S,0),I-S/2));return{center:I,mainX:st(Hh),mainWidth:Hh,glowX:st(Gh),glowWidth:Gh}},[bt,P,F]),J=!!m?.isPlaying,ct=D.useCallback(()=>{const I=d.current;if(!I){b(!1),N(!1);return}const{scrollLeft:st,clientWidth:S,scrollWidth:_}=I;b(st>Lh),N(st+S<_-Lh)},[]),Gt=D.useCallback(I=>{M&&I.preventDefault(),ct()},[M,ct]),le=D.useCallback(I=>{const st=d.current;st&&(st.setPointerCapture(I.pointerId),p.current={pointerId:I.pointerId,startX:I.clientX,scrollLeft:st.scrollLeft},y(!0))},[]),Wt=D.useCallback(I=>{const st=d.current,S=p.current;if(!st||!S||S.pointerId!==I.pointerId)return;I.preventDefault();const _=I.clientX-S.startX;st.scrollLeft=S.scrollLeft-_,ct()},[ct]),Pt=D.useCallback(I=>{const st=d.current,S=p.current;!st||!S||S.pointerId!==I.pointerId||(st.releasePointerCapture(I.pointerId),p.current=null,y(!1),ct())},[ct]);D.useEffect(()=>{ct()},[F,ct]),D.useEffect(()=>{const I=d.current;if(!I||mt===null||M||!J)return;const st=I.clientWidth;if(st<=0)return;const S=Math.max(0,I.scrollWidth-st);if(S<=0)return;const _=I.scrollLeft,tt=_,nt=_+st,gt=st*Ty,wt=st*Cy;let Et=null;mt.center>=tt+gt?Et=Math.min(S,mt.center-gt):mt.center<=tt?Et=Math.max(0,mt.center-wt):mt.center>=nt&&(Et=Math.min(S,mt.center-gt)),Et!==null&&Math.abs(Et-_)>.5&&(typeof I.scrollTo=="function"?I.scrollTo({left:Et,behavior:"smooth"}):I.scrollLeft=Et,typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(()=>{ct()}):ct())},[M,J,mt,ct]);const on=D.useMemo(()=>Dy(o.frames,$,E,F,Yh),[o.frames,$,E,F]),ze=D.useMemo(()=>Ny(o.quietRegions,$,F),[o.quietRegions,$,F]),Ce=D.useMemo(()=>jy(o.boundaries,$,F),[o.boundaries,$,F]),A=D.useMemo(()=>Ry(o.segments),[o.segments]),V=(1-Yh(o.stats.normalizedThreshold))*E,W=["chunking-graph-scroll",M?"is-dragging":"",T?"show-left-indicator":"",v?"show-right-indicator":""].filter(Boolean).join(" ");return f.jsxs("div",{className:"chunking-graph",children:[f.jsxs("header",{className:"chunking-graph-header",children:[f.jsx("h4",{children:"Volume histogram"}),f.jsxs("div",{className:"chunking-graph-meta",children:[f.jsxs("span",{children:["Frames: ",o.stats.frameCount]}),f.jsxs("span",{children:["Duration: ",gu($)]})]})]}),f.jsxs("div",{className:"chunking-graph-body",children:[f.jsx("div",{className:W,ref:d,onScroll:Gt,onPointerDown:le,onPointerMove:Wt,onPointerUp:Pt,onPointerCancel:Pt,onPointerLeave:I=>{M&&Pt(I)},children:f.jsxs("svg",{className:"chunking-graph-svg",role:"img",viewBox:`0 0 ${F} ${E}`,width:F,height:E,"aria-label":"Volume histogram with proposed chunk boundaries",preserveAspectRatio:"none",children:[f.jsx("rect",{x:0,y:0,width:F,height:E,fill:"rgba(15, 23, 42, 0.85)"}),ze.map((I,st)=>f.jsx("rect",{x:I.x,y:0,width:Math.max(1.5,I.rectWidth),height:E,fill:"rgba(56, 189, 248, 0.12)"},`quiet-${st}`)),on.map((I,st)=>f.jsx("path",{d:I,fill:`url(#${xt})`,stroke:"rgba(94, 234, 212, 0.48)",strokeWidth:1},`histogram-${st}`)),mt?f.jsxs("g",{className:"chunking-playback-indicator","aria-hidden":"true",children:[f.jsx("rect",{x:mt.glowX,y:0,width:mt.glowWidth,height:E,fill:"rgba(34, 197, 94, 0.28)"}),f.jsx("rect",{x:mt.mainX,y:0,width:mt.mainWidth,height:E,fill:"rgba(34, 197, 94, 0.95)"})]}):null,f.jsx("line",{x1:0,y1:V,x2:F,y2:V,strokeDasharray:"6 6",stroke:"rgba(250, 204, 21, 0.9)",strokeWidth:1}),Ce.map((I,st)=>f.jsxs("g",{children:[f.jsx("rect",{x:I.x-2,y:0,width:4,height:E,fill:"rgba(251, 146, 60, 0.24)"}),f.jsx("line",{x1:I.x,y1:0,x2:I.x,y2:E,stroke:"#facc15",strokeWidth:1.5})]},`boundary-${st}`)),f.jsx("defs",{children:f.jsxs("linearGradient",{id:xt,x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"rgba(94, 234, 212, 0.55)"}),f.jsx("stop",{offset:"100%",stopColor:"rgba(56, 189, 248, 0.15)"})]})})]})}),r?f.jsxs("div",{className:"chunking-target-hint",children:["Target chunk length: ",gu(r.minMs),"  ",gu(r.maxMs)," (ideal"," ",gu(r.idealMs),")"]}):null,f.jsxs("dl",{className:"chunking-stats",children:[f.jsxs("div",{children:[f.jsx("dt",{children:"Noise floor"}),f.jsx("dd",{children:o.stats.noiseFloor.toFixed(5)})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Silence threshold"}),f.jsx("dd",{children:o.stats.threshold.toFixed(5)})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Peak RMS"}),f.jsx("dd",{children:o.stats.maxRms.toFixed(5)})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Quiet regions"}),f.jsx("dd",{children:o.quietRegions.length})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Proposed breaks"}),f.jsx("dd",{children:o.boundaries.length})]})]})]}),f.jsxs("div",{className:"chunking-chunk-list",children:[f.jsx("h5",{children:"Proposed chunks"}),A.length===0?f.jsx("p",{className:"chunking-empty",children:"No proposed breaks yet. Recording may be too short or lacks silence."}):f.jsx("ul",{children:A.map(I=>f.jsxs("li",{children:[f.jsx("span",{className:"chunking-chunk-label",children:I.label}),f.jsx("span",{children:gu(I.durationMs)})]},I.id))})]})]})},Oy=D.memo(zy),ky=/mp4|m4a/i,_y=3;class ud{#t;#a=!1;#n=new Map;#e=new Map;constructor(r=vt){this.#t=r}async#i(){this.#a||(await this.#t.init(),this.#a=!0)}async ensureTimings(r){await this.#i();const m=this.#n.get(r);if(m)return m;const d=this.#t.verifySessionChunkTimings(r).then(p=>(this.#n.delete(r),p)).catch(p=>{throw this.#n.delete(r),p});return this.#n.set(r,d),d}async prepareAnalysisForSession(r){const{session:m,forceRefresh:d=!1}=r;await this.#i();let p=await this.ensureTimings(m.id);p.status!=="verified"&&p.missingChunkIds.length>0&&(await this.#f(m,p.missingChunkIds,r.mimeTypeHint),p=await this.ensureTimings(m.id));const y=(await this.#t.listChunkVolumeProfiles(m.id)).filter(P=>P.sessionId===m.id&&P.seq>=0).sort((P,mt)=>P.seq-mt.seq),T=y.reduce((P,mt)=>Math.max(P,mt.updatedAt??mt.createdAt??0),0),b=[`timeline-v${_y}`,m.id,m.chunkCount,m.updatedAt??0,p.totalVerifiedDurationMs,p.status,T].join(":");if(!d){const P=this.#e.get(m.id);if(P&&P.cacheKey===b)return{sessionId:m.id,cacheKey:b,analysis:P.analysis,verification:p,frames:P.frames}}const v=await this.#t.getChunkMetadata(m.id),N=/mp4|m4a/i.test(m.mimeType??r.mimeTypeHint??""),E=[...v].filter(P=>P.seq>=0).sort((P,mt)=>P.seq-mt.seq).filter(P=>!N||P.seq!==0?!0:!(Math.max(0,P.endMs-P.startMs)<=10||P.byteLength<4096)),L=new Map;E.forEach(P=>{const mt=typeof P.verifiedAudioMsec=="number"&&P.verifiedAudioMsec>0?Math.round(P.verifiedAudioMsec):0,J=Math.max(0,Math.round(P.endMs-P.startMs)),ct=mt>0?mt:J;L.set(P.seq,ct)});const $=typeof p.totalVerifiedDurationMs=="number"&&p.totalVerifiedDurationMs>0?Math.round(p.totalVerifiedDurationMs):E.reduce((P,mt)=>P+Math.max(0,Math.round(mt.endMs-mt.startMs)),0),et=new Map;y.forEach(P=>{et.set(P.seq,P)});const F=p.baseStartMs??m.startedAt,{frames:xt,sampleRate:ut,frameDurationMs:bt,totalDurationMs:ot}=this.#l({orderedChunkSeq:E.map(P=>P.seq),profilesBySeq:et,durationsBySeq:L,durationLimitMs:$,baseStartMs:F}),H=xt.length>0?tp(xt,{totalDurationMs:ot,sampleRate:ut,frameDurationMs:bt}):null;return H?this.#e.set(m.id,{cacheKey:b,analysis:H,frames:xt}):this.#e.delete(m.id),{sessionId:m.id,cacheKey:b,analysis:H,verification:p,frames:xt}}#l({orderedChunkSeq:r,profilesBySeq:m,durationsBySeq:d,durationLimitMs:p,baseStartMs:M}){let y=0;const T=[];let b=0,v=0,N=fi.frameDurationMs;return r.forEach(E=>{const L=m.get(E)??null,$=L&&Array.isArray(L.frames)?L.frames:[],et=L&&L.frameDurationMs>0?L.frameDurationMs:fi.frameDurationMs,F=d.get(E)??0,xt=Math.max(0,Math.round((L?.durationMs??0)||$.length*et)),ut=F>0?F:xt;if(p>0&&y>=p)return;const bt=y,ot=p>0?Math.max(0,Math.min(ut,p-y)):ut,H=ot>0?Math.ceil(ot/et):$.length;let P=$;if(L&&$.length>0&&F>0){const J=Math.max(0,L.durationMs??$.length*et),ct=Math.max(0,Math.round(L.chunkStartMs-M)),Gt=Math.max(ct,Math.round(L.chunkEndMs-M));if(J>F*1.5&&J>Gt*.8){const Wt=Math.max(0,Math.floor(ct/et)),Pt=Math.min($.length,Math.ceil(Gt/et));P=$.slice(Wt,Math.max(Wt,Pt))}}const mt=Math.max(0,Math.min(P.length,H));for(let J=0;J<mt;J+=1){const ct=P[J],Gt=Number.isFinite(ct)?Math.max(0,ct):0,le=bt+J*et,Wt=Math.min(bt+ot,le+et);T.push({index:b,startMs:le,endMs:Wt,rms:Gt,normalized:Gt}),b+=1}for(let J=mt;J<H;J+=1){const ct=bt+J*et,Gt=Math.min(bt+ot,ct+et);if(Gt<=ct)break;T.push({index:b,startMs:ct,endMs:Gt,rms:0,normalized:0}),b+=1}y+=ot,N=et,v===0&&L&&L.sampleRate>0&&(v=L.sampleRate)}),{frames:T,sampleRate:v,frameDurationMs:N,totalDurationMs:p>0?Math.min(y,p):y}}async#f(r,m,d){if(m.length===0)return;const p=await this.#t.getChunkData(r.id);if(p.length===0)return;const y=(p.find(v=>v.seq===0)??null)?.blob??null,T=y?.type??r.mimeType??d??"audio/mp4",b=p.filter(v=>v.seq>0&&v.blob.size>0&&m.includes(v.id));for(const v of b)try{let N=v.blob;y&&ky.test(T)&&(N=new Blob([y,v.blob],{type:y.type||v.blob.type||T}));const E=await ep(N,{chunkId:v.id,sessionId:r.id,seq:v.seq,chunkStartMs:v.startMs,chunkEndMs:v.endMs});await this.#t.storeChunkVolumeProfile(E)}catch(N){console.warn("[SessionAnalysisProvider] Failed to regenerate chunk volume profile",{sessionId:r.id,chunkId:v.id,error:N})}}}const Vh=/mp4|m4a/i,Uy=15e3,_c=(o,r,m)=>{for(let d=0;d<m.length;d+=1)o.setUint8(r+d,m.charCodeAt(d))},By=(o,r)=>{const M=r*2,y=o.length*2,T=new ArrayBuffer(44+y),b=new DataView(T);_c(b,0,"RIFF"),b.setUint32(4,36+y,!0),_c(b,8,"WAVE"),_c(b,12,"fmt "),b.setUint32(16,16,!0),b.setUint16(20,1,!0),b.setUint16(22,1,!0),b.setUint32(24,r,!0),b.setUint32(28,M,!0),b.setUint16(32,2,!0),b.setUint16(34,16,!0),_c(b,36,"data"),b.setUint32(40,y,!0);let v=44;for(let N=0;N<o.length;N+=1){const E=Math.max(-1,Math.min(1,o[N])),L=E<0?Math.round(E*32768):Math.round(E*32767);b.setInt16(v,L,!0),v+=2}return new Blob([T],{type:"audio/wav"})},Xh=(o,r,m)=>{const d=o.sampleRate,p=Math.max(0,Math.floor(r/1e3*d)),M=Math.min(o.length,Math.ceil(m/1e3*d)),y=Math.max(0,M-p);if(y===0)return{samples:new Float32Array(0),sampleRate:d,durationMs:0,startMs:r,endMs:r};if(o.numberOfChannels===1){const v=o.getChannelData(0).slice(p,M),N=v.length/d*1e3;return{samples:v,sampleRate:d,durationMs:N,startMs:r,endMs:r+N}}const T=new Float32Array(y);for(let v=0;v<o.numberOfChannels;v+=1){const N=o.getChannelData(v);for(let E=0;E<y;E+=1)T[E]+=N[p+E]/o.numberOfChannels}const b=T.length/d*1e3;return{samples:T,sampleRate:d,durationMs:b,startMs:r,endMs:r+b}};class qy{#t;#a;#n=null;constructor(r=vt,m){this.#t=r,this.#a=m??new ud(r)}async#e(){await this.#t.init()}async listChunks(r){return await this.#e(),await this.#t.getChunkData(r)}async listSnips(r,m){await this.#e();const d=await this.#t.listSnips(r.id),p=d.length>0?d[d.length-1].endMs:0,M=Math.max(0,r.durationMs??0),y=r.status==="recording",T=y?Uy:0,b=y?fi.minSegmentMs+T:0,v=Math.max(0,M-p);if(!(d.length===0||(y?v>=b:M>0&&p<Math.max(0,M-1e3))))return d;const E=await this.#a.prepareAnalysisForSession({session:r,mimeTypeHint:m??r.mimeType??null,forceRefresh:y}),L=E.analysis?.stats.totalDurationMs??E.frames[E.frames.length-1]?.endMs??0;if(L<=p+200)return d;const $=Math.min(Math.max(0,p),L),et=L,F=Math.max(0,et-$);if(F<=0||y&&F<b)return d;const ut=Zg({frames:E.frames,windowStartMs:$,windowEndMs:et,sampleRate:E.analysis?.stats.sampleRate??0,frameDurationMs:E.analysis?.stats.frameDurationMs??fi.frameDurationMs}).analysis?.segments??[];if(ut.length===0)return d;const bt=y?Math.max(0,F-T):F,ot=d.reduce((P,mt)=>Math.max(P,mt.index),-1)+1,H=[];return ut.forEach(P=>{P.endMs<=0||P.endMs>bt||H.push({index:ot+H.length,startMs:$+P.startMs,endMs:$+P.endMs,durationMs:P.durationMs,breakReason:P.breakReason,boundaryIndex:P.boundaryIndex})}),H.length===0?d:await this.#t.appendSnips(r.id,H)}async getChunkAudio(r,m){await this.#e();const d=await this.#t.getChunkData(r.id),p=d.find(F=>F.seq===m)??null;if(!p)return null;const M=d.find(F=>F.seq===0)??null,y=p.blob.type||r.mimeType||"audio/mpeg",b=M&&M.id!==p.id&&Vh.test(y)?new Blob([M.blob,p.blob],{type:y}):p.blob,v=p.startMs,N=p.endMs,E=Math.max(0,N-v),L=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-"),$=String(m+1).padStart(2,"0"),et=/mpeg/i.test(y)?"mp3":/webm/i.test(y)?"webm":/mp4|m4a/i.test(y)?"mp4":"bin";return{kind:"chunk",sessionId:r.id,startMs:v,endMs:N,durationMs:E,mimeType:b.type||y,blob:b,suggestedFilename:`${L}_chunk-${$}.${et}`}}async#i(){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");return this.#n?this.#n:(this.#n=new AudioContext,this.#n)}async#l(r){await this.#e();const m=await this.#t.getChunkData(r.id),d=r.mimeType??"",M=/mp4|m4a/i.test(d)?m.find(E=>E.seq===0&&(E.endMs-E.startMs<=10||E.byteLength<4096))??null:null,y=m.filter(E=>!M||E.id!==M.id).sort((E,L)=>E.seq-L.seq),T=M?.startMs??(y.length>0?y[0].startMs:r.startedAt??Date.now()),b=Number.isFinite(T)?Math.round(T):Date.now(),v=b>1e12,N=y.map(E=>{const L=v?E.startMs-b:E.startMs,$=v?E.endMs-b:E.endMs;return{...E,startOffsetMs:Math.max(0,L),endOffsetMs:Math.max(0,$)}});return{baseStartMs:b,headerChunk:M,playable:N}}async#f(r,m,d){const p=m.blob.type||r.mimeType||"audio/mp4",M=d&&d.id!==m.id&&Vh.test(p),y=M?new Blob([d.blob,m.blob],{type:p}):m.blob,T=await this.#i();try{const b=await y.arrayBuffer();return await T.decodeAudioData(b.slice(0))}catch(b){const v=b instanceof Error?b.message:String(b),N=[`session=${r.id}`,`chunk=${m.id}`,`seq=${m.seq}`,`bytes=${y.size}`,`mime=${p}`,M?"init=1":"init=0"].join(" ");throw new Error(`Failed to decode chunk audio (${N})${v?`: ${v}`:""}`)}}async#m(r,m,d){const p=Math.max(0,m),M=Math.max(p,d),{headerChunk:y,playable:T}=await this.#l(r);if(T.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const b=T.filter(ut=>ut.startOffsetMs<M&&ut.endOffsetMs>p).sort((ut,bt)=>ut.seq-bt.seq);if(b.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const v=[];for(const ut of b){const bt=await this.#f(r,ut,y),ot=Math.max(0,bt.duration*1e3),H=Math.max(0,ut.endOffsetMs-ut.startOffsetMs),P=H>0&&ot>H*1.5&&ot>ut.endOffsetMs*.8;v.push({chunk:ut,buffer:bt,bufferDurationMs:ot,expectedChunkDurationMs:H,isCumulative:P})}if(v.some(ut=>ut.isCumulative)){const ut=v.find(H=>H.bufferDurationMs>=M-10)??v[v.length-1],bt=ut.buffer.sampleRate,ot=Xh(ut.buffer,p,M);return{samples:ot.samples,sampleRate:bt,durationMs:ot.durationMs,startMs:p,endMs:p+ot.durationMs}}const E=[];let L=0,$=0;for(const ut of v){const bt=ut.chunk,ot=ut.buffer;$===0&&($=ot.sampleRate);const H=ot.duration*1e3,P=Math.max(0,p-bt.startOffsetMs),mt=Math.min(H,M-bt.startOffsetMs);if(mt<=P)continue;const J=Xh(ot,P,mt);E.push(J.samples),L+=J.samples.length}if($===0||L===0)return{samples:new Float32Array(0),sampleRate:$,durationMs:0,startMs:p,endMs:p};const et=new Float32Array(L);let F=0;E.forEach(ut=>{et.set(ut,F),F+=ut.length});const xt=et.length/$*1e3;return{samples:et,sampleRate:$,durationMs:xt,startMs:p,endMs:p+xt}}async getRangeAudio(r,m,d,p){const M=await this.#m(r,m,d),y=By(M.samples,M.sampleRate),T=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-");return{kind:"snip",sessionId:r.id,startMs:M.startMs,endMs:M.endMs,durationMs:M.durationMs,mimeType:y.type,blob:y,suggestedFilename:`${T}_snip-${Math.round(M.startMs)}-${Math.round(M.endMs)}.wav`}}async inspectRange(r,m,d,p){const M=await this.#m(r,m,d),{samples:y,sampleRate:T}=M,b=y.length;let v=0,N=0;for(let L=0;L<b;L+=1){const $=y[L];v+=$*$;const et=Math.abs($);et>N&&(N=et)}const E=b>0?Math.sqrt(v/b):0;return{startMs:M.startMs,endMs:M.endMs,durationMs:M.durationMs,sampleRate:T,sampleCount:b,rms:E,peak:N}}async getSnipAudio(r,m,d){const p=await this.listSnips(r,d),M=m-1,y=p[M];return y?await this.getRangeAudio(r,y.startMs,y.endMs,d):null}clearSession(r){}}const xn=new qy,Ly=1024*1024,Hy={pauseSensitivity:.5,minPauseMs:400,maxPauseMs:2600,windowMs:3e4,overlapMs:800,targetBitrate:64e3,groqApiKey:"",transcriptionMode:"disabled",transcriptionOnboardingDismissed:!1,developerMode:!1,storageLimitBytes:200*Ly},lp="durable-recorder-settings",Gy=o=>o==="enabled"||o==="disabled";function cd(o){const r={...Hy,...o},m=o&&Gy(o.transcriptionMode),d=o&&typeof o.transcriptionOnboardingDismissed=="boolean";if(!m){const p=typeof r.groqApiKey=="string"&&r.groqApiKey.trim().length>0;r.transcriptionMode=p?"enabled":"disabled"}return d||(r.transcriptionOnboardingDismissed=!1),r}function Yy(){if(typeof window>"u")return null;const o=window.localStorage.getItem(lp);if(!o)return null;try{const r=JSON.parse(o);return r?cd(r):null}catch(r){return console.warn("[SettingsStore] Failed to parse settings",r),null}}function Vy(o){typeof window>"u"||window.localStorage.setItem(lp,JSON.stringify(o))}class Xy{#t;#a=new Set;constructor(){this.#t=Yy()??cd(null)}async get(){return this.#t}async set(r){return this.#t=cd({...this.#t,...r}),Vy(this.#t),this.#a.forEach(m=>m(this.#t)),this.#t}subscribe(r){return this.#a.add(r),r(this.#t),()=>this.#a.delete(r)}}const gs=new Xy,Qy="https://api.groq.com/openai/v1/audio/transcriptions",Zy="https://api.groq.com/openai/v1/models",Qh="whisper-large-v3-turbo",Wo=(o,r)=>{const m=(r??"").trim();return m?[Number.isFinite(o)?Math.max(0,(o??0)*1e3):0,m]:null},Ky=o=>{const r=[];if(Array.isArray(o.segments)&&o.segments.forEach(m=>{const d=Wo(m.start,m.text);d&&r.push(d)}),r.length===0&&Array.isArray(o.words)&&o.words.length>0){const m=o.words.map(d=>(d.word??d.text??"").trim()).filter(d=>d.length>0).join(" ").trim();if(m){const d=o.words.find(M=>Number.isFinite(M.start))?.start,p=Wo(d,m);p&&r.push(p)}}if(r.length===0&&typeof o.text=="string"){const m=Wo(0,o.text);m&&r.push(m)}return r},$y=async o=>{const r=o.trim();if(!r)return{ok:!1,message:"Groq API key missing."};const m=await fetch(Zy,{method:"GET",headers:{Authorization:`Bearer ${r}`}});if(m.ok)return{ok:!0,status:m.status};let d=`Groq key validation failed (${m.status})`;try{const p=await m.json();p?.error?.message&&(d=p.error.message)}catch{}return{ok:!1,status:m.status,message:d}};class Jy{async enqueue(r){throw console.info("[GroqTranscriptionService] enqueue",r.jobId),new Error("Queued transcription is not yet implemented.")}async cancel(r){console.info("[GroqTranscriptionService] cancel",r)}refreshSettings(){console.info("[GroqTranscriptionService] refreshSettings noop")}async transcribeAudio(r){const m=r.apiKey.trim();if(!m)throw new Error("Groq API key is missing. Add it in Settings to start transcription.");const d=`snip-${Date.now()}.wav`,p=r.audio instanceof File?r.audio:new File([r.audio],d,{type:r.audio.type||"audio/wav"}),M=new FormData;M.append("file",p),M.append("model",r.model??Qh),M.append("response_format","verbose_json"),M.append("timestamp_granularities[]","word"),r.temperature!==void 0&&M.append("temperature",String(r.temperature)),r.language&&M.append("language",r.language);const y=await fetch(Qy,{method:"POST",headers:{Authorization:`Bearer ${m}`},body:M}),T=await y.text();if(!y.ok){let E=`Groq transcription failed (${y.status})`;try{const L=JSON.parse(T);L?.error?.message&&(E=L.error.message)}catch{T&&(E=`${E}: ${T}`)}throw new Error(E)}const b=JSON.parse(T),v=Ky(b);return{text:typeof b.text=="string"?b.text.trim():v.map(E=>E[1]).join(" ").trim(),segments:v,model:r.model??Qh,language:b.language??r.language??null}}}const Iy=new Jy,Fy={recording:{label:"Recording",pillClass:"pill-progress"},transcribing:{label:"Transcribing",pillClass:"pill-progress"},ready:{label:"Ready",pillClass:"pill-synced"},partial:{label:"Part TX",pillClass:"pill-attention"},untranscribed:{label:"TX failed",pillClass:"pill-attention"},error:{label:"Error",pillClass:"pill-attention"}},rd=1024*1024,Zh=200*rd,Kh="whisper-large-v3-turbo",$h=180,Wy=3e3,Py=60,Jh=12e4,oi=[3e3,5e3,1e4],Ih=oi.length,Fh=12e4,Wh="Audio was purged to stay under the storage cap. Transcription retries are disabled.",Po="https://console.groq.com/keys",t0="https://groq.com/pricing",od=o=>new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit"}).format(new Date(o)),sp=o=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(new Date(o)),e0=o=>{const r=Math.max(0,Math.round(o/1e3)),m=Math.floor(r/60),d=r%60,p=Math.floor(m/60),M=m%60;return p>0?`${p}h ${M.toString().padStart(2,"0")}m`:`${M}m ${d.toString().padStart(2,"0")}s`},ys=o=>{if(!Number.isFinite(o)||o<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let m=o,d=0;for(;m>=1024&&d<r.length-1;)m/=1024,d+=1;return`${new Intl.NumberFormat(void 0,{maximumSignificantDigits:4,minimumSignificantDigits:1}).format(m)} ${r[d]}`},n0=o=>{if(!Number.isFinite(o)||o<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let m=o,d=0;for(;m>=1024&&d<r.length-1;)m/=1024,d+=1;return`${Math.round(m)} ${r[d]}`},a0=(o,r)=>{const m=Number.isFinite(r)&&r>0?r:0,d=o+m,p=new Date(o),M=new Date(d);return p.toDateString()!==M.toDateString()?`${sp(d)} ${od(d)}`:od(d)},l0=o=>{const r=Math.max(0,Math.round(o/1e3)),m=Math.floor(r/3600),d=Math.floor(r%3600/60),p=r%60;return m>0?`${m}:${d.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`:d>0?`${d}:${p.toString().padStart(2,"0")}`:`0:${p.toString().padStart(2,"0")}`},s0=o=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(o)),ri=o=>{if(!Number.isFinite(o))return"0:00";const r=Math.max(0,o),m=Math.floor(r/60),d=Math.floor(r%60);return`${m}:${d.toString().padStart(2,"0")}`},i0=(o,r)=>{const m=o.trim();if(!m)return"";const d=m.split(/\s+/);return d.length<=r?m:d.slice(-r).join(" ")},ip={hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},u0=(()=>{try{return new Intl.DateTimeFormat(void 0,{...ip,fractionalSecondDigits:2})}catch{return null}})(),c0=new Intl.DateTimeFormat(void 0,ip),r0=o=>(u0??c0).format(new Date(o)),$a=o=>{const r=o.transcription?.text?.trim()??"";if(r)return r;const m=o.transcription?.segments??[];return m.length===0?"":m.map(d=>d[1]).join(" ").trim()},Ph=o=>{const r=o.map(m=>$a(m)).filter(m=>m.length>0).join(" ").trim();return r?r.length<=$h?r:`${r.slice(0,$h).trimEnd()}...`:""},td=o=>new Promise(r=>window.setTimeout(r,o));function o0(){const[o,r]=D.useState(null),[m,d]=D.useState([]),[p,M]=D.useState(null),[y,T]=D.useState([]),[b,v]=D.useState([]),[N,E]=D.useState({}),[L,$]=D.useState({}),[et,F]=D.useState({}),[xt,ut]=D.useState({}),[bt,ot]=D.useState({}),[H,P]=D.useState(ps.state),[mt,J]=D.useState(null),[ct,Gt]=D.useState({totalBytes:0,limitBytes:Zh}),[le,Wt]=D.useState([]),[Pt,on]=D.useState(null),[ze,Ce]=D.useState(!1),[A,V]=D.useState(!1),[W,I]=D.useState(null),[st,S]=D.useState(null),[_,tt]=D.useState(1),[nt,gt]=D.useState(!1),[wt,Et]=D.useState(!1),[Qe,se]=D.useState(!1),[_l,Ia]=D.useState(!1),[bs,Ta]=D.useState(!1),[ua,Ca]=D.useState([]),[wa,Fa]=D.useState(null),[Ss,Da]=D.useState("tables"),[En,Wa]=D.useState([]),[Zn,mi]=D.useState(null),[en,Ms]=D.useState([]),[kn,Ul]=D.useState(!1),[mn,hi]=D.useState("chunks"),[Bl,yu]=D.useState(!1),[Ze,Kn]=D.useState({chunkCoverageScan:!0,rangeAccessScan:!0,chunkDecodeScan:!0,sanityChecks:!0,snipScan:!0}),[ve,An]=D.useState(!1),[qe,Le]=D.useState(null),[vu,pi]=D.useState(null),[ql,ca]=D.useState(null),[Ll,$n]=D.useState(null),[Ee,Na]=D.useState(null),[bu,gi]=D.useState(!1),[xs,Jn]=D.useState(null),[In,Fn]=D.useState({playing:!1,duration:0,position:0}),[Pa,Es]=D.useState(null),[ra,tl]=D.useState(!1),[el,_n]=D.useState("idle"),[Wn,ce]=D.useState(null),[Oe,nn]=D.useState(null),[Hl,As]=D.useState({}),[Ts,yi]=D.useState(!1),[Gl,Cs]=D.useState(!1),[fe,hn]=D.useState("missing"),[oa,pn]=D.useState(null),Qt=D.useRef(null),vi=D.useRef(null),ws=D.useRef(null),ke=D.useRef(null),Un=D.useRef(null),nl=D.useRef(new Map),He=D.useRef(new Map),al=D.useRef(new Map),Tn=D.useRef(new Map),da=D.useRef(new Map),Yl=D.useRef(null),Cn=D.useRef(null),Ke=D.useRef(null),Vl=D.useRef(0),bi=D.useRef(new Map),Xl=D.useRef(!1),Ql=D.useRef(null),ll=D.useRef(new Set),Si=D.useRef({sessionId:null,active:!1,pending:[],pendingIds:new Set,retryCounts:new Map,lastSuccessAt:0}),an=D.useRef(!1),Zl=D.useRef(!1),Mi=D.useRef(0),Kl=D.useRef(null),Pn=D.useRef(0),Ds=D.useRef(null),Ge=o?.developerMode??!1,wn=o?.storageLimitBytes??Zh,xi=o?.transcriptionMode??"disabled",Bn=xi==="enabled",ta=!!o?.groqApiKey?.trim(),Ye=D.useMemo(()=>Bn?ta?fe==="invalid"?oa??"Groq API key validation failed. Retry validation in Settings.":fe==="validating"?"Validating Groq API key...":fe==="unchecked"?"Groq API key not validated yet. Validate it in Settings.":null:"Groq API key missing. Add it in Settings to enable transcription.":"Transcription is disabled. Enable it in Settings to start.",[ta,Bn,oa,fe]),Bt=Ye===null,Lc=!!(o&&!o.transcriptionOnboardingDismissed&&!ta),Ns=Bn?Bt?"Enabled":fe==="invalid"?"Enabled (invalid key)":fe==="validating"?"Enabled (validating)":ta?"Enabled (needs validation)":"Enabled (missing key)":"Disabled",ea=Bn?Bt?"is-good":"is-warn":"is-muted",Ei=ta?fe==="valid"?"Valid":fe==="validating"?"Validating":fe==="invalid"?"Invalid":"Not checked":"Missing",Ai=fe==="valid"?"is-good":fe==="validating"?"is-warn":fe==="invalid"?"is-bad":"is-muted",fa=D.useCallback(async()=>{const i=o?.groqApiKey?.trim()??"";if(!i)return hn("missing"),pn(null),!1;hn("validating"),pn(null);try{const c=await $y(i);return c.ok?(hn("valid"),pn(null),!0):(hn("invalid"),pn(c.message??"Groq API key validation failed."),!1)}catch(c){const g=c instanceof Error?c.message:String(c);return hn("invalid"),pn(g),!1}},[o?.groqApiKey]);D.useEffect(()=>{const i=o?.groqApiKey?.trim()??"";if(!i){Ds.current=null,hn("missing"),pn(null);return}Ds.current!==i&&(Ds.current=i,hn("unchecked"),pn(null))},[o?.groqApiKey]),D.useEffect(()=>{!Bn||!ta||fe==="unchecked"&&fa()},[ta,Bn,fa,fe]);const ma=D.useMemo(()=>{const i=le.map(g=>$a(g)).filter(g=>g.length>0);return i.length===0?[]:i.slice(-2).map(g=>i0(g,Py)).filter(g=>g.length>0)},[le]),te=D.useCallback(i=>!!i.audioPurgedAt,[]),$e=D.useCallback(i=>!!i.audioPurgedAt||i.byteLength<=0||i.blob.size<=0,[]),$l=D.useCallback((i,c)=>{const g=Ph(c),C=c.filter(G=>!!G.transcriptionError).length,j=c.filter(G=>$a(G).length>0).length,q=c.filter(G=>te(G)).length,X=c.length,K=Math.max(0,X-q);E(G=>{if(!g){if(!(i in G))return G;const at={...G};return delete at[i],at}return G[i]===g?G:{...G,[i]:g}}),$(G=>{if(C===0){if(!(i in G))return G;const at={...G};return delete at[i],at}return G[i]===C?G:{...G,[i]:C}}),F(G=>{if(X===0){if(!(i in G))return G;const lt={...G};return delete lt[i],lt}const at=G[i];return at&&at.transcribedCount===j&&at.total===X&&at.purgedCount===q&&at.retryableCount===K?G:{...G,[i]:{transcribedCount:j,total:X,purgedCount:q,retryableCount:K}}})},[te]),sl=D.useCallback(async i=>{try{const c=await Promise.all(i.map(async q=>{if(q.status!=="ready")return[q.id,"",0,0,0,0,0];const X=await vt.listSnips(q.id),K=X.filter(Nt=>!!Nt.transcriptionError).length,G=X.filter(Nt=>$a(Nt).length>0).length,at=X.filter(Nt=>te(Nt)).length,lt=X.length,yt=Math.max(0,lt-at);return[q.id,Ph(X),K,G,lt,at,yt]})),g={},C={},j={};c.forEach(([q,X,K,G,at,lt,yt])=>{X&&(g[q]=X),K>0&&(C[q]=K),at>0&&(j[q]={transcribedCount:G,total:at,purgedCount:lt,retryableCount:yt})}),E(g),$(C),F(j)}catch(c){await tn("Transcription preview load failed",{error:c instanceof Error?c.message:String(c)})}},[te]),me=D.useCallback(async()=>{await vt.init(),await vt.purgeLegacyMp4Sessions();const i=Ql.current??new ud;Ql.current=i;const[c,g]=await Promise.all([vt.listSessions(),vt.storageTotals()]),C=bi.current;let j=null;if(Xl.current)for(const X of c){if(X.status!=="ready"||X.chunkCount===0||!C.has(X.id))continue;const K=C.get(X.id);K!==void 0&&K!==X.updatedAt&&(!j||X.updatedAt>j.updatedAt)&&(j=X)}bi.current=new Map(c.map(X=>[X.id,X.updatedAt])),Xl.current?j&&on(j.id):Xl.current=!0,d(c),Gt({totalBytes:g.totalBytes,limitBytes:wn}),sl(c),c.filter(X=>X.chunkCount>0&&(X.timingStatus??"unverified")!=="verified").forEach(X=>{i.ensureTimings(X.id).then(K=>{const G=K.session;K.status!=="verified"||!G||(d(at=>at.map(lt=>lt.id===G.id?{...lt,...G}:lt)),bi.current.set(G.id,G.updatedAt))}).catch(K=>{console.warn("[UI] Session timing verification failed",{sessionId:X.id,error:K})})})},[sl,wn]),ha=D.useCallback(async i=>{if(Zl.current)return;const c=Date.now(),g=!i?.force;if(!(g&&c-Mi.current<Fh)){Zl.current=!0,Mi.current=c;try{await vt.init();const C=await vt.applyRetentionPolicy({limitBytes:wn,now:c});C.purgedChunkIds.length>0&&await Ht("Storage retention purged audio",{beforeBytes:C.beforeBytes,afterBytes:C.afterBytes,limitBytes:C.limitBytes,purgedChunks:C.purgedChunkIds.length,purgedSnips:C.purgedSnipIds.length,reason:i?.reason??(g?"debounced":"manual")}),C.afterBytes>C.limitBytes&&await fn("Storage retention unable to meet cap",{beforeBytes:C.beforeBytes,afterBytes:C.afterBytes,limitBytes:C.limitBytes,purgedChunks:C.purgedChunkIds.length,reason:i?.reason??(g?"debounced":"manual")}),Gt({totalBytes:C.afterBytes,limitBytes:wn})}catch(C){await tn("Storage retention pass failed",{error:C instanceof Error?C.message:String(C),reason:i?.reason??(g?"debounced":"manual")})}finally{Zl.current=!1}}},[wn]);D.useEffect(()=>gs.subscribe(i=>r({...i})),[]),D.useEffect(()=>{o?.storageLimitBytes!=null&&ha({force:!0,reason:"settings-change"})},[ha,o?.storageLimitBytes]),D.useEffect(()=>(ry(),()=>{oy()}),[]),D.useEffect(()=>{xy()},[]),D.useEffect(()=>{vt.reconcileDanglingSessions()},[]),D.useEffect(()=>ps.subscribe(c=>P({...c})),[]),D.useEffect(()=>{H.state==="idle"&&(Ke.current=null)},[H.state]),D.useEffect(()=>{const i=H.state==="recording";kc(i,i?"recording-active":"recording-inactive")},[H.state]),D.useEffect(()=>{if(H.state!=="recording"||!H.sessionId){Kl.current=H.sessionId??null,Pn.current=H.chunksRecorded;return}Kl.current!==H.sessionId&&(Kl.current=H.sessionId,Pn.current=0),H.chunksRecorded>Pn.current&&(Pn.current=H.chunksRecorded,ha({reason:"chunk-written"}))},[H.chunksRecorded,H.sessionId,H.state,ha]),D.useEffect(()=>{if(H.state!=="recording")return;let i=!1;const c=()=>{i||ha()},g=window.setInterval(c,Fh);return c(),()=>{i=!0,window.clearInterval(g)}},[H.state,ha]),D.useEffect(()=>{const i=c=>{const g=c.target;let C="unknown";g instanceof HTMLElement&&(C=g.tagName.toLowerCase(),g.id?C+=`#${g.id}`:g.classList.length>0&&(C+=`.${g.classList[0]}`)),Cn.current={type:c.type,target:C,timestamp:Date.now()}};return window.addEventListener("pointerdown",i,!0),window.addEventListener("keydown",i,!0),()=>{window.removeEventListener("pointerdown",i,!0),window.removeEventListener("keydown",i,!0)}},[]),D.useEffect(()=>{me()},[me]),D.useEffect(()=>{H.state==="recording"&&!p?(Ce(!0),requestAnimationFrame(()=>V(!0))):V(!1)},[H.state,p]),D.useEffect(()=>{H.state!=="recording"&&Wt([])},[H.state]),D.useEffect(()=>{if(!Pt)return;const i=window.setTimeout(()=>on(null),2400);return()=>window.clearTimeout(i)},[Pt]),D.useEffect(()=>{if(A||!ze)return;const i=window.setTimeout(()=>Ce(!1),400);return()=>window.clearTimeout(i)},[ze,A]),D.useEffect(()=>{if(!A)return;const i=Yl.current;i&&(i.scrollTop=i.scrollHeight)},[A,ma]),D.useEffect(()=>{if(typeof window>"u"||!("ontouchstart"in window))return;const i=g=>{g.touches.length>1&&g.preventDefault()},c=g=>{g.preventDefault()};return document.addEventListener("touchmove",i,{passive:!1}),document.addEventListener("gesturestart",c),document.addEventListener("gesturechange",c),document.addEventListener("gestureend",c),()=>{document.removeEventListener("touchmove",i),document.removeEventListener("gesturestart",c),document.removeEventListener("gesturechange",c),document.removeEventListener("gestureend",c)}},[]),D.useEffect(()=>{let i=!1;if(!p){T([]),v([]),As({}),Ul(!1),tl(!1),ce(null),_n("idle"),nn(null);return}return As({}),(async()=>{const[c,g]=await Promise.all([vt.getChunkData(p),vt.listSnips(p)]);i||(T(c),v(g))})(),()=>{i=!0}},[p]),D.useEffect(()=>{const i=Qt.current;if(!i)return;const c=()=>Fn(G=>({...G,position:i.currentTime})),g=()=>Fn(G=>({...G,duration:Number.isFinite(i.duration)?i.duration:0})),C=()=>{Un.current!==null&&(window.cancelAnimationFrame(Un.current),Un.current=null)},j=()=>{Fn(G=>({...G,position:i.currentTime})),Un.current=window.requestAnimationFrame(j)},q=()=>{Fn(G=>({...G,playing:!0})),C(),Un.current=window.requestAnimationFrame(j)},X=()=>{Fn(G=>({...G,playing:!1})),C()},K=()=>{Fn(G=>({...G,playing:!1,position:i.duration||G.position})),C()};return i.addEventListener("timeupdate",c),i.addEventListener("durationchange",g),i.addEventListener("play",q),i.addEventListener("pause",X),i.addEventListener("ended",K),()=>{C(),i.removeEventListener("timeupdate",c),i.removeEventListener("durationchange",g),i.removeEventListener("play",q),i.removeEventListener("pause",X),i.removeEventListener("ended",K)}},[p]),D.useEffect(()=>{const i=nl.current,c=He.current,g=new Set(y.map(C=>C.id));Array.from(i.entries()).forEach(([C,j])=>{g.has(C)||(URL.revokeObjectURL(j),i.delete(C))});for(const[C,j]of c.entries())g.has(C)||(j.cleanup(),j.audio.pause(),j.audio.currentTime=j.startTime,c.delete(C));I(C=>C&&g.has(C)?C:null)},[y]),D.useEffect(()=>{const i=al.current,c=Tn.current,g=new Set(b.map(C=>C.id));Array.from(i.entries()).forEach(([C,j])=>{g.has(C)||(URL.revokeObjectURL(j),i.delete(C))}),Array.from(da.current.keys()).forEach(C=>{g.has(C)||da.current.delete(C)});for(const[C,j]of c.entries())g.has(C)||(j.cleanup(),j.audio.pause(),j.audio.currentTime=j.startTime,c.delete(C));S(C=>C&&g.has(C)?C:null)},[b]),D.useEffect(()=>()=>{He.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),He.current.clear(),nl.current.forEach(i=>URL.revokeObjectURL(i)),nl.current.clear()},[]),D.useEffect(()=>{kn||(He.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),He.current.clear(),I(null),Tn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Tn.current.clear(),S(null))},[kn]),D.useEffect(()=>{He.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),He.current.clear(),I(null),Tn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Tn.current.clear(),S(null)},[mn]),D.useEffect(()=>{const i=Qt.current;i&&(i.volume=_),He.current.forEach(c=>{c.audio.volume=_}),Tn.current.forEach(c=>{c.audio.volume=_})},[_]),D.useEffect(()=>{Ge||(Ia(!1),Ul(!1),tl(!1),ce(null),_n("idle"),nn(null),Ca([]),Fa(null),Da("tables"),Wa([]),mi(null),Ms([]))},[Ge]),D.useEffect(()=>()=>{ke.current&&(URL.revokeObjectURL(ke.current),ke.current=null)},[]);const B=D.useMemo(()=>m.find(i=>i.id===p)??null,[m,p]),he=D.useMemo(()=>{const i=b.map(C=>$a(C)).filter(C=>C.length>0),c=b.filter(C=>!!C.transcriptionError).length,g=b.filter(C=>te(C)).length;return{text:i.join(" ").trim(),transcribedCount:i.length,errorCount:c,total:b.length,purgedCount:g,retryableCount:Math.max(0,b.length-g)}},[te,b]);D.useEffect(()=>{if(!B){Es(null);return}Es(B.durationMs)},[B]),D.useEffect(()=>{B?.id&&$l(B.id,b)},[B?.id,b,$l]),D.useEffect(()=>{if(!B?.id){ws.current=null;return}if(!he.text||ws.current===B.id)return;ws.current=B.id;const i=window.setTimeout(()=>{const c=vi.current;c&&(c.focus(),c.select())},80);return()=>window.clearTimeout(i)},[B?.id,he.text]),D.useEffect(()=>{if(!(Ge&&B&&(ra||kn&&mn==="snips"))){_n("idle"),ce(null),nn(null);return}if(B.chunkCount===0){_n("error"),nn("No audio chunks available yet. Capture a few seconds of audio and try again."),ce(null);return}const c=Ql.current??new ud;Ql.current=c;let g=!1;return _n("loading"),nn(null),ce(null),(async()=>{try{const C=await c.prepareAnalysisForSession({session:B,mimeTypeHint:B.mimeType??null});if(g)return;if(C.analysis){ce(C.analysis),_n("ready"),nn(null);try{const j=await xn.listSnips(B,B.mimeType??null);g||v(j)}catch(j){g||await tn("Failed to refresh snip segments",{sessionId:B.id,error:j instanceof Error?j.message:String(j)})}}else{ce(null),_n("error");const j=C.verification.missingChunkIds.length;nn(j>0?`Waiting on verified audio durations for ${j} chunk${j===1?"":"s"}.`:"No volume profiles available yet. Capture additional audio and retry.")}}catch(C){if(g)return;const j=C instanceof Error?C.message:String(C);_n("error"),nn(j),tn("Session analysis failed",{sessionId:B.id,error:j})}})(),()=>{g=!0}},[Ge,kn,mn,ra,B?.id,B?.updatedAt,B?.chunkCount,B?.mimeType]);const _e=D.useCallback(i=>{const c=i.blob.type||B?.mimeType||"";if(!/mp4|m4a/i.test(c))return!1;const C=Math.max(0,i.endMs-i.startMs);return i.seq===0&&(C<=10||i.byteLength<4096)},[B?.mimeType]),na=D.useMemo(()=>y.find(_e)??null,[y,_e]),Ti=D.useMemo(()=>y.filter(i=>!_e(i)&&!$e(i)).length,[y,$e,_e]),Jl=D.useCallback(i=>{const c=i.blob.type||B?.mimeType||"audio/mp4";return!na||na.id===i.id||!/mp4|m4a/i.test(c)?i.blob:new Blob([na.blob,i.blob],{type:c})},[na,B?.mimeType]),ja=D.useCallback(i=>{if($e(i))return null;const c=nl.current,g=c.get(i.id);if(g)return g;const C=Jl(i),j=URL.createObjectURL(C);return c.set(i.id,j),j},[Jl,$e]),Su=D.useCallback(i=>{const c=ja(i);if(!c)return;const g=B?.startedAt??i.startMs??Date.now(),C=new Date(g).toISOString().replace(/[:.]/g,"-"),j=String(i.seq+1).padStart(2,"0"),q=i.blob.type||B?.mimeType||"application/octet-stream",X=/mpeg/i.test(q)?"mp3":/webm/i.test(q)?"webm":/mp4|m4a/i.test(q)?"mp4":"bin",K=document.createElement("a");K.href=c,K.download=`${C}_chunk-${j}.${X}`,K.rel="noopener",document.body.appendChild(K),K.click(),document.body.removeChild(K)},[ja,B?.mimeType,B?.startedAt]),Je=D.useCallback(i=>{i.currentTarget.focus(),i.currentTarget.select()},[]),pa=D.useCallback(async()=>{const i=window.AudioContext||window.webkitAudioContext;if(typeof i!="function")return;const c=new i,g=c.createOscillator(),C=c.createGain();C.gain.value=.12,g.type="sine",g.frequency.value=880,g.connect(C),C.connect(c.destination);const j=c.currentTime+.35;g.start(),g.stop(j),g.onended=()=>{c.close().catch(()=>{})}},[]),il=D.useCallback(()=>{He.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),He.current.clear(),I(null),Tn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Tn.current.clear(),S(null),Qt.current&&Qt.current.pause()},[]),ul=D.useCallback(()=>{Cs(!0),window.setTimeout(()=>Cs(!1),1200)},[]);D.useEffect(()=>{const i=()=>{document.visibilityState!=="visible"&&il()},c=()=>il();return document.addEventListener("visibilitychange",i),window.addEventListener("pagehide",c),()=>{document.removeEventListener("visibilitychange",i),window.removeEventListener("pagehide",c)}},[il]);const js=D.useCallback(async i=>{if(!B||te(i))return null;const c=i.id,g=da.current.get(c);if(g)return g;const C=await xn.getRangeAudio(B,i.startMs,i.endMs,B.mimeType??null);return da.current.set(c,C),C},[te,B]),cl=D.useCallback(async i=>{const c=i.id,g=al.current.get(c),C=await js(i);if(!C)return null;if(g)return{url:g,slice:C};const j=URL.createObjectURL(C.blob);return al.current.set(c,j),{url:j,slice:C}},[js]),Ci=D.useCallback(async(i,c)=>{if(te(i))return;const g=await cl(i);if(!g)return;const{url:C,slice:j}=g,q=document.createElement("a");q.href=C,q.download=j.suggestedFilename||`snip-${String(c).padStart(2,"0")}.wav`,q.rel="noopener",document.body.appendChild(q),q.click(),document.body.removeChild(q)},[cl,te]),rl=D.useCallback(async(i,c)=>te(c)?null:B?.id===i.id?await js(c):await xn.getRangeAudio(i,c.startMs,c.endMs,i.mimeType??null),[js,te,B?.id]),Ra=D.useCallback(async i=>{const c=await vt.listSnips(i);$l(i,c)},[$l]),Il=D.useCallback(i=>{const c=i.filter(C=>!te(C)),g=c.filter(C=>!!C.transcriptionError);return g.length>0?g:c},[te]),qn=D.useCallback(async({session:i,snip:c,updateUi:g,force:C,ignoreBusy:j=!1,reportError:q=!0})=>{if(!C&&$a(c))return{ok:!0};if(te(c))return await fn("Snip transcription blocked (audio purged)",{sessionId:i.id,snipId:c.id}),{ok:!1,error:Wh};if(g&&Hl[c.id]&&!j)return{ok:!1};if(Ye)return{ok:!1,error:Ye};const X=o?.groqApiKey?.trim()??"";g&&As(K=>({...K,[c.id]:!0}));try{const K=await rl(i,c);if(!K)throw new Error("Unable to resolve snip audio for transcription.");if(K.durationMs<=0||K.blob.size===0)throw new Error(`Snip audio slice is empty (snip=${c.id} start=${c.startMs} end=${c.endMs} duration=${K.durationMs} bytes=${K.blob.size})`);await Ht("Snip transcription started",{sessionId:i.id,snipId:c.id,model:Kh,startMs:c.startMs,endMs:c.endMs,sliceDurationMs:K.durationMs,sliceBytes:K.blob.size});const G=await Iy.transcribeAudio({apiKey:X,audio:K.blob,model:Kh,temperature:0}),at={text:G.text,segments:G.segments,model:G.model,language:G.language??null,createdAt:Date.now()},lt=await vt.updateSnipTranscription(c.id,{transcription:at,transcriptionError:null});return g&&lt&&v(yt=>yt.map(Nt=>Nt.id===lt.id?lt:Nt)),await Ht("Snip transcription completed",{sessionId:i.id,snipId:c.id,model:G.model,textLength:G.text.length,segmentCount:G.segments.length}),{ok:!0}}catch(K){const G=K instanceof Error?K.message:String(K);if(q){await tn("Snip transcription failed",{sessionId:i.id,snipId:c.id,error:G,startMs:c.startMs,endMs:c.endMs,durationMs:c.durationMs});const at=await vt.updateSnipTranscription(c.id,{transcriptionError:G});g&&at&&v(lt=>lt.map(yt=>yt.id===at.id?at:yt))}return{ok:!1,error:G}}finally{g&&As(K=>{const G={...K};return delete G[c.id],G}),await Ra(i.id)}},[Ra,rl,Ye,o?.groqApiKey,te,Hl]),ol=D.useCallback(i=>{const c=Si.current;c.sessionId=i,c.active=!1,c.pending=[],c.pendingIds.clear(),c.retryCounts.clear(),c.lastSuccessAt=0},[]),Mu=D.useCallback(async i=>{const c=Si.current;if(!(c.active||c.sessionId!==i.id)){c.active=!0;try{for(;c.pending.length>0;){if(!Bt){c.pending=[],c.pendingIds.clear(),c.retryCounts.clear();break}const g=c.pending.shift();if(!g)break;const C=g.snip;if(c.pendingIds.delete(C.id),c.sessionId!==i.id)break;if((await qn({session:i,snip:C,updateUi:B?.id===i.id,force:!0,ignoreBusy:!0,reportError:!0})).ok){c.retryCounts.delete(C.id),c.lastSuccessAt=Date.now();continue}const q=(c.retryCounts.get(C.id)??0)+1;if(c.retryCounts.set(C.id,q),q<=Ih&&Date.now()-c.lastSuccessAt<Jh){const K=oi[Math.min(q-1,oi.length-1)];await td(K),c.pendingIds.has(C.id)||(c.pending.push({snip:C,attempt:q}),c.pendingIds.add(C.id))}}}finally{c.active=!1}}},[Bt,B?.id,qn]),Rs=D.useCallback(async(i,c)=>{const g=Si.current;if(g.sessionId!==i.id&&ol(i.id),!Bt)return;const C=g.lastSuccessAt>0&&Date.now()-g.lastSuccessAt<Jh;[...c].sort((q,X)=>q.index-X.index).forEach(q=>{if($a(q)||te(q)||g.pendingIds.has(q.id))return;const X=g.retryCounts.get(q.id)??0;q.transcriptionError&&(!C||X>=Ih)||(g.pending.push({snip:q,attempt:X}),g.pendingIds.add(q.id))}),!g.active&&g.pending.length>0&&Mu(i)},[Bt,te,ol,Mu]);D.useEffect(()=>{H.state!=="recording"&&ol(null)},[H.state,ol]),D.useEffect(()=>{Bt||ol(null)},[Bt,ol]),D.useEffect(()=>{if(!H.sessionId||H.state!=="recording")return;const i=H.sessionId;let c=!1;const g=async()=>{if(!(c||an.current)){an.current=!0;try{const j=await vt.getSession(i);if(!j||j.status!=="recording")return;const q=await xn.listSnips(j,j.mimeType??null);if(c)return;if(Wt(q),B?.id===i){const[X]=await Promise.all([vt.getChunkData(i)]);c||(T(X),v(q))}await Rs(j,q),await me()}catch(j){if(!c){const q=j instanceof Error?j.message:String(j);fn("Live snip refresh failed",{sessionId:i,error:q})}}finally{an.current=!1}}},C=window.setInterval(g,Wy);return g(),()=>{c=!0,window.clearInterval(C)}},[H.sessionId,H.state,Rs,me,B?.id]);const Hc=D.useCallback(async i=>{if(B&&!te(i)){if(!Bt){Ye&&J(Ye);return}await qn({session:B,snip:i,updateUi:!0,force:!0})}},[Bt,te,B,Ye,qn]),Gc=D.useCallback(async()=>{if(!B||Ts)return;if(!Bt){Ye&&J(Ye);return}const i=B.id;yi(!0),ot(c=>({...c,[i]:!0}));try{const c=await vt.listSnips(i),g=c.length>0?c:await xn.listSnips(B,B.mimeType??null);if(g.length===0)return;v(g);const C=Il(g);if(C.length===0)return;for(const j of C)await qn({session:B,snip:j,updateUi:!0,force:!0,ignoreBusy:!0})}finally{yi(!1),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}},[Bt,Ts,Il,B,Ye,qn]),Yc=D.useCallback(async i=>{if(!xt[i]){if(!Bt){Ye&&J(Ye);return}ut(c=>({...c,[i]:!0})),ot(c=>({...c,[i]:!0}));try{const c=await vt.getSession(i);if(!c)return;const g=await vt.listSnips(i),C=g.length>0?g:await xn.listSnips(c,c.mimeType??null);if(C.length===0)return;B?.id===i&&v(C);const j=Il(C);if(j.length===0)return;for(const q of j)await qn({session:c,snip:q,updateUi:B?.id===i,force:!0,ignoreBusy:!0})}finally{ut(c=>{if(!c[i])return c;const g={...c};return delete g[i],g}),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}}},[Bt,xt,Il,B?.id,Ye,qn]),xu=D.useCallback(async i=>{if(!ll.current.has(i)){ll.current.add(i),ot(c=>({...c,[i]:!0}));try{await td(1200);const c=await vt.getSession(i);if(!c||c.status!=="ready")return;const g=await xn.listSnips(c,c.mimeType??null);if(g.length===0||!Bt)return;const C=oi.length+1;for(const j of g)if(!$a(j)&&!te(j))for(let q=0;q<C;q+=1){if(q>0){const K=oi[Math.min(q-1,oi.length-1)];await td(K)}if((await qn({session:c,snip:j,updateUi:B?.id===i,force:q>0,ignoreBusy:q>0,reportError:q===C-1})).ok)break}}finally{ll.current.delete(i),await Ra(i),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}}},[Bt,te,Ra,B?.id,qn]),Vc=D.useCallback(async()=>{J(null),await me()},[me]),Eu=D.useCallback(async()=>{if(H.state==="recording")return;let i="";Ke.current=Date.now(),kc(!0,"recording-start-click");try{await Ht("Recorder start requested",{previousState:H.state}),J(null);const c=await gs.get();i=window.crypto?.randomUUID?.()??`session-${Date.now()}`;const g=Date.now();await vt.createSession({id:i,title:`Recording ${new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1}).format(g)}`,startedAt:g,updatedAt:g,status:"recording",totalBytes:0,chunkCount:0,durationMs:0,mimeType:null,notes:Bn?"Transcription pending...":"Recording in progress.",timingStatus:"unverified"}),await ps.start({sessionId:i,targetBitrate:c.targetBitrate,chunkDurationMs:4e3}),await Ht("Recorder started",{sessionId:i,targetBitrate:c.targetBitrate,chunkDurationMs:4e3}),await me()}catch(c){console.error("[UI] Failed to start recording",c),Ke.current=null,kc(!1,"recording-start-failed"),await tn("Recorder failed to start",{sessionId:i,error:c instanceof Error?c.message:String(c)}),i&&await vt.updateSession(i,{status:"error",notes:"Recording failed to start.",updatedAt:Date.now()}),await me(),J(c instanceof Error?c.message:String(c))}},[H.state,Bn,me]),wi=D.useCallback(async()=>{if(H.state!=="recording")return;const i=H.sessionId;try{await Ht("Recorder stop requested",{sessionId:i}),await ps.stop(),await Ht("Recorder stopped",{sessionId:i})}catch(c){console.error("[UI] Failed to stop recording",c),J(c instanceof Error?c.message:String(c)),await tn("Recorder failed to stop",{sessionId:i,error:c instanceof Error?c.message:String(c)})}finally{kc(!1,"recording-stop-request"),await me(),i&&xu(i)}},[xu,H.sessionId,H.state,me]),Xc=async()=>{H.state==="recording"?await wi():await Eu()};D.useEffect(()=>{if(H.state!=="recording"||!H.startedAt)return;const i=window.setTimeout(()=>{const c=ps.state;if(c.state!=="recording"||c.chunksRecorded>0)return;const g=typeof ps.getDiagnostics=="function"?ps.getDiagnostics():null;fn("No audio captured after timeout; stopping recording",{sessionId:c.sessionId,timeoutMs:15e3,error:c.error??null,diagnostics:g});const C=Ke.current??c.startedAt??Date.now(),j=Cn.current;py(C,{sessionId:c.sessionId,timeoutMs:15e3,captureState:{state:c.state,chunksRecorded:c.chunksRecorded,error:c.error??null},diagnostics:g,lastUserInteraction:j??null}),ul(),pa(),wi()},15e3);return()=>window.clearTimeout(i)},[H.startedAt,H.state,pa,wi,ul]);const zs=D.useCallback(async(i=!1)=>{if(!B)return!1;const c=B.mimeType??"audio/mp4",C=[...await vt.getChunkData(B.id)].sort((lt,yt)=>lt.seq-yt.seq);if(C.length===0)throw new Error("No audio available yet. Keep recording to capture chunks.");const j=C.find(lt=>_e(lt))??null,q=C.filter(lt=>!_e(lt)&&!$e(lt));if(q.length===0)throw new Error("Audio for this recording was purged.");const X=[];j&&/mp4|m4a/i.test(c)&&X.push(j.blob),q.forEach(lt=>X.push(lt.blob));const K=new Blob(X,{type:c});if(await Ht("Playback source prepared",{sessionId:B.id,blobSize:K.size,blobType:K.type}),T(C),ke.current&&!i)return!0;ke.current&&URL.revokeObjectURL(ke.current);const G=URL.createObjectURL(K);ke.current=G;const at=Qt.current;return at&&(at.src=G,at.currentTime=0,Fn({playing:!1,duration:Number.isFinite(at.duration)?at.duration:0,position:0})),!0},[$e,_e,B]);D.useEffect(()=>{!B||B.status==="recording"||B.chunkCount===0||zs(!0).catch(i=>{console.error("[UI] Failed to prepare playback on detail open",i),Jn(i instanceof Error?i.message:String(i))})},[zs,B,B?.id,B?.updatedAt,B?.chunkCount,B?.status]);const Qc=D.useCallback(async()=>{if(!B)return;if(!y.some(c=>!_e(c)&&!$e(c))){const c="Audio was purged for this recording and is no longer available.";Jn(c),typeof window<"u"&&window.alert(c);return}Jn(null),gi(!0);try{ke.current||await zs();const c=Qt.current;if(!c)throw new Error("Audio element unavailable");c.paused?(await c.play(),await Ht("Playback started",{sessionId:B.id})):(c.pause(),await Ht("Playback paused",{sessionId:B.id}))}catch(c){console.error("[UI] Playback toggle failed",c),Jn(c instanceof Error?c.message:String(c)),await tn("Playback toggle failed",{sessionId:B.id,error:c instanceof Error?c.message:String(c)})}finally{gi(!1)}},[y,$e,_e,zs,B]),za=async()=>{He.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),He.current.clear(),nl.current.forEach(i=>URL.revokeObjectURL(i)),nl.current.clear(),I(null),Tn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),Tn.current.clear(),al.current.forEach(i=>URL.revokeObjectURL(i)),al.current.clear(),da.current.clear(),S(null),hi("chunks"),yu(!1),An(!1),Le(null),pi(null),Na(null),gt(!1),M(null),T([]),Es(null),Ul(!1),tl(!1),ce(null),_n("idle"),nn(null),Jn(null),Fn({playing:!1,duration:0,position:0}),p&&await Ht("Detail view closed",{sessionId:p}),p&&xn.clearSession(p),ke.current&&(URL.revokeObjectURL(ke.current),ke.current=null),Qt.current&&(Qt.current.pause(),Qt.current.currentTime=0),await Vc()},Fl=D.useCallback(()=>{const i=Date.now(),c=Cn.current,g=c?{...c,msAgo:Math.max(0,i-c.timestamp)}:null,C=navigator,j=C.userActivation?{isActive:C.userActivation.isActive,hasBeenActive:C.userActivation.hasBeenActive}:null,q=typeof document<"u"&&document.activeElement instanceof HTMLElement?document.activeElement.tagName.toLowerCase():null,X=typeof document<"u"?document.visibilityState:null,K=typeof document<"u"&&typeof document.hasFocus=="function"?document.hasFocus():null;return{visibilityState:X,hasFocus:K,activeElement:q,userActivation:j,lastInteraction:g}},[]),Zc=async()=>{if(!B)return;const i=B.id;if(Ht("Delete recording requested",{sessionId:i,source:"detail"}),B.id===H.sessionId&&H.state==="recording"){J("Stop the active recording before deleting it."),await fn("Delete blocked for active recording",{sessionId:i,source:"detail"});return}const c=Date.now(),g=Fl();Ht("Delete confirmation opened",{sessionId:i,source:"detail",...g});const C=window.confirm("Delete this recording? This cannot be undone."),j=Math.max(0,Date.now()-c),q=Fl();if(Ht("Delete confirmation resolved",{sessionId:i,source:"detail",confirmed:C,confirmDurationMs:j,before:g,after:q}),!C){Ht("Delete recording cancelled",{sessionId:i,source:"detail"});return}Ht("Delete recording confirmed",{sessionId:i,source:"detail"});try{await vt.init()}catch(X){console.error("[UI] Failed to init manifest for delete",X),await tn("Delete init failed",{sessionId:B.id,error:X instanceof Error?X.message:String(X)});return}try{await vt.deleteSession(i),await vt.getSession(i)&&await fn("Delete verification failed",{sessionId:i,source:"detail"}),await Ht("Recording deleted",{sessionId:i,source:"detail"}),await za(),await me()}catch(X){console.error("[UI] Failed to delete recording",X),J(X instanceof Error?X.message:String(X)),await tn("Recording delete failed",{sessionId:i,source:"detail",error:X instanceof Error?X.message:String(X)})}},Kc=D.useCallback(async i=>{const c=i.id;if(Ht("Delete recording requested",{sessionId:c,source:"list"}),i.id===H.sessionId&&H.state==="recording"){J("Stop the active recording before deleting it."),await fn("Delete blocked for active recording",{sessionId:c,source:"list"});return}const g=Date.now(),C=Fl();Ht("Delete confirmation opened",{sessionId:c,source:"list",...C});const j=window.confirm("Delete this recording? This cannot be undone."),q=Math.max(0,Date.now()-g),X=Fl();if(Ht("Delete confirmation resolved",{sessionId:c,source:"list",confirmed:j,confirmDurationMs:q,before:C,after:X}),!j){Ht("Delete recording cancelled",{sessionId:c,source:"list"});return}Ht("Delete recording confirmed",{sessionId:c,source:"list"});try{await vt.init()}catch(K){console.error("[UI] Failed to init manifest for delete",K),await tn("Delete init failed",{sessionId:c,source:"list",error:K instanceof Error?K.message:String(K)});return}try{await vt.deleteSession(c),await vt.getSession(c)&&await fn("Delete verification failed",{sessionId:c,source:"list"}),await Ht("Recording deleted",{sessionId:c,source:"list"}),B?.id===c&&await za(),await me()}catch(K){console.error("[UI] Failed to delete recording",K),J(K instanceof Error?K.message:String(K)),await tn("Recording delete failed",{sessionId:c,source:"list",error:K instanceof Error?K.message:String(K)})}},[Fl,H.sessionId,H.state,za,me,B?.id]),Ue=(i,c)=>c>0?`${Math.round(i/c*100)}%`:"0%",gn=i=>{const c=Math.max(0,i/1e3),g=Math.floor(c/60),C=c-g*60,j=C<10?`0${C.toFixed(1)}`:C.toFixed(1);return`${g}:${j}`},Wl=i=>{const c={ok:0,warn:0,error:0,total:i.length};return i.forEach(g=>{g.status==="ok"?c.ok+=1:g.status==="warn"?c.warn+=1:c.error+=1}),c},Pl=i=>{const c=new Map;return i.forEach(g=>{const C=g.reason??"(no reason)",j=`${g.status}:${C}`,q=c.get(j);q?(q.count+=1,q.examples.length<6&&q.examples.push(g)):c.set(j,{reason:C,status:g.status,count:1,examples:[g]})}),Array.from(c.values()).sort((g,C)=>{const j={error:0,warn:1,ok:2};return j[g.status]!==j[C.status]?j[g.status]-j[C.status]:C.count-g.count})},$c=i=>{const{session:c,doctorReports:g,logs:C}=i,j=[];if(j.push("Web Whisper  Doctor Report (compact)"),j.push(`Session: ${c.id}`),j.push(`StartedAt: ${new Date(c.startedAt).toISOString()}`),j.push(`DurationMs: ${c.durationMs}  (=${(c.durationMs/1e3).toFixed(1)}s)`),j.push(`Mime: ${c.mimeType??"unknown"}  Chunks: ${c.chunkCount}  Timing: ${c.timingStatus??"unverified"}`),j.push(""),g?.sanity){const G=g.sanity.metrics;j.push("Sanity:"),j.push(`- chunkTimebase=${G.chunkTimebase} session=${((G.sessionDurationMs??0)/1e3).toFixed(1)}s chunkMax=${((G.chunkMaxOffsetMs??0)/1e3).toFixed(1)}s chunkSum=${((G.chunkSumDurationMs??0)/1e3).toFixed(1)}s snips=${G.snipCount??0} snipMax=${((G.snipMaxEndMs??0)/1e3).toFixed(1)}s`),g.sanity.findings.forEach(at=>j.push(`- ${at.level.toUpperCase()}: ${at.message}`)),j.push("")}const q=(G,at)=>{if(!at)return;j.push(`${G}: OK=${at.summary.ok} WARN=${at.summary.warn} ERR=${at.summary.error} TOTAL=${at.summary.total}`),j.push(`- expected=${((at.metrics.expectedDurationMs??0)/1e3).toFixed(1)}s observed=${((at.metrics.observedDurationMs??0)/1e3).toFixed(1)}s items=${at.metrics.observedItemCount??0}/${at.metrics.expectedItemCount??0}`),Pl(at.segments).filter(yt=>yt.status!=="ok").slice(0,5).forEach(yt=>{const Nt=yt.examples.slice(0,3).map(Rt=>`${gn(Rt.startMs)}${gn(Rt.endMs)}`).join(", ");j.push(`- ${yt.status.toUpperCase()}: ${yt.reason} (${yt.count}) e.g. ${Nt}`)}),j.push("")};q("Chunk coverage",g?.chunkCoverage),q("Range access",g?.rangeAccess),q("Per-chunk decode",g?.chunkDecode),q("Snip scan",g?.snipScan),C.length>0&&(j.push("Recent logs (last 30):"),C.slice(-30).forEach(G=>{const at=typeof G.timestamp=="number"?new Date(G.timestamp).toISOString():"",lt=G.level??"",yt=(G.message??"").replace(/\s+/g," ").slice(0,200);j.push(`- ${at} ${lt} ${yt}`.trim())}),j.push(""));let X=j.join(`
`);const K=45e3;return X.length>K&&(X=`${X.slice(0,K)}

[TRUNCATED: report exceeded ${K} chars]
`),X},ts=(i,c)=>{const g=JSON.stringify(c,null,2),C=new Blob([g],{type:"application/json"}),j=URL.createObjectURL(C),q=document.createElement("a");q.href=j,q.download=`${i.replace(/\s+/g,"-").toLowerCase()}-doctor-report.json`,q.rel="noopener",document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(j)},Jc=async i=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText){await navigator.clipboard.writeText(i);return}const c=document.createElement("textarea");c.value=i,c.style.position="fixed",c.style.left="-9999px",c.style.top="0",document.body.appendChild(c),c.focus(),c.select(),document.execCommand("copy"),document.body.removeChild(c)},Ic=(i,c)=>{const g=i.find(C=>C.seq>=0)??null;return g?g.startMs>1e12&&c>1e12?"absolute":g.startMs>=0&&g.startMs<864e5?"offset":"unknown":"unknown"},Fc=(i,c,g)=>g==="absolute"?{startMs:i.startMs-c,endMs:i.endMs-c}:{startMs:i.startMs,endMs:i.endMs},Wc=D.useCallback(async()=>{if(!B)return;const i=Vl.current+1;Vl.current=i;const c=()=>Vl.current!==i;An(!0),pi(null),Na(null),await vt.init();try{await vt.verifySessionChunkTimings(B.id)}catch{}xn.clearSession(B.id);const g=await vt.getSession(B.id)??B,C=await vt.getChunkData(B.id),j=C.filter(it=>!_e(it)),q=C.find(it=>it.seq===0)?.startMs??j[0]?.startMs??g.startedAt,X=Number.isFinite(q)?Math.round(q):g.startedAt,K=Ic(j,X),G=j.map(it=>({...it,...Fc(it,X,K)})),at=Pa??(G.length>0?Math.max(...G.map(it=>it.endMs)):g.durationMs??0),lt=Math.max(0,at),yt=100,Nt=lt>0?Math.ceil(lt/yt):0,Rt={},Zt=async()=>{await new Promise(it=>requestAnimationFrame(()=>it()))},dt=async()=>{const it=[];Le({label:"Chunk coverage scan",completed:0,total:Nt});let pe=0;for(let be=0;be<Nt;be+=1){if(c())return;const qt=be*yt,ge=Math.min(lt,qt+yt),pt=G.find(Mt=>Mt.startMs<=qt&&Mt.endMs>qt)??null;pt?!Number.isFinite(pt.byteLength)||pt.byteLength<=0?it.push({index:be,startMs:qt,endMs:ge,status:"error",reason:"Chunk blob is empty",meta:{chunkId:pt.id,seq:pt.seq,byteLength:pt.byteLength}}):pt.endMs<=pt.startMs?it.push({index:be,startMs:qt,endMs:ge,status:"warn",reason:"Chunk timing metadata looks invalid",meta:{chunkId:pt.id,seq:pt.seq,chunkStartMs:pt.startMs,chunkEndMs:pt.endMs}}):(pe+=ge-qt,it.push({index:be,startMs:qt,endMs:ge,status:"ok",meta:{chunkId:pt.id,seq:pt.seq}})):it.push({index:be,startMs:qt,endMs:ge,status:"error",reason:"No chunk covers this time range"}),be%50===0&&(Le({label:"Chunk coverage scan",completed:be+1,total:Nt}),await Zt())}Le({label:"Chunk coverage scan",completed:Nt,total:Nt}),Rt.chunkCoverage={stepMs:yt,totalDurationMs:lt,segments:it,summary:Wl(it),metrics:{expectedDurationMs:lt,observedDurationMs:pe,expectedItemCount:Nt,observedItemCount:Nt-Wl(it).error}}},zt=async()=>{const it=[];Le({label:"Range access scan (0.1s)",completed:0,total:Nt});let pe=0,be=0;for(let qt=0;qt<Nt;qt+=1){if(c())return;const ge=qt*yt,pt=Math.min(lt,ge+yt);try{const Mt=await xn.inspectRange(g,ge,pt,g.mimeType??null);pe+=Mt.durationMs,be+=1;const ie=pt-ge,Yt=Mt.durationMs<Math.min(ie*.5,ie-10),Kt=Mt.sampleCount>0&&Mt.rms<=1e-5&&Mt.peak<=5e-5,sn=Yt||Kt?"warn":"ok",At=Yt?"Decoded slice shorter than expected":Kt?"Slice appears silent":void 0;it.push({index:qt,startMs:ge,endMs:pt,status:sn,reason:At,meta:{durationMs:Mt.durationMs,sampleCount:Mt.sampleCount,rms:Mt.rms,peak:Mt.peak}})}catch(Mt){it.push({index:qt,startMs:ge,endMs:pt,status:"error",reason:Mt instanceof Error?Mt.message:String(Mt)})}qt%20===0&&(Le({label:"Range access scan (0.1s)",completed:qt+1,total:Nt}),await Zt())}Le({label:"Range access scan (0.1s)",completed:Nt,total:Nt}),Rt.rangeAccess={stepMs:yt,totalDurationMs:lt,segments:it,summary:Wl(it),metrics:{expectedDurationMs:lt,observedDurationMs:pe,expectedItemCount:Nt,observedItemCount:be}}},we=async()=>{Le({label:"Per-chunk decode scan",completed:0,total:j.length});const it=[];if(typeof window>"u"||typeof window.AudioContext>"u"){Rt.chunkDecode={stepMs:1,totalDurationMs:lt,segments:[{index:0,startMs:0,endMs:0,status:"error",reason:"AudioContext is not supported in this environment."}],summary:{ok:0,warn:0,error:1,total:1},metrics:{expectedDurationMs:null,observedDurationMs:null,expectedItemCount:null,observedItemCount:null}};return}const pe=new AudioContext;let be=0,qt=0,ge=0;try{for(let pt=0;pt<G.length;pt+=1){if(c())return;const Mt=G[pt],ie=Mt.seq;be+=Math.max(0,Mt.endMs-Mt.startMs);try{const Yt=await xn.getChunkAudio(g,ie);if(!Yt)it.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:"error",reason:"Chunk not found",meta:{seq:ie}});else{const Kt=await Yt.blob.arrayBuffer(),sn=await pe.decodeAudioData(Kt.slice(0)),At=Math.max(0,sn.duration*1e3);qt+=At,ge+=1;const Jt=Math.max(0,Mt.endMs-Mt.startMs),Se=Math.abs(At-Jt),Oa=Se>250?"warn":"ok",Dn=Se>250?"Decoded duration differs from expected chunk timing":void 0;it.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:Oa,reason:Dn,meta:{seq:ie,blobType:Yt.mimeType,blobBytes:Yt.blob.size,decodedMs:At,expectedMs:Jt,driftMs:Se,note:"Standalone chunk decoding can include timestamp offsets; compare against range scans."}})}}catch(Yt){it.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:"error",reason:Yt instanceof Error?Yt.message:String(Yt),meta:{seq:ie}})}pt%5===0&&(Le({label:"Per-chunk decode scan",completed:pt+1,total:j.length}),await Zt())}}finally{await pe.close().catch(()=>{})}Le({label:"Per-chunk decode scan",completed:j.length,total:j.length}),Rt.chunkDecode={stepMs:1,totalDurationMs:lt,segments:it,summary:Wl(it),metrics:{expectedDurationMs:be,observedDurationMs:qt,expectedItemCount:j.length,observedItemCount:ge}}},ns=async()=>{const it=[],pe=Number.isFinite(B.durationMs)?Math.max(0,B.durationMs):null,be=j.length>0?Math.max(...j.map(At=>At.endMs)):null,qt=G.length>0?Math.max(...G.map(At=>At.endMs)):null,ge=G.reduce((At,Jt)=>At+Math.max(0,Jt.endMs-Jt.startMs),0),pt=[...G].sort((At,Jt)=>At.seq-Jt.seq);let Mt=0,ie=0;for(let At=1;At<pt.length;At+=1){const Jt=pt[At-1],Se=pt[At];Se.startMs<Jt.endMs-5&&(Mt+=1),Se.startMs>Jt.endMs+50&&(ie+=1)}if(Mt>0&&it.push({level:"warn",message:`Chunk timings overlap in ${Mt} places.`,meta:{overlaps:Mt}}),ie>0&&it.push({level:"warn",message:`Chunk timings have gaps in ${ie} places.`,meta:{gaps:ie}}),pe!==null&&qt!==null){const At=qt-pe;Math.abs(At)>1e3?it.push({level:(At>0,"warn"),message:"Session duration and chunk max end differ by >1s.",meta:{sessionDurationMs:pe,chunkMaxOffsetMs:qt,driftMs:At,chunkTimebase:K}}):it.push({level:"info",message:"Session duration and chunk max end are close.",meta:{sessionDurationMs:pe,chunkMaxOffsetMs:qt,driftMs:At,chunkTimebase:K}})}let Yt=null,Kt=null,sn=null;try{const At=await xn.listSnips(g,g.mimeType??null);Yt=At.length,Kt=At.length>0?Math.max(...At.map(Se=>Se.endMs)):0,sn=At.reduce((Se,Oa)=>Se+Math.max(0,Oa.durationMs),0);const Jt=qt??pe??lt;Jt>0&&Kt>Jt+2e3?it.push({level:"error",message:"Snips extend beyond the expected session duration by >2s.",meta:{baselineDurationMs:Jt,snipMaxEndMs:Kt,driftMs:Kt-Jt}}):Jt>0&&At.length>0&&Kt<Jt-2e3?it.push({level:"error",message:"Snips do not cover the full expected session duration (end too early).",meta:{baselineDurationMs:Jt,snipMaxEndMs:Kt,driftMs:Kt-Jt}}):it.push({level:"info",message:"Snip end times are within expected duration.",meta:{baselineDurationMs:Jt,snipMaxEndMs:Kt}})}catch(At){it.push({level:"error",message:"Failed to compute snips for sanity checks.",meta:{error:At instanceof Error?At.message:String(At)}})}try{const At=await vt.listChunkVolumeProfiles(B.id),Jt=new Set(G.map(jt=>jt.seq)),Se=At.filter(jt=>Jt.has(jt.seq)).sort((jt,la)=>jt.seq-la.seq),Oa=new Set(Se.map(jt=>jt.seq)),Dn=[...Jt].filter(jt=>!Oa.has(jt)),Oi=Se.filter(jt=>!(typeof jt.durationMs=="number"&&jt.durationMs>0)),as=Se.filter(jt=>!Array.isArray(jt.frames)||jt.frames.length===0),va=Se.filter(jt=>{const la=Array.isArray(jt.frames)?jt.frames:[];return la.length===0?!1:la.every(ba=>!Number.isFinite(ba)||ba<=0)}),ku=Se.filter(jt=>!(typeof jt.sampleRate=="number"&&jt.sampleRate>0)),un=Se.filter(jt=>!(typeof jt.frameDurationMs=="number"&&jt.frameDurationMs>0)),fl=[];Se.forEach(jt=>{const la=G.find(_u=>_u.seq===jt.seq)??null;if(!la)return;const ba=Math.max(0,la.endMs-la.startMs),Sa=Math.max(0,jt.durationMs??0),qs=Sa-ba;Math.abs(qs)>250&&fl.push({seq:jt.seq,expectedMs:ba,profileMs:Sa,driftMs:qs})}),Dn.length>0?it.push({level:"warn",message:`Missing chunk volume profiles for ${Dn.length} chunk(s).`,meta:{examples:Dn.slice(0,10)}}):it.push({level:"info",message:"Chunk volume profiles exist for all chunks."}),Oi.length>0||as.length>0||ku.length>0||un.length>0?it.push({level:"warn",message:"Some chunk volume profiles have invalid metadata (duration/frames/sampleRate/frameDuration).",meta:{zeroDuration:Oi.length,zeroFrames:as.length,invalidSampleRate:ku.length,invalidFrameDuration:un.length}}):it.push({level:"info",message:"Chunk volume profile metadata looks well-formed."}),va.length>0&&it.push({level:"warn",message:`Some chunk volume profiles are all zeros (silent/failed decode) (${va.length}).`,meta:{examples:va.slice(0,6).map(jt=>jt.seq)}}),fl.length>0?it.push({level:"warn",message:`Chunk volume profile durations differ from chunk timings for ${fl.length} chunk(s).`,meta:{examples:fl.slice(0,6)}}):it.push({level:"info",message:"Chunk volume profile durations match chunk timings (within 250ms)."})}catch(At){it.push({level:"warn",message:"Unable to validate chunk volume profiles.",meta:{error:At instanceof Error?At.message:String(At)}})}Rt.sanity={findings:it,metrics:{sessionDurationMs:pe,chunkMaxEndMs:be,chunkSumDurationMs:ge,snipCount:Yt,snipMaxEndMs:Kt,snipSumDurationMs:sn,chunkTimebase:K,chunkMaxOffsetMs:qt}}},zi=async()=>{Le({label:"Snip scan (each snip)",completed:0,total:1});const it=await xn.listSnips(g,g.mimeType??null),pe=[],be=it.reduce((pt,Mt)=>pt+Math.max(0,Mt.durationMs),0);let qt=0,ge=0;Le({label:"Snip scan (each snip)",completed:0,total:it.length});for(let pt=0;pt<it.length;pt+=1){if(c())return;const Mt=it[pt],ie=pt+1;try{const Yt=await xn.inspectRange(g,Mt.startMs,Mt.endMs,g.mimeType??null);qt+=Yt.durationMs,ge+=1;const Kt=Math.abs(Yt.durationMs-Math.max(0,Mt.durationMs)),sn=Yt.sampleCount>0&&Yt.rms<=1e-5&&Yt.peak<=5e-5,At=Kt>500||sn?"warn":"ok",Jt=Kt>500?"Decoded snip duration differs from expected":sn?"Snip appears silent":void 0;pe.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:At,reason:Jt,meta:{snipNumber:ie,expectedMs:Mt.durationMs,decodedMs:Yt.durationMs,driftMs:Kt,rms:Yt.rms,peak:Yt.peak,sampleCount:Yt.sampleCount}})}catch(Yt){pe.push({index:pt,startMs:Mt.startMs,endMs:Mt.endMs,status:"error",reason:Yt instanceof Error?Yt.message:String(Yt),meta:{snipNumber:ie}})}pt%5===0&&(Le({label:"Snip scan (each snip)",completed:pt+1,total:it.length}),await Zt())}Le({label:"Snip scan (each snip)",completed:it.length,total:it.length}),Rt.snipScan={stepMs:0,totalDurationMs:it.length>0?it[it.length-1].endMs:0,segments:pe,summary:Wl(pe),metrics:{expectedDurationMs:be,observedDurationMs:qt,expectedItemCount:it.length,observedItemCount:ge}}};try{if(Ze.sanityChecks&&await ns(),Ze.chunkCoverageScan&&await dt(),Ze.rangeAccessScan&&await zt(),Ze.chunkDecodeScan&&await we(),Ze.snipScan&&await zi(),c())return;Na(Rt)}catch(it){if(c())return;pi(it instanceof Error?it.message:String(it))}finally{c()||(An(!1),Le(null))}},[Ze.chunkCoverageScan,Ze.chunkDecodeScan,Ze.rangeAccessScan,Ze.sanityChecks,Ze.snipScan,B,Pa]),Os=()=>{Ia(!1),Ca([]),Fa(null),Da("tables"),Wa([]),mi(null),Ms([])},es=async i=>{const c=Number(i);!Number.isFinite(c)||c<=0||await gs.set({storageLimitBytes:Math.round(c*rd)})},Pc=async i=>{await gs.set({developerMode:i})},Di=async i=>{await gs.set({transcriptionMode:i})},Au=async i=>{await gs.set({groqApiKey:i})},Tu=async()=>{await gs.set({transcriptionOnboardingDismissed:!0})},Cu=D.useCallback(async i=>{const{id:c}=i,g=He.current,C=g.get(c),j=(Rt,Zt)=>{Zt.cleanup(),Zt.audio.pause(),Zt.audio.currentTime=Zt.startTime,g.delete(Rt)};if(W===c){C&&j(c,C),I(null);return}for(const[Rt,Zt]of g.entries())j(Rt,Zt);if(I(null),_e(i)||$e(i))return;const q=new Audio,X=ja(i);if(!X){console.error("[UI] Missing chunk URL for playback",c);return}q.src=X,q.volume=_;const K=0,G=0;Qt.current?.pause();function at(){q.removeEventListener("ended",yt),q.removeEventListener("error",yt)}function lt(){at(),q.pause(),q.currentTime=K,g.delete(c),I(Rt=>Rt===c?null:Rt)}function yt(){lt()}q.addEventListener("ended",yt),q.addEventListener("error",yt);const Nt=()=>at();g.set(c,{audio:q,cleanup:Nt,startTime:K,endTime:G});try{q.currentTime=K,await q.play(),I(c)}catch(Rt){console.error("[UI] Failed to play chunk",Rt),lt()}},[W,ja,$e,_e,_]),wu=D.useCallback(async i=>{if(!B||te(i))return;const c=i.id,g=Tn.current,C=g.get(c),j=(dt,zt)=>{zt.cleanup(),zt.audio.pause(),zt.audio.currentTime=zt.startTime,g.delete(dt)};if(st===c){C&&j(c,C),S(null);return}He.current.forEach((dt,zt)=>{dt.cleanup(),dt.audio.pause(),dt.audio.currentTime=dt.startTime,He.current.delete(zt)}),I(null);for(const[dt,zt]of g.entries())j(dt,zt);S(null);const q=await cl(i);if(!q)return;const X=new Audio;X.src=q.url,X.volume=_;const K=Math.max(0,i.durationMs/1e3),G=0,at=K;Qt.current?.pause();function lt(){X.removeEventListener("timeupdate",Rt),X.removeEventListener("ended",Nt),X.removeEventListener("error",Nt)}function yt(){lt(),X.pause(),X.currentTime=G,g.delete(c),S(dt=>dt===c?null:dt)}function Nt(){yt()}function Rt(){K>0&&X.currentTime>=at-.05&&yt()}X.addEventListener("timeupdate",Rt),X.addEventListener("ended",Nt),X.addEventListener("error",Nt);const Zt=()=>lt();g.set(c,{audio:X,cleanup:Zt,startTime:G,endTime:at});try{await X.play(),S(c)}catch(dt){console.error("[UI] Failed to play snip",dt),yt()}},[cl,te,_,B,st]),ga=D.useCallback(async()=>{try{const[i,c,g,C]=await Promise.all([vt.listSessions(),vt.getChunksForInspection(),vt.listChunkVolumeProfiles(),vt.listSnips()]);Ca([{name:"sessions",rows:i.map(j=>({...j}))},{name:"chunks",rows:c.map(j=>({...j}))},{name:"chunkVolumes",rows:g.map(j=>({...j,framesPreview:j.frames.slice(0,24),framesTotal:j.frames.length}))},{name:"snips",rows:C.map(j=>({...j,segmentsPreview:j.transcription?.segments?.slice(0,6)??[],segmentsCount:j.transcription?.segments?.length??0}))}]),Fa(j=>j??"sessions")}catch(i){console.error("[UI] Failed to load developer tables",i),Ca([]),Fa("sessions"),await tn("Developer table load failed",{error:i instanceof Error?i.message:String(i)})}},[]),dl=D.useCallback(async i=>{if(mi(i),i){const c=await vt.getLogEntries(i.id);Ms(c)}else Ms([])},[]),Ni=D.useCallback(async()=>{try{const i=await vt.listLogSessions();Wa(i);const g=kh()??i[0]??null;await dl(g)}catch(i){console.error("[UI] Failed to load log sessions",i),Wa([]),await dl(null),await tn("Log session load failed",{error:i instanceof Error?i.message:String(i)})}},[dl]),Du=D.useCallback(async i=>{if(!Zn)return;const c=En.findIndex(C=>C.id===Zn.id);if(c===-1)return;const g=En[c+i];g&&await dl(g)},[dl,En,Zn]),Nu=D.useCallback(async()=>{Da("tables"),Ia(!0),Ta(!0);try{await ga(),await Ni()}catch(i){console.error("[UI] Failed to load developer data",i),Ca([]),Fa(null),await tn("Developer overlay failed to load",{error:i instanceof Error?i.message:String(i)})}finally{Ta(!1)}},[ga,Ni]),ju=`${ys(ct.totalBytes)} / ${ys(ct.limitBytes)}`,ya=H.state==="recording"&&H.capturedMs>0,aa=Math.max(0,H.capturedMs),tr=`${(aa/1e3).toFixed(1)}s`,ks=H.state==="recording"&&o?.targetBitrate?Math.round(aa/1e3*(o.targetBitrate/8)):0,Ru=H.state==="recording"?Math.max(H.bytesBuffered,ks):H.bytesBuffered,ji=B?.id===H.sessionId&&H.state==="recording",Ri=ze&&!p&&Bt,_s=ji?aa:Pa??B?.durationMs??0,Us=Math.max(Pa!==null?Pa/1e3:_s/1e3,In.duration),ln=D.useMemo(()=>{if(!B||y.length===0)return null;const i=1e12,c=y.map(dt=>dt.startMs).filter(dt=>Number.isFinite(dt)),g=c.length>0?Math.min(...c):0,C=Number.isFinite(g)?g:0,j=C>i,q=dt=>j?dt-C:dt,X=y.filter(dt=>!_e(dt)).map(dt=>{const zt=q(dt.startMs),we=q(dt.endMs);return!Number.isFinite(zt)||!Number.isFinite(we)?null:{startMs:zt,endMs:we,hasAudio:!$e(dt)}}).filter(dt=>!!dt).sort((dt,zt)=>dt.startMs-zt.startMs),K=Math.max(B.durationMs??0,X.reduce((dt,zt)=>Math.max(dt,zt.endMs),0)),G=[],at=4;let lt=0;const yt=dt=>{if(dt.endMs<=dt.startMs)return;const zt=G[G.length-1];if(zt&&zt.hasAudio===dt.hasAudio&&Math.abs(zt.endMs-dt.startMs)<=at){zt.endMs=Math.max(zt.endMs,dt.endMs);return}G.push(dt)};X.forEach(dt=>{let zt=Math.max(0,dt.startMs),we=Math.max(zt,dt.endMs);K>0&&(zt=Math.min(zt,K),we=Math.min(we,K)),!(we<=lt)&&(zt>lt+at&&yt({startMs:lt,endMs:zt,hasAudio:!1}),yt({startMs:zt,endMs:we,hasAudio:dt.hasAudio}),lt=Math.max(lt,we))}),K>0&&lt<K-at&&yt({startMs:lt,endMs:K,hasAudio:!1});const Nt=G.filter(dt=>dt.hasAudio),Rt=[];let Zt=0;return Nt.forEach(dt=>{const zt=Math.max(0,dt.endMs-dt.startMs);zt<=0||(Rt.push({startMs:dt.startMs,endMs:dt.endMs,playStartMs:Zt,playEndMs:Zt+zt}),Zt+=zt)}),{durationMs:K,segments:G,playableDurationMs:Zt,playbackMap:Rt}},[y,$e,_e,B]),Bs=(ln?.playableDurationMs??0)>0,zu=D.useMemo(()=>{if(!ln||ln.playbackMap.length===0)return In.position;const i=Math.max(0,In.position*1e3),c=ln.playbackMap.find(C=>i<=C.playEndMs)??ln.playbackMap[ln.playbackMap.length-1],g=Math.max(0,Math.min(i-c.playStartMs,c.endMs-c.startMs));return Math.max(0,(c.startMs+g)/1e3)},[In.position,ln]),er=Us>0?zu/Us*100:0,nr=D.useMemo(()=>{if(!ln||ln.durationMs<=0)return[];const i=c=>Math.max(0,Math.min(100,c));return ln.segments.filter(c=>!c.hasAudio).map(c=>{const g=i(c.startMs/ln.durationMs*100),C=i(c.endMs/ln.durationMs*100);return{startPct:g,widthPct:Math.max(0,C-g)}}).filter(c=>c.widthPct>0)},[ln]),Ou=/mp4|m4a/i.test(H.mimeType??"")&&H.chunksRecorded>0,ar=Math.max(0,H.chunksRecorded-(Ou?1:0));return f.jsxs("div",{className:"app-shell",children:[Gl?f.jsx("div",{className:"no-audio-flash","aria-hidden":"true"}):null,f.jsxs("header",{className:"app-header",children:[f.jsx("div",{className:"brand",children:f.jsx("h1",{children:"Web Whisper"})}),f.jsxs("div",{className:"header-controls",children:[f.jsxs("div",{className:"buffer-card",role:"status","aria-live":"polite",children:[f.jsx("p",{className:"buffer-label",children:"Data"}),f.jsx("p",{className:"buffer-value",children:ju})]}),Ge?f.jsx("button",{className:"dev-trigger",type:"button",onClick:Nu,"aria-label":"Open developer console",children:""}):null,f.jsx("button",{className:"settings-button",type:"button",onClick:()=>Et(!0),children:"Settings"})]})]}),mt?f.jsxs("div",{className:"alert-banner",role:"alert",children:[f.jsx("p",{children:mt}),f.jsx("button",{type:"button",onClick:()=>J(null),children:"Dismiss"})]}):null,Qe?f.jsx("div",{className:"groq-setup-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"groq-setup-title",onClick:i=>{i.target===i.currentTarget&&se(!1)},children:f.jsxs("div",{className:"groq-setup-dialog",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"groq-setup-header",children:[f.jsx("h2",{id:"groq-setup-title",children:"Groq setup (quick steps)"}),f.jsx("button",{type:"button",className:"groq-setup-close",onClick:()=>se(!1),children:"Close"})]}),f.jsxs("div",{className:"groq-setup-body",children:[f.jsx("p",{children:"Groq is a separate service from this app. You will create the API key in your Groq console and paste it here."}),f.jsxs("ol",{children:[f.jsx("li",{children:"Create a free Groq account (no credit card required)."}),f.jsx("li",{children:"Open the Groq console and go to the API Keys page."}),f.jsx("li",{children:"Create a new API key and copy it."}),f.jsx("li",{children:"Back in Settings, set Transcription to Enabled, paste the key, and click Validate."})]})]}),f.jsxs("div",{className:"groq-setup-actions",children:[f.jsx("a",{href:Po,target:"_blank",rel:"noreferrer",children:"Go to Groq"}),f.jsx("button",{type:"button",onClick:()=>se(!1),children:"OK"})]})]})}):null,f.jsxs("main",{className:"content-grid",children:[f.jsxs("aside",{className:"controls-panel","aria-label":"Capture controls",children:[Lc?f.jsxs("div",{className:"onboarding-card",role:"status",children:[f.jsxs("div",{className:"onboarding-header",children:[f.jsx("h3",{children:"Transcription setup is insanely easy."}),f.jsx("button",{type:"button",onClick:()=>void Tu(),children:"Dismiss"})]}),f.jsxs("p",{children:["Groq is a separate service (not this app), and their accounts are free with no credit card required. Recording works out of the box."," ",f.jsx("button",{type:"button",className:"link-button",onClick:()=>se(!0),children:"It's easy to set up."})]}),f.jsx("p",{className:"onboarding-highlight",children:"This uses one of the most amazing AI models. It is a crazy amount of value for free."}),f.jsxs("ol",{children:[f.jsx("li",{children:"Create a free Groq account and copy your API key."}),f.jsx("li",{children:"Open Settings and switch Transcription to Enabled."}),f.jsx("li",{children:"Paste the key and click Validate."})]}),f.jsx("p",{className:"onboarding-disclaimer",children:"Transcription is powered by Groq's servers (again: a separate service). Whisper on Groq is SO inexpensive. I used it all day intensely and I have never come close to being charged. Groq's pay-as-you-go free tier means you will likely never be charged."}),f.jsxs("div",{className:"onboarding-actions",children:[f.jsx("button",{type:"button",onClick:()=>Et(!0),children:"Open Settings"}),f.jsx("a",{href:Po,target:"_blank",rel:"noreferrer",children:"Get Groq API key"})]})]}):null,f.jsxs("div",{className:"controls-card",children:[f.jsx("h2",{children:"Capture"}),f.jsx("button",{className:`record-toggle ${H.state==="recording"?ya?"record-toggle-stop":"record-toggle-starting":"record-toggle-start"}`,type:"button",onClick:Xc,"aria-pressed":H.state==="recording",disabled:H.state==="recording"&&!ya,children:H.state==="recording"?ya?"Stop recording":"Starting":"Start recording"}),f.jsx("p",{className:"controls-copy",children:H.state==="recording"?ya?`Recording  ${ri(Math.floor(aa/1e3))} elapsed`:"Starting recorder":"Recorder idle  tap start to begin a durable session."})]})]}),Ge&&H.state==="recording"?f.jsxs("div",{className:"dev-strip capture-strip",role:"status","aria-live":"polite",children:[f.jsxs("span",{children:["Audio: ",tr," / ",ar," seg",Ou?" + init":""]}),f.jsxs("span",{children:["Data: ",ys(Ru)]})]}):null,f.jsx("section",{className:"session-section","aria-label":"Recording sessions",children:f.jsx("ul",{className:"session-list",children:m.map(i=>{const c=i.id===H.sessionId&&H.state==="recording",g=c?ri(Math.floor(aa/1e3)):l0(i.durationMs),C=N[i.id]??"",j=L[i.id]??0,q=et[i.id],X=q?.transcribedCount??0,K=q?.total??0,G=q?.purgedCount??0,at=q?.retryableCount??Math.max(0,K-G),lt=X>0,yt=Bt&&j>0,Nt=K>0||yt,Rt=i.status==="error"?i.notes??"Recording error.":"",Zt=!!xt[i.id],dt=Bt&&!c&&!!(bt[i.id]||Zt),zt=Bt&&at>0,we=i.status==="error"?"error":c?"recording":dt?"transcribing":yt&&Nt?lt?"partial":"untranscribed":i.status,ns=Fy[we],it=!(i.chunkCount>0&&i.totalBytes>0&&(i.durationMs??0)>0)||i.status==="error",pe=`${s0(i.startedAt)}  ${n0(i.totalBytes)}`,be=i.id===Pt,qt=["session-card"];be&&qt.push("is-new"),i.status==="error"&&qt.push("has-error");const ge=c?"Recording in progress...":Rt||(dt?"Finishing transcription...":C||(G>0&&!yt?`Audio purged for ${G} snip${G===1?"":"s"}.`:yt?lt?`Partially transcribed (${X}/${K})`:"Transcription failed for all snips.":Bt?"Transcription pending...":Bn?"Recording complete. Transcription paused.":"Recording complete."));return f.jsx("li",{children:f.jsxs("article",{className:qt.join(" "),role:"button",tabIndex:0,onClick:()=>M(i.id),onKeyDown:pt=>{(pt.key==="Enter"||pt.key===" ")&&(pt.preventDefault(),M(i.id))},children:[f.jsxs("header",{className:"session-topline",children:[f.jsxs("div",{className:"session-topline-left",children:[f.jsx("span",{className:`session-pill ${ns.pillClass}`,children:ns.label}),f.jsx("span",{className:"session-duration-label",children:g})]}),f.jsx("div",{className:"session-topline-right",children:f.jsx("span",{className:"session-meta",children:pe})})]}),f.jsxs("div",{className:"session-preview-row",children:[f.jsx("p",{className:"session-preview",children:ge}),dt?f.jsx("span",{className:"session-spinner","aria-label":"Transcribing"}):null,!dt&&zt&&(yt||!C&&!Rt)&&i.status==="ready"?f.jsx("button",{type:"button",className:"session-retry",onClick:pt=>{pt.stopPropagation(),Yc(i.id)},disabled:Zt,"aria-label":`Retry transcription for ${i.title}`,children:Zt?"Retrying":"Retry TX"}):null,it?f.jsx("button",{type:"button",className:"session-delete",onClick:pt=>{pt.stopPropagation(),Kc(i)},disabled:i.id===H.sessionId&&H.state==="recording","aria-label":`Delete ${i.title}`,title:i.id===H.sessionId&&H.state==="recording"?"Stop the active recording before deleting it.":"Delete recording",children:""}):null]})]})},i.id)})})})]}),Ri?f.jsxs("section",{className:`transcription-panel${A?" is-visible":""}`,"aria-live":"polite","aria-label":"Live transcription preview",children:[f.jsx("header",{className:"transcription-header",children:f.jsx("h2",{children:"Live transcription"})}),f.jsxs("div",{className:"transcription-stream",ref:Yl,children:[ma.length===0?f.jsx("p",{className:"transcription-empty",children:"Pending - first words arrive in about 30 seconds."}):ma.map((i,c)=>f.jsx("p",{className:"transcription-line",children:i},`${c}-${i.slice(0,12)}`)),f.jsx("div",{className:"transcription-fade","aria-hidden":"true"})]})]}):null,f.jsx("audio",{ref:Qt,hidden:!0,preload:"none"}),B?f.jsx("div",{className:"detail-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"recording-detail-title",onClick:i=>{i.target===i.currentTarget&&za()},children:f.jsxs("div",{className:"detail-panel",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"detail-header",children:[f.jsxs("div",{children:[f.jsx("p",{className:"detail-label",children:B.id===H.sessionId&&H.state==="recording"?"Recording in progress":"Recorded session"}),f.jsx("h2",{id:"recording-detail-title",children:e0(_s)})]}),f.jsxs("div",{className:"detail-actions",children:[Ge?f.jsx("button",{className:`detail-graph-toggle ${ra?"is-active":""}`,type:"button",onClick:()=>tl(i=>!i),"aria-pressed":ra,"aria-label":ra?"Hide audio chunking analysis":"Show audio chunking analysis",children:""}):null,Ge?f.jsx("button",{className:`detail-doctor-toggle ${Bl?"is-active":""}`,type:"button",onClick:()=>yu(i=>!i),"aria-pressed":Bl,"aria-label":Bl?"Hide recording doctor diagnostics":"Show recording doctor diagnostics",children:""}):null,Ge?f.jsx("button",{className:`detail-debug-toggle ${kn?"is-active":""}`,type:"button",onClick:()=>Ul(i=>!i),"aria-pressed":kn,"aria-label":kn?"Hide developer details":"Show developer details",children:""}):null,f.jsx("button",{className:"detail-delete",type:"button",onClick:()=>void Zc(),"aria-label":"Delete recording",disabled:B.id===H.sessionId&&H.state==="recording",title:B.id===H.sessionId&&H.state==="recording"?"Stop the active recording before deleting it.":"Delete recording",children:""}),f.jsx("button",{className:"detail-close",type:"button",onClick:za,children:"Close"})]})]}),f.jsxs("div",{className:"detail-body",children:[f.jsxs("div",{className:"detail-summary",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Captured:"})," ",sp(B.startedAt)," ",od(B.startedAt)," "," ",a0(B.startedAt,B.durationMs)]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Size:"})," ",ys(B.totalBytes)]}),Ge&&kn?f.jsxs("p",{children:[f.jsx("strong",{children:"Format:"})," ",B.mimeType??"pending"," "," ",f.jsx("strong",{children:"Chunks:"})," ",Ti,na?" + init":""]}):null]}),f.jsxs("div",{className:"playback-controls",children:[f.jsx("button",{className:`playback-button${Bs?"":" is-disabled"}`,type:"button",onClick:Qc,disabled:bu,"aria-disabled":!Bs,"aria-pressed":In.playing,children:bu?"":In.playing?"":""}),f.jsxs("div",{className:"playback-progress","aria-hidden":"true",children:[nr.map((i,c)=>f.jsx("span",{className:"playback-gap",style:{left:`${i.startPct}%`,width:`${i.widthPct}%`}},`gap-${c}-${i.startPct}`)),f.jsx("div",{className:"playback-progress-bar",style:{width:`${er}%`}})]}),f.jsxs("span",{className:"playback-timestamps",children:[ri(zu)," / ",ri(Us)]}),f.jsxs("div",{className:`volume-control ${nt?"is-open":""}`,children:[f.jsx("button",{type:"button",className:"volume-button","aria-pressed":nt,"aria-label":nt?"Hide volume slider":"Show volume slider",onClick:()=>gt(i=>!i),children:_===0?"":_<.5?"":""}),nt?f.jsx("input",{className:"volume-slider",type:"range",min:0,max:100,value:Math.round(_*100),onChange:i=>tt(Number(i.target.value)/100),"aria-label":"Playback volume"}):null]})]}),xs?f.jsx("p",{className:"detail-notes",role:"alert",children:xs}):null,Bs?null:f.jsx("p",{className:"detail-notes",role:"status",children:"Audio was purged for this recording. Playback is unavailable."}),Ge&&ra?f.jsx("div",{className:"detail-analysis",children:el==="loading"?f.jsx("p",{className:"detail-analysis-status",children:"Analyzing audio for pauses"}):el==="error"?f.jsx("p",{className:"detail-analysis-status",role:"alert",children:Oe??"Unable to analyze audio."}):Wn?f.jsx(Oy,{analysis:Wn,targetRange:{minMs:5e3,idealMs:1e4,maxMs:6e4},playback:{positionMs:Math.max(0,In.position*1e3),isPlaying:In.playing}}):f.jsx("p",{className:"detail-analysis-status",children:"Preparing analysis"})}):null,f.jsxs("div",{className:"detail-transcription",children:[f.jsx("h3",{children:"Transcription"}),f.jsx("div",{className:"detail-transcription-actions",children:f.jsx("button",{type:"button",className:"detail-transcription-retry",onClick:()=>{if(!Bt){Et(!0);return}Gc()},disabled:Ts||Bt&&(b.length===0||he.retryableCount===0),children:Bt?Ts?"Retrying":"Retry TX":"Open Settings"})}),Bt?null:f.jsxs("div",{className:"detail-transcription-blocked",role:"status",children:[f.jsx("p",{children:Ye??"Transcription is unavailable right now."}),f.jsx("button",{type:"button",onClick:()=>Et(!0),children:"Open Settings"})]}),b.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No snips recorded yet."}):Bt?he.transcribedCount===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No snip transcriptions yet. Open the snip list to retry each segment."}):f.jsx("textarea",{ref:vi,className:"detail-transcription-text",readOnly:!0,value:he.text,onClick:Je,"aria-label":"Session transcription text",rows:Math.min(8,Math.max(3,Math.ceil(he.text.length/90)))}):f.jsx("p",{className:"detail-transcription-placeholder",children:"Transcription is paused. Enable it in Settings to start sending snips to Groq."}),b.length>0&&(Bt||he.transcribedCount>0)?f.jsxs("p",{className:"detail-transcription-meta",children:["Transcribed ",he.transcribedCount," of ",he.total," snips."]}):null,Bt&&he.errorCount>0?f.jsxs("p",{className:"detail-transcription-error",role:"alert",children:[he.errorCount," snip transcription error",he.errorCount===1?"":"s"," recorded. See the snip list for details."]}):null,he.purgedCount>0?f.jsxs("p",{className:"detail-transcription-note",children:["Audio purged for ",he.purgedCount," snip",he.purgedCount===1?"":"s"," to stay under the storage cap. Retries are disabled for purged audio."]}):null]}),Ge&&Bl?f.jsxs("div",{className:"detail-doctor",children:[f.jsxs("div",{className:"detail-doctor-header",children:[f.jsx("h3",{children:"Doctor diagnostics"}),f.jsxs("div",{className:"detail-doctor-actions",children:[f.jsx("button",{type:"button",onClick:async()=>{if(B){ca(null),$n(null);try{await vt.init();const c=kh()?.id??null,g=c?await vt.getLogEntries(c,400):[],C=$c({session:B,doctorReports:Ee,logs:g.map(j=>({level:j.level,message:j.message,timestamp:j.timestamp}))});$n(C);try{await Jc(C),ca("Copied compact report to clipboard."),window.setTimeout(()=>ca(null),2500)}catch{ca("Clipboard copy blocked; compact report shown below (tap Select all).")}}catch(i){ca(`Copy failed: ${i instanceof Error?i.message:String(i)}`)}}},disabled:ve,children:"Copy compact report"}),f.jsx("button",{type:"button",onClick:()=>{Vl.current+=1,An(!1),Le(null)},disabled:!ve,children:"Cancel"}),f.jsx("button",{type:"button",onClick:()=>void Wc(),disabled:ve,children:ve?"Running":"Run selected tests"})]})]}),ql?f.jsx("p",{className:"detail-transcription-placeholder",children:ql}):null,Ll?f.jsxs("div",{className:"doctor-export",children:[f.jsxs("div",{className:"doctor-export-actions",children:[f.jsx("button",{type:"button",onClick:()=>{const i=document.getElementById("doctor-export-textarea");i&&(i.focus(),i.select())},children:"Select all"}),f.jsx("button",{type:"button",onClick:()=>$n(null),children:"Hide"})]}),f.jsx("textarea",{id:"doctor-export-textarea",className:"doctor-export-textarea",readOnly:!0,value:Ll,rows:10})]}):null,f.jsx("p",{className:"detail-transcription-placeholder",children:"Runs quick integrity checks to help identify whether corruption is in stored chunks or in range access/decoding."}),f.jsxs("div",{className:"doctor-test-list",children:[f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ze.sanityChecks,disabled:ve,onChange:i=>Kn(c=>({...c,sanityChecks:i.target.checked}))}),f.jsx("span",{children:"Sanity checks (durations, snip bounds, chunk timing)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ze.chunkCoverageScan,disabled:ve,onChange:i=>Kn(c=>({...c,chunkCoverageScan:i.target.checked}))}),f.jsx("span",{children:"Chunk coverage scan (IndexedDB timings/coverage, 0.1s)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ze.rangeAccessScan,disabled:ve,onChange:i=>Kn(c=>({...c,rangeAccessScan:i.target.checked}))}),f.jsx("span",{children:"Range access scan via slice API (decode+inspect, 0.1s)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ze.chunkDecodeScan,disabled:ve,onChange:i=>Kn(c=>({...c,chunkDecodeScan:i.target.checked}))}),f.jsx("span",{children:"Per-chunk decode scan (decode each chunk blob)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ze.snipScan,disabled:ve,onChange:i=>Kn(c=>({...c,snipScan:i.target.checked}))}),f.jsx("span",{children:"Snip scan (inspect each snip range)"})]})]}),qe?f.jsxs("p",{className:"detail-transcription-placeholder",children:[qe.label,": ",qe.completed,"/",qe.total]}):null,vu?f.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:vu}):null,Ee?.sanity?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Sanity checks"}),f.jsxs("p",{className:"doctor-summary",children:["Session duration: ",((Ee.sanity.metrics.sessionDurationMs??0)/1e3).toFixed(1),"s  Chunk timebase: ",Ee.sanity.metrics.chunkTimebase,"  Chunk max end:"," ",((Ee.sanity.metrics.chunkMaxOffsetMs??0)/1e3).toFixed(1),"s  Chunk sum:"," ",((Ee.sanity.metrics.chunkSumDurationMs??0)/1e3).toFixed(1),"s  Snips:"," ",Ee.sanity.metrics.snipCount??0,"  Snip max end:"," ",((Ee.sanity.metrics.snipMaxEndMs??0)/1e3).toFixed(1),"s  Snip sum:"," ",((Ee.sanity.metrics.snipSumDurationMs??0)/1e3).toFixed(1),"s"]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ts(`sanity-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:Ee.sanity}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Ee.sanity.findings.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No findings."}):Ee.sanity.findings.map((i,c)=>f.jsx("div",{className:`doctor-detail-row is-${i.level==="info"?"ok":i.level}`,children:f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:i.level.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:i.message})]})},c))})]}):null,(()=>{const i=Ee?.chunkCoverage;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Chunk coverage scan"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Chunk coverage results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`${gn(c.startMs)}${gn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ue(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ue(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ue(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected segments:"," ",i.metrics.expectedItemCount??0,"  Observed segments: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ts(`chunk-coverage-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Pl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ue(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:[gn(g.startMs),"",gn(g.endMs)]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=Ee?.rangeAccess;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Range access scan (0.1s)"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Range access results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`${gn(c.startMs)}${gn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ue(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ue(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ue(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected windows:"," ",i.metrics.expectedItemCount??0,"  Decoded windows: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ts(`range-access-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Pl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ue(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:[gn(g.startMs),"",gn(g.endMs)]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=Ee?.chunkDecode;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Per-chunk decode scan"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Per-chunk decode results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`Chunk #${c.index+1}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ue(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ue(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ue(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Decoded audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected chunks:"," ",i.metrics.expectedItemCount??0,"  Decoded chunks: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ts(`chunk-decode-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Pl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ue(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=Ee?.snipScan;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Snip scan (each snip)"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Snip scan results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`Snip #${c.index+1}  ${gn(c.startMs)}${gn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Ue(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Ue(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Ue(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected snips:"," ",i.metrics.expectedItemCount??0,"  Decoded snips: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ts(`snip-scan-${B.id}`,{sessionId:B.id,mimeType:B.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:Pl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Ue(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})()]}):null,Ge&&kn?f.jsxs("div",{className:"detail-chunks",children:[f.jsxs("div",{className:"detail-slices-header",children:[f.jsxs("h3",{children:[mn==="chunks"?`Chunks (${Ti}${na?" + init":""})`:`Snips (${b.length})`," "," ",B.mimeType??"pending"]}),f.jsxs("div",{className:"detail-slice-toggle",role:"tablist","aria-label":"Slice mode",children:[f.jsx("button",{type:"button",role:"tab","aria-selected":mn==="chunks",className:mn==="chunks"?"is-selected":"",onClick:()=>hi("chunks"),children:"Chunks"}),f.jsx("button",{type:"button",role:"tab","aria-selected":mn==="snips",className:mn==="snips"?"is-selected":"",onClick:()=>hi("snips"),children:"Snips"})]})]}),mn==="chunks"?y.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No chunks persisted yet."}):f.jsx("ul",{className:"chunk-list",children:y.map(i=>{const c=Math.max(0,(i.endMs-i.startMs)/1e3),g=c<10?2:1,C=`${c.toFixed(g)} s`,j=_e(i),q=W===i.id,X=i.seq+1,K=$e(i),G=j?`Chunk ${X} is an init segment without audio`:K?`Chunk ${X} audio purged`:q?`Pause chunk ${X}`:`Play chunk ${X}`;return f.jsxs("li",{className:`chunk-item ${j?"header-chunk":""}`,children:[f.jsx("button",{type:"button",className:`chunk-play ${q?"is-playing":""}`,onClick:()=>void Cu(i),"aria-pressed":q,"aria-label":G,disabled:j||K,title:j?"Init segment (no audio payload)":K?"Audio purged to stay under the storage cap":void 0,children:j?"NA":q?"":""}),f.jsxs("span",{children:["#",X]}),f.jsx("span",{children:C}),f.jsx("span",{children:ys(i.byteLength)}),f.jsx("button",{type:"button",className:"chunk-download",onClick:()=>Su(i),"aria-label":`Download chunk ${X}`,disabled:j||K,title:j?"Init segment (typically no downloadable audio)":K?"Audio purged to stay under the storage cap":void 0,children:""}),j?f.jsx("span",{className:"chunk-flag",children:"init segment"}):null,K?f.jsx("span",{className:"chunk-flag is-purged",children:"purged"}):null]},i.id)})}):el==="loading"&&b.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"Analyzing audio for snips"}):el==="error"&&b.length===0?f.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:Oe??"Unable to analyze audio."}):b.length?f.jsxs(f.Fragment,{children:[el==="error"&&Oe?f.jsxs("p",{className:"detail-transcription-placeholder",role:"alert",children:["Snip refresh failed: ",Oe]}):null,f.jsx("ul",{className:"chunk-list",children:b.map(i=>{const c=i.index+1,g=Math.max(0,i.durationMs/1e3),C=g<10?2:1,j=`${g.toFixed(C)} s`,q=i.id,X=st===q,K=!!Hl[i.id],G=$a(i),at=G.length>0,lt=te(i),yt=lt?`Snip ${c} audio purged`:X?`Pause snip ${c}`:`Play snip ${c}`,Nt=lt?`Snip ${c} audio purged`:Bt?K?`Transcribing snip ${c}`:at?`Retry transcription for snip ${c}`:`Transcribe snip ${c}`:`Transcription paused. Open Settings to enable snip ${c}.`,Rt=lt?"Audio purged":Bt?K&&!ji?"Transcribing":at?"Transcribed":"Pending":"Paused",Zt=lt?"is-purged":at?"is-ready":Bt?"is-pending":"is-paused";return f.jsxs("li",{className:"chunk-item",children:[f.jsx("button",{type:"button",className:`chunk-play ${X?"is-playing":""}`,onClick:()=>void wu(i),"aria-pressed":X,"aria-label":yt,disabled:lt,children:X?"":""}),f.jsxs("span",{children:["#",c]}),f.jsx("span",{children:j}),f.jsxs("span",{children:[ri(Math.round(i.startMs/1e3)),"  ",ri(Math.round(i.endMs/1e3))]}),f.jsx("span",{className:`snip-transcription-status ${Zt}`,children:Rt}),f.jsx("button",{type:"button",className:"chunk-download",onClick:()=>void Ci(i,c),"aria-label":`Download snip ${c}`,disabled:lt,children:""}),f.jsx("button",{type:"button",className:"snip-transcribe",onClick:()=>void Hc(i),"aria-label":Nt,disabled:K||lt||!Bt,children:Bt?at?"Retry":"Tx":"Off"}),G?f.jsx("textarea",{className:"snip-transcription-text",readOnly:!0,value:G,onClick:Je,"aria-label":`Snip ${c} transcription`,rows:Math.min(6,Math.max(2,Math.ceil(G.length/80)))}):null,i.transcriptionError?f.jsx("span",{className:"snip-transcription-error",role:"alert",children:i.transcriptionError}):null,lt?f.jsx("span",{className:"snip-retention-note",children:Wh}):null]},q)})})]}):f.jsx("p",{className:"detail-transcription-placeholder",children:"No snips available yet."})]}):null,B.status==="error"&&B.notes?f.jsx("p",{className:"detail-notes",children:B.notes}):null]})]})}):null,wt?f.jsx("div",{className:"settings-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",onClick:i=>{i.target===i.currentTarget&&Et(!1)},children:f.jsxs("div",{className:"settings-dialog",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"settings-header",children:[f.jsx("h2",{id:"settings-title",children:"Settings"}),f.jsx("button",{type:"button",className:"settings-close",onClick:()=>Et(!1),children:"Close"})]}),f.jsxs("div",{className:"settings-body",children:[f.jsxs("section",{className:"settings-section","aria-labelledby":"settings-transcription-title",children:[f.jsxs("div",{className:"settings-section-header",children:[f.jsx("h3",{id:"settings-transcription-title",children:"Transcription"}),f.jsx("span",{className:`settings-pill ${ea}`,children:Ns})]}),f.jsxs("p",{className:"settings-hint",children:["Groq is a separate service (not this app). Their free account takes about a minute to set up, and you can enable it any time."," ",f.jsx("button",{type:"button",className:"link-button",onClick:()=>se(!0),children:"It's easy to set up."})]}),f.jsxs("ol",{className:"settings-cheatsheet",children:[f.jsx("li",{children:"Create a free Groq account and copy the API key."}),f.jsx("li",{children:"Switch Transcription to Enabled."}),f.jsx("li",{children:"Paste the key and click Validate."})]}),f.jsxs("div",{className:"settings-mode-toggle",role:"group","aria-label":"Transcription mode",children:[f.jsx("button",{type:"button",className:xi==="enabled"?"is-selected":"",onClick:()=>void Di("enabled"),children:"Enabled"}),f.jsx("button",{type:"button",className:xi==="disabled"?"is-selected":"",onClick:()=>void Di("disabled"),children:"Disabled"})]}),f.jsxs("label",{className:"settings-field",children:[f.jsx("span",{children:"Groq API key"}),f.jsx("input",{type:"text",value:o?.groqApiKey??"",onChange:i=>void Au(i.target.value),placeholder:"sk-",autoComplete:"off"})]}),f.jsxs("div",{className:"settings-validation",children:[f.jsxs("span",{className:`settings-validation-status ${Ai}`,children:["Key status: ",Ei]}),f.jsx("button",{type:"button",onClick:()=>void fa(),disabled:!ta||fe==="validating",children:fe==="validating"?"Validating...":fe==="invalid"?"Retry validation":"Validate key"})]}),oa?f.jsx("p",{className:"settings-error",role:"alert",children:oa}):null,f.jsxs("p",{className:"settings-disclaimer",children:["Need a key?"," ",f.jsx("a",{href:Po,target:"_blank",rel:"noreferrer",children:"Create one in Groq Console"}),". Groq is a separate service and handles billing directly. Whisper on Groq is SO inexpensive. I used it all day intensely and I have never come close to being charged. Groq's pay-as-you-go free tier means you will likely never be charged. See"," ",f.jsx("a",{href:t0,target:"_blank",rel:"noreferrer",children:"Groq pricing"}),"."]})]}),f.jsxs("section",{className:"settings-section","aria-labelledby":"settings-app-title",children:[f.jsx("h3",{id:"settings-app-title",children:"App"}),f.jsxs("label",{className:"settings-field settings-checkbox",children:[f.jsx("input",{type:"checkbox",checked:Ge,onChange:i=>void Pc(i.target.checked)}),f.jsx("span",{children:"Enable developer mode"})]}),f.jsxs("label",{className:"settings-field",children:[f.jsx("span",{children:"Storage cap (MB)"}),f.jsx("input",{type:"number",min:1,value:Math.round(wn/rd),onChange:i=>void es(i.target.value)})]})]})]})]})}):null,Ge&&_l?f.jsx("div",{className:"dev-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"dev-console-title",onClick:i=>{i.target===i.currentTarget&&Os()},children:f.jsxs("div",{className:"dev-panel",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"dev-panel-header",children:[f.jsx("h2",{id:"dev-console-title",children:"Developer Console"}),f.jsx("button",{type:"button",className:"dev-close",onClick:Os,children:"Close"})]}),f.jsxs("div",{className:"dev-panel-toolbar",children:[f.jsx("button",{type:"button",className:Ss==="tables"?"is-selected":"",onClick:()=>{Da("tables"),Ta(!0),ga().finally(()=>Ta(!1))},children:"IndexedDB"}),f.jsx("button",{type:"button",className:Ss==="logs"?"is-selected":"",onClick:()=>{Da("logs"),Ta(!0),Ni().finally(()=>Ta(!1))},children:"Logs"})]}),Ss==="tables"?f.jsxs("div",{className:"dev-panel-body",children:[f.jsx("div",{className:"dev-table-buttons",children:ua.map(i=>f.jsxs("button",{type:"button",className:wa===i.name?"is-selected":"",onClick:()=>Fa(i.name),children:[i.name,f.jsx("span",{className:"dev-table-count",children:i.rows.length})]},i.name))}),f.jsx("div",{className:"dev-table-rows",children:bs?f.jsx("p",{children:"Loading"}):wa?(()=>{const i=ua.find(c=>c.name===wa);return i?i.rows.length===0?f.jsx("p",{children:"No rows."}):wa==="chunks"?i.rows.map((g,C)=>{const j=typeof g.id=="string"?g.id:`${g.sessionId??"chunk"}-${g.seq??C}`,q=typeof g.blobSize=="number"?g.blobSize:null,X=typeof g.verifiedByteLength=="number"?g.verifiedByteLength:null,K=q!==null?`${q} B (${ys(q)})`:"unknown",G=X!==null?`${X} B (${ys(X)})`:"unverified",at=!!(g.sizeMismatch??(X!==null&&q!==null&&X!==q));return f.jsxs("div",{className:`dev-table-chunk ${at?"has-mismatch":""}`,children:[f.jsx("pre",{children:JSON.stringify(g,null,2)}),f.jsxs("p",{className:"dev-chunk-extra",children:[f.jsxs("span",{children:["blob.size: ",K]}),f.jsxs("span",{children:["verified: ",G]}),f.jsx("span",{className:at?"dev-chunk-warning":"dev-chunk-ok",children:at?" size mismatch":" sizes match"})]})]},j)}):wa==="chunkVolumes"?i.rows.map((g,C)=>{const j=`${g.sessionId}-${g.chunkId}-${C}`,q=g.framesTotal??g.frames.length,X=typeof g.averageNormalized=="number"?g.averageNormalized:0,K=typeof g.maxNormalized=="number"?g.maxNormalized:0,G=typeof g.durationMs=="number"?(g.durationMs/1e3).toFixed(2):"0.00";return f.jsxs("div",{className:"dev-table-chunk",children:[f.jsx("pre",{children:JSON.stringify(g,null,2)}),f.jsxs("p",{className:"dev-chunk-extra",children:[f.jsxs("span",{children:["frames: ",q]}),f.jsxs("span",{children:["duration: ",G,"s"]}),f.jsxs("span",{children:["avg volume: ",X.toFixed(4)]}),f.jsxs("span",{children:["peak volume: ",K.toFixed(4)]})]})]},j)}):i.rows.map((c,g)=>f.jsx("pre",{children:JSON.stringify(c,null,2)},g)):f.jsx("p",{children:"No rows."})})():f.jsx("p",{children:"Select a table to inspect rows."})})]}):f.jsxs("div",{className:"dev-log-body",children:[f.jsxs("div",{className:"dev-log-header",children:[f.jsx("button",{type:"button",onClick:()=>void Du(-1),disabled:!Zn||En.findIndex(i=>i.id===Zn.id)===En.length-1,children:""}),f.jsxs("select",{value:Zn?.id??"",onChange:i=>{const c=En.find(g=>g.id===i.target.value)??null;dl(c)},children:[En.length===0?f.jsx("option",{value:"",children:"No sessions"}):null,En.map(i=>f.jsx("option",{value:i.id,children:new Date(i.startedAt).toLocaleString()},i.id))]}),f.jsx("button",{type:"button",onClick:()=>void Du(1),disabled:!Zn||En.findIndex(i=>i.id===Zn.id)<=0,children:""})]}),f.jsx("div",{className:"dev-log-entries",children:bs?f.jsx("p",{children:"Loading"}):Zn?en.length===0?f.jsx("p",{children:"No entries for this session."}):en.map(i=>f.jsxs("article",{className:`dev-log-entry level-${i.level}`,children:[f.jsxs("header",{children:[f.jsx("span",{className:"dev-log-message",children:i.message}),f.jsxs("span",{className:"dev-log-meta",children:[f.jsx("span",{className:"dev-log-level",children:i.level.toUpperCase()}),f.jsx("time",{dateTime:new Date(i.timestamp).toISOString(),children:r0(i.timestamp)})]})]}),i.details?f.jsx("code",{className:"dev-log-details",children:typeof i.details=="string"?i.details:JSON.stringify(i.details)}):null]},i.id??`${i.timestamp}`)):f.jsx("p",{children:"No log sessions found."})})]})]})}):null]})}document.title="Web Whisper";Ug({immediate:!0});zg.createRoot(document.getElementById("root")).render(f.jsx(D.StrictMode,{children:f.jsx(o0,{})}));
