(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const M of p)if(M.type==="childList")for(const y of M.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function m(p){const M={};return p.integrity&&(M.integrity=p.integrity),p.referrerPolicy&&(M.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?M.credentials="include":p.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function d(p){if(p.ep)return;p.ep=!0;const M=m(p);fetch(p.href,M)}})();var Xo={exports:{}},bu={};var mh;function Tg(){if(mh)return bu;mh=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function m(d,p,M){var y=null;if(M!==void 0&&(y=""+M),p.key!==void 0&&(y=""+p.key),"key"in p){M={};for(var A in p)A!=="key"&&(M[A]=p[A])}else M=p;return p=M.ref,{$$typeof:o,type:d,key:y,ref:p!==void 0?p:null,props:M}}return bu.Fragment=r,bu.jsx=m,bu.jsxs=m,bu}var hh;function wg(){return hh||(hh=1,Xo.exports=Tg()),Xo.exports}var f=wg(),Qo={exports:{}},wt={};var ph;function Cg(){if(ph)return wt;ph=1;var o=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),y=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),H=Symbol.iterator;function $(S){return S===null||typeof S!="object"?null:(S=H&&S[H]||S["@@iterator"],typeof S=="function"?S:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Et={};function ut(S,_,tt){this.props=S,this.context=_,this.refs=Et,this.updater=tt||et}ut.prototype.isReactComponent={},ut.prototype.setState=function(S,_){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,_,"setState")},ut.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function yt(){}yt.prototype=ut.prototype;function ot(S,_,tt){this.props=S,this.context=_,this.refs=Et,this.updater=tt||et}var L=ot.prototype=new yt;L.constructor=ot,F(L,ut.prototype),L.isPureReactComponent=!0;var P=Array.isArray;function mt(){}var I={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function Ht(S,_,tt){var lt=tt.ref;return{$$typeof:o,type:S,key:_,ref:lt!==void 0?lt:null,props:tt}}function se(S,_){return Ht(S.type,_,S.props)}function Wt(S){return typeof S=="object"&&S!==null&&S.$$typeof===o}function Pt(S){var _={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(tt){return _[tt]})}var fn=/\/+/g;function ke(S,_){return typeof S=="object"&&S!==null&&S.key!=null?Pt(""+S.key):_.toString(36)}function Ce(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(mt,mt):(S.status="pending",S.then(function(_){S.status==="pending"&&(S.status="fulfilled",S.value=_)},function(_){S.status==="pending"&&(S.status="rejected",S.reason=_)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function T(S,_,tt,lt,gt){var Nt=typeof S;(Nt==="undefined"||Nt==="boolean")&&(S=null);var Tt=!1;if(S===null)Tt=!0;else switch(Nt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(S.$$typeof){case o:case r:Tt=!0;break;case N:return Tt=S._init,T(Tt(S._payload),_,tt,lt,gt)}}if(Tt)return gt=gt(S),Tt=lt===""?"."+ke(S,0):lt,P(gt)?(tt="",Tt!=null&&(tt=Tt.replace(fn,"$&/")+"/"),T(gt,_,tt,"",function(Bl){return Bl})):gt!=null&&(Wt(gt)&&(gt=se(gt,tt+(gt.key==null||S&&S.key===gt.key?"":(""+gt.key).replace(fn,"$&/")+"/")+Tt)),_.push(gt)),1;Tt=0;var Je=lt===""?".":lt+":";if(P(S))for(var te=0;te<S.length;te++)lt=S[te],Nt=Je+ke(lt,te),Tt+=T(lt,_,tt,Nt,gt);else if(te=$(S),typeof te=="function")for(S=te.call(S),te=0;!(lt=S.next()).done;)lt=lt.value,Nt=Je+ke(lt,te++),Tt+=T(lt,_,tt,Nt,gt);else if(Nt==="object"){if(typeof S.then=="function")return T(Ce(S),_,tt,lt,gt);throw _=String(S),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function X(S,_,tt){if(S==null)return S;var lt=[],gt=0;return T(S,lt,"","",function(Nt){return _.call(tt,Nt,gt++)}),lt}function W(S){if(S._status===-1){var _=S._result;_=_(),_.then(function(tt){(S._status===0||S._status===-1)&&(S._status=1,S._result=tt)},function(tt){(S._status===0||S._status===-1)&&(S._status=2,S._result=tt)}),S._status===-1&&(S._status=0,S._result=_)}if(S._status===1)return S._result.default;throw S._result}var J=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},it={map:X,forEach:function(S,_,tt){X(S,function(){_.apply(this,arguments)},tt)},count:function(S){var _=0;return X(S,function(){_++}),_},toArray:function(S){return X(S,function(_){return _})||[]},only:function(S){if(!Wt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return wt.Activity=x,wt.Children=it,wt.Component=ut,wt.Fragment=m,wt.Profiler=p,wt.PureComponent=ot,wt.StrictMode=d,wt.Suspense=b,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,wt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return I.H.useMemoCache(S)}},wt.cache=function(S){return function(){return S.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(S,_,tt){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var lt=F({},S.props),gt=S.key;if(_!=null)for(Nt in _.key!==void 0&&(gt=""+_.key),_)!ct.call(_,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&_.ref===void 0||(lt[Nt]=_[Nt]);var Nt=arguments.length-2;if(Nt===1)lt.children=tt;else if(1<Nt){for(var Tt=Array(Nt),Je=0;Je<Nt;Je++)Tt[Je]=arguments[Je+2];lt.children=Tt}return Ht(S.type,gt,lt)},wt.createContext=function(S){return S={$$typeof:y,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:M,_context:S},S},wt.createElement=function(S,_,tt){var lt,gt={},Nt=null;if(_!=null)for(lt in _.key!==void 0&&(Nt=""+_.key),_)ct.call(_,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(gt[lt]=_[lt]);var Tt=arguments.length-2;if(Tt===1)gt.children=tt;else if(1<Tt){for(var Je=Array(Tt),te=0;te<Tt;te++)Je[te]=arguments[te+2];gt.children=Je}if(S&&S.defaultProps)for(lt in Tt=S.defaultProps,Tt)gt[lt]===void 0&&(gt[lt]=Tt[lt]);return Ht(S,Nt,gt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(S){return{$$typeof:A,render:S}},wt.isValidElement=Wt,wt.lazy=function(S){return{$$typeof:N,_payload:{_status:-1,_result:S},_init:W}},wt.memo=function(S,_){return{$$typeof:v,type:S,compare:_===void 0?null:_}},wt.startTransition=function(S){var _=I.T,tt={};I.T=tt;try{var lt=S(),gt=I.S;gt!==null&&gt(tt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(mt,J)}catch(Nt){J(Nt)}finally{_!==null&&tt.types!==null&&(_.types=tt.types),I.T=_}},wt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},wt.use=function(S){return I.H.use(S)},wt.useActionState=function(S,_,tt){return I.H.useActionState(S,_,tt)},wt.useCallback=function(S,_){return I.H.useCallback(S,_)},wt.useContext=function(S){return I.H.useContext(S)},wt.useDebugValue=function(){},wt.useDeferredValue=function(S,_){return I.H.useDeferredValue(S,_)},wt.useEffect=function(S,_){return I.H.useEffect(S,_)},wt.useEffectEvent=function(S){return I.H.useEffectEvent(S)},wt.useId=function(){return I.H.useId()},wt.useImperativeHandle=function(S,_,tt){return I.H.useImperativeHandle(S,_,tt)},wt.useInsertionEffect=function(S,_){return I.H.useInsertionEffect(S,_)},wt.useLayoutEffect=function(S,_){return I.H.useLayoutEffect(S,_)},wt.useMemo=function(S,_){return I.H.useMemo(S,_)},wt.useOptimistic=function(S,_){return I.H.useOptimistic(S,_)},wt.useReducer=function(S,_,tt){return I.H.useReducer(S,_,tt)},wt.useRef=function(S){return I.H.useRef(S)},wt.useState=function(S){return I.H.useState(S)},wt.useSyncExternalStore=function(S,_,tt){return I.H.useSyncExternalStore(S,_,tt)},wt.useTransition=function(){return I.H.useTransition()},wt.version="19.2.0",wt}var gh;function hd(){return gh||(gh=1,Qo.exports=Cg()),Qo.exports}var w=hd(),Zo={exports:{}},Su={},Ko={exports:{}},$o={};var yh;function Dg(){return yh||(yh=1,(function(o){function r(T,X){var W=T.length;T.push(X);t:for(;0<W;){var J=W-1>>>1,it=T[J];if(0<p(it,X))T[J]=X,T[W]=it,W=J;else break t}}function m(T){return T.length===0?null:T[0]}function d(T){if(T.length===0)return null;var X=T[0],W=T.pop();if(W!==X){T[0]=W;t:for(var J=0,it=T.length,S=it>>>1;J<S;){var _=2*(J+1)-1,tt=T[_],lt=_+1,gt=T[lt];if(0>p(tt,W))lt<it&&0>p(gt,tt)?(T[J]=gt,T[lt]=W,J=lt):(T[J]=tt,T[_]=W,J=_);else if(lt<it&&0>p(gt,W))T[J]=gt,T[lt]=W,J=lt;else break t}}return X}function p(T,X){var W=T.sortIndex-X.sortIndex;return W!==0?W:T.id-X.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var M=performance;o.unstable_now=function(){return M.now()}}else{var y=Date,A=y.now();o.unstable_now=function(){return y.now()-A}}var b=[],v=[],N=1,x=null,H=3,$=!1,et=!1,F=!1,Et=!1,ut=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function L(T){for(var X=m(v);X!==null;){if(X.callback===null)d(v);else if(X.startTime<=T)d(v),X.sortIndex=X.expirationTime,r(b,X);else break;X=m(v)}}function P(T){if(F=!1,L(T),!et)if(m(b)!==null)et=!0,mt||(mt=!0,Pt());else{var X=m(v);X!==null&&Ce(P,X.startTime-T)}}var mt=!1,I=-1,ct=5,Ht=-1;function se(){return Et?!0:!(o.unstable_now()-Ht<ct)}function Wt(){if(Et=!1,mt){var T=o.unstable_now();Ht=T;var X=!0;try{t:{et=!1,F&&(F=!1,yt(I),I=-1),$=!0;var W=H;try{e:{for(L(T),x=m(b);x!==null&&!(x.expirationTime>T&&se());){var J=x.callback;if(typeof J=="function"){x.callback=null,H=x.priorityLevel;var it=J(x.expirationTime<=T);if(T=o.unstable_now(),typeof it=="function"){x.callback=it,L(T),X=!0;break e}x===m(b)&&d(b),L(T)}else d(b);x=m(b)}if(x!==null)X=!0;else{var S=m(v);S!==null&&Ce(P,S.startTime-T),X=!1}}break t}finally{x=null,H=W,$=!1}X=void 0}}finally{X?Pt():mt=!1}}}var Pt;if(typeof ot=="function")Pt=function(){ot(Wt)};else if(typeof MessageChannel<"u"){var fn=new MessageChannel,ke=fn.port2;fn.port1.onmessage=Wt,Pt=function(){ke.postMessage(null)}}else Pt=function(){ut(Wt,0)};function Ce(T,X){I=ut(function(){T(o.unstable_now())},X)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(T){T.callback=null},o.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<T?Math.floor(1e3/T):5},o.unstable_getCurrentPriorityLevel=function(){return H},o.unstable_next=function(T){switch(H){case 1:case 2:case 3:var X=3;break;default:X=H}var W=H;H=X;try{return T()}finally{H=W}},o.unstable_requestPaint=function(){Et=!0},o.unstable_runWithPriority=function(T,X){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var W=H;H=T;try{return X()}finally{H=W}},o.unstable_scheduleCallback=function(T,X,W){var J=o.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?J+W:J):W=J,T){case 1:var it=-1;break;case 2:it=250;break;case 5:it=1073741823;break;case 4:it=1e4;break;default:it=5e3}return it=W+it,T={id:N++,callback:X,priorityLevel:T,startTime:W,expirationTime:it,sortIndex:-1},W>J?(T.sortIndex=W,r(v,T),m(b)===null&&T===m(v)&&(F?(yt(I),I=-1):F=!0,Ce(P,W-J))):(T.sortIndex=it,r(b,T),et||$||(et=!0,mt||(mt=!0,Pt()))),T},o.unstable_shouldYield=se,o.unstable_wrapCallback=function(T){var X=H;return function(){var W=H;H=X;try{return T.apply(this,arguments)}finally{H=W}}}})($o)),$o}var vh;function Ng(){return vh||(vh=1,Ko.exports=Dg()),Ko.exports}var Jo={exports:{}},rn={};var bh;function jg(){if(bh)return rn;bh=1;var o=hd();function r(b){var v="https://react.dev/errors/"+b;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)v+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+b+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var d={d:{f:m,r:function(){throw Error(r(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},p=Symbol.for("react.portal");function M(b,v,N){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:x==null?null:""+x,children:b,containerInfo:v,implementation:N}}var y=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(b,v){if(b==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,rn.createPortal=function(b,v){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(r(299));return M(b,v,null,N)},rn.flushSync=function(b){var v=y.T,N=d.p;try{if(y.T=null,d.p=2,b)return b()}finally{y.T=v,d.p=N,d.d.f()}},rn.preconnect=function(b,v){typeof b=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,d.d.C(b,v))},rn.prefetchDNS=function(b){typeof b=="string"&&d.d.D(b)},rn.preinit=function(b,v){if(typeof b=="string"&&v&&typeof v.as=="string"){var N=v.as,x=A(N,v.crossOrigin),H=typeof v.integrity=="string"?v.integrity:void 0,$=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;N==="style"?d.d.S(b,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:H,fetchPriority:$}):N==="script"&&d.d.X(b,{crossOrigin:x,integrity:H,fetchPriority:$,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},rn.preinitModule=function(b,v){if(typeof b=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var N=A(v.as,v.crossOrigin);d.d.M(b,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&d.d.M(b)},rn.preload=function(b,v){if(typeof b=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var N=v.as,x=A(N,v.crossOrigin);d.d.L(b,N,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},rn.preloadModule=function(b,v){if(typeof b=="string")if(v){var N=A(v.as,v.crossOrigin);d.d.m(b,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else d.d.m(b)},rn.requestFormReset=function(b){d.d.r(b)},rn.unstable_batchedUpdates=function(b,v){return b(v)},rn.useFormState=function(b,v,N){return y.H.useFormState(b,v,N)},rn.useFormStatus=function(){return y.H.useHostTransitionStatus()},rn.version="19.2.0",rn}var Sh;function Rg(){if(Sh)return Jo.exports;Sh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Jo.exports=jg(),Jo.exports}var Mh;function zg(){if(Mh)return Su;Mh=1;var o=Ng(),r=hd(),m=Rg();function d(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function M(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function y(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b(t){if(M(t)!==t)throw Error(d(188))}function v(t){var e=t.alternate;if(!e){if(e=M(t),e===null)throw Error(d(188));return e!==t?null:t}for(var n=t,a=e;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(a=l.return,a!==null){n=a;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return b(l),t;if(s===a)return b(l),e;s=s.sibling}throw Error(d(188))}if(n.return!==a.return)n=l,a=s;else{for(var u=!1,h=l.child;h;){if(h===n){u=!0,n=l,a=s;break}if(h===a){u=!0,a=l,n=s;break}h=h.sibling}if(!u){for(h=s.child;h;){if(h===n){u=!0,n=s,a=l;break}if(h===a){u=!0,a=s,n=l;break}h=h.sibling}if(!u)throw Error(d(189))}}if(n.alternate!==a)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?t:e}function N(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=N(t),e!==null)return e;t=t.sibling}return null}var x=Object.assign,H=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Et=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),Ht=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),Wt=Symbol.iterator;function Pt(t){return t===null||typeof t!="object"?null:(t=Wt&&t[Wt]||t["@@iterator"],typeof t=="function"?t:null)}var fn=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===fn?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case ut:return"Profiler";case Et:return"StrictMode";case P:return"Suspense";case mt:return"SuspenseList";case Ht:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case et:return"Portal";case ot:return t.displayName||"Context";case yt:return(t._context.displayName||"Context")+".Consumer";case L:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return e=t.displayName||null,e!==null?e:ke(t.type)||"Memo";case ct:e=t._payload,t=t._init;try{return ke(t(e))}catch{}}return null}var Ce=Array.isArray,T=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},J=[],it=-1;function S(t){return{current:t}}function _(t){0>it||(t.current=J[it],J[it]=null,it--)}function tt(t,e){it++,J[it]=t.current,t.current=e}var lt=S(null),gt=S(null),Nt=S(null),Tt=S(null);function Je(t,e){switch(tt(Nt,e),tt(gt,t),tt(lt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Um(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Um(e),t=Bm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}_(lt),tt(lt,t)}function te(){_(lt),_(gt),_(Nt)}function Bl(t){t.memoizedState!==null&&tt(Tt,t);var e=lt.current,n=Bm(e,t.type);e!==n&&(tt(gt,t),tt(lt,n))}function Ja(t){gt.current===t&&(_(lt),_(gt)),Tt.current===t&&(_(Tt),pu._currentValue=W)}var Ms,wa;function fa(t){if(Ms===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ms=e&&e[1]||"",wa=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ms+t+wa}var Ca=!1;function Da(t,e){if(!t||Ca)return"";Ca=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(B){var k=B}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(B){k=B}t.call(Z.prototype)}}else{try{throw Error()}catch(B){k=B}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),u=s[0],h=s[1];if(u&&h){var E=u.split(`
`),O=h.split(`
`);for(l=a=0;a<E.length&&!E[a].includes("DetermineComponentFrameRoot");)a++;for(;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;if(a===E.length||l===O.length)for(a=E.length-1,l=O.length-1;1<=a&&0<=l&&E[a]!==O[l];)l--;for(;1<=a&&0<=l;a--,l--)if(E[a]!==O[l]){if(a!==1||l!==1)do if(a--,l--,0>l||E[a]!==O[l]){var V=`
`+E[a].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=a&&0<=l);break}}}finally{Ca=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?fa(n):""}function Ia(t,e){switch(t.tag){case 26:case 27:case 5:return fa(t.type);case 16:return fa("Lazy");case 13:return t.child!==e&&e!==null?fa("Suspense Fallback"):fa("Suspense");case 19:return fa("SuspenseList");case 0:case 15:return Da(t.type,!1);case 11:return Da(t.type.render,!1);case 1:return Da(t.type,!0);case 31:return fa("Activity");default:return""}}function xs(t){try{var e="",n=null;do e+=Ia(t,n),n=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Na=Object.prototype.hasOwnProperty,Dn=o.unstable_scheduleCallback,Fa=o.unstable_cancelCallback,Fn=o.unstable_shouldYield,bi=o.unstable_requestPaint,ln=o.unstable_now,Es=o.unstable_getCurrentPriorityLevel,Gn=o.unstable_ImmediatePriority,Ll=o.unstable_UserBlockingPriority,yn=o.unstable_NormalPriority,Si=o.unstable_LowPriority,ql=o.unstable_IdlePriority,Au=o.log,Ie=o.unstable_setDisableYieldValue,Wn=null,ve=null;function Nn(t){if(typeof Au=="function"&&Ie(t),ve&&typeof ve.setStrictMode=="function")try{ve.setStrictMode(Wn,t)}catch{}}var Be=Math.clz32?Math.clz32:Mi,Le=Math.log,Tu=Math.LN2;function Mi(t){return t>>>=0,t===0?32:31-(Le(t)/Tu|0)|0}var Hl=256,ma=262144,Gl=4194304;function Pn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function xe(t,e,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,s=t.suspendedLanes,u=t.pingedLanes;t=t.warmLanes;var h=a&134217727;return h!==0?(a=h&~s,a!==0?l=Pn(a):(u&=h,u!==0?l=Pn(u):n||(n=h&~t,n!==0&&(l=Pn(n))))):(h=a&~s,h!==0?l=Pn(h):u!==0?l=Pn(u):n||(n=a&~t,n!==0&&(l=Pn(n)))),l===0?0:e!==0&&e!==l&&(e&s)===0&&(s=l&-l,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:l}function ja(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function wu(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xi(){var t=Gl;return Gl<<=1,(Gl&62914560)===0&&(Gl=4194304),t}function As(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ta(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ea(t,e,n,a,l,s){var u=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var h=t.entanglements,E=t.expirationTimes,O=t.hiddenUpdates;for(n=u&~n;0<n;){var V=31-Be(n),Z=1<<V;h[V]=0,E[V]=-1;var k=O[V];if(k!==null)for(O[V]=null,V=0;V<k.length;V++){var B=k[V];B!==null&&(B.lane&=-536870913)}n&=~Z}a!==0&&na(t,a,0),s!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=s&~(u&~e))}function na(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-Be(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|n&261930}function Wa(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var a=31-Be(n),l=1<<a;l&e|t[a]&e&&(t[a]|=e),n&=~l}}function Ts(t,e){var n=e&-e;return n=(n&42)!==0?1:ha(n),(n&(t.suspendedLanes|e))!==0?0:n}function ha(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tl(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:ih(t.type))}function Yn(t,e){var n=X.p;try{return X.p=t,e()}finally{X.p=n}}var aa=Math.random().toString(36).slice(2),ce="__reactFiber$"+aa,_e="__reactProps$"+aa,sn="__reactContainer$"+aa,Yl="__reactEvents$"+aa,ws="__reactListeners$"+aa,Cs="__reactHandles$"+aa,Ei="__reactResources$"+aa,Vl="__reactMarker$"+aa;function Ds(t){delete t[ce],delete t[_e],delete t[Yl],delete t[ws],delete t[Cs]}function la(t){var e=t[ce];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sn]||n[ce]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xm(t);t!==null;){if(n=t[ce])return n;t=Xm(t)}return e}t=n,n=t.parentNode}return null}function Ra(t){if(t=t[ce]||t[sn]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function el(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(d(33))}function pa(t){var e=t[Ei];return e||(e=t[Ei]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function be(t){t[Vl]=!0}var Xl=new Set,Ql={};function Vn(t,e){Xn(t,e),Xn(t+"Capture",e)}function Xn(t,e){for(Ql[t]=e,t=0;t<e.length;t++)Xl.add(e[t])}var Ai=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ti={},Ns={};function Ee(t){return Na.call(Ns,t)?!0:Na.call(Ti,t)?!1:Ai.test(t)?Ns[t]=!0:(Ti[t]=!0,!1)}function Qn(t,e,n){if(Ee(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function za(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Fe(t,e,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+a)}}function fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wi(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ci(t,e,n){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var l=a.get,s=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(u){n=""+u,s.call(this,u)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mn(t){if(!t._valueTracker){var e=wi(t)?"checked":"value";t._valueTracker=Ci(t,e,""+t[e])}}function nl(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),a="";return t&&(a=wi(t)?t.checked?"true":"false":t.value),t=a,t!==n?(e.setValue(t),!0):!1}function sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var We=/[\n"\\]/g;function qe(t){return t.replace(We,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function hn(t,e,n,a,l,s,u,h){t.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.type=u:t.removeAttribute("type"),e!=null?u==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+fe(e)):t.value!==""+fe(e)&&(t.value=""+fe(e)):u!=="submit"&&u!=="reset"||t.removeAttribute("value"),e!=null?js(t,u,fe(e)):n!=null?js(t,u,fe(n)):a!=null&&t.removeAttribute("value"),l==null&&s!=null&&(t.defaultChecked=!!s),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?t.name=""+fe(h):t.removeAttribute("name")}function al(t,e,n,a,l,s,u,h){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){mn(t);return}n=n!=null?""+fe(n):"",e=e!=null?""+fe(e):n,h||e===t.value||(t.value=e),t.defaultValue=e}a=a??l,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=h?t.checked:!!a,t.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.name=u),mn(t)}function js(t,e,n){e==="number"&&sa(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ga(t,e,n,a){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&a&&(t[n].defaultSelected=!0)}else{for(n=""+fe(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,a&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function ll(t,e,n){if(e!=null&&(e=""+fe(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+fe(n):""}function sl(t,e,n,a){if(e==null){if(a!=null){if(n!=null)throw Error(d(92));if(Ce(a)){if(1<a.length)throw Error(d(93));a=a[0]}n=a}n==null&&(n=""),e=n}n=fe(e),t.defaultValue=n,a=t.textContent,a===n&&a!==""&&a!==null&&(t.value=a),mn(t)}function jn(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kl(t,e,n){var a=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,n):typeof n!="number"||n===0||Zl.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Rs(t,e,n){if(e!=null&&typeof e!="object")throw Error(d(62));if(t=t.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var l in e)a=e[l],e.hasOwnProperty(l)&&n[l]!==a&&Kl(t,l,a)}else for(var s in e)e.hasOwnProperty(s)&&Kl(t,s,e[s])}function $l(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Di=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(t){return Di.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Rn(){}var Jl=null;function Os(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ya=null,ia=null;function ks(t){var e=Ra(t);if(e&&(t=e.stateNode)){var n=t[_e]||null;t:switch(t=e.stateNode,e.type){case"input":if(hn(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+qe(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var a=n[e];if(a!==t&&a.form===t.form){var l=a[_e]||null;if(!l)throw Error(d(90));hn(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)a=n[e],a.form===t.form&&nl(a)}break t;case"textarea":ll(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&ga(t,!!n.multiple,e,!1)}}}var vn=!1;function He(t,e,n){if(vn)return t(e,n);vn=!0;try{var a=t(e);return a}finally{if(vn=!1,(ya!==null||ia!==null)&&(Ac(),ya&&(e=ya,t=ia,ia=ya=null,ks(e),t)))for(e=0;e<t.length;e++)ks(t[e])}}function Zn(t,e){var n=t.stateNode;if(n===null)return null;var a=n[_e]||null;if(a===null)return null;n=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(d(231,e,typeof n));return n}var De=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=!1;if(De)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Il=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch{Il=!1}var Ot=null,Ni=null,_s=null;function Cu(){if(_s)return _s;var t,e=Ni,n=e.length,a,l="value"in Ot?Ot.value:Ot.textContent,s=l.length;for(t=0;t<n&&e[t]===l[t];t++);var u=n-t;for(a=1;a<=u&&e[n-a]===l[s-a];a++);return _s=l.slice(t,1<a?1-a:void 0)}function Us(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bs(){return!0}function Ls(){return!1}function Ge(t){function e(n,a,l,s,u){this._reactName=n,this._targetInst=l,this.type=a,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(s):s[h]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bs:Ls,this.isPropagationStopped=Ls,this}return x(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),e}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ye=Ge(Gt),va=x({},Gt,{view:0,detail:0}),Du=Ge(va),Pe,ba,q,Ae=x({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==q&&(q&&t.type==="mousemove"?(Pe=t.screenX-q.screenX,ba=t.screenY-q.screenY):ba=Pe=0,q=t),Pe)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),Ve=Ge(Ae),ul=x({},Ae,{dataTransfer:0}),Nu=Ge(ul),ju=x({},va,{relatedTarget:0}),cl=Ge(ju),Wc=x({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Pc=Ge(Wc),Ru=x({},Gt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zu=Ge(Ru),Ou=x({},Gt,{data:0}),ji=Ge(Ou),Ri={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qs(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_u[t])?!!e[t]:!1}function rl(){return qs}var tr=x({},va,{key:function(t){if(t.key){var e=Ri[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rl,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uu=Ge(tr),Hs=x({},Ae,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fl=Ge(Hs),Kn=x({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rl}),ol=Ge(Kn),Bu=x({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=Ge(Bu),er=x({},Ae,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nr=Ge(er),ar=x({},Gt,{newState:0,oldState:0}),qu=Ge(ar),lr=[9,13,27,32],zi=De&&"CompositionEvent"in window,ua=null;De&&"documentMode"in document&&(ua=document.documentMode);var sr=De&&"TextEvent"in window&&!ua,Gs=De&&(!zi||ua&&8<ua&&11>=ua),Wl=" ",Hu=!1;function Pl(t,e){switch(t){case"keyup":return lr.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ts(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function Oi(t,e){switch(t){case"compositionend":return ts(e);case"keypress":return e.which!==32?null:(Hu=!0,Wl);case"textInput":return t=e.data,t===Wl&&Hu?null:t;default:return null}}function Xe(t,e){if(Oa)return t==="compositionend"||!zi&&Pl(t,e)?(t=Cu(),_s=Ni=Ot=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gs&&e.locale!=="ko"?null:e.data;default:return null}}var bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bn[t.type]:e==="textarea"}function fl(t,e,n,a){ya?ia?ia.push(a):ia=[a]:ya=a,e=Rc(e,"onChange"),0<e.length&&(n=new Ye("onChange","change",null,n,a),t.push({event:n,listeners:e}))}var es=null,ca=null;function ir(t){jm(t,0)}function Ys(t){var e=el(t);if(nl(e))return t}function Gu(t,e){if(t==="change")return e}var Yu=!1;if(De){var Vs;if(De){var ki="oninput"in document;if(!ki){var Vu=document.createElement("div");Vu.setAttribute("oninput","return;"),ki=typeof Vu.oninput=="function"}Vs=ki}else Vs=!1;Yu=Vs&&(!document.documentMode||9<document.documentMode)}function Xu(){es&&(es.detachEvent("onpropertychange",Qu),ca=es=null)}function Qu(t){if(t.propertyName==="value"&&Ys(ca)){var e=[];fl(e,ca,t,Os(t)),He(ir,e)}}function ur(t,e,n){t==="focusin"?(Xu(),es=e,ca=n,es.attachEvent("onpropertychange",Qu)):t==="focusout"&&Xu()}function cr(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ys(ca)}function _i(t,e){if(t==="click")return Ys(e)}function ml(t,e){if(t==="input"||t==="change")return Ys(e)}function Ui(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:Ui;function ns(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var l=n[a];if(!Na.call(e,l)||!un(t[l],e[l]))return!1}return!0}function Zu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bi(t,e){var n=Zu(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=e&&a>=e)return{node:n,offset:e-t};t=a}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Zu(n)}}function Xs(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xs(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function as(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=sa(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sa(t.document)}return e}function Li(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var ls=De&&"documentMode"in document&&11>=document.documentMode,hl=null,qi=null,ss=null,Sa=!1;function Ku(t,e,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sa||hl==null||hl!==sa(a)||(a=hl,"selectionStart"in a&&Li(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ss&&ns(ss,a)||(ss=a,a=Rc(qi,"onSelect"),0<a.length&&(e=new Ye("onSelect","select",null,e,n),t.push({event:e,listeners:a}),e.target=hl)))}function Ma(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xa={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},tn={},pl={};De&&(pl=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ea(t){if(tn[t])return tn[t];if(!xa[t])return t;var e=xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pl)return tn[t]=e[n];return t}var $u=Ea("animationend"),Ju=Ea("animationiteration"),Hi=Ea("animationstart"),rr=Ea("transitionrun"),i=Ea("transitionstart"),c=Ea("transitioncancel"),g=Ea("transitionend"),C=new Map,j="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");j.push("scrollEnd");function U(t,e){C.set(t,e),Vn(e,[t])}var Y=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},K=[],G=0,nt=0;function at(){for(var t=G,e=nt=G=0;e<t;){var n=K[e];K[e++]=null;var a=K[e];K[e++]=null;var l=K[e];K[e++]=null;var s=K[e];if(K[e++]=null,a!==null&&l!==null){var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}s!==0&&ie(n,l,s)}}function ht(t,e,n,a){K[G++]=t,K[G++]=e,K[G++]=n,K[G++]=a,nt|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function At(t,e,n,a){return ht(t,e,n,a),dt(t)}function jt(t,e){return ht(t,null,null,e),dt(t)}function ie(t,e,n){t.lanes|=n;var a=t.alternate;a!==null&&(a.lanes|=n);for(var l=!1,s=t.return;s!==null;)s.childLanes|=n,a=s.alternate,a!==null&&(a.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(l=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,l&&e!==null&&(l=31-Be(n),t=s.hiddenUpdates,a=t[l],a===null?t[l]=[e]:a.push(e),e.lane=n|536870912),s):null}function dt(t){if(50<cu)throw cu=0,ho=null,Error(d(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ct={};function Sn(t,e,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(t,e,n,a){return new Sn(t,e,n,a)}function is(t){return t=t.prototype,!(!t||!t.isReactComponent)}function st(t,e){var n=t.alternate;return n===null?(n=Qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function me(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function re(t,e,n,a,l,s){var u=0;if(a=t,typeof t=="function")is(t)&&(u=1);else if(typeof t=="string")u=mg(t,n,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case Ht:return t=Qe(31,n,e,l),t.elementType=Ht,t.lanes=s,t;case F:return kt(n.children,l,s,e);case Et:u=8,l|=24;break;case ut:return t=Qe(12,n,e,l|2),t.elementType=ut,t.lanes=s,t;case P:return t=Qe(13,n,e,l),t.elementType=P,t.lanes=s,t;case mt:return t=Qe(19,n,e,l),t.elementType=mt,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ot:u=10;break t;case yt:u=9;break t;case L:u=11;break t;case I:u=14;break t;case ct:u=16,a=null;break t}u=29,n=Error(d(130,t===null?"null":typeof t,"")),a=null}return e=Qe(u,n,e,l),e.elementType=t,e.type=a,e.lanes=s,e}function kt(t,e,n,a){return t=Qe(7,t,a,e),t.lanes=n,t}function he(t,e,n){return t=Qe(6,t,null,e),t.lanes=n,t}function bt(t){var e=Qe(18,null,null,0);return e.stateNode=t,e}function St(t,e,n){return e=Qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ee=new WeakMap;function Rt(t,e){if(typeof t=="object"&&t!==null){var n=ee.get(t);return n!==void 0?n:(e={value:t,source:e,stack:xs(e)},ee.set(t,e),e)}return{value:t,source:e,stack:xs(e)}}var pe=[],cn=0,xt=null,Qt=0,Zt=[],Ze=0,Mn=null,zn=1,On="";function kn(t,e){pe[cn++]=Qt,pe[cn++]=xt,xt=t,Qt=e}function Gi(t,e,n){Zt[Ze++]=zn,Zt[Ze++]=On,Zt[Ze++]=Mn,Mn=t;var a=zn;t=On;var l=32-Be(a)-1;a&=~(1<<l),n+=1;var s=32-Be(e)+l;if(30<s){var u=l-l%5;s=(a&(1<<u)-1).toString(32),a>>=u,l-=u,zn=1<<32-Be(e)+l|n<<l|a,On=s+t}else zn=1<<s|n<<l|a,On=t}function Qs(t){t.return!==null&&(kn(t,1),Gi(t,1,0))}function gl(t){for(;t===xt;)xt=pe[--cn],pe[cn]=null,Qt=pe[--cn],pe[cn]=null;for(;t===Mn;)Mn=Zt[--Ze],Zt[Ze]=null,On=Zt[--Ze],Zt[Ze]=null,zn=Zt[--Ze],Zt[Ze]=null}function Yt(t,e){Zt[Ze++]=zn,Zt[Ze++]=On,Zt[Ze++]=Mn,zn=e.id,On=e.overflow,Mn=t}var oe=null,Kt=null,_t=!1,ra=null,xn=!1,or=Error(d(519));function yl(t){var e=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yi(Rt(e,t)),or}function gd(t){var e=t.stateNode,n=t.type,a=t.memoizedProps;switch(e[ce]=t,e[_e]=a,n){case"dialog":Bt("cancel",e),Bt("close",e);break;case"iframe":case"object":case"embed":Bt("load",e);break;case"video":case"audio":for(n=0;n<ou.length;n++)Bt(ou[n],e);break;case"source":Bt("error",e);break;case"img":case"image":case"link":Bt("error",e),Bt("load",e);break;case"details":Bt("toggle",e);break;case"input":Bt("invalid",e),al(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Bt("invalid",e);break;case"textarea":Bt("invalid",e),sl(e,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||a.suppressHydrationWarning===!0||km(e.textContent,n)?(a.popover!=null&&(Bt("beforetoggle",e),Bt("toggle",e)),a.onScroll!=null&&Bt("scroll",e),a.onScrollEnd!=null&&Bt("scrollend",e),a.onClick!=null&&(e.onclick=Rn),e=!0):e=!1,e||yl(t,!0)}function yd(t){for(oe=t.return;oe;)switch(oe.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:oe=oe.return}}function Zs(t){if(t!==oe)return!1;if(!_t)return yd(t),_t=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||No(t.type,t.memoizedProps)),n=!n),n&&Kt&&yl(t),yd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));Kt=Vm(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));Kt=Vm(t)}else e===27?(e=Kt,Rl(t.type)?(t=ko,ko=null,Kt=t):Kt=e):Kt=oe?Jn(t.stateNode.nextSibling):null;return!0}function us(){Kt=oe=null,_t=!1}function dr(){var t=ra;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),ra=null),t}function Yi(t){ra===null?ra=[t]:ra.push(t)}var fr=S(null),cs=null,ka=null;function vl(t,e,n){tt(fr,e._currentValue),e._currentValue=n}function _a(t){t._currentValue=fr.current,_(fr)}function mr(t,e,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===n)break;t=t.return}}function hr(t,e,n,a){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var s=l.dependencies;if(s!==null){var u=l.child;s=s.firstContext;t:for(;s!==null;){var h=s;s=l;for(var E=0;E<e.length;E++)if(h.context===e[E]){s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),mr(s.return,n,t),a||(u=null);break t}s=h.next}}else if(l.tag===18){if(u=l.return,u===null)throw Error(d(341));u.lanes|=n,s=u.alternate,s!==null&&(s.lanes|=n),mr(u,n,t),u=null}else u=l.child;if(u!==null)u.return=l;else for(u=l;u!==null;){if(u===t){u=null;break}if(l=u.sibling,l!==null){l.return=u.return,u=l;break}u=u.return}l=u}}function Ks(t,e,n,a){t=null;for(var l=e,s=!1;l!==null;){if(!s){if((l.flags&524288)!==0)s=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var u=l.alternate;if(u===null)throw Error(d(387));if(u=u.memoizedProps,u!==null){var h=l.type;un(l.pendingProps.value,u.value)||(t!==null?t.push(h):t=[h])}}else if(l===Tt.current){if(u=l.alternate,u===null)throw Error(d(387));u.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(pu):t=[pu])}l=l.return}t!==null&&hr(e,t,n,a),e.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rs(t){cs=t,ka=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return vd(cs,t)}function Fu(t,e){return cs===null&&rs(t),vd(t,e)}function vd(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ka===null){if(t===null)throw Error(d(308));ka=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ka=ka.next=e;return n}var rp=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},op=o.unstable_scheduleCallback,dp=o.unstable_NormalPriority,je={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pr(){return{controller:new rp,data:new Map,refCount:0}}function Vi(t){t.refCount--,t.refCount===0&&op(dp,function(){t.controller.abort()})}var Xi=null,gr=0,$s=0,Js=null;function fp(t,e){if(Xi===null){var n=Xi=[];gr=0,$s=So(),Js={status:"pending",value:void 0,then:function(a){n.push(a)}}}return gr++,e.then(bd,bd),e}function bd(){if(--gr===0&&Xi!==null){Js!==null&&(Js.status="fulfilled");var t=Xi;Xi=null,$s=0,Js=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function mp(t,e){var n=[],a={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(a.status="rejected",a.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),a}var Sd=T.S;T.S=function(t,e){lm=ln(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&fp(t,e),Sd!==null&&Sd(t,e)};var os=S(null);function yr(){var t=os.current;return t!==null?t:ue.pooledCache}function Wu(t,e){e===null?tt(os,os.current):tt(os,e.pool)}function Md(){var t=yr();return t===null?null:{parent:je._currentValue,pool:t}}var Is=Error(d(460)),vr=Error(d(474)),Pu=Error(d(542)),tc={then:function(){}};function xd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ed(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Rn,Rn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Td(t),t;default:if(typeof e.status=="string")e.then(Rn,Rn);else{if(t=ue,t!==null&&100<t.shellSuspendCounter)throw Error(d(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=a}},function(a){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Td(t),t}throw fs=e,Is}}function ds(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(fs=n,Is):n}}var fs=null;function Ad(){if(fs===null)throw Error(d(459));var t=fs;return fs=null,t}function Td(t){if(t===Is||t===Pu)throw Error(d(483))}var Fs=null,Qi=0;function ec(t){var e=Qi;return Qi+=1,Fs===null&&(Fs=[]),Ed(Fs,t,e)}function Zi(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function nc(t,e){throw e.$$typeof===H?Error(d(525)):(t=Object.prototype.toString.call(e),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function wd(t){function e(R,D){if(t){var z=R.deletions;z===null?(R.deletions=[D],R.flags|=16):z.push(D)}}function n(R,D){if(!t)return null;for(;D!==null;)e(R,D),D=D.sibling;return null}function a(R){for(var D=new Map;R!==null;)R.key!==null?D.set(R.key,R):D.set(R.index,R),R=R.sibling;return D}function l(R,D){return R=st(R,D),R.index=0,R.sibling=null,R}function s(R,D,z){return R.index=z,t?(z=R.alternate,z!==null?(z=z.index,z<D?(R.flags|=67108866,D):z):(R.flags|=67108866,D)):(R.flags|=1048576,D)}function u(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function h(R,D,z,Q){return D===null||D.tag!==6?(D=he(z,R.mode,Q),D.return=R,D):(D=l(D,z),D.return=R,D)}function E(R,D,z,Q){var pt=z.type;return pt===F?V(R,D,z.props.children,Q,z.key):D!==null&&(D.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===ct&&ds(pt)===D.type)?(D=l(D,z.props),Zi(D,z),D.return=R,D):(D=re(z.type,z.key,z.props,null,R.mode,Q),Zi(D,z),D.return=R,D)}function O(R,D,z,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=St(z,R.mode,Q),D.return=R,D):(D=l(D,z.children||[]),D.return=R,D)}function V(R,D,z,Q,pt){return D===null||D.tag!==7?(D=kt(z,R.mode,Q,pt),D.return=R,D):(D=l(D,z),D.return=R,D)}function Z(R,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=he(""+D,R.mode,z),D.return=R,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case $:return z=re(D.type,D.key,D.props,null,R.mode,z),Zi(z,D),z.return=R,z;case et:return D=St(D,R.mode,z),D.return=R,D;case ct:return D=ds(D),Z(R,D,z)}if(Ce(D)||Pt(D))return D=kt(D,R.mode,z,null),D.return=R,D;if(typeof D.then=="function")return Z(R,ec(D),z);if(D.$$typeof===ot)return Z(R,Fu(R,D),z);nc(R,D)}return null}function k(R,D,z,Q){var pt=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pt!==null?null:h(R,D,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return z.key===pt?E(R,D,z,Q):null;case et:return z.key===pt?O(R,D,z,Q):null;case ct:return z=ds(z),k(R,D,z,Q)}if(Ce(z)||Pt(z))return pt!==null?null:V(R,D,z,Q,null);if(typeof z.then=="function")return k(R,D,ec(z),Q);if(z.$$typeof===ot)return k(R,D,Fu(R,z),Q);nc(R,z)}return null}function B(R,D,z,Q,pt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return R=R.get(z)||null,h(D,R,""+Q,pt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:return R=R.get(Q.key===null?z:Q.key)||null,E(D,R,Q,pt);case et:return R=R.get(Q.key===null?z:Q.key)||null,O(D,R,Q,pt);case ct:return Q=ds(Q),B(R,D,z,Q,pt)}if(Ce(Q)||Pt(Q))return R=R.get(z)||null,V(D,R,Q,pt,null);if(typeof Q.then=="function")return B(R,D,z,ec(Q),pt);if(Q.$$typeof===ot)return B(R,D,z,Fu(D,Q),pt);nc(D,Q)}return null}function rt(R,D,z,Q){for(var pt=null,Vt=null,ft=D,zt=D=0,qt=null;ft!==null&&zt<z.length;zt++){ft.index>zt?(qt=ft,ft=null):qt=ft.sibling;var Xt=k(R,ft,z[zt],Q);if(Xt===null){ft===null&&(ft=qt);break}t&&ft&&Xt.alternate===null&&e(R,ft),D=s(Xt,D,zt),Vt===null?pt=Xt:Vt.sibling=Xt,Vt=Xt,ft=qt}if(zt===z.length)return n(R,ft),_t&&kn(R,zt),pt;if(ft===null){for(;zt<z.length;zt++)ft=Z(R,z[zt],Q),ft!==null&&(D=s(ft,D,zt),Vt===null?pt=ft:Vt.sibling=ft,Vt=ft);return _t&&kn(R,zt),pt}for(ft=a(ft);zt<z.length;zt++)qt=B(ft,R,zt,z[zt],Q),qt!==null&&(t&&qt.alternate!==null&&ft.delete(qt.key===null?zt:qt.key),D=s(qt,D,zt),Vt===null?pt=qt:Vt.sibling=qt,Vt=qt);return t&&ft.forEach(function(Ul){return e(R,Ul)}),_t&&kn(R,zt),pt}function vt(R,D,z,Q){if(z==null)throw Error(d(151));for(var pt=null,Vt=null,ft=D,zt=D=0,qt=null,Xt=z.next();ft!==null&&!Xt.done;zt++,Xt=z.next()){ft.index>zt?(qt=ft,ft=null):qt=ft.sibling;var Ul=k(R,ft,Xt.value,Q);if(Ul===null){ft===null&&(ft=qt);break}t&&ft&&Ul.alternate===null&&e(R,ft),D=s(Ul,D,zt),Vt===null?pt=Ul:Vt.sibling=Ul,Vt=Ul,ft=qt}if(Xt.done)return n(R,ft),_t&&kn(R,zt),pt;if(ft===null){for(;!Xt.done;zt++,Xt=z.next())Xt=Z(R,Xt.value,Q),Xt!==null&&(D=s(Xt,D,zt),Vt===null?pt=Xt:Vt.sibling=Xt,Vt=Xt);return _t&&kn(R,zt),pt}for(ft=a(ft);!Xt.done;zt++,Xt=z.next())Xt=B(ft,R,zt,Xt.value,Q),Xt!==null&&(t&&Xt.alternate!==null&&ft.delete(Xt.key===null?zt:Xt.key),D=s(Xt,D,zt),Vt===null?pt=Xt:Vt.sibling=Xt,Vt=Xt);return t&&ft.forEach(function(Ag){return e(R,Ag)}),_t&&kn(R,zt),pt}function le(R,D,z,Q){if(typeof z=="object"&&z!==null&&z.type===F&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case $:t:{for(var pt=z.key;D!==null;){if(D.key===pt){if(pt=z.type,pt===F){if(D.tag===7){n(R,D.sibling),Q=l(D,z.props.children),Q.return=R,R=Q;break t}}else if(D.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===ct&&ds(pt)===D.type){n(R,D.sibling),Q=l(D,z.props),Zi(Q,z),Q.return=R,R=Q;break t}n(R,D);break}else e(R,D);D=D.sibling}z.type===F?(Q=kt(z.props.children,R.mode,Q,z.key),Q.return=R,R=Q):(Q=re(z.type,z.key,z.props,null,R.mode,Q),Zi(Q,z),Q.return=R,R=Q)}return u(R);case et:t:{for(pt=z.key;D!==null;){if(D.key===pt)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){n(R,D.sibling),Q=l(D,z.children||[]),Q.return=R,R=Q;break t}else{n(R,D);break}else e(R,D);D=D.sibling}Q=St(z,R.mode,Q),Q.return=R,R=Q}return u(R);case ct:return z=ds(z),le(R,D,z,Q)}if(Ce(z))return rt(R,D,z,Q);if(Pt(z)){if(pt=Pt(z),typeof pt!="function")throw Error(d(150));return z=pt.call(z),vt(R,D,z,Q)}if(typeof z.then=="function")return le(R,D,ec(z),Q);if(z.$$typeof===ot)return le(R,D,Fu(R,z),Q);nc(R,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(n(R,D.sibling),Q=l(D,z),Q.return=R,R=Q):(n(R,D),Q=he(z,R.mode,Q),Q.return=R,R=Q),u(R)):n(R,D)}return function(R,D,z,Q){try{Qi=0;var pt=le(R,D,z,Q);return Fs=null,pt}catch(ft){if(ft===Is||ft===Pu)throw ft;var Vt=Qe(29,ft,null,R.mode);return Vt.lanes=Q,Vt.return=R,Vt}finally{}}}var ms=wd(!0),Cd=wd(!1),bl=!1;function br(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ml(t,e,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,($t&2)!==0){var l=a.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),a.pending=e,e=dt(t),ie(t,null,n),e}return ht(t,a,e,n),dt(t)}function Ki(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Wa(t,n)}}function Mr(t,e){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?l=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?l=s=e:s=s.next=e}else l=s=e;n={baseState:a.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var xr=!1;function $i(){if(xr){var t=Js;if(t!==null)throw t}}function Ji(t,e,n,a){xr=!1;var l=t.updateQueue;bl=!1;var s=l.firstBaseUpdate,u=l.lastBaseUpdate,h=l.shared.pending;if(h!==null){l.shared.pending=null;var E=h,O=E.next;E.next=null,u===null?s=O:u.next=O,u=E;var V=t.alternate;V!==null&&(V=V.updateQueue,h=V.lastBaseUpdate,h!==u&&(h===null?V.firstBaseUpdate=O:h.next=O,V.lastBaseUpdate=E))}if(s!==null){var Z=l.baseState;u=0,V=O=E=null,h=s;do{var k=h.lane&-536870913,B=k!==h.lane;if(B?(Lt&k)===k:(a&k)===k){k!==0&&k===$s&&(xr=!0),V!==null&&(V=V.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});t:{var rt=t,vt=h;k=e;var le=n;switch(vt.tag){case 1:if(rt=vt.payload,typeof rt=="function"){Z=rt.call(le,Z,k);break t}Z=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=vt.payload,k=typeof rt=="function"?rt.call(le,Z,k):rt,k==null)break t;Z=x({},Z,k);break t;case 2:bl=!0}}k=h.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=l.callbacks,B===null?l.callbacks=[k]:B.push(k))}else B={lane:k,tag:h.tag,payload:h.payload,callback:h.callback,next:null},V===null?(O=V=B,E=Z):V=V.next=B,u|=k;if(h=h.next,h===null){if(h=l.shared.pending,h===null)break;B=h,h=B.next,B.next=null,l.lastBaseUpdate=B,l.shared.pending=null}}while(!0);V===null&&(E=Z),l.baseState=E,l.firstBaseUpdate=O,l.lastBaseUpdate=V,s===null&&(l.shared.lanes=0),wl|=u,t.lanes=u,t.memoizedState=Z}}function Dd(t,e){if(typeof t!="function")throw Error(d(191,t));t.call(e)}function Nd(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Dd(n[t],e)}var Ws=S(null),ac=S(0);function jd(t,e){t=Xa,tt(ac,t),tt(Ws,e),Xa=t|e.baseLanes}function Er(){tt(ac,Xa),tt(Ws,Ws.current)}function Ar(){Xa=ac.current,_(Ws),_(ac)}var _n=S(null),$n=null;function xl(t){var e=t.alternate;tt(Te,Te.current&1),tt(_n,t),$n===null&&(e===null||Ws.current!==null||e.memoizedState!==null)&&($n=t)}function Tr(t){tt(Te,Te.current),tt(_n,t),$n===null&&($n=t)}function Rd(t){t.tag===22?(tt(Te,Te.current),tt(_n,t),$n===null&&($n=t)):El()}function El(){tt(Te,Te.current),tt(_n,_n.current)}function Un(t){_(_n),$n===t&&($n=null),_(Te)}var Te=S(0);function lc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||zo(n)||Oo(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ua=0,Dt=null,ne=null,Re=null,sc=!1,Ps=!1,hs=!1,ic=0,Ii=0,ti=null,hp=0;function Se(){throw Error(d(321))}function wr(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!un(t[n],e[n]))return!1;return!0}function Cr(t,e,n,a,l,s){return Ua=s,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,T.H=t===null||t.memoizedState===null?pf:Yr,hs=!1,s=n(a,l),hs=!1,Ps&&(s=Od(e,n,a,l)),zd(t),s}function zd(t){T.H=Pi;var e=ne!==null&&ne.next!==null;if(Ua=0,Re=ne=Dt=null,sc=!1,Ii=0,ti=null,e)throw Error(d(300));t===null||ze||(t=t.dependencies,t!==null&&Iu(t)&&(ze=!0))}function Od(t,e,n,a){Dt=t;var l=0;do{if(Ps&&(ti=null),Ii=0,Ps=!1,25<=l)throw Error(d(301));if(l+=1,Re=ne=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}T.H=gf,s=e(n,a)}while(Ps);return s}function pp(){var t=T.H,e=t.useState()[0];return e=typeof e.then=="function"?Fi(e):e,t=t.useState()[0],(ne!==null?ne.memoizedState:null)!==t&&(Dt.flags|=1024),e}function Dr(){var t=ic!==0;return ic=0,t}function Nr(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function jr(t){if(sc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}sc=!1}Ua=0,Re=ne=Dt=null,Ps=!1,Ii=ic=0,ti=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Dt.memoizedState=Re=t:Re=Re.next=t,Re}function we(){if(ne===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=Re===null?Dt.memoizedState:Re.next;if(e!==null)Re=e,ne=t;else{if(t===null)throw Dt.alternate===null?Error(d(467)):Error(d(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Re===null?Dt.memoizedState=Re=t:Re=Re.next=t}return Re}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fi(t){var e=Ii;return Ii+=1,ti===null&&(ti=[]),t=Ed(ti,t,e),e=Dt,(Re===null?e.memoizedState:Re.next)===null&&(e=e.alternate,T.H=e===null||e.memoizedState===null?pf:Yr),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fi(t);if(t.$$typeof===ot)return en(t)}throw Error(d(438,String(t)))}function Rr(t){var e=null,n=Dt.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var a=Dt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=uc(),Dt.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),a=0;a<t;a++)n[a]=se;return e.index++,n}function Ba(t,e){return typeof e=="function"?e(t):e}function rc(t){var e=we();return zr(e,ne,t)}function zr(t,e,n){var a=t.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=n;var l=t.baseQueue,s=a.pending;if(s!==null){if(l!==null){var u=l.next;l.next=s.next,s.next=u}e.baseQueue=l=s,a.pending=null}if(s=t.baseState,l===null)t.memoizedState=s;else{e=l.next;var h=u=null,E=null,O=e,V=!1;do{var Z=O.lane&-536870913;if(Z!==O.lane?(Lt&Z)===Z:(Ua&Z)===Z){var k=O.revertLane;if(k===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Z===$s&&(V=!0);else if((Ua&k)===k){O=O.next,k===$s&&(V=!0);continue}else Z={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},E===null?(h=E=Z,u=s):E=E.next=Z,Dt.lanes|=k,wl|=k;Z=O.action,hs&&n(s,Z),s=O.hasEagerState?O.eagerState:n(s,Z)}else k={lane:Z,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},E===null?(h=E=k,u=s):E=E.next=k,Dt.lanes|=Z,wl|=Z;O=O.next}while(O!==null&&O!==e);if(E===null?u=s:E.next=h,!un(s,t.memoizedState)&&(ze=!0,V&&(n=Js,n!==null)))throw n;t.memoizedState=s,t.baseState=u,t.baseQueue=E,a.lastRenderedState=s}return l===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function Or(t){var e=we(),n=e.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=t;var a=n.dispatch,l=n.pending,s=e.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do s=t(s,u.action),u=u.next;while(u!==l);un(s,e.memoizedState)||(ze=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,a]}function kd(t,e,n){var a=Dt,l=we(),s=_t;if(s){if(n===void 0)throw Error(d(407));n=n()}else n=e();var u=!un((ne||l).memoizedState,n);if(u&&(l.memoizedState=n,ze=!0),l=l.queue,Ur(Bd.bind(null,a,l,t),[t]),l.getSnapshot!==e||u||Re!==null&&Re.memoizedState.tag&1){if(a.flags|=2048,ei(9,{destroy:void 0},Ud.bind(null,a,l,n,e),null),ue===null)throw Error(d(349));s||(Ua&127)!==0||_d(a,e,n)}return n}function _d(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Dt.updateQueue,e===null?(e=uc(),Dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ud(t,e,n,a){e.value=n,e.getSnapshot=a,Ld(e)&&qd(t)}function Bd(t,e,n){return n(function(){Ld(e)&&qd(t)})}function Ld(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!un(t,n)}catch{return!0}}function qd(t){var e=jt(t,2);e!==null&&Cn(e,t,2)}function kr(t){var e=pn();if(typeof t=="function"){var n=t;if(t=n(),hs){Nn(!0);try{n()}finally{Nn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:t},e}function Hd(t,e,n,a){return t.baseState=n,zr(t,ne,typeof a=="function"?a:Ba)}function gp(t,e,n,a,l){if(fc(t))throw Error(d(485));if(t=e.action,t!==null){var s={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){s.listeners.push(u)}};T.T!==null?n(!0):s.isTransition=!1,a(s),n=e.pending,n===null?(s.next=e.pending=s,Gd(e,s)):(s.next=n.next,e.pending=n.next=s)}}function Gd(t,e){var n=e.action,a=e.payload,l=t.state;if(e.isTransition){var s=T.T,u={};T.T=u;try{var h=n(l,a),E=T.S;E!==null&&E(u,h),Yd(t,e,h)}catch(O){_r(t,e,O)}finally{s!==null&&u.types!==null&&(s.types=u.types),T.T=s}}else try{s=n(l,a),Yd(t,e,s)}catch(O){_r(t,e,O)}}function Yd(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){Vd(t,e,a)},function(a){return _r(t,e,a)}):Vd(t,e,n)}function Vd(t,e,n){e.status="fulfilled",e.value=n,Xd(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Gd(t,n)))}function _r(t,e,n){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=n,Xd(e),e=e.next;while(e!==a)}t.action=null}function Xd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Qd(t,e){return e}function Zd(t,e){if(_t){var n=ue.formState;if(n!==null){t:{var a=Dt;if(_t){if(Kt){e:{for(var l=Kt,s=xn;l.nodeType!==8;){if(!s){l=null;break e}if(l=Jn(l.nextSibling),l===null){l=null;break e}}s=l.data,l=s==="F!"||s==="F"?l:null}if(l){Kt=Jn(l.nextSibling),a=l.data==="F!";break t}}yl(a)}a=!1}a&&(e=n[0])}}return n=pn(),n.memoizedState=n.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:e},n.queue=a,n=ff.bind(null,Dt,a),a.dispatch=n,a=kr(!1),s=Gr.bind(null,Dt,!1,a.queue),a=pn(),l={state:e,dispatch:null,action:t,pending:null},a.queue=l,n=gp.bind(null,Dt,l,s,n),l.dispatch=n,a.memoizedState=t,[e,n,!1]}function Kd(t){var e=we();return $d(e,ne,t)}function $d(t,e,n){if(e=zr(t,e,Qd)[0],t=rc(Ba)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=Fi(e)}catch(u){throw u===Is?Pu:u}else a=e;e=we();var l=e.queue,s=l.dispatch;return n!==e.memoizedState&&(Dt.flags|=2048,ei(9,{destroy:void 0},yp.bind(null,l,n),null)),[a,s,t]}function yp(t,e){t.action=e}function Jd(t){var e=we(),n=ne;if(n!==null)return $d(e,n,t);we(),e=e.memoizedState,n=we();var a=n.queue.dispatch;return n.memoizedState=t,[e,a,!1]}function ei(t,e,n,a){return t={tag:t,create:n,deps:a,inst:e,next:null},e=Dt.updateQueue,e===null&&(e=uc(),Dt.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,e.lastEffect=t),t}function Id(){return we().memoizedState}function oc(t,e,n,a){var l=pn();Dt.flags|=t,l.memoizedState=ei(1|e,{destroy:void 0},n,a===void 0?null:a)}function dc(t,e,n,a){var l=we();a=a===void 0?null:a;var s=l.memoizedState.inst;ne!==null&&a!==null&&wr(a,ne.memoizedState.deps)?l.memoizedState=ei(e,s,n,a):(Dt.flags|=t,l.memoizedState=ei(1|e,s,n,a))}function Fd(t,e){oc(8390656,8,t,e)}function Ur(t,e){dc(2048,8,t,e)}function vp(t){Dt.flags|=4;var e=Dt.updateQueue;if(e===null)e=uc(),Dt.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Wd(t){var e=we().memoizedState;return vp({ref:e,nextImpl:t}),function(){if(($t&2)!==0)throw Error(d(440));return e.impl.apply(void 0,arguments)}}function Pd(t,e){return dc(4,2,t,e)}function tf(t,e){return dc(4,4,t,e)}function ef(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nf(t,e,n){n=n!=null?n.concat([t]):null,dc(4,4,ef.bind(null,e,t),n)}function Br(){}function af(t,e){var n=we();e=e===void 0?null:e;var a=n.memoizedState;return e!==null&&wr(e,a[1])?a[0]:(n.memoizedState=[t,e],t)}function lf(t,e){var n=we();e=e===void 0?null:e;var a=n.memoizedState;if(e!==null&&wr(e,a[1]))return a[0];if(a=t(),hs){Nn(!0);try{t()}finally{Nn(!1)}}return n.memoizedState=[a,e],a}function Lr(t,e,n){return n===void 0||(Ua&1073741824)!==0&&(Lt&261930)===0?t.memoizedState=e:(t.memoizedState=n,t=im(),Dt.lanes|=t,wl|=t,n)}function sf(t,e,n,a){return un(n,e)?n:Ws.current!==null?(t=Lr(t,n,a),un(t,e)||(ze=!0),t):(Ua&42)===0||(Ua&1073741824)!==0&&(Lt&261930)===0?(ze=!0,t.memoizedState=n):(t=im(),Dt.lanes|=t,wl|=t,e)}function uf(t,e,n,a,l){var s=X.p;X.p=s!==0&&8>s?s:8;var u=T.T,h={};T.T=h,Gr(t,!1,e,n);try{var E=l(),O=T.S;if(O!==null&&O(h,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var V=mp(E,a);Wi(t,e,V,qn(t))}else Wi(t,e,a,qn(t))}catch(Z){Wi(t,e,{then:function(){},status:"rejected",reason:Z},qn())}finally{X.p=s,u!==null&&h.types!==null&&(u.types=h.types),T.T=u}}function bp(){}function qr(t,e,n,a){if(t.tag!==5)throw Error(d(476));var l=cf(t).queue;uf(t,l,e,W,n===null?bp:function(){return rf(t),n(a)})}function cf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:W},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function rf(t){var e=cf(t);e.next===null&&(e=t.alternate.memoizedState),Wi(t,e.next.queue,{},qn())}function Hr(){return en(pu)}function of(){return we().memoizedState}function df(){return we().memoizedState}function Sp(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=qn();t=Sl(n);var a=Ml(e,t,n);a!==null&&(Cn(a,e,n),Ki(a,e,n)),e={cache:pr()},t.payload=e;return}e=e.return}}function Mp(t,e,n){var a=qn();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fc(t)?mf(e,n):(n=At(t,e,n,a),n!==null&&(Cn(n,t,a),hf(n,e,a)))}function ff(t,e,n){var a=qn();Wi(t,e,n,a)}function Wi(t,e,n,a){var l={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fc(t))mf(e,l);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var u=e.lastRenderedState,h=s(u,n);if(l.hasEagerState=!0,l.eagerState=h,un(h,u))return ht(t,e,l,0),ue===null&&at(),!1}catch{}finally{}if(n=At(t,e,l,a),n!==null)return Cn(n,t,a),hf(n,e,a),!0}return!1}function Gr(t,e,n,a){if(a={lane:2,revertLane:So(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fc(t)){if(e)throw Error(d(479))}else e=At(t,n,a,2),e!==null&&Cn(e,t,2)}function fc(t){var e=t.alternate;return t===Dt||e!==null&&e===Dt}function mf(t,e){Ps=sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hf(t,e,n){if((n&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,n|=a,e.lanes=n,Wa(t,n)}}var Pi={readContext:en,use:cc,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useLayoutEffect:Se,useInsertionEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useSyncExternalStore:Se,useId:Se,useHostTransitionStatus:Se,useFormState:Se,useActionState:Se,useOptimistic:Se,useMemoCache:Se,useCacheRefresh:Se};Pi.useEffectEvent=Se;var pf={readContext:en,use:cc,useCallback:function(t,e){return pn().memoizedState=[t,e===void 0?null:e],t},useContext:en,useEffect:Fd,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,oc(4194308,4,ef.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oc(4194308,4,t,e)},useInsertionEffect:function(t,e){oc(4,2,t,e)},useMemo:function(t,e){var n=pn();e=e===void 0?null:e;var a=t();if(hs){Nn(!0);try{t()}finally{Nn(!1)}}return n.memoizedState=[a,e],a},useReducer:function(t,e,n){var a=pn();if(n!==void 0){var l=n(e);if(hs){Nn(!0);try{n(e)}finally{Nn(!1)}}}else l=e;return a.memoizedState=a.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},a.queue=t,t=t.dispatch=Mp.bind(null,Dt,t),[a.memoizedState,t]},useRef:function(t){var e=pn();return t={current:t},e.memoizedState=t},useState:function(t){t=kr(t);var e=t.queue,n=ff.bind(null,Dt,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Br,useDeferredValue:function(t,e){var n=pn();return Lr(n,t,e)},useTransition:function(){var t=kr(!1);return t=uf.bind(null,Dt,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var a=Dt,l=pn();if(_t){if(n===void 0)throw Error(d(407));n=n()}else{if(n=e(),ue===null)throw Error(d(349));(Lt&127)!==0||_d(a,e,n)}l.memoizedState=n;var s={value:n,getSnapshot:e};return l.queue=s,Fd(Bd.bind(null,a,s,t),[t]),a.flags|=2048,ei(9,{destroy:void 0},Ud.bind(null,a,s,n,e),null),n},useId:function(){var t=pn(),e=ue.identifierPrefix;if(_t){var n=On,a=zn;n=(a&~(1<<32-Be(a)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ic++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=hp++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Hr,useFormState:Zd,useActionState:Zd,useOptimistic:function(t){var e=pn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Gr.bind(null,Dt,!0,n),n.dispatch=e,[t,e]},useMemoCache:Rr,useCacheRefresh:function(){return pn().memoizedState=Sp.bind(null,Dt)},useEffectEvent:function(t){var e=pn(),n={impl:t};return e.memoizedState=n,function(){if(($t&2)!==0)throw Error(d(440));return n.impl.apply(void 0,arguments)}}},Yr={readContext:en,use:cc,useCallback:af,useContext:en,useEffect:Ur,useImperativeHandle:nf,useInsertionEffect:Pd,useLayoutEffect:tf,useMemo:lf,useReducer:rc,useRef:Id,useState:function(){return rc(Ba)},useDebugValue:Br,useDeferredValue:function(t,e){var n=we();return sf(n,ne.memoizedState,t,e)},useTransition:function(){var t=rc(Ba)[0],e=we().memoizedState;return[typeof t=="boolean"?t:Fi(t),e]},useSyncExternalStore:kd,useId:of,useHostTransitionStatus:Hr,useFormState:Kd,useActionState:Kd,useOptimistic:function(t,e){var n=we();return Hd(n,ne,t,e)},useMemoCache:Rr,useCacheRefresh:df};Yr.useEffectEvent=Wd;var gf={readContext:en,use:cc,useCallback:af,useContext:en,useEffect:Ur,useImperativeHandle:nf,useInsertionEffect:Pd,useLayoutEffect:tf,useMemo:lf,useReducer:Or,useRef:Id,useState:function(){return Or(Ba)},useDebugValue:Br,useDeferredValue:function(t,e){var n=we();return ne===null?Lr(n,t,e):sf(n,ne.memoizedState,t,e)},useTransition:function(){var t=Or(Ba)[0],e=we().memoizedState;return[typeof t=="boolean"?t:Fi(t),e]},useSyncExternalStore:kd,useId:of,useHostTransitionStatus:Hr,useFormState:Jd,useActionState:Jd,useOptimistic:function(t,e){var n=we();return ne!==null?Hd(n,ne,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Rr,useCacheRefresh:df};gf.useEffectEvent=Wd;function Vr(t,e,n,a){e=t.memoizedState,n=n(a,e),n=n==null?e:x({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xr={enqueueSetState:function(t,e,n){t=t._reactInternals;var a=qn(),l=Sl(a);l.payload=e,n!=null&&(l.callback=n),e=Ml(t,l,a),e!==null&&(Cn(e,t,a),Ki(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var a=qn(),l=Sl(a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=Ml(t,l,a),e!==null&&(Cn(e,t,a),Ki(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qn(),a=Sl(n);a.tag=2,e!=null&&(a.callback=e),e=Ml(t,a,n),e!==null&&(Cn(e,t,n),Ki(e,t,n))}};function yf(t,e,n,a,l,s,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,s,u):e.prototype&&e.prototype.isPureReactComponent?!ns(n,a)||!ns(l,s):!0}function vf(t,e,n,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,a),e.state!==t&&Xr.enqueueReplaceState(e,e.state,null)}function ps(t,e){var n=e;if("ref"in e){n={};for(var a in e)a!=="ref"&&(n[a]=e[a])}if(t=t.defaultProps){n===e&&(n=x({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}function bf(t){Y(t)}function Sf(t){console.error(t)}function Mf(t){Y(t)}function mc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function xf(t,e,n){try{var a=t.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Qr(t,e,n){return n=Sl(n),n.tag=3,n.payload={element:null},n.callback=function(){mc(t,e)},n}function Ef(t){return t=Sl(t),t.tag=3,t}function Af(t,e,n,a){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var s=a.value;t.payload=function(){return l(s)},t.callback=function(){xf(e,n,a)}}var u=n.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(t.callback=function(){xf(e,n,a),typeof l!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var h=a.stack;this.componentDidCatch(a.value,{componentStack:h!==null?h:""})})}function xp(t,e,n,a,l){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=n.alternate,e!==null&&Ks(e,n,l,!0),n=_n.current,n!==null){switch(n.tag){case 31:case 13:return $n===null?Tc():n.alternate===null&&Me===0&&(Me=3),n.flags&=-257,n.flags|=65536,n.lanes=l,a===tc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([a]):e.add(a),yo(t,a,l)),!1;case 22:return n.flags|=65536,a===tc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([a]):n.add(a)),yo(t,a,l)),!1}throw Error(d(435,n.tag))}return yo(t,a,l),Tc(),!1}if(_t)return e=_n.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=l,a!==or&&(t=Error(d(422),{cause:a}),Yi(Rt(t,n)))):(a!==or&&(e=Error(d(423),{cause:a}),Yi(Rt(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,a=Rt(a,n),l=Qr(t.stateNode,a,l),Mr(t,l),Me!==4&&(Me=2)),!1;var s=Error(d(520),{cause:a});if(s=Rt(s,n),uu===null?uu=[s]:uu.push(s),Me!==4&&(Me=2),e===null)return!0;a=Rt(a,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=Qr(n.stateNode,a,t),Mr(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Cl===null||!Cl.has(s))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Ef(l),Af(l,t,n,a),Mr(n,l),!1}n=n.return}while(n!==null);return!1}var Zr=Error(d(461)),ze=!1;function nn(t,e,n,a){e.child=t===null?Cd(e,null,n,a):ms(e,t.child,n,a)}function Tf(t,e,n,a,l){n=n.render;var s=e.ref;if("ref"in a){var u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}else u=a;return rs(e),a=Cr(t,e,n,u,s,l),h=Dr(),t!==null&&!ze?(Nr(t,e,l),La(t,e,l)):(_t&&h&&Qs(e),e.flags|=1,nn(t,e,a,l),e.child)}function wf(t,e,n,a,l){if(t===null){var s=n.type;return typeof s=="function"&&!is(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,Cf(t,e,s,a,l)):(t=re(n.type,null,a,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!to(t,l)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:ns,n(u,a)&&t.ref===e.ref)return La(t,e,l)}return e.flags|=1,t=st(s,a),t.ref=e.ref,t.return=e,e.child=t}function Cf(t,e,n,a,l){if(t!==null){var s=t.memoizedProps;if(ns(s,a)&&t.ref===e.ref)if(ze=!1,e.pendingProps=a=s,to(t,l))(t.flags&131072)!==0&&(ze=!0);else return e.lanes=t.lanes,La(t,e,l)}return Kr(t,e,n,a,l)}function Df(t,e,n,a){var l=a.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(s=s!==null?s.baseLanes|n:n,t!==null){for(a=e.child=t.child,l=0;a!==null;)l=l|a.lanes|a.childLanes,a=a.sibling;a=l&~s}else a=0,e.child=null;return Nf(t,e,s,n,a)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(e,s!==null?s.cachePool:null),s!==null?jd(e,s):Er(),Rd(e);else return a=e.lanes=536870912,Nf(t,e,s!==null?s.baseLanes|n:n,n,a)}else s!==null?(Wu(e,s.cachePool),jd(e,s),El(),e.memoizedState=null):(t!==null&&Wu(e,null),Er(),El());return nn(t,e,l,n),e.child}function tu(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Nf(t,e,n,a,l){var s=yr();return s=s===null?null:{parent:je._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Wu(e,null),Er(),Rd(e),t!==null&&Ks(t,e,a,!0),e.childLanes=l,null}function hc(t,e){return e=gc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function jf(t,e,n){return ms(e,t.child,null,n),t=hc(e,e.pendingProps),t.flags|=2,Un(e),e.memoizedState=null,t}function Ep(t,e,n){var a=e.pendingProps,l=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(_t){if(a.mode==="hidden")return t=hc(e,a),e.lanes=536870912,tu(null,t);if(Tr(e),(t=Kt)?(t=Ym(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Mn!==null?{id:zn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},n=bt(t),n.return=e,e.child=n,oe=e,Kt=null)):t=null,t===null)throw yl(e);return e.lanes=536870912,null}return hc(e,a)}var s=t.memoizedState;if(s!==null){var u=s.dehydrated;if(Tr(e),l)if(e.flags&256)e.flags&=-257,e=jf(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(d(558));else if(ze||Ks(t,e,n,!1),l=(n&t.childLanes)!==0,ze||l){if(a=ue,a!==null&&(u=Ts(a,n),u!==0&&u!==s.retryLane))throw s.retryLane=u,jt(t,u),Cn(a,t,u),Zr;Tc(),e=jf(t,e,n)}else t=s.treeContext,Kt=Jn(u.nextSibling),oe=e,_t=!0,ra=null,xn=!1,t!==null&&Yt(e,t),e=hc(e,a),e.flags|=4096;return e}return t=st(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function pc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Kr(t,e,n,a,l){return rs(e),n=Cr(t,e,n,a,void 0,l),a=Dr(),t!==null&&!ze?(Nr(t,e,l),La(t,e,l)):(_t&&a&&Qs(e),e.flags|=1,nn(t,e,n,l),e.child)}function Rf(t,e,n,a,l,s){return rs(e),e.updateQueue=null,n=Od(e,a,n,l),zd(t),a=Dr(),t!==null&&!ze?(Nr(t,e,s),La(t,e,s)):(_t&&a&&Qs(e),e.flags|=1,nn(t,e,n,s),e.child)}function zf(t,e,n,a,l){if(rs(e),e.stateNode===null){var s=Ct,u=n.contextType;typeof u=="object"&&u!==null&&(s=en(u)),s=new n(a,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xr,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=a,s.state=e.memoizedState,s.refs={},br(e),u=n.contextType,s.context=typeof u=="object"&&u!==null?en(u):Ct,s.state=e.memoizedState,u=n.getDerivedStateFromProps,typeof u=="function"&&(Vr(e,n,u,a),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(u=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),u!==s.state&&Xr.enqueueReplaceState(s,s.state,null),Ji(e,a,s,l),$i(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){s=e.stateNode;var h=e.memoizedProps,E=ps(n,h);s.props=E;var O=s.context,V=n.contextType;u=Ct,typeof V=="object"&&V!==null&&(u=en(V));var Z=n.getDerivedStateFromProps;V=typeof Z=="function"||typeof s.getSnapshotBeforeUpdate=="function",h=e.pendingProps!==h,V||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(h||O!==u)&&vf(e,s,a,u),bl=!1;var k=e.memoizedState;s.state=k,Ji(e,a,s,l),$i(),O=e.memoizedState,h||k!==O||bl?(typeof Z=="function"&&(Vr(e,n,Z,a),O=e.memoizedState),(E=bl||yf(e,n,E,a,k,O,u))?(V||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=O),s.props=a,s.state=O,s.context=u,a=E):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{s=e.stateNode,Sr(t,e),u=e.memoizedProps,V=ps(n,u),s.props=V,Z=e.pendingProps,k=s.context,O=n.contextType,E=Ct,typeof O=="object"&&O!==null&&(E=en(O)),h=n.getDerivedStateFromProps,(O=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==Z||k!==E)&&vf(e,s,a,E),bl=!1,k=e.memoizedState,s.state=k,Ji(e,a,s,l),$i();var B=e.memoizedState;u!==Z||k!==B||bl||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof h=="function"&&(Vr(e,n,h,a),B=e.memoizedState),(V=bl||yf(e,n,V,a,k,B,E)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(O||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,B,E),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,B,E)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=B),s.props=a,s.state=B,s.context=E,a=V):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&k===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&k===t.memoizedState||(e.flags|=1024),a=!1)}return s=a,pc(t,e),a=(e.flags&128)!==0,s||a?(s=e.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&a?(e.child=ms(e,t.child,null,l),e.child=ms(e,null,n,l)):nn(t,e,n,l),e.memoizedState=s.state,t=e.child):t=La(t,e,l),t}function Of(t,e,n,a){return us(),e.flags|=256,nn(t,e,n,a),e.child}var $r={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jr(t){return{baseLanes:t,cachePool:Md()}}function Ir(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ln),t}function kf(t,e,n){var a=e.pendingProps,l=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),u&&(l=!0,e.flags&=-129),u=(e.flags&32)!==0,e.flags&=-33,t===null){if(_t){if(l?xl(e):El(),(t=Kt)?(t=Ym(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Mn!==null?{id:zn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},n=bt(t),n.return=e,e.child=n,oe=e,Kt=null)):t=null,t===null)throw yl(e);return Oo(t)?e.lanes=32:e.lanes=536870912,null}var h=a.children;return a=a.fallback,l?(El(),l=e.mode,h=gc({mode:"hidden",children:h},l),a=kt(a,l,n,null),h.return=e,a.return=e,h.sibling=a,e.child=h,a=e.child,a.memoizedState=Jr(n),a.childLanes=Ir(t,u,n),e.memoizedState=$r,tu(null,a)):(xl(e),Fr(e,h))}var E=t.memoizedState;if(E!==null&&(h=E.dehydrated,h!==null)){if(s)e.flags&256?(xl(e),e.flags&=-257,e=Wr(t,e,n)):e.memoizedState!==null?(El(),e.child=t.child,e.flags|=128,e=null):(El(),h=a.fallback,l=e.mode,a=gc({mode:"visible",children:a.children},l),h=kt(h,l,n,null),h.flags|=2,a.return=e,h.return=e,a.sibling=h,e.child=a,ms(e,t.child,null,n),a=e.child,a.memoizedState=Jr(n),a.childLanes=Ir(t,u,n),e.memoizedState=$r,e=tu(null,a));else if(xl(e),Oo(h)){if(u=h.nextSibling&&h.nextSibling.dataset,u)var O=u.dgst;u=O,a=Error(d(419)),a.stack="",a.digest=u,Yi({value:a,source:null,stack:null}),e=Wr(t,e,n)}else if(ze||Ks(t,e,n,!1),u=(n&t.childLanes)!==0,ze||u){if(u=ue,u!==null&&(a=Ts(u,n),a!==0&&a!==E.retryLane))throw E.retryLane=a,jt(t,a),Cn(u,t,a),Zr;zo(h)||Tc(),e=Wr(t,e,n)}else zo(h)?(e.flags|=192,e.child=t.child,e=null):(t=E.treeContext,Kt=Jn(h.nextSibling),oe=e,_t=!0,ra=null,xn=!1,t!==null&&Yt(e,t),e=Fr(e,a.children),e.flags|=4096);return e}return l?(El(),h=a.fallback,l=e.mode,E=t.child,O=E.sibling,a=st(E,{mode:"hidden",children:a.children}),a.subtreeFlags=E.subtreeFlags&65011712,O!==null?h=st(O,h):(h=kt(h,l,n,null),h.flags|=2),h.return=e,a.return=e,a.sibling=h,e.child=a,tu(null,a),a=e.child,h=t.child.memoizedState,h===null?h=Jr(n):(l=h.cachePool,l!==null?(E=je._currentValue,l=l.parent!==E?{parent:E,pool:E}:l):l=Md(),h={baseLanes:h.baseLanes|n,cachePool:l}),a.memoizedState=h,a.childLanes=Ir(t,u,n),e.memoizedState=$r,tu(t.child,a)):(xl(e),n=t.child,t=n.sibling,n=st(n,{mode:"visible",children:a.children}),n.return=e,n.sibling=null,t!==null&&(u=e.deletions,u===null?(e.deletions=[t],e.flags|=16):u.push(t)),e.child=n,e.memoizedState=null,n)}function Fr(t,e){return e=gc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function gc(t,e){return t=Qe(22,t,null,e),t.lanes=0,t}function Wr(t,e,n){return ms(e,t.child,null,n),t=Fr(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _f(t,e,n){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),mr(t.return,e,n)}function Pr(t,e,n,a,l,s){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:l,treeForkCount:s}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=n,u.tailMode=l,u.treeForkCount=s)}function Uf(t,e,n){var a=e.pendingProps,l=a.revealOrder,s=a.tail;a=a.children;var u=Te.current,h=(u&2)!==0;if(h?(u=u&1|2,e.flags|=128):u&=1,tt(Te,u),nn(t,e,a,n),a=_t?Qt:0,!h&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_f(t,n,e);else if(t.tag===19)_f(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&lc(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Pr(e,!1,l,n,s,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&lc(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Pr(e,!0,n,null,s,a);break;case"together":Pr(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function La(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wl|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Ks(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(d(153));if(e.child!==null){for(t=e.child,n=st(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=st(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function to(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function Ap(t,e,n){switch(e.tag){case 3:Je(e,e.stateNode.containerInfo),vl(e,je,t.memoizedState.cache),us();break;case 27:case 5:Bl(e);break;case 4:Je(e,e.stateNode.containerInfo);break;case 10:vl(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Tr(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(xl(e),e.flags|=128,null):(n&e.child.childLanes)!==0?kf(t,e,n):(xl(e),t=La(t,e,n),t!==null?t.sibling:null);xl(e);break;case 19:var l=(t.flags&128)!==0;if(a=(n&e.childLanes)!==0,a||(Ks(t,e,n,!1),a=(n&e.childLanes)!==0),l){if(a)return Uf(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),tt(Te,Te.current),a)break;return null;case 22:return e.lanes=0,Df(t,e,n,e.pendingProps);case 24:vl(e,je,t.memoizedState.cache)}return La(t,e,n)}function Bf(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ze=!0;else{if(!to(t,n)&&(e.flags&128)===0)return ze=!1,Ap(t,e,n);ze=(t.flags&131072)!==0}else ze=!1,_t&&(e.flags&1048576)!==0&&Gi(e,Qt,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=ds(e.elementType),e.type=t,typeof t=="function")is(t)?(a=ps(t,a),e.tag=1,e=zf(null,e,t,a,n)):(e.tag=0,e=Kr(null,e,t,a,n));else{if(t!=null){var l=t.$$typeof;if(l===L){e.tag=11,e=Tf(null,e,t,a,n);break t}else if(l===I){e.tag=14,e=wf(null,e,t,a,n);break t}}throw e=ke(t)||t,Error(d(306,e,""))}}return e;case 0:return Kr(t,e,e.type,e.pendingProps,n);case 1:return a=e.type,l=ps(a,e.pendingProps),zf(t,e,a,l,n);case 3:t:{if(Je(e,e.stateNode.containerInfo),t===null)throw Error(d(387));a=e.pendingProps;var s=e.memoizedState;l=s.element,Sr(t,e),Ji(e,a,null,n);var u=e.memoizedState;if(a=u.cache,vl(e,je,a),a!==s.cache&&hr(e,[je],n,!0),$i(),a=u.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:u.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Of(t,e,a,n);break t}else if(a!==l){l=Rt(Error(d(424)),e),Yi(l),e=Of(t,e,a,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Kt=Jn(t.firstChild),oe=e,_t=!0,ra=null,xn=!0,n=Cd(e,null,a,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(us(),a===l){e=La(t,e,n);break t}nn(t,e,a,n)}e=e.child}return e;case 26:return pc(t,e),t===null?(n=$m(e.type,null,e.pendingProps,null))?e.memoizedState=n:_t||(n=e.type,t=e.pendingProps,a=zc(Nt.current).createElement(n),a[ce]=e,a[_e]=t,an(a,n,t),be(a),e.stateNode=a):e.memoizedState=$m(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Bl(e),t===null&&_t&&(a=e.stateNode=Qm(e.type,e.pendingProps,Nt.current),oe=e,xn=!0,l=Kt,Rl(e.type)?(ko=l,Kt=Jn(a.firstChild)):Kt=l),nn(t,e,e.pendingProps.children,n),pc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&_t&&((l=a=Kt)&&(a=tg(a,e.type,e.pendingProps,xn),a!==null?(e.stateNode=a,oe=e,Kt=Jn(a.firstChild),xn=!1,l=!0):l=!1),l||yl(e)),Bl(e),l=e.type,s=e.pendingProps,u=t!==null?t.memoizedProps:null,a=s.children,No(l,s)?a=null:u!==null&&No(l,u)&&(e.flags|=32),e.memoizedState!==null&&(l=Cr(t,e,pp,null,null,n),pu._currentValue=l),pc(t,e),nn(t,e,a,n),e.child;case 6:return t===null&&_t&&((t=n=Kt)&&(n=eg(n,e.pendingProps,xn),n!==null?(e.stateNode=n,oe=e,Kt=null,t=!0):t=!1),t||yl(e)),null;case 13:return kf(t,e,n);case 4:return Je(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=ms(e,null,a,n):nn(t,e,a,n),e.child;case 11:return Tf(t,e,e.type,e.pendingProps,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:return a=e.pendingProps,vl(e,e.type,a.value),nn(t,e,a.children,n),e.child;case 9:return l=e.type._context,a=e.pendingProps.children,rs(e),l=en(l),a=a(l),e.flags|=1,nn(t,e,a,n),e.child;case 14:return wf(t,e,e.type,e.pendingProps,n);case 15:return Cf(t,e,e.type,e.pendingProps,n);case 19:return Uf(t,e,n);case 31:return Ep(t,e,n);case 22:return Df(t,e,n,e.pendingProps);case 24:return rs(e),a=en(je),t===null?(l=yr(),l===null&&(l=ue,s=pr(),l.pooledCache=s,s.refCount++,s!==null&&(l.pooledCacheLanes|=n),l=s),e.memoizedState={parent:a,cache:l},br(e),vl(e,je,l)):((t.lanes&n)!==0&&(Sr(t,e),Ji(e,null,null,n),$i()),l=t.memoizedState,s=e.memoizedState,l.parent!==a?(l={parent:a,cache:a},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),vl(e,je,a)):(a=s.cache,vl(e,je,a),a!==l.cache&&hr(e,[je],n,!0))),nn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(d(156,e.tag))}function qa(t){t.flags|=4}function eo(t,e,n,a,l){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(l&335544128)===l)if(t.stateNode.complete)t.flags|=8192;else if(om())t.flags|=8192;else throw fs=tc,vr}else t.flags&=-16777217}function Lf(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pm(e))if(om())t.flags|=8192;else throw fs=tc,vr}function yc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?xi():536870912,t.lanes|=e,si|=e)}function eu(t,e){if(!_t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags&65011712,a|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,a|=l.subtreeFlags,a|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=a,t.childLanes=n,e}function Tp(t,e,n){var a=e.pendingProps;switch(gl(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return ge(e),null;case 3:return n=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),_a(je),te(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Zs(e)?qa(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,dr())),ge(e),null;case 26:var l=e.type,s=e.memoizedState;return t===null?(qa(e),s!==null?(ge(e),Lf(e,s)):(ge(e),eo(e,l,null,a,n))):s?s!==t.memoizedState?(qa(e),ge(e),Lf(e,s)):(ge(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&qa(e),ge(e),eo(e,l,t,a,n)),null;case 27:if(Ja(e),n=Nt.current,l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&qa(e);else{if(!a){if(e.stateNode===null)throw Error(d(166));return ge(e),null}t=lt.current,Zs(e)?gd(e):(t=Qm(l,a,n),e.stateNode=t,qa(e))}return ge(e),null;case 5:if(Ja(e),l=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&qa(e);else{if(!a){if(e.stateNode===null)throw Error(d(166));return ge(e),null}if(s=lt.current,Zs(e))gd(e);else{var u=zc(Nt.current);switch(s){case 1:s=u.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=u.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=u.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?s.multiple=!0:a.size&&(s.size=a.size);break;default:s=typeof a.is=="string"?u.createElement(l,{is:a.is}):u.createElement(l)}}s[ce]=e,s[_e]=a;t:for(u=e.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break t;for(;u.sibling===null;){if(u.return===null||u.return===e)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}e.stateNode=s;t:switch(an(s,l,a),l){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&qa(e)}}return ge(e),eo(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&qa(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(d(166));if(t=Nt.current,Zs(e)){if(t=e.stateNode,n=e.memoizedProps,a=null,l=oe,l!==null)switch(l.tag){case 27:case 5:a=l.memoizedProps}t[ce]=e,t=!!(t.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||km(t.nodeValue,n)),t||yl(e,!0)}else t=zc(t).createTextNode(a),t[ce]=e,e.stateNode=t}return ge(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(a=Zs(e),n!==null){if(t===null){if(!a)throw Error(d(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(557));t[ce]=e}else us(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ge(e),t=!1}else n=dr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Un(e),e):(Un(e),null);if((e.flags&128)!==0)throw Error(d(558))}return ge(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=Zs(e),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(d(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(d(317));l[ce]=e}else us(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ge(e),l=!1}else l=dr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?(Un(e),e):(Un(e),null)}return Un(e),(e.flags&128)!==0?(e.lanes=n,e):(n=a!==null,t=t!==null&&t.memoizedState!==null,n&&(a=e.child,l=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(l=a.alternate.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(a.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),yc(e,e.updateQueue),ge(e),null);case 4:return te(),t===null&&Ao(e.stateNode.containerInfo),ge(e),null;case 10:return _a(e.type),ge(e),null;case 19:if(_(Te),a=e.memoizedState,a===null)return ge(e),null;if(l=(e.flags&128)!==0,s=a.rendering,s===null)if(l)eu(a,!1);else{if(Me!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=lc(t),s!==null){for(e.flags|=128,eu(a,!1),t=s.updateQueue,e.updateQueue=t,yc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)me(n,t),n=n.sibling;return tt(Te,Te.current&1|2),_t&&kn(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&ln()>xc&&(e.flags|=128,l=!0,eu(a,!1),e.lanes=4194304)}else{if(!l)if(t=lc(s),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,yc(e,t),eu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!_t)return ge(e),null}else 2*ln()-a.renderingStartTime>xc&&n!==536870912&&(e.flags|=128,l=!0,eu(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(t=a.last,t!==null?t.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ln(),t.sibling=null,n=Te.current,tt(Te,l?n&1|2:n&1),_t&&kn(e,a.treeForkCount),t):(ge(e),null);case 22:case 23:return Un(e),Ar(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(n&536870912)!==0&&(e.flags&128)===0&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),n=e.updateQueue,n!==null&&yc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==n&&(e.flags|=2048),t!==null&&_(os),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),_a(je),ge(e),null;case 25:return null;case 30:return null}throw Error(d(156,e.tag))}function wp(t,e){switch(gl(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _a(je),te(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ja(e),null;case 31:if(e.memoizedState!==null){if(Un(e),e.alternate===null)throw Error(d(340));us()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Un(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(d(340));us()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _(Te),null;case 4:return te(),null;case 10:return _a(e.type),null;case 22:case 23:return Un(e),Ar(),t!==null&&_(os),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return _a(je),null;case 25:return null;default:return null}}function qf(t,e){switch(gl(e),e.tag){case 3:_a(je),te();break;case 26:case 27:case 5:Ja(e);break;case 4:te();break;case 31:e.memoizedState!==null&&Un(e);break;case 13:Un(e);break;case 19:_(Te);break;case 10:_a(e.type);break;case 22:case 23:Un(e),Ar(),t!==null&&_(os);break;case 24:_a(je)}}function nu(t,e){try{var n=e.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var l=a.next;n=l;do{if((n.tag&t)===t){a=void 0;var s=n.create,u=n.inst;a=s(),u.destroy=a}n=n.next}while(n!==l)}}catch(h){Ft(e,e.return,h)}}function Al(t,e,n){try{var a=e.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&t)===t){var u=a.inst,h=u.destroy;if(h!==void 0){u.destroy=void 0,l=e;var E=n,O=h;try{O()}catch(V){Ft(l,E,V)}}}a=a.next}while(a!==s)}}catch(V){Ft(e,e.return,V)}}function Hf(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Nd(e,n)}catch(a){Ft(t,t.return,a)}}}function Gf(t,e,n){n.props=ps(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(a){Ft(t,e,a)}}function au(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof n=="function"?t.refCleanup=n(a):n.current=a}}catch(l){Ft(t,e,l)}}function Aa(t,e){var n=t.ref,a=t.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(l){Ft(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){Ft(t,e,l)}else n.current=null}function Yf(t){var e=t.type,n=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break t;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(l){Ft(t,t.return,l)}}function no(t,e,n){try{var a=t.stateNode;$p(a,t.type,n,e),a[_e]=e}catch(l){Ft(t,t.return,l)}}function Vf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Rl(t.type)||t.tag===4}function ao(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Vf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Rl(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lo(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rn));else if(a!==4&&(a===27&&Rl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(lo(t,e,n),t=t.sibling;t!==null;)lo(t,e,n),t=t.sibling}function vc(t,e,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(a!==4&&(a===27&&Rl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(vc(t,e,n),t=t.sibling;t!==null;)vc(t,e,n),t=t.sibling}function Xf(t){var e=t.stateNode,n=t.memoizedProps;try{for(var a=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);an(e,a,n),e[ce]=t,e[_e]=n}catch(s){Ft(t,t.return,s)}}var Ha=!1,Oe=!1,so=!1,Qf=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Cp(t,e){if(t=t.containerInfo,Co=qc,t=as(t),Li(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var l=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var u=0,h=-1,E=-1,O=0,V=0,Z=t,k=null;e:for(;;){for(var B;Z!==n||l!==0&&Z.nodeType!==3||(h=u+l),Z!==s||a!==0&&Z.nodeType!==3||(E=u+a),Z.nodeType===3&&(u+=Z.nodeValue.length),(B=Z.firstChild)!==null;)k=Z,Z=B;for(;;){if(Z===t)break e;if(k===n&&++O===l&&(h=u),k===s&&++V===a&&(E=u),(B=Z.nextSibling)!==null)break;Z=k,k=Z.parentNode}Z=B}n=h===-1||E===-1?null:{start:h,end:E}}else n=null}n=n||{start:0,end:0}}else n=null;for(Do={focusedElem:t,selectionRange:n},qc=!1,Ke=e;Ke!==null;)if(e=Ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ke=t;else for(;Ke!==null;){switch(e=Ke,s=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)l=t[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&s!==null){t=void 0,n=e,l=s.memoizedProps,s=s.memoizedState,a=n.stateNode;try{var rt=ps(n.type,l);t=a.getSnapshotBeforeUpdate(rt,s),a.__reactInternalSnapshotBeforeUpdate=t}catch(vt){Ft(n,n.return,vt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Ro(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ro(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(d(163))}if(t=e.sibling,t!==null){t.return=e.return,Ke=t;break}Ke=e.return}}function Zf(t,e,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Ya(t,n),a&4&&nu(5,n);break;case 1:if(Ya(t,n),a&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(u){Ft(n,n.return,u)}else{var l=ps(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(u){Ft(n,n.return,u)}}a&64&&Hf(n),a&512&&au(n,n.return);break;case 3:if(Ya(t,n),a&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Nd(t,e)}catch(u){Ft(n,n.return,u)}}break;case 27:e===null&&a&4&&Xf(n);case 26:case 5:Ya(t,n),e===null&&a&4&&Yf(n),a&512&&au(n,n.return);break;case 12:Ya(t,n);break;case 31:Ya(t,n),a&4&&Jf(t,n);break;case 13:Ya(t,n),a&4&&If(t,n),a&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Up.bind(null,n),ng(t,n))));break;case 22:if(a=n.memoizedState!==null||Ha,!a){e=e!==null&&e.memoizedState!==null||Oe,l=Ha;var s=Oe;Ha=a,(Oe=e)&&!s?Va(t,n,(n.subtreeFlags&8772)!==0):Ya(t,n),Ha=l,Oe=s}break;case 30:break;default:Ya(t,n)}}function Kf(t){var e=t.alternate;e!==null&&(t.alternate=null,Kf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Ds(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ye=null,En=!1;function Ga(t,e,n){for(n=n.child;n!==null;)$f(t,e,n),n=n.sibling}function $f(t,e,n){if(ve&&typeof ve.onCommitFiberUnmount=="function")try{ve.onCommitFiberUnmount(Wn,n)}catch{}switch(n.tag){case 26:Oe||Aa(n,e),Ga(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Oe||Aa(n,e);var a=ye,l=En;Rl(n.type)&&(ye=n.stateNode,En=!1),Ga(t,e,n),fu(n.stateNode),ye=a,En=l;break;case 5:Oe||Aa(n,e);case 6:if(a=ye,l=En,ye=null,Ga(t,e,n),ye=a,En=l,ye!==null)if(En)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(n.stateNode)}catch(s){Ft(n,e,s)}else try{ye.removeChild(n.stateNode)}catch(s){Ft(n,e,s)}break;case 18:ye!==null&&(En?(t=ye,Hm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),mi(t)):Hm(ye,n.stateNode));break;case 4:a=ye,l=En,ye=n.stateNode.containerInfo,En=!0,Ga(t,e,n),ye=a,En=l;break;case 0:case 11:case 14:case 15:Al(2,n,e),Oe||Al(4,n,e),Ga(t,e,n);break;case 1:Oe||(Aa(n,e),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Gf(n,e,a)),Ga(t,e,n);break;case 21:Ga(t,e,n);break;case 22:Oe=(a=Oe)||n.memoizedState!==null,Ga(t,e,n),Oe=a;break;default:Ga(t,e,n)}}function Jf(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mi(t)}catch(n){Ft(e,e.return,n)}}}function If(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mi(t)}catch(n){Ft(e,e.return,n)}}function Dp(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Qf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Qf),e;default:throw Error(d(435,t.tag))}}function bc(t,e){var n=Dp(t);e.forEach(function(a){if(!n.has(a)){n.add(a);var l=Bp.bind(null,t,a);a.then(l,l)}})}function An(t,e){var n=e.deletions;if(n!==null)for(var a=0;a<n.length;a++){var l=n[a],s=t,u=e,h=u;t:for(;h!==null;){switch(h.tag){case 27:if(Rl(h.type)){ye=h.stateNode,En=!1;break t}break;case 5:ye=h.stateNode,En=!1;break t;case 3:case 4:ye=h.stateNode.containerInfo,En=!0;break t}h=h.return}if(ye===null)throw Error(d(160));$f(s,u,l),ye=null,En=!1,s=l.alternate,s!==null&&(s.return=null),l.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Ff(e,t),e=e.sibling}var oa=null;function Ff(t,e){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(e,t),Tn(t),a&4&&(Al(3,t,t.return),nu(3,t),Al(5,t,t.return));break;case 1:An(e,t),Tn(t),a&512&&(Oe||n===null||Aa(n,n.return)),a&64&&Ha&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var l=oa;if(An(e,t),Tn(t),a&512&&(Oe||n===null||Aa(n,n.return)),a&4){var s=n!==null?n.memoizedState:null;if(a=t.memoizedState,n===null)if(a===null)if(t.stateNode===null){t:{a=t.type,n=t.memoizedProps,l=l.ownerDocument||l;e:switch(a){case"title":s=l.getElementsByTagName("title")[0],(!s||s[Vl]||s[ce]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=l.createElement(a),l.head.insertBefore(s,l.querySelector("head > title"))),an(s,a,n),s[ce]=t,be(s),a=s;break t;case"link":var u=Fm("link","href",l).get(a+(n.href||""));if(u){for(var h=0;h<u.length;h++)if(s=u[h],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){u.splice(h,1);break e}}s=l.createElement(a),an(s,a,n),l.head.appendChild(s);break;case"meta":if(u=Fm("meta","content",l).get(a+(n.content||""))){for(h=0;h<u.length;h++)if(s=u[h],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){u.splice(h,1);break e}}s=l.createElement(a),an(s,a,n),l.head.appendChild(s);break;default:throw Error(d(468,a))}s[ce]=t,be(s),a=s}t.stateNode=a}else Wm(l,t.type,t.stateNode);else t.stateNode=Im(l,a,t.memoizedProps);else s!==a?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,a===null?Wm(l,t.type,t.stateNode):Im(l,a,t.memoizedProps)):a===null&&t.stateNode!==null&&no(t,t.memoizedProps,n.memoizedProps)}break;case 27:An(e,t),Tn(t),a&512&&(Oe||n===null||Aa(n,n.return)),n!==null&&a&4&&no(t,t.memoizedProps,n.memoizedProps);break;case 5:if(An(e,t),Tn(t),a&512&&(Oe||n===null||Aa(n,n.return)),t.flags&32){l=t.stateNode;try{jn(l,"")}catch(rt){Ft(t,t.return,rt)}}a&4&&t.stateNode!=null&&(l=t.memoizedProps,no(t,l,n!==null?n.memoizedProps:l)),a&1024&&(so=!0);break;case 6:if(An(e,t),Tn(t),a&4){if(t.stateNode===null)throw Error(d(162));a=t.memoizedProps,n=t.stateNode;try{n.nodeValue=a}catch(rt){Ft(t,t.return,rt)}}break;case 3:if(_c=null,l=oa,oa=Oc(e.containerInfo),An(e,t),oa=l,Tn(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{mi(e.containerInfo)}catch(rt){Ft(t,t.return,rt)}so&&(so=!1,Wf(t));break;case 4:a=oa,oa=Oc(t.stateNode.containerInfo),An(e,t),Tn(t),oa=a;break;case 12:An(e,t),Tn(t);break;case 31:An(e,t),Tn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,bc(t,a)));break;case 13:An(e,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Mc=ln()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,bc(t,a)));break;case 22:l=t.memoizedState!==null;var E=n!==null&&n.memoizedState!==null,O=Ha,V=Oe;if(Ha=O||l,Oe=V||E,An(e,t),Oe=V,Ha=O,Tn(t),a&8192)t:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||E||Ha||Oe||gs(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){E=n=e;try{if(s=E.stateNode,l)u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{h=E.stateNode;var Z=E.memoizedProps.style,k=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;h.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(rt){Ft(E,E.return,rt)}}}else if(e.tag===6){if(n===null){E=e;try{E.stateNode.nodeValue=l?"":E.memoizedProps}catch(rt){Ft(E,E.return,rt)}}}else if(e.tag===18){if(n===null){E=e;try{var B=E.stateNode;l?Gm(B,!0):Gm(E.stateNode,!1)}catch(rt){Ft(E,E.return,rt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,bc(t,n))));break;case 19:An(e,t),Tn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,bc(t,a)));break;case 30:break;case 21:break;default:An(e,t),Tn(t)}}function Tn(t){var e=t.flags;if(e&2){try{for(var n,a=t.return;a!==null;){if(Vf(a)){n=a;break}a=a.return}if(n==null)throw Error(d(160));switch(n.tag){case 27:var l=n.stateNode,s=ao(t);vc(t,s,l);break;case 5:var u=n.stateNode;n.flags&32&&(jn(u,""),n.flags&=-33);var h=ao(t);vc(t,h,u);break;case 3:case 4:var E=n.stateNode.containerInfo,O=ao(t);lo(t,O,E);break;default:throw Error(d(161))}}catch(V){Ft(t,t.return,V)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wf(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Wf(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ya(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Zf(t,e.alternate,e),e=e.sibling}function gs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Al(4,e,e.return),gs(e);break;case 1:Aa(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Gf(e,e.return,n),gs(e);break;case 27:fu(e.stateNode);case 26:case 5:Aa(e,e.return),gs(e);break;case 22:e.memoizedState===null&&gs(e);break;case 30:gs(e);break;default:gs(e)}t=t.sibling}}function Va(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,l=t,s=e,u=s.flags;switch(s.tag){case 0:case 11:case 15:Va(l,s,n),nu(4,s);break;case 1:if(Va(l,s,n),a=s,l=a.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(O){Ft(a,a.return,O)}if(a=s,l=a.updateQueue,l!==null){var h=a.stateNode;try{var E=l.shared.hiddenCallbacks;if(E!==null)for(l.shared.hiddenCallbacks=null,l=0;l<E.length;l++)Dd(E[l],h)}catch(O){Ft(a,a.return,O)}}n&&u&64&&Hf(s),au(s,s.return);break;case 27:Xf(s);case 26:case 5:Va(l,s,n),n&&a===null&&u&4&&Yf(s),au(s,s.return);break;case 12:Va(l,s,n);break;case 31:Va(l,s,n),n&&u&4&&Jf(l,s);break;case 13:Va(l,s,n),n&&u&4&&If(l,s);break;case 22:s.memoizedState===null&&Va(l,s,n),au(s,s.return);break;case 30:break;default:Va(l,s,n)}e=e.sibling}}function io(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Vi(n))}function uo(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Vi(t))}function da(t,e,n,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pf(t,e,n,a),e=e.sibling}function Pf(t,e,n,a){var l=e.flags;switch(e.tag){case 0:case 11:case 15:da(t,e,n,a),l&2048&&nu(9,e);break;case 1:da(t,e,n,a);break;case 3:da(t,e,n,a),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Vi(t)));break;case 12:if(l&2048){da(t,e,n,a),t=e.stateNode;try{var s=e.memoizedProps,u=s.id,h=s.onPostCommit;typeof h=="function"&&h(u,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){Ft(e,e.return,E)}}else da(t,e,n,a);break;case 31:da(t,e,n,a);break;case 13:da(t,e,n,a);break;case 23:break;case 22:s=e.stateNode,u=e.alternate,e.memoizedState!==null?s._visibility&2?da(t,e,n,a):lu(t,e):s._visibility&2?da(t,e,n,a):(s._visibility|=2,ni(t,e,n,a,(e.subtreeFlags&10256)!==0||!1)),l&2048&&io(u,e);break;case 24:da(t,e,n,a),l&2048&&uo(e.alternate,e);break;default:da(t,e,n,a)}}function ni(t,e,n,a,l){for(l=l&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,u=e,h=n,E=a,O=u.flags;switch(u.tag){case 0:case 11:case 15:ni(s,u,h,E,l),nu(8,u);break;case 23:break;case 22:var V=u.stateNode;u.memoizedState!==null?V._visibility&2?ni(s,u,h,E,l):lu(s,u):(V._visibility|=2,ni(s,u,h,E,l)),l&&O&2048&&io(u.alternate,u);break;case 24:ni(s,u,h,E,l),l&&O&2048&&uo(u.alternate,u);break;default:ni(s,u,h,E,l)}e=e.sibling}}function lu(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,a=e,l=a.flags;switch(a.tag){case 22:lu(n,a),l&2048&&io(a.alternate,a);break;case 24:lu(n,a),l&2048&&uo(a.alternate,a);break;default:lu(n,a)}e=e.sibling}}var su=8192;function ai(t,e,n){if(t.subtreeFlags&su)for(t=t.child;t!==null;)tm(t,e,n),t=t.sibling}function tm(t,e,n){switch(t.tag){case 26:ai(t,e,n),t.flags&su&&t.memoizedState!==null&&hg(n,oa,t.memoizedState,t.memoizedProps);break;case 5:ai(t,e,n);break;case 3:case 4:var a=oa;oa=Oc(t.stateNode.containerInfo),ai(t,e,n),oa=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=su,su=16777216,ai(t,e,n),su=a):ai(t,e,n));break;default:ai(t,e,n)}}function em(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function iu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Ke=a,am(a,t)}em(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nm(t),t=t.sibling}function nm(t){switch(t.tag){case 0:case 11:case 15:iu(t),t.flags&2048&&Al(9,t,t.return);break;case 3:iu(t);break;case 12:iu(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Sc(t)):iu(t);break;default:iu(t)}}function Sc(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var a=e[n];Ke=a,am(a,t)}em(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Al(8,e,e.return),Sc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Sc(e));break;default:Sc(e)}t=t.sibling}}function am(t,e){for(;Ke!==null;){var n=Ke;switch(n.tag){case 0:case 11:case 15:Al(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Vi(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Ke=a;else t:for(n=t;Ke!==null;){a=Ke;var l=a.sibling,s=a.return;if(Kf(a),a===n){Ke=null;break t}if(l!==null){l.return=s,Ke=l;break t}Ke=s}}}var Np={getCacheForType:function(t){var e=en(je),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return en(je).controller.signal}},jp=typeof WeakMap=="function"?WeakMap:Map,$t=0,ue=null,Ut=null,Lt=0,It=0,Bn=null,Tl=!1,li=!1,co=!1,Xa=0,Me=0,wl=0,ys=0,ro=0,Ln=0,si=0,uu=null,wn=null,oo=!1,Mc=0,lm=0,xc=1/0,Ec=null,Cl=null,Ue=0,Dl=null,ii=null,Qa=0,fo=0,mo=null,sm=null,cu=0,ho=null;function qn(){return($t&2)!==0&&Lt!==0?Lt&-Lt:T.T!==null?So():tl()}function im(){if(Ln===0)if((Lt&536870912)===0||_t){var t=ma;ma<<=1,(ma&3932160)===0&&(ma=262144),Ln=t}else Ln=536870912;return t=_n.current,t!==null&&(t.flags|=32),Ln}function Cn(t,e,n){(t===ue&&(It===2||It===9)||t.cancelPendingCommit!==null)&&(ui(t,0),Nl(t,Lt,Ln,!1)),ta(t,n),(($t&2)===0||t!==ue)&&(t===ue&&(($t&2)===0&&(ys|=n),Me===4&&Nl(t,Lt,Ln,!1)),Ta(t))}function um(t,e,n){if(($t&6)!==0)throw Error(d(327));var a=!n&&(e&127)===0&&(e&t.expiredLanes)===0||ja(t,e),l=a?Op(t,e):go(t,e,!0),s=a;do{if(l===0){li&&!a&&Nl(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!Rp(n)){l=go(t,e,!1),s=!1;continue}if(l===2){if(s=e,t.errorRecoveryDisabledLanes&s)var u=0;else u=t.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){e=u;t:{var h=t;l=uu;var E=h.current.memoizedState.isDehydrated;if(E&&(ui(h,u).flags|=256),u=go(h,u,!1),u!==2){if(co&&!E){h.errorRecoveryDisabledLanes|=s,ys|=s,l=4;break t}s=wn,wn=l,s!==null&&(wn===null?wn=s:wn.push.apply(wn,s))}l=u}if(s=!1,l!==2)continue}}if(l===1){ui(t,0),Nl(t,e,0,!0);break}t:{switch(a=t,s=l,s){case 0:case 1:throw Error(d(345));case 4:if((e&4194048)!==e)break;case 6:Nl(a,e,Ln,!Tl);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(d(329))}if((e&62914560)===e&&(l=Mc+300-ln(),10<l)){if(Nl(a,e,Ln,!Tl),xe(a,0,!0)!==0)break t;Qa=e,a.timeoutHandle=Lm(cm.bind(null,a,n,wn,Ec,oo,e,Ln,ys,si,Tl,s,"Throttled",-0,0),l);break t}cm(a,n,wn,Ec,oo,e,Ln,ys,si,Tl,s,null,-0,0)}}break}while(!0);Ta(t)}function cm(t,e,n,a,l,s,u,h,E,O,V,Z,k,B){if(t.timeoutHandle=-1,Z=e.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},tm(e,s,Z);var rt=(s&62914560)===s?Mc-ln():(s&4194048)===s?lm-ln():0;if(rt=pg(Z,rt),rt!==null){Qa=s,t.cancelPendingCommit=rt(gm.bind(null,t,e,s,n,a,l,u,h,E,V,Z,null,k,B)),Nl(t,s,u,!O);return}}gm(t,e,s,n,a,l,u,h,E)}function Rp(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var l=n[a],s=l.getSnapshot;l=l.value;try{if(!un(s(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nl(t,e,n,a){e&=~ro,e&=~ys,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var l=e;0<l;){var s=31-Be(l),u=1<<s;a[s]=-1,l&=~u}n!==0&&na(t,n,e)}function Ac(){return($t&6)===0?(ru(0),!1):!0}function po(){if(Ut!==null){if(It===0)var t=Ut.return;else t=Ut,ka=cs=null,jr(t),Fs=null,Qi=0,t=Ut;for(;t!==null;)qf(t.alternate,t),t=t.return;Ut=null}}function ui(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Fp(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Qa=0,po(),ue=t,Ut=n=st(t.current,null),Lt=e,It=0,Bn=null,Tl=!1,li=ja(t,e),co=!1,si=Ln=ro=ys=wl=Me=0,wn=uu=null,oo=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var l=31-Be(a),s=1<<l;e|=t[l],a&=~s}return Xa=e,at(),n}function rm(t,e){Dt=null,T.H=Pi,e===Is||e===Pu?(e=Ad(),It=3):e===vr?(e=Ad(),It=4):It=e===Zr?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Bn=e,Ut===null&&(Me=1,mc(t,Rt(e,t.current)))}function om(){var t=_n.current;return t===null?!0:(Lt&4194048)===Lt?$n===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?t===$n:!1}function dm(){var t=T.H;return T.H=Pi,t===null?Pi:t}function fm(){var t=T.A;return T.A=Np,t}function Tc(){Me=4,Tl||(Lt&4194048)!==Lt&&_n.current!==null||(li=!0),(wl&134217727)===0&&(ys&134217727)===0||ue===null||Nl(ue,Lt,Ln,!1)}function go(t,e,n){var a=$t;$t|=2;var l=dm(),s=fm();(ue!==t||Lt!==e)&&(Ec=null,ui(t,e)),e=!1;var u=Me;t:do try{if(It!==0&&Ut!==null){var h=Ut,E=Bn;switch(It){case 8:po(),u=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(e=!0);var O=It;if(It=0,Bn=null,ci(t,h,E,O),n&&li){u=0;break t}break;default:O=It,It=0,Bn=null,ci(t,h,E,O)}}zp(),u=Me;break}catch(V){rm(t,V)}while(!0);return e&&t.shellSuspendCounter++,ka=cs=null,$t=a,T.H=l,T.A=s,Ut===null&&(ue=null,Lt=0,at()),u}function zp(){for(;Ut!==null;)mm(Ut)}function Op(t,e){var n=$t;$t|=2;var a=dm(),l=fm();ue!==t||Lt!==e?(Ec=null,xc=ln()+500,ui(t,e)):li=ja(t,e);t:do try{if(It!==0&&Ut!==null){e=Ut;var s=Bn;e:switch(It){case 1:It=0,Bn=null,ci(t,e,s,1);break;case 2:case 9:if(xd(s)){It=0,Bn=null,hm(e);break}e=function(){It!==2&&It!==9||ue!==t||(It=7),Ta(t)},s.then(e,e);break t;case 3:It=7;break t;case 4:It=5;break t;case 7:xd(s)?(It=0,Bn=null,hm(e)):(It=0,Bn=null,ci(t,e,s,7));break;case 5:var u=null;switch(Ut.tag){case 26:u=Ut.memoizedState;case 5:case 27:var h=Ut;if(u?Pm(u):h.stateNode.complete){It=0,Bn=null;var E=h.sibling;if(E!==null)Ut=E;else{var O=h.return;O!==null?(Ut=O,wc(O)):Ut=null}break e}}It=0,Bn=null,ci(t,e,s,5);break;case 6:It=0,Bn=null,ci(t,e,s,6);break;case 8:po(),Me=6;break t;default:throw Error(d(462))}}kp();break}catch(V){rm(t,V)}while(!0);return ka=cs=null,T.H=a,T.A=l,$t=n,Ut!==null?0:(ue=null,Lt=0,at(),Me)}function kp(){for(;Ut!==null&&!Fn();)mm(Ut)}function mm(t){var e=Bf(t.alternate,t,Xa);t.memoizedProps=t.pendingProps,e===null?wc(t):Ut=e}function hm(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Rf(n,e,e.pendingProps,e.type,void 0,Lt);break;case 11:e=Rf(n,e,e.pendingProps,e.type.render,e.ref,Lt);break;case 5:jr(e);default:qf(n,e),e=Ut=me(e,Xa),e=Bf(n,e,Xa)}t.memoizedProps=t.pendingProps,e===null?wc(t):Ut=e}function ci(t,e,n,a){ka=cs=null,jr(e),Fs=null,Qi=0;var l=e.return;try{if(xp(t,l,e,n,Lt)){Me=1,mc(t,Rt(n,t.current)),Ut=null;return}}catch(s){if(l!==null)throw Ut=l,s;Me=1,mc(t,Rt(n,t.current)),Ut=null;return}e.flags&32768?(_t||a===1?t=!0:li||(Lt&536870912)!==0?t=!1:(Tl=t=!0,(a===2||a===9||a===3||a===6)&&(a=_n.current,a!==null&&a.tag===13&&(a.flags|=16384))),pm(e,t)):wc(e)}function wc(t){var e=t;do{if((e.flags&32768)!==0){pm(e,Tl);return}t=e.return;var n=Tp(e.alternate,e,Xa);if(n!==null){Ut=n;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);Me===0&&(Me=5)}function pm(t,e){do{var n=wp(t.alternate,t);if(n!==null){n.flags&=32767,Ut=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ut=t;return}Ut=t=n}while(t!==null);Me=6,Ut=null}function gm(t,e,n,a,l,s,u,h,E){t.cancelPendingCommit=null;do Cc();while(Ue!==0);if(($t&6)!==0)throw Error(d(327));if(e!==null){if(e===t.current)throw Error(d(177));if(s=e.lanes|e.childLanes,s|=nt,ea(t,n,s,u,h,E),t===ue&&(Ut=ue=null,Lt=0),ii=e,Dl=t,Qa=n,fo=s,mo=l,sm=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Lp(yn,function(){return Mm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=T.T,T.T=null,l=X.p,X.p=2,u=$t,$t|=4;try{Cp(t,e,n)}finally{$t=u,X.p=l,T.T=a}}Ue=1,ym(),vm(),bm()}}function ym(){if(Ue===1){Ue=0;var t=Dl,e=ii,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=T.T,T.T=null;var a=X.p;X.p=2;var l=$t;$t|=4;try{Ff(e,t);var s=Do,u=as(t.containerInfo),h=s.focusedElem,E=s.selectionRange;if(u!==h&&h&&h.ownerDocument&&Xs(h.ownerDocument.documentElement,h)){if(E!==null&&Li(h)){var O=E.start,V=E.end;if(V===void 0&&(V=O),"selectionStart"in h)h.selectionStart=O,h.selectionEnd=Math.min(V,h.value.length);else{var Z=h.ownerDocument||document,k=Z&&Z.defaultView||window;if(k.getSelection){var B=k.getSelection(),rt=h.textContent.length,vt=Math.min(E.start,rt),le=E.end===void 0?vt:Math.min(E.end,rt);!B.extend&&vt>le&&(u=le,le=vt,vt=u);var R=Bi(h,vt),D=Bi(h,le);if(R&&D&&(B.rangeCount!==1||B.anchorNode!==R.node||B.anchorOffset!==R.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var z=Z.createRange();z.setStart(R.node,R.offset),B.removeAllRanges(),vt>le?(B.addRange(z),B.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),B.addRange(z))}}}}for(Z=[],B=h;B=B.parentNode;)B.nodeType===1&&Z.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<Z.length;h++){var Q=Z[h];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}qc=!!Co,Do=Co=null}finally{$t=l,X.p=a,T.T=n}}t.current=e,Ue=2}}function vm(){if(Ue===2){Ue=0;var t=Dl,e=ii,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=T.T,T.T=null;var a=X.p;X.p=2;var l=$t;$t|=4;try{Zf(t,e.alternate,e)}finally{$t=l,X.p=a,T.T=n}}Ue=3}}function bm(){if(Ue===4||Ue===3){Ue=0,bi();var t=Dl,e=ii,n=Qa,a=sm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ue=5:(Ue=0,ii=Dl=null,Sm(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(Cl=null),Pa(n),e=e.stateNode,ve&&typeof ve.onCommitFiberRoot=="function")try{ve.onCommitFiberRoot(Wn,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=T.T,l=X.p,X.p=2,T.T=null;try{for(var s=t.onRecoverableError,u=0;u<a.length;u++){var h=a[u];s(h.value,{componentStack:h.stack})}}finally{T.T=e,X.p=l}}(Qa&3)!==0&&Cc(),Ta(t),l=t.pendingLanes,(n&261930)!==0&&(l&42)!==0?t===ho?cu++:(cu=0,ho=t):cu=0,ru(0)}}function Sm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Vi(e)))}function Cc(){return ym(),vm(),bm(),Mm()}function Mm(){if(Ue!==5)return!1;var t=Dl,e=fo;fo=0;var n=Pa(Qa),a=T.T,l=X.p;try{X.p=32>n?32:n,T.T=null,n=mo,mo=null;var s=Dl,u=Qa;if(Ue=0,ii=Dl=null,Qa=0,($t&6)!==0)throw Error(d(331));var h=$t;if($t|=4,nm(s.current),Pf(s,s.current,u,n),$t=h,ru(0,!1),ve&&typeof ve.onPostCommitFiberRoot=="function")try{ve.onPostCommitFiberRoot(Wn,s)}catch{}return!0}finally{X.p=l,T.T=a,Sm(t,e)}}function xm(t,e,n){e=Rt(n,e),e=Qr(t.stateNode,e,2),t=Ml(t,e,2),t!==null&&(ta(t,2),Ta(t))}function Ft(t,e,n){if(t.tag===3)xm(t,t,n);else for(;e!==null;){if(e.tag===3){xm(e,t,n);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Cl===null||!Cl.has(a))){t=Rt(n,t),n=Ef(2),a=Ml(e,n,2),a!==null&&(Af(n,a,e,t),ta(a,2),Ta(a));break}}e=e.return}}function yo(t,e,n){var a=t.pingCache;if(a===null){a=t.pingCache=new jp;var l=new Set;a.set(e,l)}else l=a.get(e),l===void 0&&(l=new Set,a.set(e,l));l.has(n)||(co=!0,l.add(n),t=_p.bind(null,t,e,n),e.then(t,t))}function _p(t,e,n){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ue===t&&(Lt&n)===n&&(Me===4||Me===3&&(Lt&62914560)===Lt&&300>ln()-Mc?($t&2)===0&&ui(t,0):ro|=n,si===Lt&&(si=0)),Ta(t)}function Em(t,e){e===0&&(e=xi()),t=jt(t,e),t!==null&&(ta(t,e),Ta(t))}function Up(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Em(t,n)}function Bp(t,e){var n=0;switch(t.tag){case 31:case 13:var a=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(e),Em(t,n)}function Lp(t,e){return Dn(t,e)}var Dc=null,ri=null,vo=!1,Nc=!1,bo=!1,jl=0;function Ta(t){t!==ri&&t.next===null&&(ri===null?Dc=ri=t:ri=ri.next=t),Nc=!0,vo||(vo=!0,Hp())}function ru(t,e){if(!bo&&Nc){bo=!0;do for(var n=!1,a=Dc;a!==null;){if(t!==0){var l=a.pendingLanes;if(l===0)var s=0;else{var u=a.suspendedLanes,h=a.pingedLanes;s=(1<<31-Be(42|t)+1)-1,s&=l&~(u&~h),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Cm(a,s))}else s=Lt,s=xe(a,a===ue?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||ja(a,s)||(n=!0,Cm(a,s));a=a.next}while(n);bo=!1}}function qp(){Am()}function Am(){Nc=vo=!1;var t=0;jl!==0&&Ip()&&(t=jl);for(var e=ln(),n=null,a=Dc;a!==null;){var l=a.next,s=Tm(a,e);s===0?(a.next=null,n===null?Dc=l:n.next=l,l===null&&(ri=n)):(n=a,(t!==0||(s&3)!==0)&&(Nc=!0)),a=l}Ue!==0&&Ue!==5||ru(t),jl!==0&&(jl=0)}function Tm(t,e){for(var n=t.suspendedLanes,a=t.pingedLanes,l=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var u=31-Be(s),h=1<<u,E=l[u];E===-1?((h&n)===0||(h&a)!==0)&&(l[u]=wu(h,e)):E<=e&&(t.expiredLanes|=h),s&=~h}if(e=ue,n=Lt,n=xe(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,n===0||t===e&&(It===2||It===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Fa(a),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||ja(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(a!==null&&Fa(a),Pa(n)){case 2:case 8:n=Ll;break;case 32:n=yn;break;case 268435456:n=ql;break;default:n=yn}return a=wm.bind(null,t),n=Dn(n,a),t.callbackPriority=e,t.callbackNode=n,e}return a!==null&&a!==null&&Fa(a),t.callbackPriority=2,t.callbackNode=null,2}function wm(t,e){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Cc()&&t.callbackNode!==n)return null;var a=Lt;return a=xe(t,t===ue?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(um(t,a,e),Tm(t,ln()),t.callbackNode!=null&&t.callbackNode===n?wm.bind(null,t):null)}function Cm(t,e){if(Cc())return null;um(t,e,!0)}function Hp(){Wp(function(){($t&6)!==0?Dn(Gn,qp):Am()})}function So(){if(jl===0){var t=$s;t===0&&(t=Hl,Hl<<=1,(Hl&261888)===0&&(Hl=256)),jl=t}return jl}function Dm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:il(""+t)}function Nm(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Gp(t,e,n,a,l){if(e==="submit"&&n&&n.stateNode===l){var s=Dm((l[_e]||null).action),u=a.submitter;u&&(e=(e=u[_e]||null)?Dm(e.formAction):u.getAttribute("formAction"),e!==null&&(s=e,u=null));var h=new Ye("action","action",null,a,l);t.push({event:h,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(jl!==0){var E=u?Nm(l,u):new FormData(l);qr(n,{pending:!0,data:E,method:l.method,action:s},null,E)}}else typeof s=="function"&&(h.preventDefault(),E=u?Nm(l,u):new FormData(l),qr(n,{pending:!0,data:E,method:l.method,action:s},s,E))},currentTarget:l}]})}}for(var Mo=0;Mo<j.length;Mo++){var xo=j[Mo],Yp=xo.toLowerCase(),Vp=xo[0].toUpperCase()+xo.slice(1);U(Yp,"on"+Vp)}U($u,"onAnimationEnd"),U(Ju,"onAnimationIteration"),U(Hi,"onAnimationStart"),U("dblclick","onDoubleClick"),U("focusin","onFocus"),U("focusout","onBlur"),U(rr,"onTransitionRun"),U(i,"onTransitionStart"),U(c,"onTransitionCancel"),U(g,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function jm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],l=a.event;a=a.listeners;t:{var s=void 0;if(e)for(var u=a.length-1;0<=u;u--){var h=a[u],E=h.instance,O=h.currentTarget;if(h=h.listener,E!==s&&l.isPropagationStopped())break t;s=h,l.currentTarget=O;try{s(l)}catch(V){Y(V)}l.currentTarget=null,s=E}else for(u=0;u<a.length;u++){if(h=a[u],E=h.instance,O=h.currentTarget,h=h.listener,E!==s&&l.isPropagationStopped())break t;s=h,l.currentTarget=O;try{s(l)}catch(V){Y(V)}l.currentTarget=null,s=E}}}}function Bt(t,e){var n=e[Yl];n===void 0&&(n=e[Yl]=new Set);var a=t+"__bubble";n.has(a)||(Rm(e,t,2,!1),n.add(a))}function Eo(t,e,n){var a=0;e&&(a|=4),Rm(n,t,a,e)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Ao(t){if(!t[jc]){t[jc]=!0,Xl.forEach(function(n){n!=="selectionchange"&&(Xp.has(n)||Eo(n,!1,t),Eo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jc]||(e[jc]=!0,Eo("selectionchange",!1,e))}}function Rm(t,e,n,a){switch(ih(e)){case 2:var l=vg;break;case 8:l=bg;break;default:l=qo}n=l.bind(null,e,n,t),l=void 0,!Il||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),a?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function To(t,e,n,a,l){var s=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var h=a.stateNode.containerInfo;if(h===l)break;if(u===4)for(u=a.return;u!==null;){var E=u.tag;if((E===3||E===4)&&u.stateNode.containerInfo===l)return;u=u.return}for(;h!==null;){if(u=la(h),u===null)return;if(E=u.tag,E===5||E===6||E===26||E===27){a=s=u;continue t}h=h.parentNode}}a=a.return}He(function(){var O=s,V=Os(n),Z=[];t:{var k=C.get(t);if(k!==void 0){var B=Ye,rt=t;switch(t){case"keypress":if(Us(n)===0)break t;case"keydown":case"keyup":B=Uu;break;case"focusin":rt="focus",B=cl;break;case"focusout":rt="blur",B=cl;break;case"beforeblur":case"afterblur":B=cl;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Ve;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=ol;break;case $u:case Ju:case Hi:B=Pc;break;case g:B=Lu;break;case"scroll":case"scrollend":B=Du;break;case"wheel":B=nr;break;case"copy":case"cut":case"paste":B=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Fl;break;case"toggle":case"beforetoggle":B=qu}var vt=(e&4)!==0,le=!vt&&(t==="scroll"||t==="scrollend"),R=vt?k!==null?k+"Capture":null:k;vt=[];for(var D=O,z;D!==null;){var Q=D;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||R===null||(Q=Zn(D,R),Q!=null&&vt.push(du(D,Q,z))),le)break;D=D.return}0<vt.length&&(k=new B(k,rt,null,n,V),Z.push({event:k,listeners:vt}))}}if((e&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&n!==Jl&&(rt=n.relatedTarget||n.fromElement)&&(la(rt)||rt[sn]))break t;if((B||k)&&(k=V.window===V?V:(k=V.ownerDocument)?k.defaultView||k.parentWindow:window,B?(rt=n.relatedTarget||n.toElement,B=O,rt=rt?la(rt):null,rt!==null&&(le=M(rt),vt=rt.tag,rt!==le||vt!==5&&vt!==27&&vt!==6)&&(rt=null)):(B=null,rt=O),B!==rt)){if(vt=Ve,Q="onMouseLeave",R="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(vt=Fl,Q="onPointerLeave",R="onPointerEnter",D="pointer"),le=B==null?k:el(B),z=rt==null?k:el(rt),k=new vt(Q,D+"leave",B,n,V),k.target=le,k.relatedTarget=z,Q=null,la(V)===O&&(vt=new vt(R,D+"enter",rt,n,V),vt.target=z,vt.relatedTarget=le,Q=vt),le=Q,B&&rt)e:{for(vt=Qp,R=B,D=rt,z=0,Q=R;Q;Q=vt(Q))z++;Q=0;for(var pt=D;pt;pt=vt(pt))Q++;for(;0<z-Q;)R=vt(R),z--;for(;0<Q-z;)D=vt(D),Q--;for(;z--;){if(R===D||D!==null&&R===D.alternate){vt=R;break e}R=vt(R),D=vt(D)}vt=null}else vt=null;B!==null&&zm(Z,k,B,vt,!1),rt!==null&&le!==null&&zm(Z,le,rt,vt,!0)}}t:{if(k=O?el(O):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var Vt=Gu;else if(dl(k))if(Yu)Vt=ml;else{Vt=cr;var ft=ur}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?O&&$l(O.elementType)&&(Vt=Gu):Vt=_i;if(Vt&&(Vt=Vt(t,O))){fl(Z,Vt,n,V);break t}ft&&ft(t,k,O),t==="focusout"&&O&&k.type==="number"&&O.memoizedProps.value!=null&&js(k,"number",k.value)}switch(ft=O?el(O):window,t){case"focusin":(dl(ft)||ft.contentEditable==="true")&&(hl=ft,qi=O,ss=null);break;case"focusout":ss=qi=hl=null;break;case"mousedown":Sa=!0;break;case"contextmenu":case"mouseup":case"dragend":Sa=!1,Ku(Z,n,V);break;case"selectionchange":if(ls)break;case"keydown":case"keyup":Ku(Z,n,V)}var zt;if(zi)t:{switch(t){case"compositionstart":var qt="onCompositionStart";break t;case"compositionend":qt="onCompositionEnd";break t;case"compositionupdate":qt="onCompositionUpdate";break t}qt=void 0}else Oa?Pl(t,n)&&(qt="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(qt="onCompositionStart");qt&&(Gs&&n.locale!=="ko"&&(Oa||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Oa&&(zt=Cu()):(Ot=V,Ni="value"in Ot?Ot.value:Ot.textContent,Oa=!0)),ft=Rc(O,qt),0<ft.length&&(qt=new ji(qt,t,null,n,V),Z.push({event:qt,listeners:ft}),zt?qt.data=zt:(zt=ts(n),zt!==null&&(qt.data=zt)))),(zt=sr?Oi(t,n):Xe(t,n))&&(qt=Rc(O,"onBeforeInput"),0<qt.length&&(ft=new ji("onBeforeInput","beforeinput",null,n,V),Z.push({event:ft,listeners:qt}),ft.data=zt)),Gp(Z,t,O,n,V)}jm(Z,e)})}function du(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rc(t,e){for(var n=e+"Capture",a=[];t!==null;){var l=t,s=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||s===null||(l=Zn(t,n),l!=null&&a.unshift(du(t,l,s)),l=Zn(t,e),l!=null&&a.push(du(t,l,s))),t.tag===3)return a;t=t.return}return[]}function Qp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zm(t,e,n,a,l){for(var s=e._reactName,u=[];n!==null&&n!==a;){var h=n,E=h.alternate,O=h.stateNode;if(h=h.tag,E!==null&&E===a)break;h!==5&&h!==26&&h!==27||O===null||(E=O,l?(O=Zn(n,s),O!=null&&u.unshift(du(n,O,E))):l||(O=Zn(n,s),O!=null&&u.push(du(n,O,E)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Zp=/\r\n?/g,Kp=/\u0000|\uFFFD/g;function Om(t){return(typeof t=="string"?t:""+t).replace(Zp,`
`).replace(Kp,"")}function km(t,e){return e=Om(e),Om(t)===e}function ae(t,e,n,a,l,s){switch(n){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||jn(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&jn(t,""+a);break;case"className":za(t,"class",a);break;case"tabIndex":za(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":za(t,n,a);break;case"style":Rs(t,a,s);break;case"data":if(e!=="object"){za(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=il(""+a),t.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ae(t,e,"name",l.name,l,null),ae(t,e,"formEncType",l.formEncType,l,null),ae(t,e,"formMethod",l.formMethod,l,null),ae(t,e,"formTarget",l.formTarget,l,null)):(ae(t,e,"encType",l.encType,l,null),ae(t,e,"method",l.method,l,null),ae(t,e,"target",l.target,l,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(n);break}a=il(""+a),t.setAttribute(n,a);break;case"onClick":a!=null&&(t.onclick=Rn);break;case"onScroll":a!=null&&Bt("scroll",t);break;case"onScrollEnd":a!=null&&Bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(d(60));t.innerHTML=n}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}n=il(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""+a):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":a===!0?t.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(n,a):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(n,a):t.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(n):t.setAttribute(n,a);break;case"popover":Bt("beforetoggle",t),Bt("toggle",t),Qn(t,"popover",a);break;case"xlinkActuate":Fe(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Fe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Fe(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Fe(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Fe(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Fe(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Fe(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Qn(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=zs.get(n)||n,Qn(t,n,a))}}function wo(t,e,n,a,l,s){switch(n){case"style":Rs(t,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(n=a.__html,n!=null){if(l.children!=null)throw Error(d(60));t.innerHTML=n}}break;case"children":typeof a=="string"?jn(t,a):(typeof a=="number"||typeof a=="bigint")&&jn(t,""+a);break;case"onScroll":a!=null&&Bt("scroll",t);break;case"onScrollEnd":a!=null&&Bt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ql.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),s=t[_e]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,l),typeof a=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,a,l);break t}n in t?t[n]=a:a===!0?t.setAttribute(n,""):Qn(t,n,a)}}}function an(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",t),Bt("load",t);var a=!1,l=!1,s;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,e));default:ae(t,e,s,u,n,null)}}l&&ae(t,e,"srcSet",n.srcSet,n,null),a&&ae(t,e,"src",n.src,n,null);return;case"input":Bt("invalid",t);var h=s=u=l=null,E=null,O=null;for(a in n)if(n.hasOwnProperty(a)){var V=n[a];if(V!=null)switch(a){case"name":l=V;break;case"type":u=V;break;case"checked":E=V;break;case"defaultChecked":O=V;break;case"value":s=V;break;case"defaultValue":h=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(d(137,e));break;default:ae(t,e,a,V,n,null)}}al(t,s,h,E,O,u,l,!1);return;case"select":Bt("invalid",t),a=u=s=null;for(l in n)if(n.hasOwnProperty(l)&&(h=n[l],h!=null))switch(l){case"value":s=h;break;case"defaultValue":u=h;break;case"multiple":a=h;default:ae(t,e,l,h,n,null)}e=s,n=u,t.multiple=!!a,e!=null?ga(t,!!a,e,!1):n!=null&&ga(t,!!a,n,!0);return;case"textarea":Bt("invalid",t),s=l=a=null;for(u in n)if(n.hasOwnProperty(u)&&(h=n[u],h!=null))switch(u){case"value":a=h;break;case"defaultValue":l=h;break;case"children":s=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(d(91));break;default:ae(t,e,u,h,n,null)}sl(t,a,l,s);return;case"option":for(E in n)if(n.hasOwnProperty(E)&&(a=n[E],a!=null))switch(E){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ae(t,e,E,a,n,null)}return;case"dialog":Bt("beforetoggle",t),Bt("toggle",t),Bt("cancel",t),Bt("close",t);break;case"iframe":case"object":Bt("load",t);break;case"video":case"audio":for(a=0;a<ou.length;a++)Bt(ou[a],t);break;case"image":Bt("error",t),Bt("load",t);break;case"details":Bt("toggle",t);break;case"embed":case"source":case"link":Bt("error",t),Bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in n)if(n.hasOwnProperty(O)&&(a=n[O],a!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,e));default:ae(t,e,O,a,n,null)}return;default:if($l(e)){for(V in n)n.hasOwnProperty(V)&&(a=n[V],a!==void 0&&wo(t,e,V,a,n,void 0));return}}for(h in n)n.hasOwnProperty(h)&&(a=n[h],a!=null&&ae(t,e,h,a,n,null))}function $p(t,e,n,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,s=null,u=null,h=null,E=null,O=null,V=null;for(B in n){var Z=n[B];if(n.hasOwnProperty(B)&&Z!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":E=Z;default:a.hasOwnProperty(B)||ae(t,e,B,null,a,Z)}}for(var k in a){var B=a[k];if(Z=n[k],a.hasOwnProperty(k)&&(B!=null||Z!=null))switch(k){case"type":s=B;break;case"name":l=B;break;case"checked":O=B;break;case"defaultChecked":V=B;break;case"value":u=B;break;case"defaultValue":h=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(d(137,e));break;default:B!==Z&&ae(t,e,k,B,a,Z)}}hn(t,u,h,E,O,V,s,l);return;case"select":B=u=h=k=null;for(s in n)if(E=n[s],n.hasOwnProperty(s)&&E!=null)switch(s){case"value":break;case"multiple":B=E;default:a.hasOwnProperty(s)||ae(t,e,s,null,a,E)}for(l in a)if(s=a[l],E=n[l],a.hasOwnProperty(l)&&(s!=null||E!=null))switch(l){case"value":k=s;break;case"defaultValue":h=s;break;case"multiple":u=s;default:s!==E&&ae(t,e,l,s,a,E)}e=h,n=u,a=B,k!=null?ga(t,!!n,k,!1):!!a!=!!n&&(e!=null?ga(t,!!n,e,!0):ga(t,!!n,n?[]:"",!1));return;case"textarea":B=k=null;for(h in n)if(l=n[h],n.hasOwnProperty(h)&&l!=null&&!a.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:ae(t,e,h,null,a,l)}for(u in a)if(l=a[u],s=n[u],a.hasOwnProperty(u)&&(l!=null||s!=null))switch(u){case"value":k=l;break;case"defaultValue":B=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(d(91));break;default:l!==s&&ae(t,e,u,l,a,s)}ll(t,k,B);return;case"option":for(var rt in n)if(k=n[rt],n.hasOwnProperty(rt)&&k!=null&&!a.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:ae(t,e,rt,null,a,k)}for(E in a)if(k=a[E],B=n[E],a.hasOwnProperty(E)&&k!==B&&(k!=null||B!=null))switch(E){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:ae(t,e,E,k,a,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in n)k=n[vt],n.hasOwnProperty(vt)&&k!=null&&!a.hasOwnProperty(vt)&&ae(t,e,vt,null,a,k);for(O in a)if(k=a[O],B=n[O],a.hasOwnProperty(O)&&k!==B&&(k!=null||B!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(d(137,e));break;default:ae(t,e,O,k,a,B)}return;default:if($l(e)){for(var le in n)k=n[le],n.hasOwnProperty(le)&&k!==void 0&&!a.hasOwnProperty(le)&&wo(t,e,le,void 0,a,k);for(V in a)k=a[V],B=n[V],!a.hasOwnProperty(V)||k===B||k===void 0&&B===void 0||wo(t,e,V,k,a,B);return}}for(var R in n)k=n[R],n.hasOwnProperty(R)&&k!=null&&!a.hasOwnProperty(R)&&ae(t,e,R,null,a,k);for(Z in a)k=a[Z],B=n[Z],!a.hasOwnProperty(Z)||k===B||k==null&&B==null||ae(t,e,Z,k,a,B)}function _m(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jp(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var l=n[a],s=l.transferSize,u=l.initiatorType,h=l.duration;if(s&&h&&_m(u)){for(u=0,h=l.responseEnd,a+=1;a<n.length;a++){var E=n[a],O=E.startTime;if(O>h)break;var V=E.transferSize,Z=E.initiatorType;V&&_m(Z)&&(E=E.responseEnd,u+=V*(E<h?1:(h-O)/(E-O)))}if(--a,e+=8*(s+u)/(l.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Co=null,Do=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function Um(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function No(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jo=null;function Ip(){var t=window.event;return t&&t.type==="popstate"?t===jo?!1:(jo=t,!0):(jo=null,!1)}var Lm=typeof setTimeout=="function"?setTimeout:void 0,Fp=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,Wp=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(t){return qm.resolve(null).then(t).catch(Pp)}:Lm;function Pp(t){setTimeout(function(){throw t})}function Rl(t){return t==="head"}function Hm(t,e){var n=e,a=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(a===0){t.removeChild(l),mi(e);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")fu(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,fu(n);for(var s=n.firstChild;s;){var u=s.nextSibling,h=s.nodeName;s[Vl]||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=u}}else n==="body"&&fu(t.ownerDocument.body);n=l}while(n);mi(e)}function Gm(t,e){var n=t;t=0;do{var a=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=a}while(n)}function Ro(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ro(n),Ds(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function tg(t,e,n,a){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Vl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function eg(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Jn(t.nextSibling),t===null))return null;return t}function Ym(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Jn(t.nextSibling),t===null))return null;return t}function zo(t){return t.data==="$?"||t.data==="$~"}function Oo(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function ng(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var a=function(){e(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var ko=null;function Vm(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Jn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Xm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Qm(t,e,n){switch(e=zc(n),t){case"html":if(t=e.documentElement,!t)throw Error(d(452));return t;case"head":if(t=e.head,!t)throw Error(d(453));return t;case"body":if(t=e.body,!t)throw Error(d(454));return t;default:throw Error(d(451))}}function fu(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Ds(t)}var In=new Map,Zm=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Za=X.d;X.d={f:ag,r:lg,D:sg,C:ig,L:ug,m:cg,X:og,S:rg,M:dg};function ag(){var t=Za.f(),e=Ac();return t||e}function lg(t){var e=Ra(t);e!==null&&e.tag===5&&e.type==="form"?rf(e):Za.r(t)}var oi=typeof document>"u"?null:document;function Km(t,e,n){var a=oi;if(a&&typeof e=="string"&&e){var l=qe(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Zm.has(l)||(Zm.add(l),t={rel:t,crossOrigin:n,href:e},a.querySelector(l)===null&&(e=a.createElement("link"),an(e,"link",t),be(e),a.head.appendChild(e)))}}function sg(t){Za.D(t),Km("dns-prefetch",t,null)}function ig(t,e){Za.C(t,e),Km("preconnect",t,e)}function ug(t,e,n){Za.L(t,e,n);var a=oi;if(a&&t&&e){var l='link[rel="preload"][as="'+qe(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+qe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+qe(n.imageSizes)+'"]')):l+='[href="'+qe(t)+'"]';var s=l;switch(e){case"style":s=di(t);break;case"script":s=fi(t)}In.has(s)||(t=x({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),In.set(s,t),a.querySelector(l)!==null||e==="style"&&a.querySelector(mu(s))||e==="script"&&a.querySelector(hu(s))||(e=a.createElement("link"),an(e,"link",t),be(e),a.head.appendChild(e)))}}function cg(t,e){Za.m(t,e);var n=oi;if(n&&t){var a=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+qe(a)+'"][href="'+qe(t)+'"]',s=l;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=fi(t)}if(!In.has(s)&&(t=x({rel:"modulepreload",href:t},e),In.set(s,t),n.querySelector(l)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(hu(s)))return}a=n.createElement("link"),an(a,"link",t),be(a),n.head.appendChild(a)}}}function rg(t,e,n){Za.S(t,e,n);var a=oi;if(a&&t){var l=pa(a).hoistableStyles,s=di(t);e=e||"default";var u=l.get(s);if(!u){var h={loading:0,preload:null};if(u=a.querySelector(mu(s)))h.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":e},n),(n=In.get(s))&&_o(t,n);var E=u=a.createElement("link");be(E),an(E,"link",t),E._p=new Promise(function(O,V){E.onload=O,E.onerror=V}),E.addEventListener("load",function(){h.loading|=1}),E.addEventListener("error",function(){h.loading|=2}),h.loading|=4,kc(u,e,a)}u={type:"stylesheet",instance:u,count:1,state:h},l.set(s,u)}}}function og(t,e){Za.X(t,e);var n=oi;if(n&&t){var a=pa(n).hoistableScripts,l=fi(t),s=a.get(l);s||(s=n.querySelector(hu(l)),s||(t=x({src:t,async:!0},e),(e=In.get(l))&&Uo(t,e),s=n.createElement("script"),be(s),an(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function dg(t,e){Za.M(t,e);var n=oi;if(n&&t){var a=pa(n).hoistableScripts,l=fi(t),s=a.get(l);s||(s=n.querySelector(hu(l)),s||(t=x({src:t,async:!0,type:"module"},e),(e=In.get(l))&&Uo(t,e),s=n.createElement("script"),be(s),an(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(l,s))}}function $m(t,e,n,a){var l=(l=Nt.current)?Oc(l):null;if(!l)throw Error(d(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=di(n.href),n=pa(l).hoistableStyles,a=n.get(e),a||(a={type:"style",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=di(n.href);var s=pa(l).hoistableStyles,u=s.get(t);if(u||(l=l.ownerDocument||l,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,u),(s=l.querySelector(mu(t)))&&!s._p&&(u.instance=s,u.state.loading=5),In.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},In.set(t,n),s||fg(l,t,n,u.state))),e&&a===null)throw Error(d(528,""));return u}if(e&&a!==null)throw Error(d(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=fi(n),n=pa(l).hoistableScripts,a=n.get(e),a||(a={type:"script",instance:null,count:0,state:null},n.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,t))}}function di(t){return'href="'+qe(t)+'"'}function mu(t){return'link[rel="stylesheet"]['+t+"]"}function Jm(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function fg(t,e,n,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),an(e,"link",n),be(e),t.head.appendChild(e))}function fi(t){return'[src="'+qe(t)+'"]'}function hu(t){return"script[async]"+t}function Im(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+qe(n.href)+'"]');if(a)return e.instance=a,be(a),a;var l=x({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),be(a),an(a,"style",l),kc(a,n.precedence,t),e.instance=a;case"stylesheet":l=di(n.href);var s=t.querySelector(mu(l));if(s)return e.state.loading|=4,e.instance=s,be(s),s;a=Jm(n),(l=In.get(l))&&_o(a,l),s=(t.ownerDocument||t).createElement("link"),be(s);var u=s;return u._p=new Promise(function(h,E){u.onload=h,u.onerror=E}),an(s,"link",a),e.state.loading|=4,kc(s,n.precedence,t),e.instance=s;case"script":return s=fi(n.src),(l=t.querySelector(hu(s)))?(e.instance=l,be(l),l):(a=n,(l=In.get(s))&&(a=x({},n),Uo(a,l)),t=t.ownerDocument||t,l=t.createElement("script"),be(l),an(l,"link",a),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(d(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,kc(a,n.precedence,t));return e.instance}function kc(t,e,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=a.length?a[a.length-1]:null,s=l,u=0;u<a.length;u++){var h=a[u];if(h.dataset.precedence===e)s=h;else if(s!==l)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function _o(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Uo(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var _c=null;function Fm(t,e,n){if(_c===null){var a=new Map,l=_c=new Map;l.set(n,a)}else l=_c,a=l.get(n),a||(a=new Map,l.set(n,a));if(a.has(t))return a;for(a.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var s=n[l];if(!(s[Vl]||s[ce]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var u=s.getAttribute(e)||"";u=t+u;var h=a.get(u);h?h.push(s):a.set(u,[s])}}return a}function Wm(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function mg(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Pm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function hg(t,e,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var l=di(a.href),s=e.querySelector(mu(l));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Uc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,be(s);return}s=e.ownerDocument||e,a=Jm(a),(l=In.get(l))&&_o(a,l),s=s.createElement("link"),be(s);var u=s;u._p=new Promise(function(h,E){u.onload=h,u.onerror=E}),an(s,"link",a),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=Uc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Bo=0;function pg(t,e){return t.stylesheets&&t.count===0&&Lc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var a=setTimeout(function(){if(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&Bo===0&&(Bo=62500*Jp());var l=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lc(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>Bo?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(l)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bc=null;function Lc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bc=new Map,e.forEach(gg,t),Bc=null,Uc.call(t))}function gg(t,e){if(!(e.state.loading&4)){var n=Bc.get(t);if(n)var a=n.get(null);else{n=new Map,Bc.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<l.length;s++){var u=l[s];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(n.set(u.dataset.precedence,u),a=u)}a&&n.set(null,a)}l=e.instance,u=l.getAttribute("data-precedence"),s=n.get(u)||a,s===a&&n.set(null,l),n.set(u,l),this.count++,a=Uc.bind(this),l.addEventListener("load",a),l.addEventListener("error",a),s?s.parentNode.insertBefore(l,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var pu={$$typeof:ot,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function yg(t,e,n,a,l,s,u,h,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=As(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.hiddenUpdates=As(null),this.identifierPrefix=a,this.onUncaughtError=l,this.onCaughtError=s,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function th(t,e,n,a,l,s,u,h,E,O,V,Z){return t=new yg(t,e,n,u,E,O,V,Z,h),e=1,s===!0&&(e|=24),s=Qe(3,null,null,e),t.current=s,s.stateNode=t,e=pr(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:e},br(s),t}function eh(t){return t?(t=Ct,t):Ct}function nh(t,e,n,a,l,s){l=eh(l),a.context===null?a.context=l:a.pendingContext=l,a=Sl(e),a.payload={element:n},s=s===void 0?null:s,s!==null&&(a.callback=s),n=Ml(t,a,e),n!==null&&(Cn(n,t,e),Ki(n,t,e))}function ah(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lo(t,e){ah(t,e),(t=t.alternate)&&ah(t,e)}function lh(t){if(t.tag===13||t.tag===31){var e=jt(t,67108864);e!==null&&Cn(e,t,67108864),Lo(t,67108864)}}function sh(t){if(t.tag===13||t.tag===31){var e=qn();e=ha(e);var n=jt(t,e);n!==null&&Cn(n,t,e),Lo(t,e)}}var qc=!0;function vg(t,e,n,a){var l=T.T;T.T=null;var s=X.p;try{X.p=2,qo(t,e,n,a)}finally{X.p=s,T.T=l}}function bg(t,e,n,a){var l=T.T;T.T=null;var s=X.p;try{X.p=8,qo(t,e,n,a)}finally{X.p=s,T.T=l}}function qo(t,e,n,a){if(qc){var l=Ho(a);if(l===null)To(t,e,a,Hc,n),uh(t,a);else if(Mg(l,t,e,n,a))a.stopPropagation();else if(uh(t,a),e&4&&-1<Sg.indexOf(t)){for(;l!==null;){var s=Ra(l);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var u=Pn(s.pendingLanes);if(u!==0){var h=s;for(h.pendingLanes|=2,h.entangledLanes|=2;u;){var E=1<<31-Be(u);h.entanglements[1]|=E,u&=~E}Ta(s),($t&6)===0&&(xc=ln()+500,ru(0))}}break;case 31:case 13:h=jt(s,2),h!==null&&Cn(h,s,2),Ac(),Lo(s,2)}if(s=Ho(a),s===null&&To(t,e,a,Hc,n),s===l)break;l=s}l!==null&&a.stopPropagation()}else To(t,e,a,null,n)}}function Ho(t){return t=Os(t),Go(t)}var Hc=null;function Go(t){if(Hc=null,t=la(t),t!==null){var e=M(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=y(e),t!==null)return t;t=null}else if(n===31){if(t=A(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Hc=t,null}function ih(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Gn:return 2;case Ll:return 8;case yn:case Si:return 32;case ql:return 268435456;default:return 32}default:return 32}}var Yo=!1,zl=null,Ol=null,kl=null,gu=new Map,yu=new Map,_l=[],Sg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uh(t,e){switch(t){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":gu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(e.pointerId)}}function vu(t,e,n,a,l,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[l]},e!==null&&(e=Ra(e),e!==null&&lh(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function Mg(t,e,n,a,l){switch(e){case"focusin":return zl=vu(zl,t,e,n,a,l),!0;case"dragenter":return Ol=vu(Ol,t,e,n,a,l),!0;case"mouseover":return kl=vu(kl,t,e,n,a,l),!0;case"pointerover":var s=l.pointerId;return gu.set(s,vu(gu.get(s)||null,t,e,n,a,l)),!0;case"gotpointercapture":return s=l.pointerId,yu.set(s,vu(yu.get(s)||null,t,e,n,a,l)),!0}return!1}function ch(t){var e=la(t.target);if(e!==null){var n=M(e);if(n!==null){if(e=n.tag,e===13){if(e=y(n),e!==null){t.blockedOn=e,Yn(t.priority,function(){sh(n)});return}}else if(e===31){if(e=A(n),e!==null){t.blockedOn=e,Yn(t.priority,function(){sh(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ho(t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);Jl=a,n.target.dispatchEvent(a),Jl=null}else return e=Ra(n),e!==null&&lh(e),t.blockedOn=n,!1;e.shift()}return!0}function rh(t,e,n){Gc(t)&&n.delete(e)}function xg(){Yo=!1,zl!==null&&Gc(zl)&&(zl=null),Ol!==null&&Gc(Ol)&&(Ol=null),kl!==null&&Gc(kl)&&(kl=null),gu.forEach(rh),yu.forEach(rh)}function Yc(t,e){t.blockedOn===e&&(t.blockedOn=null,Yo||(Yo=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xg)))}var Vc=null;function oh(t){Vc!==t&&(Vc=t,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],l=t[e+2];if(typeof a!="function"){if(Go(a||n)===null)continue;break}var s=Ra(n);s!==null&&(t.splice(e,3),e-=3,qr(s,{pending:!0,data:l,method:n.method,action:a},a,l))}}))}function mi(t){function e(E){return Yc(E,t)}zl!==null&&Yc(zl,t),Ol!==null&&Yc(Ol,t),kl!==null&&Yc(kl,t),gu.forEach(e),yu.forEach(e);for(var n=0;n<_l.length;n++){var a=_l[n];a.blockedOn===t&&(a.blockedOn=null)}for(;0<_l.length&&(n=_l[0],n.blockedOn===null);)ch(n),n.blockedOn===null&&_l.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var l=n[a],s=n[a+1],u=l[_e]||null;if(typeof s=="function")u||oh(n);else if(u){var h=null;if(s&&s.hasAttribute("formAction")){if(l=s,u=s[_e]||null)h=u.formAction;else if(Go(l)!==null)continue}else h=u.action;typeof h=="function"?n[a+1]=h:(n.splice(a,3),a-=3),oh(n)}}}function dh(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(u){return l=u})},focusReset:"manual",scroll:"manual"})}function e(){l!==null&&(l(),l=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,l=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),l!==null&&(l(),l=null)}}}function Vo(t){this._internalRoot=t}Xc.prototype.render=Vo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(d(409));var n=e.current,a=qn();nh(n,a,t,e,null,null)},Xc.prototype.unmount=Vo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nh(t.current,2,null,t,null,null),Ac(),e[sn]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var e=tl();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_l.length&&e!==0&&e<_l[n].priority;n++);_l.splice(n,0,t),n===0&&ch(t)}};var fh=r.version;if(fh!=="19.2.0")throw Error(d(527,fh,"19.2.0"));X.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=v(e),t=t!==null?N(t):null,t=t===null?null:t.stateNode,t};var Eg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Wn=Qc.inject(Eg),ve=Qc}catch{}}return Su.createRoot=function(t,e){if(!p(t))throw Error(d(299));var n=!1,a="",l=bf,s=Sf,u=Mf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(u=e.onRecoverableError)),e=th(t,1,!1,null,null,n,a,null,l,s,u,dh),t[sn]=e.current,Ao(t),new Vo(e)},Su.hydrateRoot=function(t,e,n){if(!p(t))throw Error(d(299));var a=!1,l="",s=bf,u=Sf,h=Mf,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(h=n.onRecoverableError),n.formState!==void 0&&(E=n.formState)),e=th(t,1,!0,e,n??null,a,l,E,s,u,h,dh),e.context=eh(null),n=e.current,a=qn(),a=ha(a),l=Sl(a),l.callback=null,Ml(n,l,a),n=a,e.current.lanes=n,ta(e,n),Ta(e),t[sn]=e.current,Ao(t),new Xc(e)},Su.version="19.2.0",Su}var xh;function Og(){if(xh)return Zo.exports;xh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Zo.exports=zg(),Zo.exports}var kg=Og();const _g="modulepreload",Ug=function(o,r){return new URL(o,r).href},Eh={},Bg=function(r,m,d){let p=Promise.resolve();if(m&&m.length>0){let v=function(N){return Promise.all(N.map(x=>Promise.resolve(x).then(H=>({status:"fulfilled",value:H}),H=>({status:"rejected",reason:H}))))};const y=document.getElementsByTagName("link"),A=document.querySelector("meta[property=csp-nonce]"),b=A?.nonce||A?.getAttribute("nonce");p=v(m.map(N=>{if(N=Ug(N,d),N in Eh)return;Eh[N]=!0;const x=N.endsWith(".css"),H=x?'[rel="stylesheet"]':"";if(d)for(let et=y.length-1;et>=0;et--){const F=y[et];if(F.href===N&&(!x||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${N}"]${H}`))return;const $=document.createElement("link");if($.rel=x?"stylesheet":_g,x||($.as="script"),$.crossOrigin="",$.href=N,b&&$.setAttribute("nonce",b),document.head.appendChild($),x)return new Promise((et,F)=>{$.addEventListener("load",et),$.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${N}`)))})}))}function M(y){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=y,window.dispatchEvent(A),!A.defaultPrevented)throw y}return p.then(y=>{for(const A of y||[])A.status==="rejected"&&M(A.reason);return r().catch(M)})};function Lg(o={}){const{immediate:r=!1,onNeedRefresh:m,onOfflineReady:d,onRegistered:p,onRegisteredSW:M,onRegisterError:y}=o;let A,b;const v=async(x=!0)=>{await b};async function N(){if("serviceWorker"in navigator){if(A=await Bg(async()=>{const{Workbox:x}=await import("./workbox-window.prod.es5-CwtvwXb3.js");return{Workbox:x}},[],import.meta.url).then(({Workbox:x})=>new x("./sw.js",{scope:"./",type:"classic"})).catch(x=>{y?.(x)}),!A)return;A.addEventListener("activated",x=>{(x.isUpdate||x.isExternal)&&window.location.reload()}),A.addEventListener("installed",x=>{x.isUpdate||d?.()}),A.register({immediate:r}).then(x=>{M?M("./sw.js",x):p?.(x)}).catch(x=>{y?.(x)})}}return b=N(),v}const qg=""+new URL("lame.all-C7RRJB7H.js",import.meta.url).href;let Zc=null;async function Hg(){if(typeof window>"u")throw new Error("MP3 encoder can only load in a browser.");if(!window.lamejs?.Mp3Encoder)return Zc||(Zc=new Promise((o,r)=>{const m=document.createElement("script");m.src=qg,m.async=!0,m.onload=()=>o(),m.onerror=()=>r(new Error("Failed to load MP3 encoder script.")),document.head.appendChild(m)}).then(()=>{if(!window.lamejs?.Mp3Encoder)throw new Error("MP3 encoder loaded but window.lamejs.Mp3Encoder is missing.")}),Zc)}function Gg(){const o=window.lamejs?.Mp3Encoder;if(!o)throw new Error("MP3 encoder is not loaded yet.");return o}const vi={frameDurationMs:50,minQuietDurationMs:600,minSegmentMs:5e3,targetSegmentMs:1e4,maxSegmentMs:6e4,silencePaddingMs:200,thresholdMultiplier:1.6,quietPercentile:.3,noisePercentile:.12,initialIgnoreMs:120},Ah=(o,r)=>{if(o.length===0)return 0;const m=[...o].sort((M,y)=>M-y),d=Math.min(Math.max(r,0),1),p=d===1?m.length-1:Math.floor(d*m.length);return m[p]},Yg=o=>{if(o.numberOfChannels===1)return o.getChannelData(0);const{length:r,numberOfChannels:m}=o,d=new Float32Array(r);for(let p=0;p<m;p+=1){const M=o.getChannelData(p);for(let y=0;y<r;y+=1)d[y]+=M[y]/m}return d},Vg=(o,r,m)=>{const d=Math.max(1,Math.round(m/1e3*r)),p=o.length,M=Math.ceil(p/d),y=new Array(M),A=new Array(M);let b=Number.POSITIVE_INFINITY,v=0;for(let N=0;N<M;N+=1){const x=N*d,H=Math.min(p,x+d),$=H-x;if($<=0){y[N]={index:N,startMs:x/r*1e3,endMs:H/r*1e3,rms:0,normalized:0},A[N]=0;continue}let et=0;for(let Et=x;Et<H;Et+=1){const ut=o[Et];et+=ut*ut}const F=Math.sqrt(et/$);y[N]={index:N,startMs:x/r*1e3,endMs:H/r*1e3,rms:F,normalized:F},A[N]=F,F<b&&(b=F),F>v&&(v=F)}return Number.isFinite(b)||(b=0),{frames:y,rmsValues:A,minRms:b,maxRms:v}},Xg=({audioBuffer:o,frameDurationMs:r=vi.frameDurationMs})=>{const m=Yg(o),{frames:d}=Vg(m,o.sampleRate,r),p=d.reduce((N,x)=>Math.max(N,x.rms),0),M=p>0?.92/p:1,y=d.map(N=>Math.min(N.rms*M,1)),A=y.length,b=A>0?y.reduce((N,x)=>N+x,0)/A:0,v=A>0?Math.max(...y):0;return{normalizedFrames:y,scalingFactor:M,maxNormalized:v,averageNormalized:b,frameDurationMs:r}},Qg=(o,r,m,d)=>{const p=[];let M=null,y=Number.POSITIVE_INFINITY,A=0,b=0,v=0,N=!1;for(let x=0;x<o.length;x+=1){const H=o[x],$=H.startMs>=d;$&&H.rms>r&&(N=!0);const F=N&&$&&H.rms<=r;if(F&&(M===null?(M=x,y=H.rms,A=H.rms,b=H.rms,v=1):(y=Math.min(y,H.rms),A=Math.max(A,H.rms),b+=H.rms,v+=1)),(!F&&M!==null||x===o.length-1&&F)&&M!==null){const ut=F?x:x-1,yt=o[M],ot=o[ut],L=ot.endMs-yt.startMs;if(L>=m){const P=(yt.startMs+ot.endMs)/2;p.push({index:p.length,startFrame:M,endFrame:ut,startMs:yt.startMs,endMs:ot.endMs,durationMs:L,minRms:y,maxRms:A,averageRms:v>0?b/v:0,centerMs:P,normalizedMin:0,normalizedMax:0})}M=null,y=Number.POSITIVE_INFINITY,A=0,b=0,v=0}}return p},Zg=(o,r)=>o.map(m=>{const d=r.slice(m.startFrame,m.endFrame+1).map(y=>y.normalized),p=d.length>0?Math.min(...d):0,M=d.length>0?Math.max(...d):0;return{...m,normalizedMin:p,normalizedMax:M}}),Kg=(o,r,m)=>{const d=[];let p=0;for(const b of o){const v=b.centerMs-p;if(!(v<m.minSegmentMs)&&(v>=m.targetSegmentMs||v>=m.maxSegmentMs)){const N=Math.max(0,1-b.normalizedMax);d.push({index:d.length,positionMs:b.centerMs,precedingDurationMs:v,quietRegionIndex:b.index,score:N,reason:"pause"}),p=b.centerMs}}const M=[],y=[...d].sort((b,v)=>b.positionMs-v.positionMs);let A=0;return y.forEach((b,v)=>{const N=Math.min(b.positionMs,r),x=Math.max(0,N-A);M.push({index:v,startMs:A,endMs:N,durationMs:x,breakReason:"pause",boundaryIndex:b.index}),A=b.positionMs}),A<r&&M.push({index:M.length,startMs:A,endMs:r,durationMs:Math.max(0,r-A),breakReason:"end",boundaryIndex:null}),{boundaries:d,segments:M}};function np(o,r={}){const{totalDurationMs:m,config:d={},sampleRate:p=0,frameDurationMs:M}=r;if(o.length===0)return null;const y={...vi,...d},A=o.map(L=>L.normalized),b=o.reduce((L,P)=>Math.max(L,P.rms),0),v=o.reduce((L,P)=>Math.min(L,P.rms),Number.POSITIVE_INFINITY),N=1,x=Ah(A,y.noisePercentile),H=Ah(A,y.quietPercentile),$=Math.max(x*y.thresholdMultiplier,(x+H)/2),et=Math.min($,b*.7),F=Math.min(et,.98),Et=Math.max(m??0,o[o.length-1]?.endMs??0),ut=Zg(Qg(o,et,y.minQuietDurationMs,y.initialIgnoreMs),o),{boundaries:yt,segments:ot}=Kg(ut,Et,y);return{frames:o,quietRegions:ut,boundaries:yt,segments:ot,stats:{sampleRate:p,totalDurationMs:Et,frameDurationMs:M??y.frameDurationMs,frameCount:o.length,maxRms:b,minRms:Number.isFinite(v)?v:0,scalingFactor:N,noiseFloor:x,threshold:et,normalizedThreshold:F}}}function $g({frames:o,windowStartMs:r,windowEndMs:m,sampleRate:d,frameDurationMs:p,config:M}){const y=Math.max(0,Math.round(r)),A=Math.max(y,Math.round(m)),b=Math.max(0,A-y);if(o.length===0||b<=0)return{analysis:null,frames:[],windowStartMs:y,windowEndMs:A,windowDurationMs:b};const v=[];for(const x of o){if(x.endMs<=y||x.startMs>=A)continue;const H=Math.max(0,x.startMs-y),$=Math.min(A,x.endMs)-y;$<=H||v.push({...x,index:v.length,startMs:H,endMs:$})}return{analysis:v.length>0?np(v,{totalDurationMs:b,sampleRate:d,frameDurationMs:p,config:M}):null,frames:v,windowStartMs:y,windowEndMs:A,windowDurationMs:b}}async function ap(o,r){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");const{chunkId:m,sessionId:d,seq:p,chunkStartMs:M,chunkEndMs:y,frameDurationMs:A}=r,b=new AudioContext;try{const v=await o.arrayBuffer(),N=await b.decodeAudioData(v.slice(0)),{normalizedFrames:x,scalingFactor:H,maxNormalized:$,averageNormalized:et}=Xg({audioBuffer:N,frameDurationMs:A});return{chunkId:m,sessionId:d,seq:p,chunkStartMs:M,chunkEndMs:y,durationMs:N.duration*1e3,sampleRate:N.sampleRate,frameDurationMs:A??50,frames:x,maxNormalized:$,averageNormalized:et,scalingFactor:H}}finally{await b.close().catch(()=>{})}}const ld=(o,r)=>r.some(m=>o instanceof m);let Th,wh;function Jg(){return Th||(Th=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ig(){return wh||(wh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sd=new WeakMap,Io=new WeakMap,Ic=new WeakMap;function Fg(o){const r=new Promise((m,d)=>{const p=()=>{o.removeEventListener("success",M),o.removeEventListener("error",y)},M=()=>{m(Ss(o.result)),p()},y=()=>{d(o.error),p()};o.addEventListener("success",M),o.addEventListener("error",y)});return Ic.set(r,o),r}function Wg(o){if(sd.has(o))return;const r=new Promise((m,d)=>{const p=()=>{o.removeEventListener("complete",M),o.removeEventListener("error",y),o.removeEventListener("abort",y)},M=()=>{m(),p()},y=()=>{d(o.error||new DOMException("AbortError","AbortError")),p()};o.addEventListener("complete",M),o.addEventListener("error",y),o.addEventListener("abort",y)});sd.set(o,r)}let id={get(o,r,m){if(o instanceof IDBTransaction){if(r==="done")return sd.get(o);if(r==="store")return m.objectStoreNames[1]?void 0:m.objectStore(m.objectStoreNames[0])}return Ss(o[r])},set(o,r,m){return o[r]=m,!0},has(o,r){return o instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in o}};function lp(o){id=o(id)}function Pg(o){return Ig().includes(o)?function(...r){return o.apply(ud(this),r),Ss(this.request)}:function(...r){return Ss(o.apply(ud(this),r))}}function ty(o){return typeof o=="function"?Pg(o):(o instanceof IDBTransaction&&Wg(o),ld(o,Jg())?new Proxy(o,id):o)}function Ss(o){if(o instanceof IDBRequest)return Fg(o);if(Io.has(o))return Io.get(o);const r=ty(o);return r!==o&&(Io.set(o,r),Ic.set(r,o)),r}const ud=o=>Ic.get(o);function ey(o,r,{blocked:m,upgrade:d,blocking:p,terminated:M}={}){const y=indexedDB.open(o,r),A=Ss(y);return d&&y.addEventListener("upgradeneeded",b=>{d(Ss(y.result),b.oldVersion,b.newVersion,Ss(y.transaction),b)}),m&&y.addEventListener("blocked",b=>m(b.oldVersion,b.newVersion,b)),A.then(b=>{M&&b.addEventListener("close",()=>M()),p&&b.addEventListener("versionchange",v=>p(v.oldVersion,v.newVersion,v))}).catch(()=>{}),A}const ny=["get","getKey","getAll","getAllKeys","count"],ay=["put","add","delete","clear"],Fo=new Map;function Ch(o,r){if(!(o instanceof IDBDatabase&&!(r in o)&&typeof r=="string"))return;if(Fo.get(r))return Fo.get(r);const m=r.replace(/FromIndex$/,""),d=r!==m,p=ay.includes(m);if(!(m in(d?IDBIndex:IDBObjectStore).prototype)||!(p||ny.includes(m)))return;const M=async function(y,...A){const b=this.transaction(y,p?"readwrite":"readonly");let v=b.store;return d&&(v=v.index(A.shift())),(await Promise.all([v[m](...A),p&&b.done]))[0]};return Fo.set(r,M),M}lp(o=>({...o,get:(r,m,d)=>Ch(r,m)||o.get(r,m,d),has:(r,m)=>!!Ch(r,m)||o.has(r,m)}));const ly=["continue","continuePrimaryKey","advance"],Dh={},cd=new WeakMap,sp=new WeakMap,sy={get(o,r){if(!ly.includes(r))return o[r];let m=Dh[r];return m||(m=Dh[r]=function(...d){cd.set(this,sp.get(this)[r](...d))}),m}};async function*iy(...o){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...o)),!r)return;r=r;const m=new Proxy(r,sy);for(sp.set(m,r),Ic.set(m,ud(r));r;)yield m,r=await(cd.get(m)||r.continue()),cd.delete(m)}function Nh(o,r){return r===Symbol.asyncIterator&&ld(o,[IDBIndex,IDBObjectStore,IDBCursor])||r==="iterate"&&ld(o,[IDBIndex,IDBObjectStore])}lp(o=>({...o,get(r,m,d){return Nh(r,m)?iy:o.get(r,m,d)},has(r,m){return Nh(r,m)||o.has(r,m)}}));const $e="unverified";function uy(o,r){let m=0;return r.map(d=>{const p=Number.isFinite(d.durationMs)&&d.durationMs>0?Math.round(d.durationMs):0,M=Math.round(o+m),y=Math.round(M+p);return m+=p,{...d,durationMs:p,startMs:M,endMs:y}})}const jh=o=>{const r=Array.isArray(o.frames)?o.frames:[],m=r.length>0&&typeof r[0]=="number"?r:r.map(A=>{if(A&&typeof A=="object"){if(typeof A.normalized=="number")return Math.max(0,A.normalized);if(typeof A.rms=="number")return Math.max(0,A.rms)}return 0}),d=typeof o.frameDurationMs=="number"&&o.frameDurationMs>0?o.frameDurationMs:50,p=typeof o.durationMs=="number"&&o.durationMs>0?o.durationMs:m.length*d,M=typeof o.maxNormalized=="number"?o.maxNormalized:m.length>0?Math.max(...m):0,y=typeof o.averageNormalized=="number"?o.averageNormalized:m.length>0?m.reduce((A,b)=>A+b,0)/m.length:0;return{chunkId:o.chunkId,sessionId:o.sessionId,seq:o.seq??0,chunkStartMs:o.chunkStartMs??0,chunkEndMs:typeof o.chunkEndMs=="number"?o.chunkEndMs:(o.chunkStartMs??0)+p,durationMs:p,sampleRate:o.sampleRate??0,frameDurationMs:d,frames:m,maxNormalized:M,averageNormalized:y,scalingFactor:o.scalingFactor??1,id:o.id??o.chunkId,createdAt:o.createdAt??Date.now(),updatedAt:o.updatedAt??Date.now()}},Mu=o=>{const r=Number.isFinite(o.startMs)?o.startMs:0,m=Number.isFinite(o.endMs)?o.endMs:r,d=Number.isFinite(o.durationMs)?o.durationMs:Math.max(0,m-r),p=typeof o.audioPurgedAt=="number"?o.audioPurgedAt:null,M=o.transcription?{...o.transcription,segments:Array.isArray(o.transcription.segments)?o.transcription.segments:[],text:o.transcription.text??""}:o.transcription;return{...o,index:Number.isFinite(o.index)?o.index:0,startMs:r,endMs:m,durationMs:d,breakReason:o.breakReason??null,boundaryIndex:typeof o.boundaryIndex=="number"?o.boundaryIndex:null,transcription:M??null,transcriptionError:o.transcriptionError??null,audioPurgedAt:p}},cy="durable-audio-recorder",ry=4,Rh=50;let Wo=null;async function de(){return Wo||(Wo=ey(cy,ry,{upgrade(o,r){if(r<1&&(o.createObjectStore("sessions",{keyPath:"id"}).createIndex("by-updated","updatedAt"),o.createObjectStore("chunks",{keyPath:"id"}).createIndex("by-session","sessionId")),r<2){o.createObjectStore("logSessions",{keyPath:"id"}).createIndex("by-started","startedAt");const d=o.createObjectStore("logEntries",{keyPath:"id",autoIncrement:!0});d.createIndex("by-session","sessionId"),d.createIndex("by-timestamp","timestamp")}if(r<3){const m=o.createObjectStore("chunkVolumes",{keyPath:"id"});m.createIndex("by-session","sessionId"),m.createIndex("by-chunk","chunkId")}r<4&&o.createObjectStore("snips",{keyPath:"id"}).createIndex("by-session","sessionId")}})),Wo}class oy{async init(){await de()}async createSession(r){await(await de()).put("sessions",{...r,timingStatus:r.timingStatus??$e})}async updateSession(r,m){const p=(await de()).transaction("sessions","readwrite"),M=p.objectStore("sessions"),y=await M.get(r);if(!y)return await p.done,null;const A={...y,...m,timingStatus:m.timingStatus??y.timingStatus??$e};return await M.put(A),await p.done,A}async appendChunk(r,m){const p=(await de()).transaction(["chunks","sessions"],"readwrite"),M=p.objectStore("chunks"),y=p.objectStore("sessions"),A={...r,blob:m,byteLength:m.size,createdAt:Date.now(),verifiedAudioMsec:r.seq===0&&/mp4|m4a/i.test(m.type)?0:null,timingStatus:$e};await M.put(A);const b=await y.get(r.sessionId);if(b){const v=Math.max(b.durationMs,r.endMs-b.startedAt),N={...b,updatedAt:Date.now(),chunkCount:b.chunkCount+1,totalBytes:b.totalBytes+m.size,durationMs:v};await y.put(N)}await p.done}async listSessions(){return(await(await de()).getAll("sessions")).map(d=>({...d,timingStatus:d.timingStatus??$e})).sort((d,p)=>p.startedAt-d.startedAt)}async getSession(r){const d=await(await de()).get("sessions",r);return d?{...d,timingStatus:d.timingStatus??$e}:null}async getChunkMetadata(r){return(await(await de()).transaction("chunks").store.index("by-session").getAll(r)).map(({blob:M,timingStatus:y,...A})=>({...A,timingStatus:y??$e})).sort((M,y)=>M.seq-y.seq)}async getChunkData(r){return(await(await de()).transaction("chunks").store.index("by-session").getAll(r)).sort((M,y)=>M.seq-y.seq).map(M=>({...M,timingStatus:M.timingStatus??$e}))}async buildSessionBlob(r,m){const M=await(await de()).transaction("chunks").store.index("by-session").getAll(r);if(M.length===0)return null;const A=M.sort((b,v)=>b.seq-v.seq).map(b=>b.blob);return new Blob(A,{type:m})}async storeChunkVolumeProfile(r){const d=(await de()).transaction(["chunkVolumes","chunks"],"readwrite"),p=d.objectStore("chunkVolumes"),M=d.objectStore("chunks"),y=await p.get(r.chunkId),A=Date.now(),b={...r,id:r.chunkId,createdAt:y?.createdAt??A,updatedAt:A},v=jh(b);await p.put(v);const N=await M.get(r.chunkId);N&&(N.verifiedAudioMsec=Math.round(r.durationMs),await M.put(N)),await d.done}async getChunkVolumeProfile(r){return await(await de()).get("chunkVolumes",r)??null}async listChunkVolumeProfiles(r){const d=(await de()).transaction("chunkVolumes").store;let p;return r?p=await d.index("by-session").getAll(r):p=await d.getAll(),p.map(y=>jh(y)).sort((y,A)=>y.sessionId!==A.sessionId?y.sessionId.localeCompare(A.sessionId):y.seq!==A.seq?y.seq-A.seq:y.chunkStartMs-A.chunkStartMs)}async listSnips(r){const d=(await de()).transaction("snips").store;let p;return r?p=await d.index("by-session").getAll(r):p=await d.getAll(),p.map(y=>Mu(y)).sort((y,A)=>y.sessionId!==A.sessionId?y.sessionId.localeCompare(A.sessionId):y.index-A.index)}async appendSnips(r,m){const p=(await de()).transaction("snips","readwrite"),M=p.objectStore("snips"),y=await M.index("by-session").getAll(r),A=new Map;y.forEach(N=>{A.set(N.index,N)});const b=Date.now();for(const N of m){if(A.has(N.index))continue;const x=Number.isFinite(N.startMs)?Math.max(0,N.startMs):0,H=Number.isFinite(N.endMs)?Math.max(x,N.endMs):x,$=Number.isFinite(N.durationMs)?Math.max(0,N.durationMs):Math.max(0,H-x),et={id:`${r}-snip-${N.index}`,sessionId:r,index:N.index,startMs:x,endMs:H,durationMs:$,breakReason:N.breakReason??null,boundaryIndex:typeof N.boundaryIndex=="number"?N.boundaryIndex:null,createdAt:b,updatedAt:b,transcription:null,transcriptionError:null,audioPurgedAt:null};await M.put(et),A.set(et.index,et)}return await p.done,Array.from(A.values()).map(N=>Mu(N)).sort((N,x)=>N.index-x.index)}async updateSnipTranscription(r,m){const p=(await de()).transaction("snips","readwrite"),M=p.objectStore("snips"),y=await M.get(r);if(!y)return await p.done,null;const A=Mu({...y,transcription:m.transcription!==void 0?m.transcription:y.transcription,transcriptionError:m.transcriptionError!==void 0?m.transcriptionError:y.transcriptionError,updatedAt:Date.now()});return await M.put(A),await p.done,A}async deleteSession(r){const d=(await de()).transaction(["sessions","chunks","chunkVolumes","snips"],"readwrite");await d.objectStore("sessions").delete(r);const M=d.objectStore("chunks").index("by-session");for(let N=await M.openCursor(r);N;N=await N.continue())await N.delete();const A=d.objectStore("chunkVolumes").index("by-session");for(let N=await A.openCursor(r);N;N=await N.continue())await N.delete();const v=d.objectStore("snips").index("by-session");for(let N=await v.openCursor(r);N;N=await N.continue())await N.delete();await d.done}async purgeLegacyMp4Sessions(){const m=(await this.listSessions()).filter(d=>/mp4|m4a/i.test(d.mimeType??""));for(const d of m)await this.deleteSession(d.id);return{deletedSessions:m.length}}async storageTotals(){const m=(await de()).transaction("chunks").store;let d=0,p=await m.openCursor();for(;p;)d+=p.value.byteLength,p=await p.continue();return{totalBytes:d}}async applyRetentionPolicy(r){const m=typeof r.now=="number"?r.now:Date.now(),p=(await de()).transaction(["chunks","snips","sessions"],"readwrite"),M=p.objectStore("chunks"),y=p.objectStore("snips"),A=p.objectStore("sessions"),[b,v,N]=await Promise.all([M.getAll(),y.getAll(),A.getAll()]),x=b.map(T=>({...T,timingStatus:T.timingStatus??$e})),H=v.map(T=>Mu(T)),$=N.map(T=>({...T,timingStatus:T.timingStatus??$e})),et=x.reduce((T,X)=>T+X.byteLength,0);let F=et;const Et=Number.isFinite(r.limitBytes)?Math.max(0,r.limitBytes):et;if(F<=Et)return await p.done,{limitBytes:Et,beforeBytes:et,afterBytes:F,purgedChunkIds:[],purgedSnipIds:[],updatedSessionIds:[],ranAt:m};const ut=new Map($.map(T=>[T.id,T])),yt=new Map;x.forEach(T=>{yt.set(T.sessionId,(yt.get(T.sessionId)??0)+T.byteLength)});const ot=new Map;H.forEach(T=>{const X=ot.get(T.sessionId);X?X.push(T):ot.set(T.sessionId,[T])}),ot.forEach(T=>T.sort((X,W)=>X.startMs-W.startMs));const L=1e12,P=new Map;x.forEach(T=>{const X=P.get(T.sessionId);(X===void 0||T.startMs<X)&&P.set(T.sessionId,T.startMs)});const mt=new Map;ot.forEach((T,X)=>{mt.set(X,T.some(W=>W.startMs>L||W.endMs>L))});const I=new Map;$.forEach(T=>{const X=Number.isFinite(T.startedAt)?Math.round(T.startedAt):P.get(T.id)??0,W=Number.isFinite(X)?X:0;I.set(T.id,{baseStartMs:W,baseIsAbsolute:W>L,snipIsAbsolute:mt.get(T.id)??!1})});const ct=4,Ht=(T,X)=>{const W=T.blob.type||X?.mimeType||"";if(!/mp4|m4a/i.test(W))return!1;const J=Math.max(0,T.endMs-T.startMs);return T.seq===0&&(J<=10||T.byteLength<4096)},se=(T,X)=>{const{baseStartMs:W,baseIsAbsolute:J,snipIsAbsolute:it}=X,S=J&&T.startMs>L,_=it?S?T.startMs:J?W+T.startMs:T.startMs:S?T.startMs-W:T.startMs,tt=it?S?T.endMs:J?W+T.endMs:T.endMs:S?T.endMs-W:T.endMs,lt=Number.isFinite(_)?_:0,gt=Number.isFinite(tt)?tt:lt;return{startMs:it?lt:Math.max(0,lt),endMs:it?gt:Math.max(Math.max(0,lt),gt)}},Wt=(T,X,W)=>{if(!T||T.length===0)return[];const J=X+ct,it=W-ct;if(it<=J)return[];const S=[];for(const _ of T)if(!(_.endMs<=J)){if(_.startMs>=it)break;S.push(_)}return S},Pt=[];for(const T of x){if(T.byteLength<=0||T.blob.size<=0)continue;const X=ut.get(T.sessionId)??null;if(Ht(T,X))continue;const W=ot.get(T.sessionId),J=I.get(T.sessionId)??{baseStartMs:0,baseIsAbsolute:!1,snipIsAbsolute:!1},it=se(T,J),S=Wt(W,it.startMs,it.endMs);S.length!==0&&S.every(_=>_.transcription&&!_.transcriptionError)&&Pt.push({chunk:T,snipIds:S.map(_=>_.id),session:X})}Pt.sort((T,X)=>{const W=T.chunk.createdAt??T.chunk.startMs,J=X.chunk.createdAt??X.chunk.startMs;return W!==J?W-J:T.chunk.seq-X.chunk.seq});const fn=[],ke=new Set,Ce=new Set;for(const T of Pt){if(F<=Et)break;const X=T.chunk,W=X.byteLength;if(W<=0)continue;const J=X.blob.type||T.session?.mimeType||"",it={...X,blob:new Blob([],{type:J}),byteLength:0,audioPurgedAt:m};await M.put(it),fn.push(X.id),F=Math.max(0,F-W),yt.set(X.sessionId,Math.max(0,(yt.get(X.sessionId)??0)-W)),Ce.add(X.sessionId),T.snipIds.forEach(S=>ke.add(S))}for(const T of Ce){const X=ut.get(T);if(!X)continue;const W=Math.max(0,yt.get(T)??0);await A.put({...X,totalBytes:W,updatedAt:m,timingStatus:X.timingStatus??$e})}for(const T of ke){const X=await y.get(T);if(!X)continue;const W=Mu(X);W.audioPurgedAt||await y.put({...W,audioPurgedAt:m,updatedAt:m})}return await p.done,{limitBytes:Et,beforeBytes:et,afterBytes:F,purgedChunkIds:fn,purgedSnipIds:Array.from(ke),updatedSessionIds:Array.from(Ce),ranAt:m}}async verifySessionChunkTimings(r){const d=(await de()).transaction(["chunks","chunkVolumes","sessions"],"readwrite"),p=d.objectStore("chunks"),M=d.objectStore("chunkVolumes"),y=d.objectStore("sessions"),[A,b]=await Promise.all([y.get(r),p.index("by-session").getAll(r)]),v=A?{...A,timingStatus:A.timingStatus??$e}:null;if(b.length===0)return await d.done,{sessionId:r,status:$e,updatedChunkIds:[],missingChunkIds:[],totalVerifiedDurationMs:0,baseStartMs:v?.startedAt??null,verifiedChunkCount:0,session:v};const N=[...b].sort((I,ct)=>I.seq-ct.seq),x=new Array(N.length),H=[],$=v?.mimeType??"",F=/mp4|m4a/i.test($)?N.find(I=>I.seq===0&&(I.endMs-I.startMs<=10||I.byteLength<4096))??null:null;for(let I=0;I<N.length;I+=1){const ct=N[I];if(F?.id===ct.id){x[I]=0;continue}const se=typeof ct.verifiedAudioMsec=="number"&&ct.verifiedAudioMsec>0?Math.round(ct.verifiedAudioMsec):null;if(se!==null){x[I]=se;continue}const Wt=await M.get(ct.id);if(Wt&&typeof Wt.durationMs=="number"&&Wt.durationMs>0){x[I]=Math.round(Wt.durationMs);continue}H.push(ct.id)}const Et=F?.startMs??v?.startedAt??N[0]?.startMs??Date.now(),ut=Number.isFinite(Et)?Math.round(Et):Date.now();if(H.length>0)return A&&A.timingStatus!==$e&&await y.put({...A,timingStatus:$e}),await d.done,{sessionId:r,status:$e,updatedChunkIds:[],missingChunkIds:H,totalVerifiedDurationMs:0,baseStartMs:ut,verifiedChunkCount:N.filter((I,ct)=>x[ct]>0).length,session:v};const yt=uy(ut,N.map((I,ct)=>({id:I.id,seq:I.seq,durationMs:x[ct]}))),ot=[];let L=0,P=0;for(let I=0;I<yt.length;I+=1){const ct=N[I],Ht=yt[I],se={...ct,startMs:Ht.startMs,endMs:Ht.endMs,verifiedAudioMsec:Ht.durationMs,timingStatus:"verified"};(ct.startMs!==se.startMs||ct.endMs!==se.endMs||(ct.verifiedAudioMsec??0)!==se.verifiedAudioMsec||ct.timingStatus!=="verified")&&(await p.put(se),ot.push(se.id)),N[I]=se,Ht.durationMs>0&&(P+=1,L+=Math.max(0,Ht.durationMs))}let mt=v;if(A){const I=Math.max(0,Math.round(L)),ct={...A,timingStatus:"verified",durationMs:Math.max(A.durationMs,I),updatedAt:Date.now()};await y.put(ct),mt={...ct}}return await d.done,{sessionId:r,status:"verified",updatedChunkIds:ot,missingChunkIds:[],totalVerifiedDurationMs:Math.max(0,Math.round(L)),baseStartMs:ut,verifiedChunkCount:P,session:mt}}async reconcileDanglingSessions(){const m=(await de()).transaction(["sessions","chunks"],"readwrite"),d=m.objectStore("sessions"),p=m.objectStore("chunks"),M=await d.getAll(),y=Date.now();for(const A of M){if(A.status!=="recording")continue;const b=await p.index("by-session").getAll(A.id);if(b.length===0)await d.put({...A,status:"error",notes:"No audio captured (session interrupted).",updatedAt:y,totalBytes:0,chunkCount:0,durationMs:0,timingStatus:A.timingStatus??$e});else{const v=b.reduce((x,H)=>x+H.byteLength,0),N=Math.max(A.durationMs,Math.max(...b.map(x=>x.endMs))-A.startedAt);await d.put({...A,status:"ready",notes:A.notes,updatedAt:y,totalBytes:v,chunkCount:b.length,durationMs:N,timingStatus:A.timingStatus??$e})}}await m.done}async getChunksForInspection(){const d=(await(await de()).transaction("chunks").store.getAll()).sort((p,M)=>p.startMs!==M.startMs?M.startMs-p.startMs:p.seq!==M.seq?M.seq-p.seq:(M.createdAt??0)-(p.createdAt??0));return Promise.all(d.map(async({blob:p,...M})=>{let y=null;try{y=(await p.arrayBuffer()).byteLength}catch(A){console.warn("[Manifest] Failed to read chunk blob for inspection",A)}return{...M,timingStatus:M.timingStatus??$e,blobSize:p.size,blobType:p.type,verifiedByteLength:y,sizeMismatch:y!==null&&y!==p.size,startIso:new Date(M.startMs).toISOString(),endIso:new Date(M.endMs).toISOString(),blob:"[binary omitted]"}}))}async createLogSession(){const m=(await de()).transaction(["logSessions","logEntries"],"readwrite"),d=m.objectStore("logSessions"),M={id:crypto.randomUUID(),startedAt:Date.now()};await d.put(M);const y=await d.getAll();if(y.length>Rh){const b=y.sort((N,x)=>N.startedAt-x.startedAt).slice(0,y.length-Rh),v=m.objectStore("logEntries");for(const N of b){await d.delete(N.id);for(let x=await v.index("by-session").openCursor(N.id);x;x=await x.continue())await x.delete()}}return await m.done,M}async finishLogSession(r){const d=(await de()).transaction("logSessions","readwrite").objectStore("logSessions"),p=await d.get(r);p&&(p.endedAt=Date.now(),await d.put(p))}async appendLogEntry(r){await(await de()).transaction("logEntries","readwrite").objectStore("logEntries").add({...r})}async listLogSessions(){return(await(await de()).transaction("logSessions").store.getAll()).sort((d,p)=>p.startedAt-d.startedAt)}async getLogEntries(r,m=250){const p=(await de()).transaction("logEntries").store.index("by-session"),M=[];for(let y=await p.openCursor(r,"prev");y&&M.length<m;y=await y.continue())M.push(y.value);return M.sort((y,A)=>y.timestamp-A.timestamp)}}const Mt=new oy,zh=120,yi=[];let Jc=!1,rd=null,$a=null;async function dy(){return $a||($a=await Mt.createLogSession(),await Jt("Logger initialised")),hy(),$a}async function fy(){$a&&(await Jt("Logger shutting down"),await Mt.finishLogSession($a.id),$a=null),py()}async function Fc(o,r,m){if($a)try{await Mt.appendLogEntry({sessionId:$a.id,timestamp:Date.now(),level:o,message:r,details:m})}catch(d){console.warn("[Logger] Failed to persist log entry",d)}}function Oh(o,r){return Fc("debug",o,r)}function Jt(o,r){return Fc("info",o,r)}function Hn(o,r){return Fc("warn",o,r)}function on(o,r){return Fc("error",o,r)}function kh(){return $a}const my=o=>{if(!o)return"unknown";if(o instanceof HTMLElement){let r=o.tagName.toLowerCase();o.id?r+=`#${o.id}`:o.classList.length>0&&(r+=`.${o.classList[0]}`);const m=o;return m.src?r+=` src=${m.src}`:m.href&&(r+=` href=${m.href}`),r}return o.constructor?.name??"unknown"},Po=o=>{yi.push(o),yi.length>zh&&yi.splice(0,yi.length-zh)};function hy(){if(Jc||typeof window>"u")return;Jc=!0;const o=m=>{const d=Date.now();if(m instanceof ErrorEvent){Po({timestamp:d,type:"error",message:m.message||"Uncaught error",stack:m.error instanceof Error?m.error.stack:void 0,filename:m.filename||void 0,lineno:m.lineno||void 0,colno:m.colno||void 0});return}Po({timestamp:d,type:"resource",message:"Resource error",target:my(m.target)})},r=m=>{const d=Date.now(),p=m.reason,M=p instanceof Error?p.message:String(p);Po({timestamp:d,type:"unhandledrejection",message:M||"Unhandled promise rejection",stack:p instanceof Error?p.stack:void 0,reason:p instanceof Error?void 0:String(p)})};window.addEventListener("error",o,!0),window.addEventListener("unhandledrejection",r),rd=()=>{window.removeEventListener("error",o,!0),window.removeEventListener("unhandledrejection",r)}}function py(){Jc&&(rd?.(),rd=null,Jc=!1)}function gy(o){return Number.isFinite(o)?yi.filter(r=>r.timestamp>=o):[]}async function yy(o,r={}){if(!o||!Number.isFinite(o)){await Jt("Global error snapshot skipped (missing timestamp)",r);return}const m=gy(o),d={...r,since:o,capturedCount:m.length,bufferSize:yi.length,entries:m.slice(-20)};if(m.length===0){await Jt("No global errors captured during recording start window",d);return}await Hn("Global errors captured during recording start window",d)}const vy={audio:{echoCancellation:!1,noiseSuppression:!1,autoGainControl:!1}},xu="audio/mpeg",_h=9e3,by=o=>({id:o.id,label:o.label,enabled:o.enabled,muted:o.muted,readyState:o.readyState,settings:typeof o.getSettings=="function"?o.getSettings():void 0,constraints:typeof o.getConstraints=="function"?o.getConstraints():void 0}),Uh=o=>{if(!o)return null;const r=o.getAudioTracks();return{active:o.active,trackCount:r.length,tracks:r.map(m=>by(m))}},Bh=o=>{if(!o)return null;const r="outputLatency"in o?o.outputLatency:null;return{state:o.state,sampleRate:o.sampleRate,baseLatency:Number.isFinite(o.baseLatency)?o.baseLatency:null,outputLatency:Number.isFinite(r)?r:null}},Sy=o=>{const r=new Int16Array(o.length);for(let m=0;m<o.length;m+=1){const d=Math.max(-1,Math.min(1,o[m]));r[m]=d<0?Math.round(d*32768):Math.round(d*32767)}return r};class My{#t=null;#l=null;#n=null;#e=null;#i=null;#a=null;#m=0;#f=Promise.resolve();#r=0;#u=48e3;#g=64;#p=0;#h=0;#b=0;#M=0;#o=[];#c=0;#S=new Set;#s={sessionId:null,state:"idle",startedAt:null,lastChunkAt:null,capturedMs:0,bytesBuffered:0,mimeType:null,chunksRecorded:0};#y=null;#v=!1;get state(){return this.#s}#d(r){this.#s={...this.#s,...r},this.#S.forEach(m=>m(this.#s))}async start(r){if(this.#s.state==="recording"||this.#s.state==="starting")throw new Error("Recorder already running");this.#d({state:"starting",error:void 0,capturedMs:0}),await Mt.init(),await Jt("Requesting microphone stream");const m=await navigator.mediaDevices.getUserMedia(vy);await Jt("Microphone stream acquired",{stream:Uh(m)});const d=window.AudioContext||window.webkitAudioContext;if(typeof d!="function")throw new Error("AudioContext unavailable");const p=new d;await p.resume().catch(()=>{});const M=p.createMediaStreamSource(m),y=p.createScriptProcessor(4096,1,1),A=p.createGain();A.gain.value=0,M.connect(y),y.connect(A),A.connect(p.destination),this.#t=m,this.#l=p,this.#n=M,this.#e=y,this.#i=A,this.#a=r.sessionId,this.#m=0,this.#o=[],this.#c=0,this.#h=0,this.#b=0,this.#r=Date.now(),this.#u=p.sampleRate,this.#g=Math.max(8,Math.round(r.targetBitrate/1e3)),this.#p=Math.max(1,Math.round(r.chunkDurationMs/1e3*this.#u)),this.#M=Math.max(1,Math.round(this.#u/10)),this.#v=!1,await Jt("PCM capture started",{sessionId:r.sessionId,startedAt:this.#r,sampleRate:this.#u,chunkDurationMs:r.chunkDurationMs,mp3Kbps:this.#g,audioContext:Bh(p)}),await Hg(),await Mt.updateSession(r.sessionId,{startedAt:this.#r,updatedAt:this.#r,mimeType:xu,status:"recording"}),this.#d({state:"recording",sessionId:r.sessionId,startedAt:this.#r,lastChunkAt:this.#r,capturedMs:0,mimeType:xu,bytesBuffered:0,chunksRecorded:0}),y.onaudioprocess=b=>{if(!this.#a||this.#s.state!=="recording")return;this.#v=!0;const v=b.inputBuffer.getChannelData(0),N=Sy(v);this.#o.push(N),this.#c+=N.length;const x=this.#h+this.#c;if(x-this.#b>=this.#M){this.#b=x;const H=Math.round(x/this.#u*1e3);this.#d({capturedMs:H})}this.#c>=this.#p&&this.#A().catch(H=>{console.error("[PCM Capture] chunk flush failed",H),this.#d({state:"error",error:H instanceof Error?H.message:String(H)}),on("PCM chunk flush failed",{sessionId:this.#a,error:H instanceof Error?H.message:String(H)})})},this.#C()}async#A(){if(!this.#a||this.#c<this.#p)return;const r=this.#p,m=[];let d=r;for(;d>0&&this.#o.length>0;){const p=this.#o[0];p.length<=d?(m.push(p),this.#o.shift(),d-=p.length):(m.push(p.subarray(0,d)),this.#o[0]=p.subarray(d),d=0)}this.#c-=r,await this.#x(m)}async#T(){if(!this.#a||this.#c<=0)return;const r=this.#o;this.#o=[],this.#c=0,await this.#x(r)}async#x(r){if(!this.#a)return;const m=this.#a,d=this.#m++,p=Gg(),M=new p(1,this.#u,this.#g),y=[];let A=0;for(const $ of r){if($.length===0)continue;A+=$.length;const et=M.encodeBuffer($);if(et.length>0){const F=new Uint8Array(et.length);F.set(et),y.push(F)}}const b=M.flush();if(b.length>0){const $=new Uint8Array(b.length);$.set(b),y.push($)}const v=new Blob(y,{type:xu}),N=this.#r+Math.round(this.#h/this.#u*1e3),x=this.#r+Math.round((this.#h+A)/this.#u*1e3);this.#h+=A;const H=`${m}-chunk-${d}`;Oh("PCM chunk encoded",{sessionId:m,seq:d,sampleRate:this.#u,samples:A,durationMs:x-N,mp3Bytes:v.size,mp3Kbps:this.#g,chunkStartMs:N,chunkEndMs:x}),this.#f=this.#f.then(()=>Mt.appendChunk({id:H,sessionId:m,seq:d,startMs:N,endMs:x,verifiedAudioMsec:null},v)).then(async()=>{this.#d({lastChunkAt:x,bytesBuffered:this.#s.bytesBuffered+v.size,chunksRecorded:this.#s.chunksRecorded+1}),await Jt("Chunk persisted",{sessionId:m,seq:d,size:v.size,startMs:N,endMs:x,mimeType:xu});try{const $=await ap(v,{chunkId:H,sessionId:m,seq:d,chunkStartMs:N,chunkEndMs:x});await Mt.storeChunkVolumeProfile($),Oh("Chunk volume profile stored",{sessionId:m,seq:d,frameCount:$.frames.length})}catch($){Hn("Chunk volume profile failed",{sessionId:m,seq:d,error:$ instanceof Error?$.message:String($)})}})}async stop(){if(this.#s.state!=="recording")return;this.#d({state:"stopping"}),this.#E(),await this.#T(),await this.flushPending();const r=this.#a;let m;if(r){const d=await Mt.getChunkMetadata(r),p=d.some(v=>v.byteLength>0&&v.endMs>v.startMs),M=p?"ready":"error",y=d.length>0?d[d.length-1].endMs-d[0].startMs:0,A=d.reduce((v,N)=>v+N.byteLength,0);p||(m=d.length===0?"Error: no audio captured. Check microphone access and try again.":"Error: captured audio contained no playable samples.",await on("Session completed without playable audio",{sessionId:r,chunkCount:d.length,totalBytes:A,mimeType:xu}));const b={status:M,updatedAt:Date.now(),durationMs:y,totalBytes:A,chunkCount:d.length};m&&(b.notes=m),await Mt.updateSession(r,b),await Jt("Session timing reconciled",{sessionId:r,status:M,durationMs:y,totalBytes:A,chunkCount:d.length,hasPlayableChunk:p})}this.#w(),this.#a=null,this.#d({state:"idle",sessionId:null,startedAt:null,lastChunkAt:null,capturedMs:0,mimeType:null,chunksRecorded:0,bytesBuffered:0,error:m})}async flushPending(){await this.#f}attachAnalysisPort(r){}#w(){if(this.#e){this.#e.onaudioprocess=null;try{this.#e.disconnect()}catch{}this.#e=null}if(this.#n){try{this.#n.disconnect()}catch{}this.#n=null}if(this.#i){try{this.#i.disconnect()}catch{}this.#i=null}this.#l&&(this.#l.close().catch(()=>{}),this.#l=null),this.#t&&(this.#t.getTracks().forEach(r=>r.stop()),this.#t=null)}#C(){this.#E(),this.#y=window.setTimeout(()=>{!this.#v&&this.#s.state==="recording"&&(this.#d({error:"No audio detected  recording may be muted."}),Hn("No PCM audio callback detected within timeout",{sessionId:this.#a,timeoutMs:_h,diagnostics:this.getDiagnostics()}))},_h)}#E(){this.#y!==null&&(window.clearTimeout(this.#y),this.#y=null)}getDiagnostics(){const r=this.#e,m=!!(this.#n||this.#e||this.#i);return{sessionId:this.#a,state:this.#s.state,startedAt:this.#s.startedAt,audioContext:Bh(this.#l),stream:Uh(this.#t),audioGraph:m?{hasSource:!!this.#n,hasProcessor:!!this.#e,hasMuteGain:!!this.#i,processorBufferSize:typeof r?.bufferSize=="number"?r.bufferSize:null,channelCount:typeof r?.channelCount=="number"?r.channelCount:null,channelCountMode:r?.channelCountMode??null,channelInterpretation:r?.channelInterpretation??null}:null,processing:{hasSeenAudioProcess:this.#v,pendingSamples:this.#c,totalSamplesWritten:this.#h,chunkTargetSamples:this.#p,sampleRate:this.#u}}}subscribe(r){return this.#S.add(r),r(this.#s),()=>this.#S.delete(r)}}const vs=new My,dn={desiredActive:!1,sentinel:null,pending:!1,supportLogged:!1,listenersAttached:!1},td=()=>typeof document>"u"?"unknown":document.visibilityState??"unknown",xy=()=>{if(typeof navigator>"u")return null;const o=navigator.wakeLock;return!o||typeof o.request!="function"?null:o},pd=async o=>{if(!dn.desiredActive||dn.pending||dn.sentinel)return;const r=xy();if(!r){dn.supportLogged||(dn.supportLogged=!0,await Hn("Wake Lock API unavailable; screen may sleep during recording",{reason:o,userAgent:typeof navigator<"u"?navigator.userAgent:"unknown"}));return}if(typeof document<"u"&&document.visibilityState!=="visible"){await Jt("Wake lock request deferred until page is visible",{reason:o,visibility:td()});return}dn.pending=!0;try{const m=await r.request("screen");dn.sentinel=m,m.addEventListener("release",()=>{dn.sentinel=null,dn.desiredActive&&(Hn("Wake lock released unexpectedly; retrying",{visibility:td()}),pd("released"))}),await Jt("Wake lock acquired for recording",{reason:o})}catch(m){await Hn("Wake lock request failed",{reason:o,visibility:td(),error:m instanceof Error?m.message:String(m)})}finally{dn.pending=!1}},Ey=async o=>{const r=dn.sentinel;if(r){dn.sentinel=null;try{r.released||await r.release(),await Jt("Wake lock released after recording",{reason:o})}catch(m){await Hn("Wake lock release failed",{reason:o,error:m instanceof Error?m.message:String(m)})}}},Ay=()=>{dn.listenersAttached||typeof document>"u"||(dn.listenersAttached=!0,document.addEventListener("visibilitychange",()=>{dn.desiredActive&&document.visibilityState==="visible"&&pd("visibilitychange")}))},Kc=async(o,r)=>{if(dn.desiredActive=o,o){await pd(r);return}await Ey(r)},Eu=o=>{if(!Number.isFinite(o)||o<=0)return"0.0s";const r=o/1e3;if(r<10)return`${r.toFixed(1)}s`;if(r<60)return`${r.toFixed(0)}s`;const m=Math.floor(r/60),d=r%60;return`${m}m ${d.toFixed(0).padStart(2,"0")}s`},Ty=10,wy=75e3,Lh=720,qh=12,Cy=.75,Dy=.1,Hh=3,Gh=7,Yh=(o,r=Ty)=>{if(!Number.isFinite(o)||o<=0)return 0;const m=Math.min(1,Math.max(0,o)),d=Math.log10(1+(r-1)*m),p=Math.log10(r);if(!Number.isFinite(d)||!Number.isFinite(p)||p===0)return m;const M=d/p;return Math.min(1,Math.max(0,M))},Ny=1,jy=(o,r,m,d,p)=>{if(o.length===0||r<=0||d<=0)return[];const M=[...o].sort((x,H)=>x.startMs!==H.startMs?x.startMs-H.startMs:x.endMs!==H.endMs?x.endMs-H.endMs:x.index-H.index),y=[];let A=[],b=0,v=-1/0;const N=()=>{A.length>1&&(A.push(`L ${b.toFixed(2)} ${m}`),A.push("Z"),y.push(A.join(" "))),A=[]};return M.forEach((x,H)=>{const $=(x.startMs+x.endMs)/2,et=Math.min(d,Math.max(0,x.startMs/r*d)),F=Math.min(d,Math.max(0,x.endMs/r*d)),Et=Math.min(d,Math.max(0,$/r*d)),ut=p(x.normalized),yt=Math.max(0,Math.min(m,(1-ut)*m));(A.length===0||$+Ny<v)&&(N(),A=[`M ${et.toFixed(2)} ${m}`]),A.push(`L ${Et.toFixed(2)} ${yt.toFixed(2)}`),b=Math.max(F,b),v=$,H===M.length-1&&N()}),A.length>0&&N(),y},Ry=(o,r,m)=>o.map(d=>{const p=d.startMs/r*m,M=(d.endMs-d.startMs)/r*m;return{x:p,rectWidth:M}}),zy=(o,r,m)=>o.map(d=>({x:d.positionMs/r*m})),Oy=o=>o.map(r=>({id:r.index,label:r.breakReason==="end"?"Tail":`Segment #${r.index+1}`,durationMs:r.durationMs,startMs:r.startMs,endMs:r.endMs,breakReason:r.breakReason})),ky=({analysis:o,targetRange:r,playback:m})=>{const d=w.useRef(null),p=w.useRef(null),[M,y]=w.useState(!1),[A,b]=w.useState(!1),[v,N]=w.useState(!1),x=120,H=o.stats.totalDurationMs,$=H>0?H:o.stats.frameCount*o.stats.frameDurationMs,et=typeof window<"u"?Math.min(960,Math.max(Lh,Math.floor(window.innerWidth*.8))):Lh,F=$>0?Math.max(et,Math.round($/wy*et)):et,Et=w.useId(),ut=m?.positionMs??null,yt=$>0&&F>0,ot=ut===null||!yt?null:Math.min(Math.max(ut,0),$),L=ot===null||!yt?null:ot/$,P=L===null?null:L*F,mt=w.useMemo(()=>{if(P===null||!yt)return null;const J=Math.min(F,Math.max(0,P)),it=S=>Math.max(0,Math.min(Math.max(F-S,0),J-S/2));return{center:J,mainX:it(Hh),mainWidth:Hh,glowX:it(Gh),glowWidth:Gh}},[yt,P,F]),I=!!m?.isPlaying,ct=w.useCallback(()=>{const J=d.current;if(!J){b(!1),N(!1);return}const{scrollLeft:it,clientWidth:S,scrollWidth:_}=J;b(it>qh),N(it+S<_-qh)},[]),Ht=w.useCallback(J=>{M&&J.preventDefault(),ct()},[M,ct]),se=w.useCallback(J=>{const it=d.current;it&&(it.setPointerCapture(J.pointerId),p.current={pointerId:J.pointerId,startX:J.clientX,scrollLeft:it.scrollLeft},y(!0))},[]),Wt=w.useCallback(J=>{const it=d.current,S=p.current;if(!it||!S||S.pointerId!==J.pointerId)return;J.preventDefault();const _=J.clientX-S.startX;it.scrollLeft=S.scrollLeft-_,ct()},[ct]),Pt=w.useCallback(J=>{const it=d.current,S=p.current;!it||!S||S.pointerId!==J.pointerId||(it.releasePointerCapture(J.pointerId),p.current=null,y(!1),ct())},[ct]);w.useEffect(()=>{ct()},[F,ct]),w.useEffect(()=>{const J=d.current;if(!J||mt===null||M||!I)return;const it=J.clientWidth;if(it<=0)return;const S=Math.max(0,J.scrollWidth-it);if(S<=0)return;const _=J.scrollLeft,tt=_,lt=_+it,gt=it*Cy,Nt=it*Dy;let Tt=null;mt.center>=tt+gt?Tt=Math.min(S,mt.center-gt):mt.center<=tt?Tt=Math.max(0,mt.center-Nt):mt.center>=lt&&(Tt=Math.min(S,mt.center-gt)),Tt!==null&&Math.abs(Tt-_)>.5&&(typeof J.scrollTo=="function"?J.scrollTo({left:Tt,behavior:"smooth"}):J.scrollLeft=Tt,typeof window<"u"&&typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(()=>{ct()}):ct())},[M,I,mt,ct]);const fn=w.useMemo(()=>jy(o.frames,$,x,F,Yh),[o.frames,$,x,F]),ke=w.useMemo(()=>Ry(o.quietRegions,$,F),[o.quietRegions,$,F]),Ce=w.useMemo(()=>zy(o.boundaries,$,F),[o.boundaries,$,F]),T=w.useMemo(()=>Oy(o.segments),[o.segments]),X=(1-Yh(o.stats.normalizedThreshold))*x,W=["chunking-graph-scroll",M?"is-dragging":"",A?"show-left-indicator":"",v?"show-right-indicator":""].filter(Boolean).join(" ");return f.jsxs("div",{className:"chunking-graph",children:[f.jsxs("header",{className:"chunking-graph-header",children:[f.jsx("h4",{children:"Volume histogram"}),f.jsxs("div",{className:"chunking-graph-meta",children:[f.jsxs("span",{children:["Frames: ",o.stats.frameCount]}),f.jsxs("span",{children:["Duration: ",Eu($)]})]})]}),f.jsxs("div",{className:"chunking-graph-body",children:[f.jsx("div",{className:W,ref:d,onScroll:Ht,onPointerDown:se,onPointerMove:Wt,onPointerUp:Pt,onPointerCancel:Pt,onPointerLeave:J=>{M&&Pt(J)},children:f.jsxs("svg",{className:"chunking-graph-svg",role:"img",viewBox:`0 0 ${F} ${x}`,width:F,height:x,"aria-label":"Volume histogram with proposed chunk boundaries",preserveAspectRatio:"none",children:[f.jsx("rect",{x:0,y:0,width:F,height:x,fill:"rgba(15, 23, 42, 0.85)"}),ke.map((J,it)=>f.jsx("rect",{x:J.x,y:0,width:Math.max(1.5,J.rectWidth),height:x,fill:"rgba(56, 189, 248, 0.12)"},`quiet-${it}`)),fn.map((J,it)=>f.jsx("path",{d:J,fill:`url(#${Et})`,stroke:"rgba(94, 234, 212, 0.48)",strokeWidth:1},`histogram-${it}`)),mt?f.jsxs("g",{className:"chunking-playback-indicator","aria-hidden":"true",children:[f.jsx("rect",{x:mt.glowX,y:0,width:mt.glowWidth,height:x,fill:"rgba(34, 197, 94, 0.28)"}),f.jsx("rect",{x:mt.mainX,y:0,width:mt.mainWidth,height:x,fill:"rgba(34, 197, 94, 0.95)"})]}):null,f.jsx("line",{x1:0,y1:X,x2:F,y2:X,strokeDasharray:"6 6",stroke:"rgba(250, 204, 21, 0.9)",strokeWidth:1}),Ce.map((J,it)=>f.jsxs("g",{children:[f.jsx("rect",{x:J.x-2,y:0,width:4,height:x,fill:"rgba(251, 146, 60, 0.24)"}),f.jsx("line",{x1:J.x,y1:0,x2:J.x,y2:x,stroke:"#facc15",strokeWidth:1.5})]},`boundary-${it}`)),f.jsx("defs",{children:f.jsxs("linearGradient",{id:Et,x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"0%",stopColor:"rgba(94, 234, 212, 0.55)"}),f.jsx("stop",{offset:"100%",stopColor:"rgba(56, 189, 248, 0.15)"})]})})]})}),r?f.jsxs("div",{className:"chunking-target-hint",children:["Target chunk length: ",Eu(r.minMs),"  ",Eu(r.maxMs)," (ideal"," ",Eu(r.idealMs),")"]}):null,f.jsxs("dl",{className:"chunking-stats",children:[f.jsxs("div",{children:[f.jsx("dt",{children:"Noise floor"}),f.jsx("dd",{children:o.stats.noiseFloor.toFixed(5)})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Silence threshold"}),f.jsx("dd",{children:o.stats.threshold.toFixed(5)})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Peak RMS"}),f.jsx("dd",{children:o.stats.maxRms.toFixed(5)})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Quiet regions"}),f.jsx("dd",{children:o.quietRegions.length})]}),f.jsxs("div",{children:[f.jsx("dt",{children:"Proposed breaks"}),f.jsx("dd",{children:o.boundaries.length})]})]})]}),f.jsxs("div",{className:"chunking-chunk-list",children:[f.jsx("h5",{children:"Proposed chunks"}),T.length===0?f.jsx("p",{className:"chunking-empty",children:"No proposed breaks yet. Recording may be too short or lacks silence."}):f.jsx("ul",{children:T.map(J=>f.jsxs("li",{children:[f.jsx("span",{className:"chunking-chunk-label",children:J.label}),f.jsx("span",{children:Eu(J.durationMs)})]},J.id))})]})]})},_y=w.memo(ky),Uy=/mp4|m4a/i,By=3;class od{#t;#l=!1;#n=new Map;#e=new Map;constructor(r=Mt){this.#t=r}async#i(){this.#l||(await this.#t.init(),this.#l=!0)}async ensureTimings(r){await this.#i();const m=this.#n.get(r);if(m)return m;const d=this.#t.verifySessionChunkTimings(r).then(p=>(this.#n.delete(r),p)).catch(p=>{throw this.#n.delete(r),p});return this.#n.set(r,d),d}async prepareAnalysisForSession(r){const{session:m,forceRefresh:d=!1}=r;await this.#i();let p=await this.ensureTimings(m.id);p.status!=="verified"&&p.missingChunkIds.length>0&&(await this.#m(m,p.missingChunkIds,r.mimeTypeHint),p=await this.ensureTimings(m.id));const y=(await this.#t.listChunkVolumeProfiles(m.id)).filter(P=>P.sessionId===m.id&&P.seq>=0).sort((P,mt)=>P.seq-mt.seq),A=y.reduce((P,mt)=>Math.max(P,mt.updatedAt??mt.createdAt??0),0),b=[`timeline-v${By}`,m.id,m.chunkCount,m.updatedAt??0,p.totalVerifiedDurationMs,p.status,A].join(":");if(!d){const P=this.#e.get(m.id);if(P&&P.cacheKey===b)return{sessionId:m.id,cacheKey:b,analysis:P.analysis,verification:p,frames:P.frames}}const v=await this.#t.getChunkMetadata(m.id),N=/mp4|m4a/i.test(m.mimeType??r.mimeTypeHint??""),x=[...v].filter(P=>P.seq>=0).sort((P,mt)=>P.seq-mt.seq).filter(P=>!N||P.seq!==0?!0:!(Math.max(0,P.endMs-P.startMs)<=10||P.byteLength<4096)),H=new Map;x.forEach(P=>{const mt=typeof P.verifiedAudioMsec=="number"&&P.verifiedAudioMsec>0?Math.round(P.verifiedAudioMsec):0,I=Math.max(0,Math.round(P.endMs-P.startMs)),ct=mt>0?mt:I;H.set(P.seq,ct)});const $=typeof p.totalVerifiedDurationMs=="number"&&p.totalVerifiedDurationMs>0?Math.round(p.totalVerifiedDurationMs):x.reduce((P,mt)=>P+Math.max(0,Math.round(mt.endMs-mt.startMs)),0),et=new Map;y.forEach(P=>{et.set(P.seq,P)});const F=p.baseStartMs??m.startedAt,{frames:Et,sampleRate:ut,frameDurationMs:yt,totalDurationMs:ot}=this.#a({orderedChunkSeq:x.map(P=>P.seq),profilesBySeq:et,durationsBySeq:H,durationLimitMs:$,baseStartMs:F}),L=Et.length>0?np(Et,{totalDurationMs:ot,sampleRate:ut,frameDurationMs:yt}):null;return L?this.#e.set(m.id,{cacheKey:b,analysis:L,frames:Et}):this.#e.delete(m.id),{sessionId:m.id,cacheKey:b,analysis:L,verification:p,frames:Et}}#a({orderedChunkSeq:r,profilesBySeq:m,durationsBySeq:d,durationLimitMs:p,baseStartMs:M}){let y=0;const A=[];let b=0,v=0,N=vi.frameDurationMs;return r.forEach(x=>{const H=m.get(x)??null,$=H&&Array.isArray(H.frames)?H.frames:[],et=H&&H.frameDurationMs>0?H.frameDurationMs:vi.frameDurationMs,F=d.get(x)??0,Et=Math.max(0,Math.round((H?.durationMs??0)||$.length*et)),ut=F>0?F:Et;if(p>0&&y>=p)return;const yt=y,ot=p>0?Math.max(0,Math.min(ut,p-y)):ut,L=ot>0?Math.ceil(ot/et):$.length;let P=$;if(H&&$.length>0&&F>0){const I=Math.max(0,H.durationMs??$.length*et),ct=Math.max(0,Math.round(H.chunkStartMs-M)),Ht=Math.max(ct,Math.round(H.chunkEndMs-M));if(I>F*1.5&&I>Ht*.8){const Wt=Math.max(0,Math.floor(ct/et)),Pt=Math.min($.length,Math.ceil(Ht/et));P=$.slice(Wt,Math.max(Wt,Pt))}}const mt=Math.max(0,Math.min(P.length,L));for(let I=0;I<mt;I+=1){const ct=P[I],Ht=Number.isFinite(ct)?Math.max(0,ct):0,se=yt+I*et,Wt=Math.min(yt+ot,se+et);A.push({index:b,startMs:se,endMs:Wt,rms:Ht,normalized:Ht}),b+=1}for(let I=mt;I<L;I+=1){const ct=yt+I*et,Ht=Math.min(yt+ot,ct+et);if(Ht<=ct)break;A.push({index:b,startMs:ct,endMs:Ht,rms:0,normalized:0}),b+=1}y+=ot,N=et,v===0&&H&&H.sampleRate>0&&(v=H.sampleRate)}),{frames:A,sampleRate:v,frameDurationMs:N,totalDurationMs:p>0?Math.min(y,p):y}}async#m(r,m,d){if(m.length===0)return;const p=await this.#t.getChunkData(r.id);if(p.length===0)return;const y=(p.find(v=>v.seq===0)??null)?.blob??null,A=y?.type??r.mimeType??d??"audio/mp4",b=p.filter(v=>v.seq>0&&v.blob.size>0&&m.includes(v.id));for(const v of b)try{let N=v.blob;y&&Uy.test(A)&&(N=new Blob([y,v.blob],{type:y.type||v.blob.type||A}));const x=await ap(N,{chunkId:v.id,sessionId:r.id,seq:v.seq,chunkStartMs:v.startMs,chunkEndMs:v.endMs});await this.#t.storeChunkVolumeProfile(x)}catch(N){console.warn("[SessionAnalysisProvider] Failed to regenerate chunk volume profile",{sessionId:r.id,chunkId:v.id,error:N})}}}const Vh=/mp4|m4a/i,Ly=15e3,$c=(o,r,m)=>{for(let d=0;d<m.length;d+=1)o.setUint8(r+d,m.charCodeAt(d))},Xh=(o,r)=>{const M=r*2,y=o.length*2,A=new ArrayBuffer(44+y),b=new DataView(A);$c(b,0,"RIFF"),b.setUint32(4,36+y,!0),$c(b,8,"WAVE"),$c(b,12,"fmt "),b.setUint32(16,16,!0),b.setUint16(20,1,!0),b.setUint16(22,1,!0),b.setUint32(24,r,!0),b.setUint32(28,M,!0),b.setUint16(32,2,!0),b.setUint16(34,16,!0),$c(b,36,"data"),b.setUint32(40,y,!0);let v=44;for(let N=0;N<o.length;N+=1){const x=Math.max(-1,Math.min(1,o[N])),H=x<0?Math.round(x*32768):Math.round(x*32767);b.setInt16(v,H,!0),v+=2}return new Blob([A],{type:"audio/wav"})},Qh=(o,r,m)=>{const d=o.sampleRate,p=Math.max(0,Math.floor(r/1e3*d)),M=Math.min(o.length,Math.ceil(m/1e3*d)),y=Math.max(0,M-p);if(y===0)return{samples:new Float32Array(0),sampleRate:d,durationMs:0,startMs:r,endMs:r};if(o.numberOfChannels===1){const v=o.getChannelData(0).slice(p,M),N=v.length/d*1e3;return{samples:v,sampleRate:d,durationMs:N,startMs:r,endMs:r+N}}const A=new Float32Array(y);for(let v=0;v<o.numberOfChannels;v+=1){const N=o.getChannelData(v);for(let x=0;x<y;x+=1)A[x]+=N[p+x]/o.numberOfChannels}const b=A.length/d*1e3;return{samples:A,sampleRate:d,durationMs:b,startMs:r,endMs:r+b}};class qy{#t;#l;#n=null;constructor(r=Mt,m){this.#t=r,this.#l=m??new od(r)}async#e(){await this.#t.init()}async listChunks(r){return await this.#e(),await this.#t.getChunkData(r)}async listSnips(r,m){await this.#e();const d=await this.#t.listSnips(r.id),p=d.length>0?d[d.length-1].endMs:0,M=Math.max(0,r.durationMs??0),y=r.status==="recording",A=y?Ly:0,b=y?vi.minSegmentMs+A:0,v=Math.max(0,M-p);if(!(d.length===0||(y?v>=b:M>0&&p<Math.max(0,M-1e3))))return d;const x=await this.#l.prepareAnalysisForSession({session:r,mimeTypeHint:m??r.mimeType??null,forceRefresh:y}),H=x.analysis?.stats.totalDurationMs??x.frames[x.frames.length-1]?.endMs??0;if(H<=p+200)return d;const $=Math.min(Math.max(0,p),H),et=H,F=Math.max(0,et-$);if(F<=0||y&&F<b)return d;const ut=$g({frames:x.frames,windowStartMs:$,windowEndMs:et,sampleRate:x.analysis?.stats.sampleRate??0,frameDurationMs:x.analysis?.stats.frameDurationMs??vi.frameDurationMs}).analysis?.segments??[];if(ut.length===0)return d;const yt=y?Math.max(0,F-A):F,ot=d.reduce((P,mt)=>Math.max(P,mt.index),-1)+1,L=[];return ut.forEach(P=>{P.endMs<=0||P.endMs>yt||L.push({index:ot+L.length,startMs:$+P.startMs,endMs:$+P.endMs,durationMs:P.durationMs,breakReason:P.breakReason,boundaryIndex:P.boundaryIndex})}),L.length===0?d:await this.#t.appendSnips(r.id,L)}async getChunkAudio(r,m){await this.#e();const d=await this.#t.getChunkData(r.id),p=d.find(F=>F.seq===m)??null;if(!p)return null;const M=d.find(F=>F.seq===0)??null,y=p.blob.type||r.mimeType||"audio/mpeg",b=M&&M.id!==p.id&&Vh.test(y)?new Blob([M.blob,p.blob],{type:y}):p.blob,v=p.startMs,N=p.endMs,x=Math.max(0,N-v),H=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-"),$=String(m+1).padStart(2,"0"),et=/mpeg/i.test(y)?"mp3":/webm/i.test(y)?"webm":/mp4|m4a/i.test(y)?"mp4":"bin";return{kind:"chunk",sessionId:r.id,startMs:v,endMs:N,durationMs:x,mimeType:b.type||y,blob:b,suggestedFilename:`${H}_chunk-${$}.${et}`}}async#i(){if(typeof window>"u"||typeof window.AudioContext>"u")throw new Error("AudioContext is not supported in this environment.");return this.#n?this.#n:(this.#n=new AudioContext,this.#n)}async#a(r){await this.#e();const m=await this.#t.getChunkData(r.id),d=r.mimeType??"",M=/mp4|m4a/i.test(d)?m.find(x=>x.seq===0&&(x.endMs-x.startMs<=10||x.byteLength<4096))??null:null,y=m.filter(x=>!M||x.id!==M.id).filter(x=>!x.audioPurgedAt&&x.byteLength>0&&x.blob.size>0).sort((x,H)=>x.seq-H.seq),A=M?.startMs??(y.length>0?y[0].startMs:r.startedAt??Date.now()),b=Number.isFinite(A)?Math.round(A):Date.now(),v=b>1e12,N=y.map(x=>{const H=v?x.startMs-b:x.startMs,$=v?x.endMs-b:x.endMs;return{...x,startOffsetMs:Math.max(0,H),endOffsetMs:Math.max(0,$)}});return{baseStartMs:b,headerChunk:M,playable:N}}async#m(r,m,d){const p=m.blob.type||r.mimeType||"audio/mp4",M=d&&d.id!==m.id&&Vh.test(p),y=M?new Blob([d.blob,m.blob],{type:p}):m.blob,A=await this.#i();try{const b=await y.arrayBuffer();return await A.decodeAudioData(b.slice(0))}catch(b){const v=b instanceof Error?b.message:String(b),N=[`session=${r.id}`,`chunk=${m.id}`,`seq=${m.seq}`,`bytes=${y.size}`,`mime=${p}`,M?"init=1":"init=0"].join(" ");throw new Error(`Failed to decode chunk audio (${N})${v?`: ${v}`:""}`)}}async#f(r,m,d){const p=Math.max(0,m),M=Math.max(p,d),{headerChunk:y,playable:A}=await this.#a(r);if(A.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const b=A.filter(ut=>ut.startOffsetMs<M&&ut.endOffsetMs>p).sort((ut,yt)=>ut.seq-yt.seq);if(b.length===0)return{samples:new Float32Array(0),sampleRate:0,durationMs:0,startMs:p,endMs:p};const v=[];for(const ut of b){const yt=await this.#m(r,ut,y),ot=Math.max(0,yt.duration*1e3),L=Math.max(0,ut.endOffsetMs-ut.startOffsetMs),P=L>0&&ot>L*1.5&&ot>ut.endOffsetMs*.8;v.push({chunk:ut,buffer:yt,bufferDurationMs:ot,expectedChunkDurationMs:L,isCumulative:P})}if(v.some(ut=>ut.isCumulative)){const ut=v.find(L=>L.bufferDurationMs>=M-10)??v[v.length-1],yt=ut.buffer.sampleRate,ot=Qh(ut.buffer,p,M);return{samples:ot.samples,sampleRate:yt,durationMs:ot.durationMs,startMs:p,endMs:p+ot.durationMs}}const x=[];let H=0,$=0;for(const ut of v){const yt=ut.chunk,ot=ut.buffer;$===0&&($=ot.sampleRate);const L=ot.duration*1e3,P=Math.max(0,p-yt.startOffsetMs),mt=Math.min(L,M-yt.startOffsetMs);if(mt<=P)continue;const I=Qh(ot,P,mt);x.push(I.samples),H+=I.samples.length}if($===0||H===0)return{samples:new Float32Array(0),sampleRate:$,durationMs:0,startMs:p,endMs:p};const et=new Float32Array(H);let F=0;x.forEach(ut=>{et.set(ut,F),F+=ut.length});const Et=et.length/$*1e3;return{samples:et,sampleRate:$,durationMs:Et,startMs:p,endMs:p+Et}}async getRangeAudio(r,m,d,p){const M=await this.#f(r,m,d),y=Xh(M.samples,M.sampleRate),A=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-");return{kind:"snip",sessionId:r.id,startMs:M.startMs,endMs:M.endMs,durationMs:M.durationMs,mimeType:y.type,blob:y,suggestedFilename:`${A}_snip-${Math.round(M.startMs)}-${Math.round(M.endMs)}.wav`}}async getSessionAudio(r){await this.#e();const{playable:m}=await this.#a(r);if(m.length===0)throw new Error("No playable audio available for download.");const d=m.reduce((v,N)=>Math.max(v,N.endOffsetMs),0),p=Math.max(0,r.durationMs??0),M=p>0?p:d,y=await this.#f(r,0,M);if(y.sampleRate<=0||y.samples.length===0)throw new Error("No audio samples decoded for download.");const A=Xh(y.samples,y.sampleRate),b=new Date(r.startedAt??Date.now()).toISOString().replace(/[:.]/g,"-");return{kind:"session",sessionId:r.id,startMs:y.startMs,endMs:y.endMs,durationMs:y.durationMs,mimeType:A.type,blob:A,suggestedFilename:`${b}_session.wav`}}async inspectRange(r,m,d,p){const M=await this.#f(r,m,d),{samples:y,sampleRate:A}=M,b=y.length;let v=0,N=0;for(let H=0;H<b;H+=1){const $=y[H];v+=$*$;const et=Math.abs($);et>N&&(N=et)}const x=b>0?Math.sqrt(v/b):0;return{startMs:M.startMs,endMs:M.endMs,durationMs:M.durationMs,sampleRate:A,sampleCount:b,rms:x,peak:N}}async getSnipAudio(r,m,d){const p=await this.listSnips(r,d),M=m-1,y=p[M];return y?await this.getRangeAudio(r,y.startMs,y.endMs,d):null}clearSession(r){}}const gn=new qy,Hy=1024*1024,Gy={pauseSensitivity:.5,minPauseMs:400,maxPauseMs:2600,windowMs:3e4,overlapMs:800,targetBitrate:64e3,groqApiKey:"",transcriptionOnboardingDismissed:!1,developerMode:!1,storageLimitBytes:200*Hy},ip="durable-recorder-settings";function dd(o){const r={...Gy,...o};return o&&typeof o.transcriptionOnboardingDismissed=="boolean"||(r.transcriptionOnboardingDismissed=!1),r}function Yy(){if(typeof window>"u")return null;const o=window.localStorage.getItem(ip);if(!o)return null;try{const r=JSON.parse(o);return r?dd(r):null}catch(r){return console.warn("[SettingsStore] Failed to parse settings",r),null}}function Vy(o){typeof window>"u"||window.localStorage.setItem(ip,JSON.stringify(o))}class Xy{#t;#l=new Set;constructor(){this.#t=Yy()??dd(null)}async get(){return this.#t}async set(r){return this.#t=dd({...this.#t,...r}),Vy(this.#t),this.#l.forEach(m=>m(this.#t)),this.#t}subscribe(r){return this.#l.add(r),r(this.#t),()=>this.#l.delete(r)}}const hi=new Xy,Qy="https://api.groq.com/openai/v1/audio/transcriptions",Zy="https://api.groq.com/openai/v1/models",Zh="whisper-large-v3-turbo",ed=(o,r)=>{const m=(r??"").trim();return m?[Number.isFinite(o)?Math.max(0,(o??0)*1e3):0,m]:null},Ky=o=>{const r=[];if(Array.isArray(o.segments)&&o.segments.forEach(m=>{const d=ed(m.start,m.text);d&&r.push(d)}),r.length===0&&Array.isArray(o.words)&&o.words.length>0){const m=o.words.map(d=>(d.word??d.text??"").trim()).filter(d=>d.length>0).join(" ").trim();if(m){const d=o.words.find(M=>Number.isFinite(M.start))?.start,p=ed(d,m);p&&r.push(p)}}if(r.length===0&&typeof o.text=="string"){const m=ed(0,o.text);m&&r.push(m)}return r},$y=async o=>{const r=o.trim();if(!r)return{ok:!1,message:"Groq API key missing."};const m=await fetch(Zy,{method:"GET",headers:{Authorization:`Bearer ${r}`}});if(m.ok)return{ok:!0,status:m.status};let d=`Groq key validation failed (${m.status})`;try{const p=await m.json();p?.error?.message&&(d=p.error.message)}catch{}return{ok:!1,status:m.status,message:d}};class Jy{async enqueue(r){throw console.info("[GroqTranscriptionService] enqueue",r.jobId),new Error("Queued transcription is not yet implemented.")}async cancel(r){console.info("[GroqTranscriptionService] cancel",r)}refreshSettings(){console.info("[GroqTranscriptionService] refreshSettings noop")}async transcribeAudio(r){const m=r.apiKey.trim();if(!m)throw new Error("Groq API key is missing. Add it in Settings to start transcription.");const d=`snip-${Date.now()}.wav`,p=r.audio instanceof File?r.audio:new File([r.audio],d,{type:r.audio.type||"audio/wav"}),M=new FormData;M.append("file",p),M.append("model",r.model??Zh),M.append("response_format","verbose_json"),M.append("timestamp_granularities[]","word"),r.temperature!==void 0&&M.append("temperature",String(r.temperature)),r.language&&M.append("language",r.language);const y=await fetch(Qy,{method:"POST",headers:{Authorization:`Bearer ${m}`},body:M}),A=await y.text();if(!y.ok){let x=`Groq transcription failed (${y.status})`;try{const H=JSON.parse(A);H?.error?.message&&(x=H.error.message)}catch{A&&(x=`${x}: ${A}`)}throw new Error(x)}const b=JSON.parse(A),v=Ky(b);return{text:typeof b.text=="string"?b.text.trim():v.map(x=>x[1]).join(" ").trim(),segments:v,model:r.model??Zh,language:b.language??r.language??null}}}const Iy=new Jy,Fy={recording:{label:"Recording",pillClass:"pill-progress"},transcribing:{label:"Transcribing",pillClass:"pill-progress"},ready:{label:"Ready",pillClass:"pill-synced"},partial:{label:"Part TX",pillClass:"pill-attention"},untranscribed:{label:"TX failed",pillClass:"pill-attention"},error:{label:"Error",pillClass:"pill-attention"}},fd=1024*1024,Kh=200*fd,$h="whisper-large-v3-turbo",Jh=180,Wy=3e3,Py=60,Ih=12e4,gi=[3e3,5e3,1e4],Fh=gi.length,Wh=12e4,Ph="Audio was purged to stay under the storage cap. Transcription retries are disabled.",nd="https://console.groq.com/keys",t0="https://groq.com/pricing",e0=3e3,tp=[3e3,6e3,9e3,12e3],md=o=>new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit"}).format(new Date(o)),up=o=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(new Date(o)),n0=o=>{const r=Math.max(0,Math.round(o/1e3)),m=Math.floor(r/60),d=r%60,p=Math.floor(m/60),M=m%60;return p>0?`${p}h ${M.toString().padStart(2,"0")}m`:`${M}m ${d.toString().padStart(2,"0")}s`},bs=o=>{if(!Number.isFinite(o)||o<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let m=o,d=0;for(;m>=1024&&d<r.length-1;)m/=1024,d+=1;return`${new Intl.NumberFormat(void 0,{maximumSignificantDigits:4,minimumSignificantDigits:1}).format(m)} ${r[d]}`},a0=o=>{if(!Number.isFinite(o)||o<=0)return"0 B";const r=["B","KB","MB","GB","TB"];let m=o,d=0;for(;m>=1024&&d<r.length-1;)m/=1024,d+=1;return`${Math.round(m)} ${r[d]}`},l0=(o,r)=>{const m=Number.isFinite(r)&&r>0?r:0,d=o+m,p=new Date(o),M=new Date(d);return p.toDateString()!==M.toDateString()?`${up(d)} ${md(d)}`:md(d)},s0=o=>{const r=Math.max(0,Math.round(o/1e3)),m=Math.floor(r/3600),d=Math.floor(r%3600/60),p=r%60;return m>0?`${m}:${d.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`:d>0?`${d}:${p.toString().padStart(2,"0")}`:`0:${p.toString().padStart(2,"0")}`},i0=o=>new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(o)),pi=o=>{if(!Number.isFinite(o))return"0:00";const r=Math.max(0,o),m=Math.floor(r/60),d=Math.floor(r%60);return`${m}:${d.toString().padStart(2,"0")}`},u0=(o,r)=>{const m=o.trim();if(!m)return"";const d=m.split(/\s+/);return d.length<=r?m:d.slice(-r).join(" ")},cp={hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},c0=(()=>{try{return new Intl.DateTimeFormat(void 0,{...cp,fractionalSecondDigits:2})}catch{return null}})(),r0=new Intl.DateTimeFormat(void 0,cp),o0=o=>(c0??r0).format(new Date(o)),Ka=o=>{const r=o.transcription?.text?.trim()??"";if(r)return r;const m=o.transcription?.segments??[];return m.length===0?"":m.map(d=>d[1]).join(" ").trim()},ep=o=>{const r=o.map(m=>Ka(m)).filter(m=>m.length>0).join(" ").trim();return r?r.length<=Jh?r:`${r.slice(0,Jh).trimEnd()}...`:""},ad=o=>new Promise(r=>window.setTimeout(r,o));function d0(){const[o,r]=w.useState(null),[m,d]=w.useState([]),[p,M]=w.useState(null),[y,A]=w.useState([]),[b,v]=w.useState([]),[N,x]=w.useState({}),[H,$]=w.useState({}),[et,F]=w.useState({}),[Et,ut]=w.useState({}),[yt,ot]=w.useState({}),[L,P]=w.useState(vs.state),[mt,I]=w.useState(null),[ct,Ht]=w.useState({totalBytes:0,limitBytes:Kh}),[se,Wt]=w.useState([]),[Pt,fn]=w.useState(null),[ke,Ce]=w.useState(!1),[T,X]=w.useState(!1),[W,J]=w.useState(null),[it,S]=w.useState(null),[_,tt]=w.useState(1),[lt,gt]=w.useState(!1),[Nt,Tt]=w.useState(!1),[Je,te]=w.useState(!1),[Bl,Ja]=w.useState(!1),[Ms,wa]=w.useState(!1),[fa,Ca]=w.useState([]),[Da,Ia]=w.useState(null),[xs,Na]=w.useState("tables"),[Dn,Fa]=w.useState([]),[Fn,bi]=w.useState(null),[ln,Es]=w.useState([]),[Gn,Ll]=w.useState(!1),[yn,Si]=w.useState("chunks"),[ql,Au]=w.useState(!1),[Ie,Wn]=w.useState({chunkCoverageScan:!0,rangeAccessScan:!0,chunkDecodeScan:!0,sanityChecks:!0,snipScan:!0}),[ve,Nn]=w.useState(!1),[Be,Le]=w.useState(null),[Tu,Mi]=w.useState(null),[Hl,ma]=w.useState(null),[Gl,Pn]=w.useState(null),[xe,ja]=w.useState(null),[wu,xi]=w.useState(!1),[As,ta]=w.useState(null),[ea,na]=w.useState({playing:!1,duration:0,position:0}),[Wa,Ts]=w.useState(null),[ha,Pa]=w.useState(!1),[tl,Yn]=w.useState("idle"),[aa,ce]=w.useState(null),[_e,sn]=w.useState(null),[Yl,ws]=w.useState({}),[Cs,Ei]=w.useState(!1),[Vl,Ds]=w.useState(!1),[la,Ra]=w.useState(null),[el,pa]=w.useState(0),[be,Xl]=w.useState(null),[Ql,Vn]=w.useState(!1),[Xn,Ai]=w.useState(!1),[Ti,Ns]=w.useState(null),[Ee,Qn]=w.useState("missing"),[za,Fe]=w.useState(null),fe=w.useRef(null),wi=w.useRef(null),Ci=w.useRef(null),mn=w.useRef(null),nl=w.useRef(null),sa=w.useRef(new Map),We=w.useRef(new Map),qe=w.useRef(new Map),hn=w.useRef(new Map),al=w.useRef(new Map),js=w.useRef(null),ga=w.useRef(null),ll=w.useRef(null),sl=w.useRef(-1),jn=w.useRef(null),Zl=w.useRef(null),Kl=w.useRef(0),Rs=w.useRef(new Map),$l=w.useRef(!1),zs=w.useRef(null),Di=w.useRef(new Set),il=w.useRef({sessionId:null,active:!1,pending:[],pendingIds:new Set,retryCounts:new Map,lastSuccessAt:0}),Rn=w.useRef(!1),Jl=w.useRef(!1),Os=w.useRef(0),ya=w.useRef(null),ia=w.useRef(0),ks=w.useRef(null),vn=w.useRef(null),He=o?.developerMode??!1,Zn=o?.storageLimitBytes??Kh,De=!!o?.groqApiKey?.trim(),Il=De&&Ee==="valid",Ne=w.useMemo(()=>De?Ee==="invalid"?za??"Groq API key validation failed. Retry validation in Settings.":Ee==="validating"?"Validating Groq API key...":Ee==="unchecked"?"Groq API key pending validation...":null:"Groq API key missing. Paste it in Settings to enable transcription.",[De,za,Ee]),Ot=Ne===null,Ni=!!(o&&!o.transcriptionOnboardingDismissed&&!De),_s=Il?"Enabled":Ee==="validating"||Ee==="unchecked"?"Checking key":Ee==="invalid"?"Key invalid":"Disabled",Cu=Il?"is-good":De?"is-warn":"is-muted",Us=De?Ee==="valid"?"Valid":Ee==="validating"?"Validating":Ee==="invalid"?"Invalid":"Pending":"Missing",Bs=Ee==="valid"?"is-good":Ee==="validating"?"is-warn":Ee==="invalid"?"is-bad":"is-muted",Ls=w.useCallback(async()=>{const i=o?.groqApiKey?.trim()??"";if(!i)return Qn("missing"),Fe(null),!1;Qn("validating"),Fe(null);try{const c=await $y(i);return c.ok?(Qn("valid"),Fe(null),!0):(Qn("invalid"),Fe(c.message??"Groq API key validation failed."),!1)}catch(c){const g=c instanceof Error?c.message:String(c);return Qn("invalid"),Fe(g),!1}},[o?.groqApiKey]);w.useEffect(()=>{const i=o?.groqApiKey?.trim()??"";if(!i){ks.current=null,vn.current&&(window.clearTimeout(vn.current),vn.current=null),Qn("missing"),Fe(null);return}ks.current!==i&&(ks.current=i,Qn("unchecked"),Fe(null))},[o?.groqApiKey]),w.useEffect(()=>{if(!(!De||Ee!=="unchecked"))return vn.current&&window.clearTimeout(vn.current),vn.current=window.setTimeout(()=>{vn.current=null,Ls()},600),()=>{vn.current&&(window.clearTimeout(vn.current),vn.current=null)}},[De,Ls,Ee]);const Ge=w.useMemo(()=>{const i=se.map(g=>Ka(g)).filter(g=>g.length>0);return i.length===0?[]:i.slice(-2).map(g=>u0(g,Py)).filter(g=>g.length>0)},[se]),Gt=w.useCallback(i=>!!i.audioPurgedAt,[]),Ye=w.useCallback(i=>!!i.audioPurgedAt||i.byteLength<=0||i.blob.size<=0,[]);w.useEffect(()=>{Ai(!1),Ns(null)},[p]);const va=w.useCallback((i,c)=>{const g=ep(c),C=c.filter(G=>!!G.transcriptionError).length,j=c.filter(G=>Ka(G).length>0).length,U=c.filter(G=>Gt(G)).length,Y=c.length,K=Math.max(0,Y-U);x(G=>{if(!g){if(!(i in G))return G;const nt={...G};return delete nt[i],nt}return G[i]===g?G:{...G,[i]:g}}),$(G=>{if(C===0){if(!(i in G))return G;const nt={...G};return delete nt[i],nt}return G[i]===C?G:{...G,[i]:C}}),F(G=>{if(Y===0){if(!(i in G))return G;const at={...G};return delete at[i],at}const nt=G[i];return nt&&nt.transcribedCount===j&&nt.total===Y&&nt.purgedCount===U&&nt.retryableCount===K?G:{...G,[i]:{transcribedCount:j,total:Y,purgedCount:U,retryableCount:K}}})},[Gt]),Du=w.useCallback(async i=>{try{const c=await Promise.all(i.map(async U=>{if(U.status!=="ready")return[U.id,"",0,0,0,0,0];const Y=await Mt.listSnips(U.id),K=Y.filter(At=>!!At.transcriptionError).length,G=Y.filter(At=>Ka(At).length>0).length,nt=Y.filter(At=>Gt(At)).length,at=Y.length,ht=Math.max(0,at-nt);return[U.id,ep(Y),K,G,at,nt,ht]})),g={},C={},j={};c.forEach(([U,Y,K,G,nt,at,ht])=>{Y&&(g[U]=Y),K>0&&(C[U]=K),nt>0&&(j[U]={transcribedCount:G,total:nt,purgedCount:at,retryableCount:ht})}),x(g),$(C),F(j)}catch(c){await on("Transcription preview load failed",{error:c instanceof Error?c.message:String(c)})}},[Gt]),Pe=w.useCallback(async()=>{await Mt.init(),await Mt.purgeLegacyMp4Sessions();const i=zs.current??new od;zs.current=i;const[c,g]=await Promise.all([Mt.listSessions(),Mt.storageTotals()]),C=Rs.current;let j=null;if($l.current)for(const Y of c){if(Y.status!=="ready"||Y.chunkCount===0||!C.has(Y.id))continue;const K=C.get(Y.id);K!==void 0&&K!==Y.updatedAt&&(!j||Y.updatedAt>j.updatedAt)&&(j=Y)}Rs.current=new Map(c.map(Y=>[Y.id,Y.updatedAt])),$l.current?j&&fn(j.id):$l.current=!0,d(c),Ht({totalBytes:g.totalBytes,limitBytes:Zn}),Du(c),c.filter(Y=>Y.chunkCount>0&&(Y.timingStatus??"unverified")!=="verified").forEach(Y=>{i.ensureTimings(Y.id).then(K=>{const G=K.session;K.status!=="verified"||!G||(d(nt=>nt.map(at=>at.id===G.id?{...at,...G}:at)),Rs.current.set(G.id,G.updatedAt))}).catch(K=>{console.warn("[UI] Session timing verification failed",{sessionId:Y.id,error:K})})})},[Du,Zn]),ba=w.useCallback(async i=>{if(Jl.current)return;const c=Date.now(),g=!i?.force;if(!(g&&c-Os.current<Wh)){Jl.current=!0,Os.current=c;try{await Mt.init();const C=await Mt.applyRetentionPolicy({limitBytes:Zn,now:c});C.purgedChunkIds.length>0&&await Jt("Storage retention purged audio",{beforeBytes:C.beforeBytes,afterBytes:C.afterBytes,limitBytes:C.limitBytes,purgedChunks:C.purgedChunkIds.length,purgedSnips:C.purgedSnipIds.length,reason:i?.reason??(g?"debounced":"manual")}),C.afterBytes>C.limitBytes&&await Hn("Storage retention unable to meet cap",{beforeBytes:C.beforeBytes,afterBytes:C.afterBytes,limitBytes:C.limitBytes,purgedChunks:C.purgedChunkIds.length,reason:i?.reason??(g?"debounced":"manual")}),Ht({totalBytes:C.afterBytes,limitBytes:Zn})}catch(C){await on("Storage retention pass failed",{error:C instanceof Error?C.message:String(C),reason:i?.reason??(g?"debounced":"manual")})}finally{Jl.current=!1}}},[Zn]);w.useEffect(()=>hi.subscribe(i=>r({...i})),[]),w.useEffect(()=>{o?.storageLimitBytes!=null&&ba({force:!0,reason:"settings-change"})},[ba,o?.storageLimitBytes]),w.useEffect(()=>(dy(),()=>{fy()}),[]),w.useEffect(()=>{Ay()},[]),w.useEffect(()=>{Mt.reconcileDanglingSessions()},[]),w.useEffect(()=>vs.subscribe(c=>P({...c})),[]),w.useEffect(()=>{L.state==="idle"&&(ll.current=null)},[L.state]),w.useEffect(()=>{const i=L.state==="recording";Kc(i,i?"recording-active":"recording-inactive")},[L.state]),w.useEffect(()=>{if(L.state!=="recording"||!L.sessionId){ya.current=L.sessionId??null,ia.current=L.chunksRecorded;return}ya.current!==L.sessionId&&(ya.current=L.sessionId,ia.current=0),L.chunksRecorded>ia.current&&(ia.current=L.chunksRecorded,ba({reason:"chunk-written"}))},[L.chunksRecorded,L.sessionId,L.state,ba]),w.useEffect(()=>{if(L.state!=="recording")return;let i=!1;const c=()=>{i||ba()},g=window.setInterval(c,Wh);return c(),()=>{i=!0,window.clearInterval(g)}},[L.state,ba]),w.useEffect(()=>{const i=c=>{const g=c.target;let C="unknown";g instanceof HTMLElement&&(C=g.tagName.toLowerCase(),g.id?C+=`#${g.id}`:g.classList.length>0&&(C+=`.${g.classList[0]}`)),ga.current={type:c.type,target:C,timestamp:Date.now()}};return window.addEventListener("pointerdown",i,!0),window.addEventListener("keydown",i,!0),()=>{window.removeEventListener("pointerdown",i,!0),window.removeEventListener("keydown",i,!0)}},[]),w.useEffect(()=>{Pe()},[Pe]),w.useEffect(()=>{L.state==="recording"&&!p?(Ce(!0),requestAnimationFrame(()=>X(!0))):X(!1)},[L.state,p]),w.useEffect(()=>{L.state!=="recording"&&Wt([])},[L.state]),w.useEffect(()=>{if(!Pt)return;const i=window.setTimeout(()=>fn(null),2400);return()=>window.clearTimeout(i)},[Pt]),w.useEffect(()=>{if(T||!ke)return;const i=window.setTimeout(()=>Ce(!1),400);return()=>window.clearTimeout(i)},[ke,T]),w.useEffect(()=>{if(!T)return;const i=js.current;i&&(i.scrollTop=i.scrollHeight)},[T,Ge]),w.useEffect(()=>{if(typeof window>"u"||!("ontouchstart"in window))return;const i=g=>{g.touches.length>1&&g.preventDefault()},c=g=>{g.preventDefault()};return document.addEventListener("touchmove",i,{passive:!1}),document.addEventListener("gesturestart",c),document.addEventListener("gesturechange",c),document.addEventListener("gestureend",c),()=>{document.removeEventListener("touchmove",i),document.removeEventListener("gesturestart",c),document.removeEventListener("gesturechange",c),document.removeEventListener("gestureend",c)}},[]),w.useEffect(()=>{let i=!1;if(!p){A([]),v([]),ws({}),Ll(!1),Pa(!1),ce(null),Yn("idle"),sn(null);return}return ws({}),(async()=>{const[c,g]=await Promise.all([Mt.getChunkData(p),Mt.listSnips(p)]);i||(A(c),v(g))})(),()=>{i=!0}},[p]),w.useEffect(()=>{const i=fe.current;if(!i)return;const c=()=>na(G=>({...G,position:i.currentTime})),g=()=>na(G=>({...G,duration:Number.isFinite(i.duration)?i.duration:0})),C=()=>{nl.current!==null&&(window.cancelAnimationFrame(nl.current),nl.current=null)},j=()=>{na(G=>({...G,position:i.currentTime})),nl.current=window.requestAnimationFrame(j)},U=()=>{na(G=>({...G,playing:!0})),C(),nl.current=window.requestAnimationFrame(j)},Y=()=>{na(G=>({...G,playing:!1})),C()},K=()=>{na(G=>({...G,playing:!1,position:i.duration||G.position})),C()};return i.addEventListener("timeupdate",c),i.addEventListener("durationchange",g),i.addEventListener("play",U),i.addEventListener("pause",Y),i.addEventListener("ended",K),()=>{C(),i.removeEventListener("timeupdate",c),i.removeEventListener("durationchange",g),i.removeEventListener("play",U),i.removeEventListener("pause",Y),i.removeEventListener("ended",K)}},[p]),w.useEffect(()=>{const i=sa.current,c=We.current,g=new Set(y.map(C=>C.id));Array.from(i.entries()).forEach(([C,j])=>{g.has(C)||(URL.revokeObjectURL(j),i.delete(C))});for(const[C,j]of c.entries())g.has(C)||(j.cleanup(),j.audio.pause(),j.audio.currentTime=j.startTime,c.delete(C));J(C=>C&&g.has(C)?C:null)},[y]),w.useEffect(()=>{const i=qe.current,c=hn.current,g=new Set(b.map(C=>C.id));Array.from(i.entries()).forEach(([C,j])=>{g.has(C)||(URL.revokeObjectURL(j),i.delete(C))}),Array.from(al.current.keys()).forEach(C=>{g.has(C)||al.current.delete(C)});for(const[C,j]of c.entries())g.has(C)||(j.cleanup(),j.audio.pause(),j.audio.currentTime=j.startTime,c.delete(C));S(C=>C&&g.has(C)?C:null)},[b]),w.useEffect(()=>()=>{We.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),We.current.clear(),sa.current.forEach(i=>URL.revokeObjectURL(i)),sa.current.clear()},[]),w.useEffect(()=>{Gn||(We.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),We.current.clear(),J(null),hn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),hn.current.clear(),S(null))},[Gn]),w.useEffect(()=>{We.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),We.current.clear(),J(null),hn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),hn.current.clear(),S(null)},[yn]),w.useEffect(()=>{const i=fe.current;i&&(i.volume=_),We.current.forEach(c=>{c.audio.volume=_}),hn.current.forEach(c=>{c.audio.volume=_})},[_]),w.useEffect(()=>{He||(Ja(!1),Ll(!1),Pa(!1),ce(null),Yn("idle"),sn(null),Ca([]),Ia(null),Na("tables"),Fa([]),bi(null),Es([]))},[He]),w.useEffect(()=>()=>{mn.current&&(URL.revokeObjectURL(mn.current),mn.current=null)},[]);const q=w.useMemo(()=>m.find(i=>i.id===p)??null,[m,p]),Ae=w.useMemo(()=>{const i=b.map(C=>Ka(C)).filter(C=>C.length>0),c=b.filter(C=>!!C.transcriptionError).length,g=b.filter(C=>Gt(C)).length;return{text:i.join(" ").trim(),transcribedCount:i.length,errorCount:c,total:b.length,purgedCount:g,retryableCount:Math.max(0,b.length-g)}},[Gt,b]);w.useEffect(()=>{if(!q){Ts(null);return}Ts(q.durationMs)},[q]),w.useEffect(()=>{q?.id&&va(q.id,b)},[q?.id,b,va]),w.useEffect(()=>{if(!q?.id){Ci.current=null;return}if(!Ae.text||Ci.current===q.id)return;Ci.current=q.id;const i=window.setTimeout(()=>{const c=wi.current;c&&(c.focus(),c.select())},80);return()=>window.clearTimeout(i)},[q?.id,Ae.text]),w.useEffect(()=>{if(!(He&&q&&(ha||Gn&&yn==="snips"))){Yn("idle"),ce(null),sn(null);return}if(q.chunkCount===0){Yn("error"),sn("No audio chunks available yet. Capture a few seconds of audio and try again."),ce(null);return}const c=zs.current??new od;zs.current=c;let g=!1;return Yn("loading"),sn(null),ce(null),(async()=>{try{const C=await c.prepareAnalysisForSession({session:q,mimeTypeHint:q.mimeType??null});if(g)return;if(C.analysis){ce(C.analysis),Yn("ready"),sn(null);try{const j=await gn.listSnips(q,q.mimeType??null);g||v(j)}catch(j){g||await on("Failed to refresh snip segments",{sessionId:q.id,error:j instanceof Error?j.message:String(j)})}}else{ce(null),Yn("error");const j=C.verification.missingChunkIds.length;sn(j>0?`Waiting on verified audio durations for ${j} chunk${j===1?"":"s"}.`:"No volume profiles available yet. Capture additional audio and retry.")}}catch(C){if(g)return;const j=C instanceof Error?C.message:String(C);Yn("error"),sn(j),on("Session analysis failed",{sessionId:q.id,error:j})}})(),()=>{g=!0}},[He,Gn,yn,ha,q?.id,q?.updatedAt,q?.chunkCount,q?.mimeType]);const Ve=w.useCallback(i=>{const c=i.blob.type||q?.mimeType||"";if(!/mp4|m4a/i.test(c))return!1;const C=Math.max(0,i.endMs-i.startMs);return i.seq===0&&(C<=10||i.byteLength<4096)},[q?.mimeType]),ul=w.useMemo(()=>y.find(Ve)??null,[y,Ve]),Nu=w.useMemo(()=>y.filter(i=>!Ve(i)&&!Ye(i)).length,[y,Ye,Ve]),ju=w.useCallback(i=>{const c=i.blob.type||q?.mimeType||"audio/mp4";return!ul||ul.id===i.id||!/mp4|m4a/i.test(c)?i.blob:new Blob([ul.blob,i.blob],{type:c})},[ul,q?.mimeType]),cl=w.useCallback(i=>{if(Ye(i))return null;const c=sa.current,g=c.get(i.id);if(g)return g;const C=ju(i),j=URL.createObjectURL(C);return c.set(i.id,j),j},[ju,Ye]),Wc=w.useCallback(i=>{const c=cl(i);if(!c)return;const g=q?.startedAt??i.startMs??Date.now(),C=new Date(g).toISOString().replace(/[:.]/g,"-"),j=String(i.seq+1).padStart(2,"0"),U=i.blob.type||q?.mimeType||"application/octet-stream",Y=/mpeg/i.test(U)?"mp3":/webm/i.test(U)?"webm":/mp4|m4a/i.test(U)?"mp4":"bin",K=document.createElement("a");K.href=c,K.download=`${C}_chunk-${j}.${Y}`,K.rel="noopener",document.body.appendChild(K),K.click(),document.body.removeChild(K)},[cl,q?.mimeType,q?.startedAt]),Pc=w.useCallback(async()=>{if(q&&!Xn){Ns(null),Ai(!0);try{const i=await gn.getSessionAudio(q),c=URL.createObjectURL(i.blob),g=document.createElement("a");g.href=c,g.download=i.suggestedFilename||"session.wav",g.rel="noopener",document.body.appendChild(g),g.click(),document.body.removeChild(g),window.setTimeout(()=>URL.revokeObjectURL(c),15e3),Jt("Session download requested",{sessionId:q.id,byteLength:i.blob.size,durationMs:i.durationMs})}catch(i){const c=i instanceof Error?i.message:String(i);Ns(c),on("Session download failed",{sessionId:q.id,error:c})}finally{Ai(!1)}}},[q,Xn]),Ru=w.useCallback(i=>{i.currentTarget.focus(),i.currentTarget.select()},[]),zu=w.useCallback(({count:i=1,durationMs:c=120,gapMs:g=120,gain:C=.05,frequency:j=880})=>{const U=window.AudioContext||window.webkitAudioContext;if(typeof U!="function")return;const Y=new U,K=Y.currentTime,G=Math.max(0,i*c+Math.max(0,i-1)*g);for(let nt=0;nt<i;nt+=1){const at=Y.createOscillator(),ht=Y.createGain();ht.gain.value=C,at.type="sine",at.frequency.value=j,at.connect(ht),ht.connect(Y.destination);const At=K+(c+g)*nt/1e3,jt=At+c/1e3;at.start(At),at.stop(jt)}window.setTimeout(()=>{Y.close().catch(()=>{})},G+120)},[]),Ou=w.useCallback(i=>{const g=.03+Math.min(4,Math.max(1,i))*.01;zu({count:3,durationMs:90,gapMs:110,gain:g,frequency:880})},[zu]),ji=w.useCallback(async()=>{const i=window.AudioContext||window.webkitAudioContext;if(typeof i!="function")return;const c=new i,g=c.createOscillator(),C=c.createGain();C.gain.value=.12,g.type="sine",g.frequency.value=880,g.connect(C),C.connect(c.destination);const j=c.currentTime+.35;g.start(),g.stop(j),g.onended=()=>{c.close().catch(()=>{})}},[]),Ri=w.useCallback(()=>{We.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),We.current.clear(),J(null),hn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),hn.current.clear(),S(null),fe.current&&fe.current.pause()},[]),ku=w.useCallback(()=>{Ds(!0),window.setTimeout(()=>Ds(!1),1200)},[]),_u=w.useCallback(i=>{jn.current!==null&&window.clearTimeout(jn.current),pa(i),jn.current=window.setTimeout(()=>{pa(0)},480)},[]);w.useEffect(()=>{if(!(L.state==="recording"&&L.capturedMs<=0)){Ra(null),sl.current=-1,jn.current!==null&&(window.clearTimeout(jn.current),jn.current=null),pa(0);return}const c=ll.current??L.startedAt??Date.now(),g=()=>{Ra(Math.max(0,Date.now()-c))};g();const C=window.setInterval(g,250);return()=>window.clearInterval(C)},[L.capturedMs,L.startedAt,L.state]),w.useEffect(()=>{if(!(!(L.state==="recording"&&L.capturedMs<=0)||la===null))for(;sl.current+1<tp.length&&la>=tp[sl.current+1];){sl.current+=1;const c=sl.current+1;Ou(c),_u(c)}},[L.capturedMs,L.state,Ou,la,_u]),w.useEffect(()=>{const i=()=>{document.visibilityState!=="visible"&&Ri()},c=()=>Ri();return document.addEventListener("visibilitychange",i),window.addEventListener("pagehide",c),()=>{document.removeEventListener("visibilitychange",i),window.removeEventListener("pagehide",c)}},[Ri]);const qs=w.useCallback(async i=>{if(!q||Gt(i))return null;const c=i.id,g=al.current.get(c);if(g)return g;const C=await gn.getRangeAudio(q,i.startMs,i.endMs,q.mimeType??null);return al.current.set(c,C),C},[Gt,q]),rl=w.useCallback(async i=>{const c=i.id,g=qe.current.get(c),C=await qs(i);if(!C)return null;if(g)return{url:g,slice:C};const j=URL.createObjectURL(C.blob);return qe.current.set(c,j),{url:j,slice:C}},[qs]),tr=w.useCallback(async(i,c)=>{if(Gt(i))return;const g=await rl(i);if(!g)return;const{url:C,slice:j}=g,U=document.createElement("a");U.href=C,U.download=j.suggestedFilename||`snip-${String(c).padStart(2,"0")}.wav`,U.rel="noopener",document.body.appendChild(U),U.click(),document.body.removeChild(U)},[rl,Gt]),Uu=w.useCallback(async(i,c)=>Gt(c)?null:q?.id===i.id?await qs(c):await gn.getRangeAudio(i,c.startMs,c.endMs,i.mimeType??null),[qs,Gt,q?.id]),Hs=w.useCallback(async i=>{const c=await Mt.listSnips(i);va(i,c)},[va]),Fl=w.useCallback(i=>{const c=i.filter(C=>!Gt(C)),g=c.filter(C=>!!C.transcriptionError);return g.length>0?g:c},[Gt]),Kn=w.useCallback(async({session:i,snip:c,updateUi:g,force:C,ignoreBusy:j=!1,reportError:U=!0})=>{if(!C&&Ka(c))return{ok:!0};if(Gt(c))return await Hn("Snip transcription blocked (audio purged)",{sessionId:i.id,snipId:c.id}),{ok:!1,error:Ph};if(g&&Yl[c.id]&&!j)return{ok:!1};if(Ne)return{ok:!1,error:Ne};const Y=o?.groqApiKey?.trim()??"";g&&ws(K=>({...K,[c.id]:!0}));try{const K=await Uu(i,c);if(!K)throw new Error("Unable to resolve snip audio for transcription.");if(K.durationMs<=0||K.blob.size===0)throw new Error(`Snip audio slice is empty (snip=${c.id} start=${c.startMs} end=${c.endMs} duration=${K.durationMs} bytes=${K.blob.size})`);await Jt("Snip transcription started",{sessionId:i.id,snipId:c.id,model:$h,startMs:c.startMs,endMs:c.endMs,sliceDurationMs:K.durationMs,sliceBytes:K.blob.size});const G=await Iy.transcribeAudio({apiKey:Y,audio:K.blob,model:$h,temperature:0}),nt={text:G.text,segments:G.segments,model:G.model,language:G.language??null,createdAt:Date.now()},at=await Mt.updateSnipTranscription(c.id,{transcription:nt,transcriptionError:null});return g&&at&&v(ht=>ht.map(At=>At.id===at.id?at:At)),await Jt("Snip transcription completed",{sessionId:i.id,snipId:c.id,model:G.model,textLength:G.text.length,segmentCount:G.segments.length}),{ok:!0}}catch(K){const G=K instanceof Error?K.message:String(K);if(U){await on("Snip transcription failed",{sessionId:i.id,snipId:c.id,error:G,startMs:c.startMs,endMs:c.endMs,durationMs:c.durationMs});const nt=await Mt.updateSnipTranscription(c.id,{transcriptionError:G});g&&nt&&v(at=>at.map(ht=>ht.id===nt.id?nt:ht))}return{ok:!1,error:G}}finally{g&&ws(K=>{const G={...K};return delete G[c.id],G}),await Hs(i.id)}},[Hs,Uu,Ne,o?.groqApiKey,Gt,Yl]),ol=w.useCallback(i=>{const c=il.current;c.sessionId=i,c.active=!1,c.pending=[],c.pendingIds.clear(),c.retryCounts.clear(),c.lastSuccessAt=0},[]),Bu=w.useCallback(async i=>{const c=il.current;if(!(c.active||c.sessionId!==i.id)){c.active=!0;try{for(;c.pending.length>0;){if(!Ot){c.pending=[],c.pendingIds.clear(),c.retryCounts.clear();break}const g=c.pending.shift();if(!g)break;const C=g.snip;if(c.pendingIds.delete(C.id),c.sessionId!==i.id)break;if((await Kn({session:i,snip:C,updateUi:q?.id===i.id,force:!0,ignoreBusy:!0,reportError:!0})).ok){c.retryCounts.delete(C.id),c.lastSuccessAt=Date.now();continue}const U=(c.retryCounts.get(C.id)??0)+1;if(c.retryCounts.set(C.id,U),U<=Fh&&Date.now()-c.lastSuccessAt<Ih){const K=gi[Math.min(U-1,gi.length-1)];await ad(K),c.pendingIds.has(C.id)||(c.pending.push({snip:C,attempt:U}),c.pendingIds.add(C.id))}}}finally{c.active=!1}}},[Ot,q?.id,Kn]),Lu=w.useCallback(async(i,c)=>{const g=il.current;if(g.sessionId!==i.id&&ol(i.id),!Ot)return;const C=g.lastSuccessAt>0&&Date.now()-g.lastSuccessAt<Ih;[...c].sort((U,Y)=>U.index-Y.index).forEach(U=>{if(Ka(U)||Gt(U)||g.pendingIds.has(U.id))return;const Y=g.retryCounts.get(U.id)??0;U.transcriptionError&&(!C||Y>=Fh)||(g.pending.push({snip:U,attempt:Y}),g.pendingIds.add(U.id))}),!g.active&&g.pending.length>0&&Bu(i)},[Ot,Gt,ol,Bu]);w.useEffect(()=>{L.state!=="recording"&&ol(null)},[L.state,ol]),w.useEffect(()=>{Ot||ol(null)},[Ot,ol]),w.useEffect(()=>{if(!L.sessionId||L.state!=="recording")return;const i=L.sessionId;let c=!1;const g=async()=>{if(!(c||Rn.current)){Rn.current=!0;try{const j=await Mt.getSession(i);if(!j||j.status!=="recording")return;const U=await gn.listSnips(j,j.mimeType??null);if(c)return;if(Wt(U),q?.id===i){const[Y]=await Promise.all([Mt.getChunkData(i)]);c||(A(Y),v(U))}await Lu(j,U),await Pe()}catch(j){if(!c){const U=j instanceof Error?j.message:String(j);Hn("Live snip refresh failed",{sessionId:i,error:U})}}finally{Rn.current=!1}}},C=window.setInterval(g,Wy);return g(),()=>{c=!0,window.clearInterval(C)}},[L.sessionId,L.state,Lu,Pe,q?.id]);const er=w.useCallback(async i=>{if(q&&!Gt(i)){if(!Ot){Ne&&I(Ne);return}await Kn({session:q,snip:i,updateUi:!0,force:!0})}},[Ot,Gt,q,Ne,Kn]),nr=w.useCallback(async()=>{if(!q||Cs)return;if(!Ot){Ne&&I(Ne);return}const i=q.id;Ei(!0),ot(c=>({...c,[i]:!0}));try{const c=await Mt.listSnips(i),g=c.length>0?c:await gn.listSnips(q,q.mimeType??null);if(g.length===0)return;v(g);const C=Fl(g);if(C.length===0)return;for(const j of C)await Kn({session:q,snip:j,updateUi:!0,force:!0,ignoreBusy:!0})}finally{Ei(!1),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}},[Ot,Cs,Fl,q,Ne,Kn]),ar=w.useCallback(async i=>{if(!Et[i]){if(!Ot){Ne&&I(Ne);return}ut(c=>({...c,[i]:!0})),ot(c=>({...c,[i]:!0}));try{const c=await Mt.getSession(i);if(!c)return;const g=await Mt.listSnips(i),C=g.length>0?g:await gn.listSnips(c,c.mimeType??null);if(C.length===0)return;q?.id===i&&v(C);const j=Fl(C);if(j.length===0)return;for(const U of j)await Kn({session:c,snip:U,updateUi:q?.id===i,force:!0,ignoreBusy:!0})}finally{ut(c=>{if(!c[i])return c;const g={...c};return delete g[i],g}),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}}},[Ot,Et,Fl,q?.id,Ne,Kn]),qu=w.useCallback(async i=>{if(!Di.current.has(i)){Di.current.add(i),ot(c=>({...c,[i]:!0}));try{await ad(1200);const c=await Mt.getSession(i);if(!c||c.status!=="ready")return;const g=await gn.listSnips(c,c.mimeType??null);if(g.length===0||!Ot)return;const C=gi.length+1;for(const j of g)if(!Ka(j)&&!Gt(j))for(let U=0;U<C;U+=1){if(U>0){const K=gi[Math.min(U-1,gi.length-1)];await ad(K)}if((await Kn({session:c,snip:j,updateUi:q?.id===i,force:U>0,ignoreBusy:U>0,reportError:U===C-1})).ok)break}}finally{Di.current.delete(i),await Hs(i),ot(c=>{if(!c[i])return c;const g={...c};return delete g[i],g})}}},[Ot,Gt,Hs,q?.id,Kn]),lr=w.useCallback(async()=>{I(null),await Pe()},[Pe]),zi=w.useCallback(async()=>{if(L.state==="recording")return;let i="";ll.current=Date.now(),Kc(!0,"recording-start-click");try{await Jt("Recorder start requested",{previousState:L.state}),I(null);const c=await hi.get();i=window.crypto?.randomUUID?.()??`session-${Date.now()}`;const g=Date.now();await Mt.createSession({id:i,title:`Recording ${new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1}).format(g)}`,startedAt:g,updatedAt:g,status:"recording",totalBytes:0,chunkCount:0,durationMs:0,mimeType:null,notes:Ot?"Transcription pending...":"Recording in progress.",timingStatus:"unverified"}),await vs.start({sessionId:i,targetBitrate:c.targetBitrate,chunkDurationMs:4e3}),await Jt("Recorder started",{sessionId:i,targetBitrate:c.targetBitrate,chunkDurationMs:4e3}),await Pe()}catch(c){console.error("[UI] Failed to start recording",c),ll.current=null,Kc(!1,"recording-start-failed"),await on("Recorder failed to start",{sessionId:i,error:c instanceof Error?c.message:String(c)}),i&&await Mt.updateSession(i,{status:"error",notes:"Recording failed to start.",updatedAt:Date.now()}),await Pe(),I(c instanceof Error?c.message:String(c))}},[Ot,L.state,Pe]),ua=w.useCallback(async()=>{if(L.state!=="recording")return;const i=L.sessionId;try{await Jt("Recorder stop requested",{sessionId:i}),await vs.stop(),await Jt("Recorder stopped",{sessionId:i})}catch(c){console.error("[UI] Failed to stop recording",c),I(c instanceof Error?c.message:String(c)),await on("Recorder failed to stop",{sessionId:i,error:c instanceof Error?c.message:String(c)})}finally{Kc(!1,"recording-stop-request"),await Pe(),i&&qu(i)}},[qu,L.sessionId,L.state,Pe]),sr=async()=>{L.state==="recording"?await ua():await zi()},Gs=w.useCallback(async i=>{L.state!=="recording"||L.capturedMs>0||(Jt("Recorder start cancelled",{sessionId:L.sessionId,source:i}),await ua())},[L.capturedMs,L.sessionId,L.state,ua]);w.useEffect(()=>{if(L.state!=="recording"||!L.startedAt)return;const i=window.setTimeout(()=>{const c=vs.state;if(c.state!=="recording"||c.chunksRecorded>0)return;const g=typeof vs.getDiagnostics=="function"?vs.getDiagnostics():null;Hn("No audio captured after timeout; stopping recording",{sessionId:c.sessionId,timeoutMs:15e3,error:c.error??null,diagnostics:g});const C=ll.current??c.startedAt??Date.now(),j=ga.current;yy(C,{sessionId:c.sessionId,timeoutMs:15e3,captureState:{state:c.state,chunksRecorded:c.chunksRecorded,error:c.error??null},diagnostics:g,lastUserInteraction:j??null}),ku(),ji(),ua()},15e3);return()=>window.clearTimeout(i)},[L.startedAt,L.state,ji,ua,ku]);const Wl=w.useCallback(async(i=!1)=>{if(!q)return!1;const c=q.mimeType??"audio/mp4",C=[...await Mt.getChunkData(q.id)].sort((at,ht)=>at.seq-ht.seq);if(C.length===0)throw new Error("No audio available yet. Keep recording to capture chunks.");const j=C.find(at=>Ve(at))??null,U=C.filter(at=>!Ve(at)&&!Ye(at));if(U.length===0)throw new Error("Audio for this recording was purged.");const Y=[];j&&/mp4|m4a/i.test(c)&&Y.push(j.blob),U.forEach(at=>Y.push(at.blob));const K=new Blob(Y,{type:c});if(await Jt("Playback source prepared",{sessionId:q.id,blobSize:K.size,blobType:K.type}),A(C),mn.current&&!i)return!0;mn.current&&URL.revokeObjectURL(mn.current);const G=URL.createObjectURL(K);mn.current=G;const nt=fe.current;return nt&&(nt.src=G,nt.currentTime=0,na({playing:!1,duration:Number.isFinite(nt.duration)?nt.duration:0,position:0})),!0},[Ye,Ve,q]);w.useEffect(()=>{!q||q.status==="recording"||q.chunkCount===0||Wl(!0).catch(i=>{console.error("[UI] Failed to prepare playback on detail open",i),ta(i instanceof Error?i.message:String(i))})},[Wl,q,q?.id,q?.updatedAt,q?.chunkCount,q?.status]);const Hu=w.useCallback(async()=>{if(!q)return;if(!y.some(c=>!Ve(c)&&!Ye(c))){const c="Audio was purged for this recording and is no longer available.";ta(c),typeof window<"u"&&window.alert(c);return}ta(null),xi(!0);try{mn.current||await Wl();const c=fe.current;if(!c)throw new Error("Audio element unavailable");c.paused?(await c.play(),await Jt("Playback started",{sessionId:q.id})):(c.pause(),await Jt("Playback paused",{sessionId:q.id}))}catch(c){console.error("[UI] Playback toggle failed",c),ta(c instanceof Error?c.message:String(c)),await on("Playback toggle failed",{sessionId:q.id,error:c instanceof Error?c.message:String(c)})}finally{xi(!1)}},[y,Ye,Ve,Wl,q]),Pl=async()=>{We.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),We.current.clear(),sa.current.forEach(i=>URL.revokeObjectURL(i)),sa.current.clear(),J(null),hn.current.forEach(i=>{i.cleanup(),i.audio.pause(),i.audio.currentTime=i.startTime}),hn.current.clear(),qe.current.forEach(i=>URL.revokeObjectURL(i)),qe.current.clear(),al.current.clear(),S(null),Si("chunks"),Au(!1),Nn(!1),Le(null),Mi(null),ja(null),gt(!1),M(null),A([]),Ts(null),Ll(!1),Pa(!1),ce(null),Yn("idle"),sn(null),ta(null),na({playing:!1,duration:0,position:0}),p&&await Jt("Detail view closed",{sessionId:p}),p&&gn.clearSession(p),mn.current&&(URL.revokeObjectURL(mn.current),mn.current=null),fe.current&&(fe.current.pause(),fe.current.currentTime=0),await lr()},ts=w.useCallback(()=>{const i=Date.now(),c=ga.current,g=c?{...c,msAgo:Math.max(0,i-c.timestamp)}:null,C=navigator,j=C.userActivation?{isActive:C.userActivation.isActive,hasBeenActive:C.userActivation.hasBeenActive}:null,U=typeof document<"u"&&document.activeElement instanceof HTMLElement?document.activeElement.tagName.toLowerCase():null,Y=typeof document<"u"?document.visibilityState:null,K=typeof document<"u"&&typeof document.hasFocus=="function"?document.hasFocus():null;return{visibilityState:Y,hasFocus:K,activeElement:U,userActivation:j,lastInteraction:g}},[]),Oa=w.useCallback(async(i,c)=>{const g=i.id;if(Jt("Delete recording requested",{sessionId:g,source:c}),g===L.sessionId&&L.state==="recording"){I("Stop the active recording before deleting it."),await Hn("Delete blocked for active recording",{sessionId:g,source:c});return}const C=Date.now(),j=ts();Zl.current={startedAt:C,contextBefore:j},Vn(!1),Xl({session:i,source:c}),Jt("Delete confirmation opened",{sessionId:g,source:c,...j})},[ts,L.sessionId,L.state]),Oi=w.useCallback(async i=>{const c=be;if(!c)return;const g=c.session.id,C=Zl.current,j=ts(),U=Math.max(0,Date.now()-(C?.startedAt??Date.now()));if(Jt("Delete confirmation resolved",{sessionId:g,source:c.source,confirmed:i,confirmDurationMs:U,before:C?.contextBefore??null,after:j}),!i){Jt("Delete recording cancelled",{sessionId:g,source:c.source}),Zl.current=null,Xl(null);return}Jt("Delete recording confirmed",{sessionId:g,source:c.source}),Vn(!0);try{await Mt.init()}catch(Y){console.error("[UI] Failed to init manifest for delete",Y),await on("Delete init failed",{sessionId:g,source:c.source,error:Y instanceof Error?Y.message:String(Y)}),Vn(!1),Zl.current=null,Xl(null);return}try{await Mt.deleteSession(g),await Mt.getSession(g)&&await Hn("Delete verification failed",{sessionId:g,source:c.source}),await Jt("Recording deleted",{sessionId:g,source:c.source}),(c.source==="detail"||q?.id===g)&&await Pl(),await Pe()}catch(Y){console.error("[UI] Failed to delete recording",Y),I(Y instanceof Error?Y.message:String(Y)),await on("Recording delete failed",{sessionId:g,source:c.source,error:Y instanceof Error?Y.message:String(Y)})}finally{Vn(!1),Zl.current=null,Xl(null)}},[ts,be,Pl,Pe,q?.id]),Xe=(i,c)=>c>0?`${Math.round(i/c*100)}%`:"0%",bn=i=>{const c=Math.max(0,i/1e3),g=Math.floor(c/60),C=c-g*60,j=C<10?`0${C.toFixed(1)}`:C.toFixed(1);return`${g}:${j}`},dl=i=>{const c={ok:0,warn:0,error:0,total:i.length};return i.forEach(g=>{g.status==="ok"?c.ok+=1:g.status==="warn"?c.warn+=1:c.error+=1}),c},fl=i=>{const c=new Map;return i.forEach(g=>{const C=g.reason??"(no reason)",j=`${g.status}:${C}`,U=c.get(j);U?(U.count+=1,U.examples.length<6&&U.examples.push(g)):c.set(j,{reason:C,status:g.status,count:1,examples:[g]})}),Array.from(c.values()).sort((g,C)=>{const j={error:0,warn:1,ok:2};return j[g.status]!==j[C.status]?j[g.status]-j[C.status]:C.count-g.count})},es=i=>{const{session:c,doctorReports:g,logs:C}=i,j=[];if(j.push("Web Whisper  Doctor Report (compact)"),j.push(`Session: ${c.id}`),j.push(`StartedAt: ${new Date(c.startedAt).toISOString()}`),j.push(`DurationMs: ${c.durationMs}  (=${(c.durationMs/1e3).toFixed(1)}s)`),j.push(`Mime: ${c.mimeType??"unknown"}  Chunks: ${c.chunkCount}  Timing: ${c.timingStatus??"unverified"}`),j.push(""),g?.sanity){const G=g.sanity.metrics;j.push("Sanity:"),j.push(`- chunkTimebase=${G.chunkTimebase} session=${((G.sessionDurationMs??0)/1e3).toFixed(1)}s chunkMax=${((G.chunkMaxOffsetMs??0)/1e3).toFixed(1)}s chunkSum=${((G.chunkSumDurationMs??0)/1e3).toFixed(1)}s snips=${G.snipCount??0} snipMax=${((G.snipMaxEndMs??0)/1e3).toFixed(1)}s`),g.sanity.findings.forEach(nt=>j.push(`- ${nt.level.toUpperCase()}: ${nt.message}`)),j.push("")}const U=(G,nt)=>{if(!nt)return;j.push(`${G}: OK=${nt.summary.ok} WARN=${nt.summary.warn} ERR=${nt.summary.error} TOTAL=${nt.summary.total}`),j.push(`- expected=${((nt.metrics.expectedDurationMs??0)/1e3).toFixed(1)}s observed=${((nt.metrics.observedDurationMs??0)/1e3).toFixed(1)}s items=${nt.metrics.observedItemCount??0}/${nt.metrics.expectedItemCount??0}`),fl(nt.segments).filter(ht=>ht.status!=="ok").slice(0,5).forEach(ht=>{const At=ht.examples.slice(0,3).map(jt=>`${bn(jt.startMs)}${bn(jt.endMs)}`).join(", ");j.push(`- ${ht.status.toUpperCase()}: ${ht.reason} (${ht.count}) e.g. ${At}`)}),j.push("")};U("Chunk coverage",g?.chunkCoverage),U("Range access",g?.rangeAccess),U("Per-chunk decode",g?.chunkDecode),U("Snip scan",g?.snipScan),C.length>0&&(j.push("Recent logs (last 30):"),C.slice(-30).forEach(G=>{const nt=typeof G.timestamp=="number"?new Date(G.timestamp).toISOString():"",at=G.level??"",ht=(G.message??"").replace(/\s+/g," ").slice(0,200);j.push(`- ${nt} ${at} ${ht}`.trim())}),j.push(""));let Y=j.join(`
`);const K=45e3;return Y.length>K&&(Y=`${Y.slice(0,K)}

[TRUNCATED: report exceeded ${K} chars]
`),Y},ca=(i,c)=>{const g=JSON.stringify(c,null,2),C=new Blob([g],{type:"application/json"}),j=URL.createObjectURL(C),U=document.createElement("a");U.href=j,U.download=`${i.replace(/\s+/g,"-").toLowerCase()}-doctor-report.json`,U.rel="noopener",document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(j)},ir=async i=>{if(typeof navigator<"u"&&navigator.clipboard?.writeText){await navigator.clipboard.writeText(i);return}const c=document.createElement("textarea");c.value=i,c.style.position="fixed",c.style.left="-9999px",c.style.top="0",document.body.appendChild(c),c.focus(),c.select(),document.execCommand("copy"),document.body.removeChild(c)},Ys=(i,c)=>{const g=i.find(C=>C.seq>=0)??null;return g?g.startMs>1e12&&c>1e12?"absolute":g.startMs>=0&&g.startMs<864e5?"offset":"unknown":"unknown"},Gu=(i,c,g)=>g==="absolute"?{startMs:i.startMs-c,endMs:i.endMs-c}:{startMs:i.startMs,endMs:i.endMs},Yu=w.useCallback(async()=>{if(!q)return;const i=Kl.current+1;Kl.current=i;const c=()=>Kl.current!==i;Nn(!0),Mi(null),ja(null),await Mt.init();try{await Mt.verifySessionChunkTimings(q.id)}catch{}gn.clearSession(q.id);const g=await Mt.getSession(q.id)??q,C=await Mt.getChunkData(q.id),j=C.filter(st=>!Ve(st)),U=C.find(st=>st.seq===0)?.startMs??j[0]?.startMs??g.startedAt,Y=Number.isFinite(U)?Math.round(U):g.startedAt,K=Ys(j,Y),G=j.map(st=>({...st,...Gu(st,Y,K)})),nt=Wa??(G.length>0?Math.max(...G.map(st=>st.endMs)):g.durationMs??0),at=Math.max(0,nt),ht=100,At=at>0?Math.ceil(at/ht):0,jt={},ie=async()=>{await new Promise(st=>requestAnimationFrame(()=>st()))},dt=async()=>{const st=[];Le({label:"Chunk coverage scan",completed:0,total:At});let me=0;for(let re=0;re<At;re+=1){if(c())return;const kt=re*ht,he=Math.min(at,kt+ht),bt=G.find(St=>St.startMs<=kt&&St.endMs>kt)??null;bt?!Number.isFinite(bt.byteLength)||bt.byteLength<=0?st.push({index:re,startMs:kt,endMs:he,status:"error",reason:"Chunk blob is empty",meta:{chunkId:bt.id,seq:bt.seq,byteLength:bt.byteLength}}):bt.endMs<=bt.startMs?st.push({index:re,startMs:kt,endMs:he,status:"warn",reason:"Chunk timing metadata looks invalid",meta:{chunkId:bt.id,seq:bt.seq,chunkStartMs:bt.startMs,chunkEndMs:bt.endMs}}):(me+=he-kt,st.push({index:re,startMs:kt,endMs:he,status:"ok",meta:{chunkId:bt.id,seq:bt.seq}})):st.push({index:re,startMs:kt,endMs:he,status:"error",reason:"No chunk covers this time range"}),re%50===0&&(Le({label:"Chunk coverage scan",completed:re+1,total:At}),await ie())}Le({label:"Chunk coverage scan",completed:At,total:At}),jt.chunkCoverage={stepMs:ht,totalDurationMs:at,segments:st,summary:dl(st),metrics:{expectedDurationMs:at,observedDurationMs:me,expectedItemCount:At,observedItemCount:At-dl(st).error}}},Ct=async()=>{const st=[];Le({label:"Range access scan (0.1s)",completed:0,total:At});let me=0,re=0;for(let kt=0;kt<At;kt+=1){if(c())return;const he=kt*ht,bt=Math.min(at,he+ht);try{const St=await gn.inspectRange(g,he,bt,g.mimeType??null);me+=St.durationMs,re+=1;const ee=bt-he,Rt=St.durationMs<Math.min(ee*.5,ee-10),pe=St.sampleCount>0&&St.rms<=1e-5&&St.peak<=5e-5,cn=Rt||pe?"warn":"ok",xt=Rt?"Decoded slice shorter than expected":pe?"Slice appears silent":void 0;st.push({index:kt,startMs:he,endMs:bt,status:cn,reason:xt,meta:{durationMs:St.durationMs,sampleCount:St.sampleCount,rms:St.rms,peak:St.peak}})}catch(St){st.push({index:kt,startMs:he,endMs:bt,status:"error",reason:St instanceof Error?St.message:String(St)})}kt%20===0&&(Le({label:"Range access scan (0.1s)",completed:kt+1,total:At}),await ie())}Le({label:"Range access scan (0.1s)",completed:At,total:At}),jt.rangeAccess={stepMs:ht,totalDurationMs:at,segments:st,summary:dl(st),metrics:{expectedDurationMs:at,observedDurationMs:me,expectedItemCount:At,observedItemCount:re}}},Sn=async()=>{Le({label:"Per-chunk decode scan",completed:0,total:j.length});const st=[];if(typeof window>"u"||typeof window.AudioContext>"u"){jt.chunkDecode={stepMs:1,totalDurationMs:at,segments:[{index:0,startMs:0,endMs:0,status:"error",reason:"AudioContext is not supported in this environment."}],summary:{ok:0,warn:0,error:1,total:1},metrics:{expectedDurationMs:null,observedDurationMs:null,expectedItemCount:null,observedItemCount:null}};return}const me=new AudioContext;let re=0,kt=0,he=0;try{for(let bt=0;bt<G.length;bt+=1){if(c())return;const St=G[bt],ee=St.seq;re+=Math.max(0,St.endMs-St.startMs);try{const Rt=await gn.getChunkAudio(g,ee);if(!Rt)st.push({index:bt,startMs:St.startMs,endMs:St.endMs,status:"error",reason:"Chunk not found",meta:{seq:ee}});else{const pe=await Rt.blob.arrayBuffer(),cn=await me.decodeAudioData(pe.slice(0)),xt=Math.max(0,cn.duration*1e3);kt+=xt,he+=1;const Qt=Math.max(0,St.endMs-St.startMs),Zt=Math.abs(xt-Qt),Ze=Zt>250?"warn":"ok",Mn=Zt>250?"Decoded duration differs from expected chunk timing":void 0;st.push({index:bt,startMs:St.startMs,endMs:St.endMs,status:Ze,reason:Mn,meta:{seq:ee,blobType:Rt.mimeType,blobBytes:Rt.blob.size,decodedMs:xt,expectedMs:Qt,driftMs:Zt,note:"Standalone chunk decoding can include timestamp offsets; compare against range scans."}})}}catch(Rt){st.push({index:bt,startMs:St.startMs,endMs:St.endMs,status:"error",reason:Rt instanceof Error?Rt.message:String(Rt),meta:{seq:ee}})}bt%5===0&&(Le({label:"Per-chunk decode scan",completed:bt+1,total:j.length}),await ie())}}finally{await me.close().catch(()=>{})}Le({label:"Per-chunk decode scan",completed:j.length,total:j.length}),jt.chunkDecode={stepMs:1,totalDurationMs:at,segments:st,summary:dl(st),metrics:{expectedDurationMs:re,observedDurationMs:kt,expectedItemCount:j.length,observedItemCount:he}}},Qe=async()=>{const st=[],me=Number.isFinite(q.durationMs)?Math.max(0,q.durationMs):null,re=j.length>0?Math.max(...j.map(xt=>xt.endMs)):null,kt=G.length>0?Math.max(...G.map(xt=>xt.endMs)):null,he=G.reduce((xt,Qt)=>xt+Math.max(0,Qt.endMs-Qt.startMs),0),bt=[...G].sort((xt,Qt)=>xt.seq-Qt.seq);let St=0,ee=0;for(let xt=1;xt<bt.length;xt+=1){const Qt=bt[xt-1],Zt=bt[xt];Zt.startMs<Qt.endMs-5&&(St+=1),Zt.startMs>Qt.endMs+50&&(ee+=1)}if(St>0&&st.push({level:"warn",message:`Chunk timings overlap in ${St} places.`,meta:{overlaps:St}}),ee>0&&st.push({level:"warn",message:`Chunk timings have gaps in ${ee} places.`,meta:{gaps:ee}}),me!==null&&kt!==null){const xt=kt-me;Math.abs(xt)>1e3?st.push({level:(xt>0,"warn"),message:"Session duration and chunk max end differ by >1s.",meta:{sessionDurationMs:me,chunkMaxOffsetMs:kt,driftMs:xt,chunkTimebase:K}}):st.push({level:"info",message:"Session duration and chunk max end are close.",meta:{sessionDurationMs:me,chunkMaxOffsetMs:kt,driftMs:xt,chunkTimebase:K}})}let Rt=null,pe=null,cn=null;try{const xt=await gn.listSnips(g,g.mimeType??null);Rt=xt.length,pe=xt.length>0?Math.max(...xt.map(Zt=>Zt.endMs)):0,cn=xt.reduce((Zt,Ze)=>Zt+Math.max(0,Ze.durationMs),0);const Qt=kt??me??at;Qt>0&&pe>Qt+2e3?st.push({level:"error",message:"Snips extend beyond the expected session duration by >2s.",meta:{baselineDurationMs:Qt,snipMaxEndMs:pe,driftMs:pe-Qt}}):Qt>0&&xt.length>0&&pe<Qt-2e3?st.push({level:"error",message:"Snips do not cover the full expected session duration (end too early).",meta:{baselineDurationMs:Qt,snipMaxEndMs:pe,driftMs:pe-Qt}}):st.push({level:"info",message:"Snip end times are within expected duration.",meta:{baselineDurationMs:Qt,snipMaxEndMs:pe}})}catch(xt){st.push({level:"error",message:"Failed to compute snips for sanity checks.",meta:{error:xt instanceof Error?xt.message:String(xt)}})}try{const xt=await Mt.listChunkVolumeProfiles(q.id),Qt=new Set(G.map(Yt=>Yt.seq)),Zt=xt.filter(Yt=>Qt.has(Yt.seq)).sort((Yt,oe)=>Yt.seq-oe.seq),Ze=new Set(Zt.map(Yt=>Yt.seq)),Mn=[...Qt].filter(Yt=>!Ze.has(Yt)),zn=Zt.filter(Yt=>!(typeof Yt.durationMs=="number"&&Yt.durationMs>0)),On=Zt.filter(Yt=>!Array.isArray(Yt.frames)||Yt.frames.length===0),kn=Zt.filter(Yt=>{const oe=Array.isArray(Yt.frames)?Yt.frames:[];return oe.length===0?!1:oe.every(Kt=>!Number.isFinite(Kt)||Kt<=0)}),Gi=Zt.filter(Yt=>!(typeof Yt.sampleRate=="number"&&Yt.sampleRate>0)),Qs=Zt.filter(Yt=>!(typeof Yt.frameDurationMs=="number"&&Yt.frameDurationMs>0)),gl=[];Zt.forEach(Yt=>{const oe=G.find(xn=>xn.seq===Yt.seq)??null;if(!oe)return;const Kt=Math.max(0,oe.endMs-oe.startMs),_t=Math.max(0,Yt.durationMs??0),ra=_t-Kt;Math.abs(ra)>250&&gl.push({seq:Yt.seq,expectedMs:Kt,profileMs:_t,driftMs:ra})}),Mn.length>0?st.push({level:"warn",message:`Missing chunk volume profiles for ${Mn.length} chunk(s).`,meta:{examples:Mn.slice(0,10)}}):st.push({level:"info",message:"Chunk volume profiles exist for all chunks."}),zn.length>0||On.length>0||Gi.length>0||Qs.length>0?st.push({level:"warn",message:"Some chunk volume profiles have invalid metadata (duration/frames/sampleRate/frameDuration).",meta:{zeroDuration:zn.length,zeroFrames:On.length,invalidSampleRate:Gi.length,invalidFrameDuration:Qs.length}}):st.push({level:"info",message:"Chunk volume profile metadata looks well-formed."}),kn.length>0&&st.push({level:"warn",message:`Some chunk volume profiles are all zeros (silent/failed decode) (${kn.length}).`,meta:{examples:kn.slice(0,6).map(Yt=>Yt.seq)}}),gl.length>0?st.push({level:"warn",message:`Chunk volume profile durations differ from chunk timings for ${gl.length} chunk(s).`,meta:{examples:gl.slice(0,6)}}):st.push({level:"info",message:"Chunk volume profile durations match chunk timings (within 250ms)."})}catch(xt){st.push({level:"warn",message:"Unable to validate chunk volume profiles.",meta:{error:xt instanceof Error?xt.message:String(xt)}})}jt.sanity={findings:st,metrics:{sessionDurationMs:me,chunkMaxEndMs:re,chunkSumDurationMs:he,snipCount:Rt,snipMaxEndMs:pe,snipSumDurationMs:cn,chunkTimebase:K,chunkMaxOffsetMs:kt}}},is=async()=>{Le({label:"Snip scan (each snip)",completed:0,total:1});const st=await gn.listSnips(g,g.mimeType??null),me=[],re=st.reduce((bt,St)=>bt+Math.max(0,St.durationMs),0);let kt=0,he=0;Le({label:"Snip scan (each snip)",completed:0,total:st.length});for(let bt=0;bt<st.length;bt+=1){if(c())return;const St=st[bt],ee=bt+1;try{const Rt=await gn.inspectRange(g,St.startMs,St.endMs,g.mimeType??null);kt+=Rt.durationMs,he+=1;const pe=Math.abs(Rt.durationMs-Math.max(0,St.durationMs)),cn=Rt.sampleCount>0&&Rt.rms<=1e-5&&Rt.peak<=5e-5,xt=pe>500||cn?"warn":"ok",Qt=pe>500?"Decoded snip duration differs from expected":cn?"Snip appears silent":void 0;me.push({index:bt,startMs:St.startMs,endMs:St.endMs,status:xt,reason:Qt,meta:{snipNumber:ee,expectedMs:St.durationMs,decodedMs:Rt.durationMs,driftMs:pe,rms:Rt.rms,peak:Rt.peak,sampleCount:Rt.sampleCount}})}catch(Rt){me.push({index:bt,startMs:St.startMs,endMs:St.endMs,status:"error",reason:Rt instanceof Error?Rt.message:String(Rt),meta:{snipNumber:ee}})}bt%5===0&&(Le({label:"Snip scan (each snip)",completed:bt+1,total:st.length}),await ie())}Le({label:"Snip scan (each snip)",completed:st.length,total:st.length}),jt.snipScan={stepMs:0,totalDurationMs:st.length>0?st[st.length-1].endMs:0,segments:me,summary:dl(me),metrics:{expectedDurationMs:re,observedDurationMs:kt,expectedItemCount:st.length,observedItemCount:he}}};try{if(Ie.sanityChecks&&await Qe(),Ie.chunkCoverageScan&&await dt(),Ie.rangeAccessScan&&await Ct(),Ie.chunkDecodeScan&&await Sn(),Ie.snipScan&&await is(),c())return;ja(jt)}catch(st){if(c())return;Mi(st instanceof Error?st.message:String(st))}finally{c()||(Nn(!1),Le(null))}},[Ie.chunkCoverageScan,Ie.chunkDecodeScan,Ie.rangeAccessScan,Ie.sanityChecks,Ie.snipScan,q,Wa]),Vs=()=>{Ja(!1),Ca([]),Ia(null),Na("tables"),Fa([]),bi(null),Es([])},ki=async i=>{const c=Number(i);!Number.isFinite(c)||c<=0||await hi.set({storageLimitBytes:Math.round(c*fd)})},Vu=async i=>{await hi.set({developerMode:i})},Xu=async i=>{await hi.set({groqApiKey:i})},Qu=async()=>{await hi.set({transcriptionOnboardingDismissed:!0})},ur=w.useCallback(async i=>{const{id:c}=i,g=We.current,C=g.get(c),j=(jt,ie)=>{ie.cleanup(),ie.audio.pause(),ie.audio.currentTime=ie.startTime,g.delete(jt)};if(W===c){C&&j(c,C),J(null);return}for(const[jt,ie]of g.entries())j(jt,ie);if(J(null),Ve(i)||Ye(i))return;const U=new Audio,Y=cl(i);if(!Y){console.error("[UI] Missing chunk URL for playback",c);return}U.src=Y,U.volume=_;const K=0,G=0;fe.current?.pause();function nt(){U.removeEventListener("ended",ht),U.removeEventListener("error",ht)}function at(){nt(),U.pause(),U.currentTime=K,g.delete(c),J(jt=>jt===c?null:jt)}function ht(){at()}U.addEventListener("ended",ht),U.addEventListener("error",ht);const At=()=>nt();g.set(c,{audio:U,cleanup:At,startTime:K,endTime:G});try{U.currentTime=K,await U.play(),J(c)}catch(jt){console.error("[UI] Failed to play chunk",jt),at()}},[W,cl,Ye,Ve,_]),cr=w.useCallback(async i=>{if(!q||Gt(i))return;const c=i.id,g=hn.current,C=g.get(c),j=(dt,Ct)=>{Ct.cleanup(),Ct.audio.pause(),Ct.audio.currentTime=Ct.startTime,g.delete(dt)};if(it===c){C&&j(c,C),S(null);return}We.current.forEach((dt,Ct)=>{dt.cleanup(),dt.audio.pause(),dt.audio.currentTime=dt.startTime,We.current.delete(Ct)}),J(null);for(const[dt,Ct]of g.entries())j(dt,Ct);S(null);const U=await rl(i);if(!U)return;const Y=new Audio;Y.src=U.url,Y.volume=_;const K=Math.max(0,i.durationMs/1e3),G=0,nt=K;fe.current?.pause();function at(){Y.removeEventListener("timeupdate",jt),Y.removeEventListener("ended",At),Y.removeEventListener("error",At)}function ht(){at(),Y.pause(),Y.currentTime=G,g.delete(c),S(dt=>dt===c?null:dt)}function At(){ht()}function jt(){K>0&&Y.currentTime>=nt-.05&&ht()}Y.addEventListener("timeupdate",jt),Y.addEventListener("ended",At),Y.addEventListener("error",At);const ie=()=>at();g.set(c,{audio:Y,cleanup:ie,startTime:G,endTime:nt});try{await Y.play(),S(c)}catch(dt){console.error("[UI] Failed to play snip",dt),ht()}},[rl,Gt,_,q,it]),_i=w.useCallback(async()=>{try{const[i,c,g,C]=await Promise.all([Mt.listSessions(),Mt.getChunksForInspection(),Mt.listChunkVolumeProfiles(),Mt.listSnips()]);Ca([{name:"sessions",rows:i.map(j=>({...j}))},{name:"chunks",rows:c.map(j=>({...j}))},{name:"chunkVolumes",rows:g.map(j=>({...j,framesPreview:j.frames.slice(0,24),framesTotal:j.frames.length}))},{name:"snips",rows:C.map(j=>({...j,segmentsPreview:j.transcription?.segments?.slice(0,6)??[],segmentsCount:j.transcription?.segments?.length??0}))}]),Ia(j=>j??"sessions")}catch(i){console.error("[UI] Failed to load developer tables",i),Ca([]),Ia("sessions"),await on("Developer table load failed",{error:i instanceof Error?i.message:String(i)})}},[]),ml=w.useCallback(async i=>{if(bi(i),i){const c=await Mt.getLogEntries(i.id);Es(c)}else Es([])},[]),Ui=w.useCallback(async()=>{try{const i=await Mt.listLogSessions();Fa(i);const g=kh()??i[0]??null;await ml(g)}catch(i){console.error("[UI] Failed to load log sessions",i),Fa([]),await ml(null),await on("Log session load failed",{error:i instanceof Error?i.message:String(i)})}},[ml]),un=w.useCallback(async i=>{if(!Fn)return;const c=Dn.findIndex(C=>C.id===Fn.id);if(c===-1)return;const g=Dn[c+i];g&&await ml(g)},[ml,Dn,Fn]),ns=w.useCallback(async()=>{Na("tables"),Ja(!0),wa(!0);try{await _i(),await Ui()}catch(i){console.error("[UI] Failed to load developer data",i),Ca([]),Ia(null),await on("Developer overlay failed to load",{error:i instanceof Error?i.message:String(i)})}finally{wa(!1)}},[_i,Ui]),Zu=`${bs(ct.totalBytes)} / ${bs(ct.limitBytes)}`,Bi=L.state==="recording"&&L.capturedMs>0,Xs=L.state==="recording"&&!Bi,as=L.state==="starting"||Xs,Li=Xs&&(la??0)>=e0,ls=Math.max(0,L.capturedMs),hl=`${(ls/1e3).toFixed(1)}s`,qi=L.state==="recording"&&o?.targetBitrate?Math.round(ls/1e3*(o.targetBitrate/8)):0,ss=L.state==="recording"?Math.max(L.bytesBuffered,qi):L.bytesBuffered,Sa=q?.id===L.sessionId&&L.state==="recording",Ku=ke&&!p&&Ot,Ma=Sa?ls:Wa??q?.durationMs??0,xa=Math.max(Wa!==null?Wa/1e3:Ma/1e3,ea.duration),tn=w.useMemo(()=>{if(!q||y.length===0)return null;const i=1e12,c=y.map(dt=>dt.startMs).filter(dt=>Number.isFinite(dt)),g=c.length>0?Math.min(...c):0,C=Number.isFinite(g)?g:0,j=C>i,U=dt=>j?dt-C:dt,Y=y.filter(dt=>!Ve(dt)).map(dt=>{const Ct=U(dt.startMs),Sn=U(dt.endMs);return!Number.isFinite(Ct)||!Number.isFinite(Sn)?null:{startMs:Ct,endMs:Sn,hasAudio:!Ye(dt)}}).filter(dt=>!!dt).sort((dt,Ct)=>dt.startMs-Ct.startMs),K=Math.max(q.durationMs??0,Y.reduce((dt,Ct)=>Math.max(dt,Ct.endMs),0)),G=[],nt=4;let at=0;const ht=dt=>{if(dt.endMs<=dt.startMs)return;const Ct=G[G.length-1];if(Ct&&Ct.hasAudio===dt.hasAudio&&Math.abs(Ct.endMs-dt.startMs)<=nt){Ct.endMs=Math.max(Ct.endMs,dt.endMs);return}G.push(dt)};Y.forEach(dt=>{let Ct=Math.max(0,dt.startMs),Sn=Math.max(Ct,dt.endMs);K>0&&(Ct=Math.min(Ct,K),Sn=Math.min(Sn,K)),!(Sn<=at)&&(Ct>at+nt&&ht({startMs:at,endMs:Ct,hasAudio:!1}),ht({startMs:Ct,endMs:Sn,hasAudio:dt.hasAudio}),at=Math.max(at,Sn))}),K>0&&at<K-nt&&ht({startMs:at,endMs:K,hasAudio:!1});const At=G.filter(dt=>dt.hasAudio),jt=[];let ie=0;return At.forEach(dt=>{const Ct=Math.max(0,dt.endMs-dt.startMs);Ct<=0||(jt.push({startMs:dt.startMs,endMs:dt.endMs,playStartMs:ie,playEndMs:ie+Ct}),ie+=Ct)}),{durationMs:K,segments:G,playableDurationMs:ie,playbackMap:jt}},[y,Ye,Ve,q]),pl=(tn?.playableDurationMs??0)>0,Ea=w.useMemo(()=>{if(!tn||tn.playbackMap.length===0)return ea.position;const i=Math.max(0,ea.position*1e3),c=tn.playbackMap.find(C=>i<=C.playEndMs)??tn.playbackMap[tn.playbackMap.length-1],g=Math.max(0,Math.min(i-c.playStartMs,c.endMs-c.startMs));return Math.max(0,(c.startMs+g)/1e3)},[ea.position,tn]),$u=xa>0?Ea/xa*100:0,Ju=w.useMemo(()=>{if(!tn||tn.durationMs<=0)return[];const i=c=>Math.max(0,Math.min(100,c));return tn.segments.filter(c=>!c.hasAudio).map(c=>{const g=i(c.startMs/tn.durationMs*100),C=i(c.endMs/tn.durationMs*100);return{startPct:g,widthPct:Math.max(0,C-g)}}).filter(c=>c.widthPct>0)},[tn]),Hi=/mp4|m4a/i.test(L.mimeType??"")&&L.chunksRecorded>0,rr=Math.max(0,L.chunksRecorded-(Hi?1:0));return f.jsxs("div",{className:"app-shell",children:[el>0?f.jsx("div",{className:`starting-flash level-${el}`,"aria-hidden":"true"}):null,Vl?f.jsx("div",{className:"no-audio-flash","aria-hidden":"true"}):null,f.jsxs("header",{className:"app-header",children:[f.jsx("div",{className:"brand",children:f.jsx("h1",{children:"Web Whisper"})}),f.jsxs("div",{className:"header-controls",children:[f.jsxs("div",{className:"buffer-card",role:"status","aria-live":"polite",children:[f.jsx("p",{className:"buffer-label",children:"Data"}),f.jsx("p",{className:"buffer-value",children:Zu})]}),He?f.jsx("button",{className:"dev-trigger",type:"button",onClick:ns,"aria-label":"Open developer console",children:""}):null,f.jsx("button",{className:"settings-button",type:"button",onClick:()=>Tt(!0),children:"Settings"})]})]}),mt?f.jsxs("div",{className:"alert-banner",role:"alert",children:[f.jsx("p",{children:mt}),f.jsx("button",{type:"button",onClick:()=>I(null),children:"Dismiss"})]}):null,be?f.jsx("div",{className:"delete-confirm-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"delete-confirm-title",onClick:i=>{Ql||i.target===i.currentTarget&&Oi(!1)},children:f.jsxs("div",{className:"delete-confirm-dialog",onClick:i=>i.stopPropagation(),children:[f.jsx("header",{className:"delete-confirm-header",children:f.jsx("h2",{id:"delete-confirm-title",children:"Delete recording?"})}),f.jsx("div",{className:"delete-confirm-body",children:f.jsxs("p",{children:["Delete ",f.jsx("strong",{children:be.session.title}),"? This cannot be undone."]})}),f.jsxs("div",{className:"delete-confirm-actions",children:[f.jsx("button",{type:"button",onClick:()=>void Oi(!1),disabled:Ql,children:"Keep"}),f.jsx("button",{type:"button",className:"delete-confirm-danger",onClick:()=>void Oi(!0),disabled:Ql,children:Ql?"Deleting":"Delete"})]})]})}):null,Je?f.jsx("div",{className:"groq-setup-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"groq-setup-title",onClick:i=>{i.target===i.currentTarget&&te(!1)},children:f.jsxs("div",{className:"groq-setup-dialog",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"groq-setup-header",children:[f.jsx("h2",{id:"groq-setup-title",children:"Groq setup (quick steps)"}),f.jsx("button",{type:"button",className:"groq-setup-close",onClick:()=>te(!1),children:"Close"})]}),f.jsxs("div",{className:"groq-setup-body",children:[f.jsx("p",{children:"Groq is a separate service from this app. You will create the API key in your Groq console and paste it here."}),f.jsxs("ol",{children:[f.jsx("li",{children:"Create a free Groq account (no credit card required)."}),f.jsx("li",{children:"Open the Groq console and go to the API Keys page."}),f.jsx("li",{children:"Create a new API key and copy it."}),f.jsx("li",{children:"Back in Settings, paste the key. We auto-check it and turn on transcription."})]})]}),f.jsxs("div",{className:"groq-setup-actions",children:[f.jsx("a",{href:nd,target:"_blank",rel:"noreferrer",children:"Go to Groq"}),f.jsx("button",{type:"button",onClick:()=>te(!1),children:"OK"})]})]})}):null,f.jsxs("main",{className:"content-grid",children:[f.jsxs("aside",{className:"controls-panel","aria-label":"Capture controls",children:[Ni?f.jsxs("div",{className:"onboarding-card",role:"status",children:[f.jsxs("div",{className:"onboarding-header",children:[f.jsx("h3",{children:"Transcription setup is insanely easy."}),f.jsx("button",{type:"button",onClick:()=>void Qu(),children:"Dismiss"})]}),f.jsxs("p",{children:["Groq is a separate service (not this app), and their accounts are free with no credit card required. Recording works out of the box."," ",f.jsx("button",{type:"button",className:"link-button",onClick:()=>te(!0),children:"It's easy to set up."})]}),f.jsx("p",{className:"onboarding-highlight",children:"This uses one of the most amazing AI models. It is a crazy amount of value for free."}),f.jsxs("ol",{children:[f.jsx("li",{children:"Create a free Groq account and copy your API key."}),f.jsx("li",{children:"Open Settings and paste the key."}),f.jsx("li",{children:"We auto-check it and turn on transcription."})]}),f.jsx("p",{className:"onboarding-disclaimer",children:"Transcription is powered by Groq's servers (again: a separate service). Whisper on Groq is SO inexpensive. I used it all day intensely and I have never come close to being charged. Groq's pay-as-you-go free tier means you will likely never be charged."}),f.jsxs("div",{className:"onboarding-actions",children:[f.jsx("button",{type:"button",onClick:()=>Tt(!0),children:"Open Settings"}),f.jsx("a",{href:nd,target:"_blank",rel:"noreferrer",children:"Get Groq API key"})]})]}):null,f.jsxs("div",{className:"controls-card",children:[f.jsx("h2",{children:"Capture"}),f.jsx("button",{className:`record-toggle ${as?"record-toggle-starting":L.state==="recording"?"record-toggle-stop":"record-toggle-start"}`,type:"button",onClick:sr,"aria-pressed":L.state==="recording"||L.state==="starting",disabled:as,children:as?"Starting":L.state==="recording"?"Stop recording":"Start recording"}),f.jsx("p",{className:"controls-copy",children:as?"Starting recorder":L.state==="recording"?`Recording  ${pi(Math.floor(ls/1e3))} elapsed`:"Recorder idle  tap start to begin a durable session."}),Li?f.jsxs("p",{className:"controls-starting-cancel",role:"status",children:["Not starting?"," ",f.jsx("button",{type:"button",className:"link-button",onClick:()=>void Gs("controls"),children:"Cancel start"})]}):null]})]}),He&&L.state==="recording"?f.jsxs("div",{className:"dev-strip capture-strip",role:"status","aria-live":"polite",children:[f.jsxs("span",{children:["Audio: ",hl," / ",rr," seg",Hi?" + init":""]}),f.jsxs("span",{children:["Data: ",bs(ss)]})]}):null,f.jsx("section",{className:"session-section","aria-label":"Recording sessions",children:f.jsx("ul",{className:"session-list",children:m.map(i=>{const c=i.id===L.sessionId&&L.state==="recording",g=c?pi(Math.floor(ls/1e3)):s0(i.durationMs),C=N[i.id]??"",j=H[i.id]??0,U=et[i.id],Y=U?.transcribedCount??0,K=U?.total??0,G=U?.purgedCount??0,nt=U?.retryableCount??Math.max(0,K-G),at=Y>0,ht=Ot&&j>0,At=K>0||ht,jt=i.status==="error"?i.notes??"Recording error.":"",ie=!!Et[i.id],dt=Ot&&!c&&!!(yt[i.id]||ie),Ct=Ot&&nt>0,Sn=i.status==="error"?"error":c?"recording":dt?"transcribing":ht&&At?at?"partial":"untranscribed":i.status,Qe=Fy[Sn],is=i.chunkCount>0&&i.totalBytes>0&&(i.durationMs??0)>0,me=c&&!Bi,re=!c&&(i.status==="error"||!is&&!At),kt=`${i0(i.startedAt)}  ${a0(i.totalBytes)}`,he=i.id===Pt,bt=["session-card"];he&&bt.push("is-new"),i.status==="error"&&bt.push("has-error");const St=c?"Recording in progress...":jt||(dt?"Finishing transcription...":C||(G>0&&!ht?`Audio purged for ${G} snip${G===1?"":"s"}.`:ht?at?`Partially transcribed (${Y}/${K})`:"Transcription failed for all snips.":Ot?"Transcription pending...":De?"Recording complete. Waiting for a valid Groq key.":"Recording complete."));return f.jsx("li",{children:f.jsxs("article",{className:bt.join(" "),role:"button",tabIndex:0,onClick:()=>M(i.id),onKeyDown:ee=>{(ee.key==="Enter"||ee.key===" ")&&(ee.preventDefault(),M(i.id))},children:[f.jsxs("header",{className:"session-topline",children:[f.jsxs("div",{className:"session-topline-left",children:[f.jsx("span",{className:`session-pill ${Qe.pillClass}`,children:Qe.label}),f.jsx("span",{className:"session-duration-label",children:g})]}),f.jsx("div",{className:"session-topline-right",children:f.jsx("span",{className:"session-meta",children:kt})})]}),f.jsxs("div",{className:"session-preview-row",children:[f.jsx("p",{className:"session-preview",children:St}),dt?f.jsx("span",{className:"session-spinner","aria-label":"Transcribing"}):null,!dt&&Ct&&(ht||!C&&!jt)&&i.status==="ready"?f.jsx("button",{type:"button",className:"session-retry",onClick:ee=>{ee.stopPropagation(),ar(i.id)},disabled:ie,"aria-label":`Retry transcription for ${i.title}`,children:ie?"Retrying":"Retry TX"}):null,me?f.jsx("button",{type:"button",className:"session-cancel",onClick:ee=>{ee.stopPropagation(),Gs("list")},"aria-label":`Cancel starting ${i.title}`,title:"Cancel start",children:""}):re?f.jsx("button",{type:"button",className:"session-delete",onClick:ee=>{ee.stopPropagation(),Oa(i,"list")},"aria-label":`Delete ${i.title}`,title:"Delete recording",children:""}):null]})]})},i.id)})})})]}),Ku?f.jsxs("section",{className:`transcription-panel${T?" is-visible":""}`,"aria-live":"polite","aria-label":"Live transcription preview",children:[f.jsx("header",{className:"transcription-header",children:f.jsx("h2",{children:"Live transcription"})}),f.jsxs("div",{className:"transcription-stream",ref:js,children:[Ge.length===0?f.jsx("p",{className:"transcription-empty",children:"Pending - first words arrive in about 30 seconds."}):Ge.map((i,c)=>f.jsx("p",{className:"transcription-line",children:i},`${c}-${i.slice(0,12)}`)),f.jsx("div",{className:"transcription-fade","aria-hidden":"true"})]})]}):null,f.jsx("audio",{ref:fe,hidden:!0,preload:"none"}),q?f.jsx("div",{className:"detail-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"recording-detail-title",onClick:i=>{i.target===i.currentTarget&&Pl()},children:f.jsxs("div",{className:"detail-panel",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"detail-header",children:[f.jsxs("div",{children:[f.jsx("p",{className:"detail-label",children:q.id===L.sessionId&&L.state==="recording"?"Recording in progress":"Recorded session"}),f.jsx("h2",{id:"recording-detail-title",children:n0(Ma)})]}),f.jsxs("div",{className:"detail-actions",children:[He?f.jsx("button",{className:`detail-graph-toggle ${ha?"is-active":""}`,type:"button",onClick:()=>Pa(i=>!i),"aria-pressed":ha,"aria-label":ha?"Hide audio chunking analysis":"Show audio chunking analysis",children:""}):null,He?f.jsx("button",{className:`detail-doctor-toggle ${ql?"is-active":""}`,type:"button",onClick:()=>Au(i=>!i),"aria-pressed":ql,"aria-label":ql?"Hide recording doctor diagnostics":"Show recording doctor diagnostics",children:""}):null,He?f.jsx("button",{className:`detail-debug-toggle ${Gn?"is-active":""}`,type:"button",onClick:()=>Ll(i=>!i),"aria-pressed":Gn,"aria-label":Gn?"Hide developer details":"Show developer details",children:""}):null,f.jsx("button",{className:"detail-download",type:"button",onClick:()=>void Pc(),"aria-label":"Download full session audio",title:Sa?"Finish recording before downloading":Xn?"Preparing download":pl?"Download full session audio (WAV)":"No audio available to download",disabled:Sa||Xn||!pl,children:Xn?"":""}),Sa&&Xs?f.jsx("button",{className:"detail-cancel",type:"button",onClick:()=>void Gs("detail"),"aria-label":"Cancel starting recording",title:"Cancel start",children:""}):Sa?null:f.jsx("button",{className:"detail-delete",type:"button",onClick:()=>void Oa(q,"detail"),"aria-label":"Delete recording",title:"Delete recording",children:""}),f.jsx("button",{className:"detail-close",type:"button",onClick:Pl,children:"Close"})]})]}),f.jsxs("div",{className:"detail-body",children:[f.jsxs("div",{className:"detail-summary",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Captured:"})," ",up(q.startedAt)," ",md(q.startedAt)," "," ",l0(q.startedAt,q.durationMs)]}),f.jsxs("p",{children:[f.jsx("strong",{children:"Size:"})," ",bs(q.totalBytes)]}),He&&Gn?f.jsxs("p",{children:[f.jsx("strong",{children:"Format:"})," ",q.mimeType??"pending"," "," ",f.jsx("strong",{children:"Chunks:"})," ",Nu,ul?" + init":""]}):null]}),Ti?f.jsxs("p",{className:"detail-transcription-placeholder",role:"alert",children:["Download failed: ",Ti]}):null,f.jsxs("div",{className:"playback-controls",children:[f.jsx("button",{className:`playback-button${pl?"":" is-disabled"}`,type:"button",onClick:Hu,disabled:wu,"aria-disabled":!pl,"aria-pressed":ea.playing,children:wu?"":ea.playing?"":""}),f.jsxs("div",{className:"playback-progress","aria-hidden":"true",children:[Ju.map((i,c)=>f.jsx("span",{className:"playback-gap",style:{left:`${i.startPct}%`,width:`${i.widthPct}%`}},`gap-${c}-${i.startPct}`)),f.jsx("div",{className:"playback-progress-bar",style:{width:`${$u}%`}})]}),f.jsxs("span",{className:"playback-timestamps",children:[pi(Ea)," / ",pi(xa)]}),f.jsxs("div",{className:`volume-control ${lt?"is-open":""}`,children:[f.jsx("button",{type:"button",className:"volume-button","aria-pressed":lt,"aria-label":lt?"Hide volume slider":"Show volume slider",onClick:()=>gt(i=>!i),children:_===0?"":_<.5?"":""}),lt?f.jsx("input",{className:"volume-slider",type:"range",min:0,max:100,value:Math.round(_*100),onChange:i=>tt(Number(i.target.value)/100),"aria-label":"Playback volume"}):null]})]}),As?f.jsx("p",{className:"detail-notes",role:"alert",children:As}):null,pl?null:f.jsx("p",{className:"detail-notes",role:"status",children:"Audio was purged for this recording. Playback is unavailable."}),He&&ha?f.jsx("div",{className:"detail-analysis",children:tl==="loading"?f.jsx("p",{className:"detail-analysis-status",children:"Analyzing audio for pauses"}):tl==="error"?f.jsx("p",{className:"detail-analysis-status",role:"alert",children:_e??"Unable to analyze audio."}):aa?f.jsx(_y,{analysis:aa,targetRange:{minMs:5e3,idealMs:1e4,maxMs:6e4},playback:{positionMs:Math.max(0,ea.position*1e3),isPlaying:ea.playing}}):f.jsx("p",{className:"detail-analysis-status",children:"Preparing analysis"})}):null,f.jsxs("div",{className:"detail-transcription",children:[f.jsx("h3",{children:"Transcription"}),Ot?f.jsx("div",{className:"detail-transcription-actions",children:f.jsx("button",{type:"button",className:"detail-transcription-retry",onClick:()=>void nr(),disabled:Cs||b.length===0||Ae.retryableCount===0,children:Cs?"Retrying":"Retry TX"})}):null,Ot?null:f.jsxs("div",{className:"detail-transcription-blocked",role:"status",children:[f.jsx("p",{children:Ne??"Transcription is unavailable right now."}),f.jsx("button",{type:"button",onClick:()=>Tt(!0),children:"Open Settings"})]}),b.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No snips recorded yet."}):Ot&&Ae.transcribedCount===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No snip transcriptions yet. Open the snip list to retry each segment."}):Ae.transcribedCount>0?f.jsx("textarea",{ref:wi,className:"detail-transcription-text",readOnly:!0,value:Ae.text,onClick:Ru,"aria-label":"Session transcription text",rows:Math.min(8,Math.max(3,Math.ceil(Ae.text.length/90)))}):null,b.length>0&&(Ot||Ae.transcribedCount>0)?f.jsxs("p",{className:"detail-transcription-meta",children:["Transcribed ",Ae.transcribedCount," of ",Ae.total," snips."]}):null,Ot&&Ae.errorCount>0?f.jsxs("p",{className:"detail-transcription-error",role:"alert",children:[Ae.errorCount," snip transcription error",Ae.errorCount===1?"":"s"," recorded. See the snip list for details."]}):null,Ae.purgedCount>0?f.jsxs("p",{className:"detail-transcription-note",children:["Audio purged for ",Ae.purgedCount," snip",Ae.purgedCount===1?"":"s"," to stay under the storage cap. Retries are disabled for purged audio."]}):null]}),He&&ql?f.jsxs("div",{className:"detail-doctor",children:[f.jsxs("div",{className:"detail-doctor-header",children:[f.jsx("h3",{children:"Doctor diagnostics"}),f.jsxs("div",{className:"detail-doctor-actions",children:[f.jsx("button",{type:"button",onClick:async()=>{if(q){ma(null),Pn(null);try{await Mt.init();const c=kh()?.id??null,g=c?await Mt.getLogEntries(c,400):[],C=es({session:q,doctorReports:xe,logs:g.map(j=>({level:j.level,message:j.message,timestamp:j.timestamp}))});Pn(C);try{await ir(C),ma("Copied compact report to clipboard."),window.setTimeout(()=>ma(null),2500)}catch{ma("Clipboard copy blocked; compact report shown below (tap Select all).")}}catch(i){ma(`Copy failed: ${i instanceof Error?i.message:String(i)}`)}}},disabled:ve,children:"Copy compact report"}),f.jsx("button",{type:"button",onClick:()=>{Kl.current+=1,Nn(!1),Le(null)},disabled:!ve,children:"Cancel"}),f.jsx("button",{type:"button",onClick:()=>void Yu(),disabled:ve,children:ve?"Running":"Run selected tests"})]})]}),Hl?f.jsx("p",{className:"detail-transcription-placeholder",children:Hl}):null,Gl?f.jsxs("div",{className:"doctor-export",children:[f.jsxs("div",{className:"doctor-export-actions",children:[f.jsx("button",{type:"button",onClick:()=>{const i=document.getElementById("doctor-export-textarea");i&&(i.focus(),i.select())},children:"Select all"}),f.jsx("button",{type:"button",onClick:()=>Pn(null),children:"Hide"})]}),f.jsx("textarea",{id:"doctor-export-textarea",className:"doctor-export-textarea",readOnly:!0,value:Gl,rows:10})]}):null,f.jsx("p",{className:"detail-transcription-placeholder",children:"Runs quick integrity checks to help identify whether corruption is in stored chunks or in range access/decoding."}),f.jsxs("div",{className:"doctor-test-list",children:[f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ie.sanityChecks,disabled:ve,onChange:i=>Wn(c=>({...c,sanityChecks:i.target.checked}))}),f.jsx("span",{children:"Sanity checks (durations, snip bounds, chunk timing)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ie.chunkCoverageScan,disabled:ve,onChange:i=>Wn(c=>({...c,chunkCoverageScan:i.target.checked}))}),f.jsx("span",{children:"Chunk coverage scan (IndexedDB timings/coverage, 0.1s)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ie.rangeAccessScan,disabled:ve,onChange:i=>Wn(c=>({...c,rangeAccessScan:i.target.checked}))}),f.jsx("span",{children:"Range access scan via slice API (decode+inspect, 0.1s)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ie.chunkDecodeScan,disabled:ve,onChange:i=>Wn(c=>({...c,chunkDecodeScan:i.target.checked}))}),f.jsx("span",{children:"Per-chunk decode scan (decode each chunk blob)"})]}),f.jsxs("label",{className:"doctor-test",children:[f.jsx("input",{type:"checkbox",checked:Ie.snipScan,disabled:ve,onChange:i=>Wn(c=>({...c,snipScan:i.target.checked}))}),f.jsx("span",{children:"Snip scan (inspect each snip range)"})]})]}),Be?f.jsxs("p",{className:"detail-transcription-placeholder",children:[Be.label,": ",Be.completed,"/",Be.total]}):null,Tu?f.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:Tu}):null,xe?.sanity?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Sanity checks"}),f.jsxs("p",{className:"doctor-summary",children:["Session duration: ",((xe.sanity.metrics.sessionDurationMs??0)/1e3).toFixed(1),"s  Chunk timebase: ",xe.sanity.metrics.chunkTimebase,"  Chunk max end:"," ",((xe.sanity.metrics.chunkMaxOffsetMs??0)/1e3).toFixed(1),"s  Chunk sum:"," ",((xe.sanity.metrics.chunkSumDurationMs??0)/1e3).toFixed(1),"s  Snips:"," ",xe.sanity.metrics.snipCount??0,"  Snip max end:"," ",((xe.sanity.metrics.snipMaxEndMs??0)/1e3).toFixed(1),"s  Snip sum:"," ",((xe.sanity.metrics.snipSumDurationMs??0)/1e3).toFixed(1),"s"]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ca(`sanity-${q.id}`,{sessionId:q.id,mimeType:q.mimeType,report:xe.sanity}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:xe.sanity.findings.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No findings."}):xe.sanity.findings.map((i,c)=>f.jsx("div",{className:`doctor-detail-row is-${i.level==="info"?"ok":i.level}`,children:f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:i.level.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:i.message})]})},c))})]}):null,(()=>{const i=xe?.chunkCoverage;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Chunk coverage scan"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Chunk coverage results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`${bn(c.startMs)}${bn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Xe(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Xe(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Xe(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected segments:"," ",i.metrics.expectedItemCount??0,"  Observed segments: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ca(`chunk-coverage-${q.id}`,{sessionId:q.id,mimeType:q.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:fl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Xe(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:[bn(g.startMs),"",bn(g.endMs)]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=xe?.rangeAccess;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Range access scan (0.1s)"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Range access results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`${bn(c.startMs)}${bn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Xe(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Xe(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Xe(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected windows:"," ",i.metrics.expectedItemCount??0,"  Decoded windows: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ca(`range-access-${q.id}`,{sessionId:q.id,mimeType:q.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:fl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Xe(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:[bn(g.startMs),"",bn(g.endMs)]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=xe?.chunkDecode;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Per-chunk decode scan"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Per-chunk decode results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`Chunk #${c.index+1}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Xe(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Xe(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Xe(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Decoded audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected chunks:"," ",i.metrics.expectedItemCount??0,"  Decoded chunks: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ca(`chunk-decode-${q.id}`,{sessionId:q.id,mimeType:q.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:fl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Xe(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})(),(()=>{const i=xe?.snipScan;return i?f.jsxs("div",{className:"doctor-report",children:[f.jsx("h4",{children:"Snip scan (each snip)"}),f.jsx("div",{className:"doctor-bar",role:"img","aria-label":"Snip scan results timeline",children:i.segments.map(c=>f.jsx("span",{className:`doctor-segment is-${c.status}`,title:`Snip #${c.index+1}  ${bn(c.startMs)}${bn(c.endMs)}${c.reason?`  ${c.reason}`:""}`},c.index))}),f.jsxs("p",{className:"doctor-summary",children:["OK ",i.summary.ok," (",Xe(i.summary.ok,i.summary.total),")  Warn"," ",i.summary.warn," (",Xe(i.summary.warn,i.summary.total),")  Error"," ",i.summary.error," (",Xe(i.summary.error,i.summary.total),")"]}),f.jsxs("p",{className:"doctor-summary",children:["Expected audio: ",((i.metrics.expectedDurationMs??0)/1e3).toFixed(1),"s  Observed audio:"," ",((i.metrics.observedDurationMs??0)/1e3).toFixed(1),"s  Expected snips:"," ",i.metrics.expectedItemCount??0,"  Decoded snips: ",i.metrics.observedItemCount??0]}),f.jsx("div",{className:"doctor-report-actions",children:f.jsx("button",{type:"button",onClick:()=>ca(`snip-scan-${q.id}`,{sessionId:q.id,mimeType:q.mimeType,report:i}),children:"Download JSON"})}),f.jsx("div",{className:"doctor-details",children:fl(i.segments).filter(c=>c.status!=="ok").map(c=>f.jsxs("div",{className:`doctor-detail-row is-${c.status}`,children:[f.jsxs("div",{className:"doctor-detail-main",children:[f.jsx("span",{className:"doctor-detail-badge",children:c.status.toUpperCase()}),f.jsx("span",{className:"doctor-detail-reason",children:c.reason}),f.jsxs("span",{className:"doctor-detail-count",children:[c.count," (",Xe(c.count,i.summary.total),")"]})]}),f.jsx("div",{className:"doctor-detail-examples",children:c.examples.map(g=>f.jsxs("span",{className:"doctor-detail-example",children:["#",g.index+1]},g.index))})]},`${c.status}:${c.reason}`))})]}):null})()]}):null,He&&Gn?f.jsxs("div",{className:"detail-chunks",children:[f.jsxs("div",{className:"detail-slices-header",children:[f.jsxs("h3",{children:[yn==="chunks"?`Chunks (${Nu}${ul?" + init":""})`:`Snips (${b.length})`," "," ",q.mimeType??"pending"]}),f.jsxs("div",{className:"detail-slice-toggle",role:"tablist","aria-label":"Slice mode",children:[f.jsx("button",{type:"button",role:"tab","aria-selected":yn==="chunks",className:yn==="chunks"?"is-selected":"",onClick:()=>Si("chunks"),children:"Chunks"}),f.jsx("button",{type:"button",role:"tab","aria-selected":yn==="snips",className:yn==="snips"?"is-selected":"",onClick:()=>Si("snips"),children:"Snips"})]})]}),yn==="chunks"?y.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"No chunks persisted yet."}):f.jsx("ul",{className:"chunk-list",children:y.map(i=>{const c=Math.max(0,(i.endMs-i.startMs)/1e3),g=c<10?2:1,C=`${c.toFixed(g)} s`,j=Ve(i),U=W===i.id,Y=i.seq+1,K=Ye(i),G=j?`Chunk ${Y} is an init segment without audio`:K?`Chunk ${Y} audio purged`:U?`Pause chunk ${Y}`:`Play chunk ${Y}`;return f.jsxs("li",{className:`chunk-item ${j?"header-chunk":""}`,children:[f.jsx("button",{type:"button",className:`chunk-play ${U?"is-playing":""}`,onClick:()=>void ur(i),"aria-pressed":U,"aria-label":G,disabled:j||K,title:j?"Init segment (no audio payload)":K?"Audio purged to stay under the storage cap":void 0,children:j?"NA":U?"":""}),f.jsxs("span",{children:["#",Y]}),f.jsx("span",{children:C}),f.jsx("span",{children:bs(i.byteLength)}),f.jsx("button",{type:"button",className:"chunk-download",onClick:()=>Wc(i),"aria-label":`Download chunk ${Y}`,disabled:j||K,title:j?"Init segment (typically no downloadable audio)":K?"Audio purged to stay under the storage cap":void 0,children:""}),j?f.jsx("span",{className:"chunk-flag",children:"init segment"}):null,K?f.jsx("span",{className:"chunk-flag is-purged",children:"purged"}):null]},i.id)})}):tl==="loading"&&b.length===0?f.jsx("p",{className:"detail-transcription-placeholder",children:"Analyzing audio for snips"}):tl==="error"&&b.length===0?f.jsx("p",{className:"detail-transcription-placeholder",role:"alert",children:_e??"Unable to analyze audio."}):b.length?f.jsxs(f.Fragment,{children:[tl==="error"&&_e?f.jsxs("p",{className:"detail-transcription-placeholder",role:"alert",children:["Snip refresh failed: ",_e]}):null,f.jsx("ul",{className:"chunk-list",children:b.map(i=>{const c=i.index+1,g=Math.max(0,i.durationMs/1e3),C=g<10?2:1,j=`${g.toFixed(C)} s`,U=i.id,Y=it===U,K=!!Yl[i.id],G=Ka(i),nt=G.length>0,at=Gt(i),ht=at?`Snip ${c} audio purged`:Y?`Pause snip ${c}`:`Play snip ${c}`,At=at?`Snip ${c} audio purged`:Ot?K?`Transcribing snip ${c}`:nt?`Retry transcription for snip ${c}`:`Transcribe snip ${c}`:`Transcription paused. Open Settings to enable snip ${c}.`,jt=at?"Audio purged":Ot?K&&!Sa?"Transcribing":nt?"Transcribed":"Pending":"Paused",ie=at?"is-purged":nt?"is-ready":Ot?"is-pending":"is-paused";return f.jsxs("li",{className:"chunk-item",children:[f.jsx("button",{type:"button",className:`chunk-play ${Y?"is-playing":""}`,onClick:()=>void cr(i),"aria-pressed":Y,"aria-label":ht,disabled:at,children:Y?"":""}),f.jsxs("span",{children:["#",c]}),f.jsx("span",{children:j}),f.jsxs("span",{children:[pi(Math.round(i.startMs/1e3)),"  ",pi(Math.round(i.endMs/1e3))]}),f.jsx("span",{className:`snip-transcription-status ${ie}`,children:jt}),f.jsx("button",{type:"button",className:"chunk-download",onClick:()=>void tr(i,c),"aria-label":`Download snip ${c}`,disabled:at,children:""}),f.jsx("button",{type:"button",className:"snip-transcribe",onClick:()=>void er(i),"aria-label":At,disabled:K||at||!Ot,children:Ot?nt?"Retry":"Tx":"Off"}),G?f.jsx("textarea",{className:"snip-transcription-text",readOnly:!0,value:G,onClick:Ru,"aria-label":`Snip ${c} transcription`,rows:Math.min(6,Math.max(2,Math.ceil(G.length/80)))}):null,i.transcriptionError?f.jsx("span",{className:"snip-transcription-error",role:"alert",children:i.transcriptionError}):null,at?f.jsx("span",{className:"snip-retention-note",children:Ph}):null]},U)})})]}):f.jsx("p",{className:"detail-transcription-placeholder",children:"No snips available yet."})]}):null,q.status==="error"&&q.notes?f.jsx("p",{className:"detail-notes",children:q.notes}):null]})]})}):null,Nt?f.jsx("div",{className:"settings-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",onClick:i=>{i.target===i.currentTarget&&Tt(!1)},children:f.jsxs("div",{className:"settings-dialog",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"settings-header",children:[f.jsx("h2",{id:"settings-title",children:"Settings"}),f.jsx("button",{type:"button",className:"settings-close",onClick:()=>Tt(!1),children:"Close"})]}),f.jsxs("div",{className:"settings-body",children:[f.jsxs("section",{className:"settings-section","aria-labelledby":"settings-transcription-title",children:[f.jsxs("div",{className:"settings-section-header",children:[f.jsx("h3",{id:"settings-transcription-title",children:"Transcription"}),f.jsxs("div",{className:"settings-status",children:[f.jsx("span",{className:`settings-pill ${Cu}`,children:_s}),Il?null:f.jsx("button",{type:"button",className:"settings-inline",onClick:()=>te(!0),children:"Enable"})]})]}),f.jsxs("p",{className:"settings-hint",children:["Groq is a separate service (not this app). Their free account takes about a minute to set up, and this app auto-checks your key after you paste it."," ",f.jsx("button",{type:"button",className:"link-button",onClick:()=>te(!0),children:"It's easy to set up."})]}),f.jsxs("ol",{className:"settings-cheatsheet",children:[f.jsx("li",{children:"Create a free Groq account and copy the API key."}),f.jsx("li",{children:"Paste the key here (we auto-check it)."}),f.jsx("li",{children:"Transcription turns on as soon as the key validates."})]}),f.jsxs("label",{className:"settings-field",children:[f.jsx("span",{children:"Groq API key"}),f.jsx("input",{type:"text",value:o?.groqApiKey??"",onChange:i=>void Xu(i.target.value),placeholder:"sk-",autoComplete:"off"})]}),f.jsxs("div",{className:"settings-validation",children:[f.jsxs("span",{className:`settings-validation-status ${Bs}`,children:["Key status: ",Us]}),f.jsx("button",{type:"button",onClick:()=>void Ls(),disabled:!De||Ee==="validating",children:Ee==="validating"?"Checking...":"Recheck key"})]}),za?f.jsx("p",{className:"settings-error",role:"alert",children:za}):null,f.jsxs("p",{className:"settings-disclaimer",children:["Need a key?"," ",f.jsx("a",{href:nd,target:"_blank",rel:"noreferrer",children:"Create one in Groq Console"}),". Groq is a separate service and handles billing directly. Whisper on Groq is SO inexpensive. I used it all day intensely and I have never come close to being charged. Groq's pay-as-you-go free tier means you will likely never be charged. See"," ",f.jsx("a",{href:t0,target:"_blank",rel:"noreferrer",children:"Groq pricing"}),"."]})]}),f.jsxs("section",{className:"settings-section","aria-labelledby":"settings-app-title",children:[f.jsx("h3",{id:"settings-app-title",children:"App"}),f.jsxs("label",{className:"settings-field settings-checkbox",children:[f.jsx("input",{type:"checkbox",checked:He,onChange:i=>void Vu(i.target.checked)}),f.jsx("span",{children:"Enable developer mode"})]}),f.jsxs("label",{className:"settings-field",children:[f.jsx("span",{children:"Storage cap (MB)"}),f.jsx("input",{type:"number",min:1,value:Math.round(Zn/fd),onChange:i=>void ki(i.target.value)})]})]})]})]})}):null,He&&Bl?f.jsx("div",{className:"dev-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"dev-console-title",onClick:i=>{i.target===i.currentTarget&&Vs()},children:f.jsxs("div",{className:"dev-panel",onClick:i=>i.stopPropagation(),children:[f.jsxs("header",{className:"dev-panel-header",children:[f.jsx("h2",{id:"dev-console-title",children:"Developer Console"}),f.jsx("button",{type:"button",className:"dev-close",onClick:Vs,children:"Close"})]}),f.jsxs("div",{className:"dev-panel-toolbar",children:[f.jsx("button",{type:"button",className:xs==="tables"?"is-selected":"",onClick:()=>{Na("tables"),wa(!0),_i().finally(()=>wa(!1))},children:"IndexedDB"}),f.jsx("button",{type:"button",className:xs==="logs"?"is-selected":"",onClick:()=>{Na("logs"),wa(!0),Ui().finally(()=>wa(!1))},children:"Logs"})]}),xs==="tables"?f.jsxs("div",{className:"dev-panel-body",children:[f.jsx("div",{className:"dev-table-buttons",children:fa.map(i=>f.jsxs("button",{type:"button",className:Da===i.name?"is-selected":"",onClick:()=>Ia(i.name),children:[i.name,f.jsx("span",{className:"dev-table-count",children:i.rows.length})]},i.name))}),f.jsx("div",{className:"dev-table-rows",children:Ms?f.jsx("p",{children:"Loading"}):Da?(()=>{const i=fa.find(c=>c.name===Da);return i?i.rows.length===0?f.jsx("p",{children:"No rows."}):Da==="chunks"?i.rows.map((g,C)=>{const j=typeof g.id=="string"?g.id:`${g.sessionId??"chunk"}-${g.seq??C}`,U=typeof g.blobSize=="number"?g.blobSize:null,Y=typeof g.verifiedByteLength=="number"?g.verifiedByteLength:null,K=U!==null?`${U} B (${bs(U)})`:"unknown",G=Y!==null?`${Y} B (${bs(Y)})`:"unverified",nt=!!(g.sizeMismatch??(Y!==null&&U!==null&&Y!==U));return f.jsxs("div",{className:`dev-table-chunk ${nt?"has-mismatch":""}`,children:[f.jsx("pre",{children:JSON.stringify(g,null,2)}),f.jsxs("p",{className:"dev-chunk-extra",children:[f.jsxs("span",{children:["blob.size: ",K]}),f.jsxs("span",{children:["verified: ",G]}),f.jsx("span",{className:nt?"dev-chunk-warning":"dev-chunk-ok",children:nt?" size mismatch":" sizes match"})]})]},j)}):Da==="chunkVolumes"?i.rows.map((g,C)=>{const j=`${g.sessionId}-${g.chunkId}-${C}`,U=g.framesTotal??g.frames.length,Y=typeof g.averageNormalized=="number"?g.averageNormalized:0,K=typeof g.maxNormalized=="number"?g.maxNormalized:0,G=typeof g.durationMs=="number"?(g.durationMs/1e3).toFixed(2):"0.00";return f.jsxs("div",{className:"dev-table-chunk",children:[f.jsx("pre",{children:JSON.stringify(g,null,2)}),f.jsxs("p",{className:"dev-chunk-extra",children:[f.jsxs("span",{children:["frames: ",U]}),f.jsxs("span",{children:["duration: ",G,"s"]}),f.jsxs("span",{children:["avg volume: ",Y.toFixed(4)]}),f.jsxs("span",{children:["peak volume: ",K.toFixed(4)]})]})]},j)}):i.rows.map((c,g)=>f.jsx("pre",{children:JSON.stringify(c,null,2)},g)):f.jsx("p",{children:"No rows."})})():f.jsx("p",{children:"Select a table to inspect rows."})})]}):f.jsxs("div",{className:"dev-log-body",children:[f.jsxs("div",{className:"dev-log-header",children:[f.jsx("button",{type:"button",onClick:()=>void un(-1),disabled:!Fn||Dn.findIndex(i=>i.id===Fn.id)===Dn.length-1,children:""}),f.jsxs("select",{value:Fn?.id??"",onChange:i=>{const c=Dn.find(g=>g.id===i.target.value)??null;ml(c)},children:[Dn.length===0?f.jsx("option",{value:"",children:"No sessions"}):null,Dn.map(i=>f.jsx("option",{value:i.id,children:new Date(i.startedAt).toLocaleString()},i.id))]}),f.jsx("button",{type:"button",onClick:()=>void un(1),disabled:!Fn||Dn.findIndex(i=>i.id===Fn.id)<=0,children:""})]}),f.jsx("div",{className:"dev-log-entries",children:Ms?f.jsx("p",{children:"Loading"}):Fn?ln.length===0?f.jsx("p",{children:"No entries for this session."}):ln.map(i=>f.jsxs("article",{className:`dev-log-entry level-${i.level}`,children:[f.jsxs("header",{children:[f.jsx("span",{className:"dev-log-message",children:i.message}),f.jsxs("span",{className:"dev-log-meta",children:[f.jsx("span",{className:"dev-log-level",children:i.level.toUpperCase()}),f.jsx("time",{dateTime:new Date(i.timestamp).toISOString(),children:o0(i.timestamp)})]})]}),i.details?f.jsx("code",{className:"dev-log-details",children:typeof i.details=="string"?i.details:JSON.stringify(i.details)}):null]},i.id??`${i.timestamp}`)):f.jsx("p",{children:"No log sessions found."})})]})]})}):null]})}document.title="Web Whisper";Lg({immediate:!0});kg.createRoot(document.getElementById("root")).render(f.jsx(w.StrictMode,{children:f.jsx(d0,{})}));
