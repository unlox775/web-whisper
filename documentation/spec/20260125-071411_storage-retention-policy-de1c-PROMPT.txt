Please start and complete this roadmap item: Storage retention and automatic deletion (see doc)

Update your agent instructions, you keep adding to the same spec doc instead of making new ones!  

New standard: the spec doc contains the branch name, and no more than one branch per spec. That means, if your branch name for the current agentic runtime is not the same branch name as the spec, make a new one (and new prompt file). Fix

No! Undo your edits to the previous spec file!  That was from a past agentic flow, move those edits to a NEW spec/prompt file!!!   Moron!!!
These spec files are where you make your planning, where you make your todos, and build then expand your acceptance criteria.  It is where you explain what edits you made, where and why. 

Make sure all this is in your agentic instructions. then revamp your spec for this request and grade where you planned/measured up and evaluate whether you really are complete on the value and acceptance criteria. Then if deficient, fix and complete things!
why is it not deleting?  I set my max storage to 2MB, but it never seemed to purge even older ones that were transcribed
purge should happen immediately upon a new chunk being written (and as such this new chunk is not transcribed therefore not relevant to be considered for deletion BTW), then again 2 minutes later, etc, no sooner than 2 mins apart. 

I let a recording run for 4 minutes flat, and the total storage (of all recordings) was at 18 MB nearly all from recordings with completed transcriptions. So I reasonably expected you to purge audio from the oldest until under 2MB
Web Whisper â€” Doctor Report (compact)
Session: 3d155268-8930-4737-ab0a-05bb4f1c464d
StartedAt: 2026-01-25T08:05:25.825Z
DurationMs: 884565  (=884.6s)
Mime: audio/mpeg  Chunks: 222  Timing: verified

Recent logs (last 30):
- 2026-01-25T08:19:55.316Z debug Chunk volume profile stored
- 2026-01-25T08:19:59.326Z debug PCM chunk encoded
- 2026-01-25T08:19:59.333Z info Chunk persisted
- 2026-01-25T08:19:59.342Z debug Chunk volume profile stored
- 2026-01-25T08:20:03.348Z debug PCM chunk encoded
- 2026-01-25T08:20:03.356Z info Chunk persisted
- 2026-01-25T08:20:03.365Z debug Chunk volume profile stored
- 2026-01-25T08:20:07.391Z debug PCM chunk encoded
- 2026-01-25T08:20:07.400Z info Chunk persisted
- 2026-01-25T08:20:07.410Z debug Chunk volume profile stored
- 2026-01-25T08:20:11.442Z debug PCM chunk encoded
- 2026-01-25T08:20:11.451Z info Chunk persisted
- 2026-01-25T08:20:11.461Z debug Chunk volume profile stored
- 2026-01-25T08:20:11.681Z info Snip transcription started
- 2026-01-25T08:20:14.033Z info Snip transcription completed
- 2026-01-25T08:20:15.519Z debug PCM chunk encoded
- 2026-01-25T08:20:15.526Z info Chunk persisted
- 2026-01-25T08:20:15.535Z debug Chunk volume profile stored
- 2026-01-25T08:20:16.012Z info Recorder stop requested
- 2026-01-25T08:20:16.052Z debug PCM chunk encoded
- 2026-01-25T08:20:16.058Z info Wake lock released after recording
- 2026-01-25T08:20:16.071Z info Chunk persisted
- 2026-01-25T08:20:16.082Z debug Chunk volume profile stored
- 2026-01-25T08:20:16.092Z info Recorder stopped
- 2026-01-25T08:20:16.092Z info Session timing reconciled
- 2026-01-25T08:20:17.426Z info Snip transcription started
- 2026-01-25T08:20:18.029Z info Snip transcription completed
- 2026-01-25T08:20:18.068Z info Snip transcription started
- 2026-01-25T08:20:18.640Z info Snip transcription completed
- 2026-01-25T08:22:26.740Z info Playback source prepared


There are some purge warns in there
Alright, so it looks like everything is working beautifully. It is doing the purge at just the right times. I love it, I love it. You can look up in the screenshot here. This is what the experience looks like if you open up a clip. That is completely deleted. If we hit play, though, Operation.supporter is not a very nice user message to show. I think it would be nicer if there is no audio to play to like either show the playhead as disabled and then if someone taps it maybe do an alert saying the audio for this has been purged already. Something like that. But the edge case I found is that if I set the storage limit to smaller than the actual size of a single clip, you can end up having a partially deleted clip. I mean, that can happen anyways. But I think it'd be good to make sure that, um, still allow the remaining clip to play. So it means you're probably going to have to sum up on that playheader the remaining audio. And it would be kind of nice for that playhead to show. like hash marks or something on the portion of the clip that's been purged or something like that. So when we hit play, it starts that playhead at that... Point and goes forward it is possible theoretically though that there's Multiple snipped in the middle, which means you would have to like show hash marks at different random places throughout the thing. I don't know if that... It wouldn't be too hard to have the playhead bounce from place to place as you hit play. That would be the ideal if it's possible, but I guess give it a shot and see if you can figure out how to... As the audio is playing, you know the seconds at the point that it's playing and you know all the concatenated... When you hit play... you're concatenating all the audio into one stream, I assume, for playback. And then if you know that it is currently one second and a half in, and that one second and a half in is... Or maybe it's 15 seconds in and that's on the second or third snip or third chunk and that third chunk is actually the second You know, there's like two bands in the middle of the remaining stuff that have been deleted. Maybe there was a transcription error You know three-quarters of the way along and so this current place is playing and is at 15 seconds you have to add up you know how much what the progress actually should be because you can predict what the audio actually is and then just have the essentially the playhead as it's playing would jump from the end of the last non-hashed out section, jump to the nether next to the next hashed out section or something. Anyway, that would be probably the best experience. possible on that. See if you can get that to work.
So, it does appear that it is not failing. Let's give you a view of this too. Right, I'm giving you three pictures. One picture where there was some deleted recordings at the beginning. One that there's a yellow bar cross out thing at the end. I'm not sure if we actually purge that one, or... Anyway, I'm going to give you three different views of three alternate different ones that have different levels of purgedness. Amen. The one that is completely purged does what I expected. The one where it had some purges at the beginning. It did play, so I assume it's playing from wherever it has audio, but there's no moving playhead. Like the playhead normally just, you know, moves forward slowly as it plays. On the one where it has snips, it has the red and yellow hashed out thing on the right side, at the end. The playhead moves as I expected. It started on the very far left. It slowly progressed all the way until it got to the yellow hash line, and then it just stopped there. It sounded great. It looked like it was okay. I don't know why. Some of these ones have a hash mark at the end, but it's fine. It's just fine. I don't know what is going on with that. It's not what you intended, because it doesn't actually say that there's any content there. I'll give you another one. Another one does appear to show it all and it appears it'll all play it all. So they don't all show the little hash mark at the end. but these ones are probably semi-glitched ones from my early debugging so the states that you're seeing here may be a little strange But anyway, the one thing I know that needs to be fixed is when, like the case of my big monster, well, monster, it's... 6 minute long recording video where most of it has actually been purged because it was long enough that the entire storage cap, it was larger than it can handle. So it has deleted most of that. But that one is... I can't play it. So the playhead actually starts... I mean, it plays the audio. It just doesn't... The playhead doesn't move forward. And that means I don't think it would be moving if it had... you know, multiple deleted purge sections. I don't think that would work either. So see if you can fix that.
