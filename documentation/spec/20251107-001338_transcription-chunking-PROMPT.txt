start working on round two of this application which is breaking up the audio into logical chunks that will fit better for transcription to start i don't want to do any actual audio preparation or stitching things together or anything like that i'm just gonna have you read from our current chunking thing here i want to have only debugging mode a new button that shows up when you're viewing a recording which would be c um yeah i think just like a graph icon or something like that and ultimately what i want to see i want to start exercising the things in the architecture where we're talking about a threshold of when things are quiet. So ultimately I think I want to show a rectangle on the screen, this graph, and it's going to show basically it's a volume histogram. That's all I care about at the moment is just volume histogram of the entire length of the audio, you know highs and lows, and then ultimately I want to start the logic of parsing it to actually start listening listening to the audio. The main thing you're gonna have to look at is go through and actually parse the audio just for the sake of pulling out audio. Any fancy audio flushing and noise filtering you can do blurring or however it works. That's up to you. My naive mind doesn't know anything about when there are quiet sections. theoretically I want to show maybe a dashed a line across the grid as to what we are computing as the silence base you know in other words if there a fan in the background if there just general noise if there's roar there whatever it is um first thing i also want to do is have you automatically scale so that the peak is near the top because if we have a really quiet microphone which is what it appears i don't want this back this rectangle that you're showing the graph in and I want it to auto scale it up so that the peaks are near the top, probably not touching the top, but near the top. And hopefully that dashed line is somewhere below there as to where the noise line is. And that's what we're assuming is quiet. And then ultimately I want you to show in the logic that we're looking for, trying to aim for certain people, probably pause for longer times between things that they say. I wanna show some type of a colored vertical bar, top to bottom, that's the width of those pauses. So we're trying to do a pause detection, fuzzy logic here. And by tuning this, I'll give you different recordings in different environments, and we'll try seeing what this graph looks like in different places. The goal we're looking for here is to identify threshold and try to ultimately tune our thing the goal we're looking for is probably 10 to 30 seconds every 10 to 30 seconds or so um a logical break that that is a theoretically a place we're thinking would be an okay place to create an audio file based off of everything up to that point, cobble it together into a new audio file, and that would be a chunk sending it off to for thing up to that point, cobble it together into a new audio file, and that would be a chunk sending it off to for transcription, theoretically, would be a useful transcription to not get cut off mid sentence or mid word or something else like that. And we're just trying to find and maybe this maybe can go up to a minute maybe 10 seconds to a minute is our goal um if they didn't say if the entire transcription is less than a minute or so or less than 30 seconds i think we just keep it um let's say if it's less than 10 seconds let's keep it but um otherwise we're looking at uh how about this if if it's less than 10 seconds no logic of just we'll keep it but that changes our algorithm to what essentially we're going to change our threshold of how long of a pause is a transcription break and we're going to adjust that threshold down until the size of gaps of audio between transcription things is it's kind of a goal-seeking algorithm I think that the algorithm of that the breaks in the different transcription things is about the target we want, you know, 10 to 60 seconds. And if there's obvious blocks that are, and I think down to five seconds is probably good. You know, it's maybe five to 60 seconds, but we just don't want to have, we know when it's wrong, we know when it's the average length is like less than five seconds or the average length is probably less than 10 seconds. We just want an okay average, but if there's an obvious quiet pause in the middle there and the recording is only 15 seconds long, that's okay for the one to be eight seconds, the one to be three seconds or something. Theoretically, when we do pause in the middle there and the recording is only 15 seconds long. That's okay for the one to be 8 seconds, the one to be 3 seconds or something. Theoretically, when we do have the slices, we're going to identify a point right in the center of the actual quiet spot. I'd like that to be like a vertical yellow line as to the actual cut that we're going to make. So maybe like a color vertical red or something of that bar, which is the entire width of the part we think is quiet. And then a little yellow vertical slice line as to the actual line where we're going to cut it. But yeah, I'm thinking you're going to make some kind of a audio analysis to find the transcription snips. The one thing you'll, that needs to be relatively fast because you'll actually be running this analysis while the recording is going. So you can automatically be finding these chunks and doing that. So these are relatively fast and durable to analyze a bunch of files. This is where it would be helpful for you to tell me what audio files you want me to give you. so you can make unit tests to do these analyses, to read it in and to test stuff. And yeah, mainly I just want you to take a good guess as to where the pauses should be, what the low noise level threshold should be. That'll be the other thing we do for goal seeking. We'll raise the noise level until there's at least enough breaks that it looks like the right volume, number of snips or a number of pauses in there. And a lot of the pauses are gonna be gaps between two words. And that's not a good point to break. We wanna wait for the larger of those ones to try and see if we can discover ends of paragraphs, that type of thing. And then that will be what we theoretically can snip and send off to transcription. But this visualizer graph will help us see that. I'll try it with multiple different audio files and we'll see if it's doing a good job at detecting these good places to break.
All right, a couple adjustments. I love the histogram. It's looking amazing. The I think we need to do a logarithmic scale. When you're in a quiet room dictating, the noise floor is almost just indistinguishable from the bottom. So just doing logarithmic scale a little bit so we can see where the breaks are a little bit easier. That may be too extreme, but we may come in there. But for right now, just do it as a logarithmic scale on the vertical axes. Secondly, when I did a recording of like four minutes long, it was too small. So I need you to make it a side scrollable. I don't know that I want you to make it an actual iframe or something like that. But give me some way where you're only showing up to a minute at a time. Some indicators that there's more to the right. Then I can swipe left or right. Maybe you're just tracking gestures yourself or something. Click and drag events or something. Anyway, I'd like to be able to swipe side to side on it. Another thing I'd like you to adjust to the algorithm is if the beginning one of the quiet zones is the beginning. I'd like you to not count that as quiet section. In other words, if you get the noise floor up to its level that it's supposed to be at, and that noise level starts with, I don't know if it counts. It'd probably be noisy. But yeah, if the noise level at the beginning, maybe even ignore the first 10th of a second for considerations purposes. But because it might have like a tap noise or something, they just tapped the recording button or something. Anyway, just don't count the beginning as a stop. Wait for her to be significant noise before you count that. The other thing is I saw that you added a thing in there for the transcription is not available while you're still recording. I want you to actually remove that. The point of this whole analysis thing is that I will need to be able to run this while the recording is still going on. So I think it's fair that the moment that I hit the button to see the histogram is the moment that you calculate it. You don't need to calculate it all the time, real time as we're going through it, all the time, real time as we're going through it yet, yet. But when I open up the panel to view the recording, you don't need to record it. But as soon as I actually tap the histogram, then you calculate it at that point with whatever completed chunks you already have. I want to see if you can do it while we're in the middle of the recording and that that doesn't actually kill things. Eventually, I may even have it so that you create and cache the histogram, just the volume levels per whatever granularity you want to do. It doesn't need to be down to a hundredth of a second. Maybe you're doing averages of every tenth of a second, maybe every twentieth of a second is maybe a good threshold, an average volume level of those sections. Then you record those in the chunk. Maybe it's a new storage table or something of chunk volume levels or something. Why don't you go ahead and add that because that'll be useful. When you do the work of actually analyzing an audio file, you can not have to do it again. Yeah, go ahead and actually create those. Once each chunk is finished, have it automatically start creating that volume level record. Make sure that's added into their debug panel so that I can see that model when I click on it. I'm thinking... Yeah, yeah. Go ahead and make make those adjustments. I want to be able to see scrollability. I want to see you ignore the beginning silentness chunk and that I can view the histogram while the recording is still going.
20251107-224244 Asked you to make all those changes about the leaner array of float structure, unit tests on that one. Yeah, I want you to do all that stuff. Why would you hold up and not do that? What are you saying you're waiting for? The graph is still showing the same blank, like nothing in there. and the counter at the top of the histogram graph is still saying that it's like 29 billion billion minutes long um it's got a frame count of 372 so i think it's maybe getting part of it but uh yeah it's complete garbage uh please go fix that if it takes a rewrite then do as a rewrite
20251107-230137 Well, I've got the chunk timings and stuff figured out, at least enough estimation. Just a couple bugs to work out. I see that you made it so that when you open up logs, the different panels that are scrollable. That works great. The main thing that is still not scrollable is the main list of transcriptions. I can load up the page and I can click on those but I can't scroll in that panel. The list of each of the transcriptions once it goes off the bottom of the screen there's no way for me to scroll down and see the older ones. The other thing that needs to be worked on is when I'm in debug mode. There's no way for me to... first off the chunks themselves are too wide. It actually expands the window sideways so I not sure what you need to do to make that I don't see any reason why it would need to be that way. So it's exploding it out wide. But secondly, that's not scrollable either. There's too many on that panel, I can't scroll. It's inside of a pop-up window, so the pop-up window would need to stay at some fixed height maximum and then when you're in the modal and then when you scroll and scroll within that panel lastly a bug is that the individual play headers you can see on that in the debug window when you're seeing individual chunks like a play header next to chunk six or seven or eight when you play it it should just play that chunk but what it's actually doing is uh playing the for either the first chunk or the whole thing from the beginning So if I go to chunk two, which should be only about four seconds. It should be playing just for a few seconds and then stop. I think it may be always playing the first chunk. I'm not sure, but it is definitely not playing that individual chunk. It's always doing it from the beginning.
